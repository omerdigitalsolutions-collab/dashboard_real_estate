var Q$=Object.defineProperty;var J$=(e,t,n)=>t in e?Q$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var w_=(e,t,n)=>J$(e,typeof t!="symbol"?t+"":t,n);function eF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BN={exports:{}},ly={},UN={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=Symbol.for("react.element"),nF=Symbol.for("react.portal"),rF=Symbol.for("react.fragment"),iF=Symbol.for("react.strict_mode"),oF=Symbol.for("react.profiler"),sF=Symbol.for("react.provider"),aF=Symbol.for("react.context"),lF=Symbol.for("react.forward_ref"),uF=Symbol.for("react.suspense"),cF=Symbol.for("react.memo"),dF=Symbol.for("react.lazy"),WT=Symbol.iterator;function fF(e){return e===null||typeof e!="object"?null:(e=WT&&e[WT]||e["@@iterator"],typeof e=="function"?e:null)}var WN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HN=Object.assign,KN={};function Kc(e,t,n){this.props=e,this.context=t,this.refs=KN,this.updater=n||WN}Kc.prototype.isReactComponent={};Kc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qN(){}qN.prototype=Kc.prototype;function u1(e,t,n){this.props=e,this.context=t,this.refs=KN,this.updater=n||WN}var c1=u1.prototype=new qN;c1.constructor=u1;HN(c1,Kc.prototype);c1.isPureReactComponent=!0;var HT=Array.isArray,GN=Object.prototype.hasOwnProperty,d1={current:null},ZN={key:!0,ref:!0,__self:!0,__source:!0};function YN(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)GN.call(t,r)&&!ZN.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Nh,type:e,key:o,ref:s,props:i,_owner:d1.current}}function hF(e,t){return{$$typeof:Nh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nh}function pF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var KT=/\/+/g;function b_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pF(""+e.key):t.toString(36)}function zm(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nh:case nF:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+b_(s,0):r,HT(i)?(n="",e!=null&&(n=e.replace(KT,"$&/")+"/"),zm(i,t,n,"",function(c){return c})):i!=null&&(f1(i)&&(i=hF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(KT,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",HT(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+b_(o,l);s+=zm(o,t,n,u,i)}else if(u=fF(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+b_(o,l++),s+=zm(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Yp(e,t,n){if(e==null)return e;var r=[],i=0;return zm(e,r,"","",function(o){return t.call(n,o,i++)}),r}function mF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},Vm={transition:null},gF={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Vm,ReactCurrentOwner:d1};function XN(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Yp,forEach:function(e,t,n){Yp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yp(e,function(){t++}),t},toArray:function(e){return Yp(e,function(t){return t})||[]},only:function(e){if(!f1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=Kc;Ve.Fragment=rF;Ve.Profiler=oF;Ve.PureComponent=u1;Ve.StrictMode=iF;Ve.Suspense=uF;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gF;Ve.act=XN;Ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=HN({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=d1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)GN.call(t,u)&&!ZN.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Nh,type:e.type,key:i,ref:o,props:r,_owner:s}};Ve.createContext=function(e){return e={$$typeof:aF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sF,_context:e},e.Consumer=e};Ve.createElement=YN;Ve.createFactory=function(e){var t=YN.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:lF,render:e}};Ve.isValidElement=f1;Ve.lazy=function(e){return{$$typeof:dF,_payload:{_status:-1,_result:e},_init:mF}};Ve.memo=function(e,t){return{$$typeof:cF,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=Vm.transition;Vm.transition={};try{e()}finally{Vm.transition=t}};Ve.unstable_act=XN;Ve.useCallback=function(e,t){return hr.current.useCallback(e,t)};Ve.useContext=function(e){return hr.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return hr.current.useEffect(e,t)};Ve.useId=function(){return hr.current.useId()};Ve.useImperativeHandle=function(e,t,n){return hr.current.useImperativeHandle(e,t,n)};Ve.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return hr.current.useMemo(e,t)};Ve.useReducer=function(e,t,n){return hr.current.useReducer(e,t,n)};Ve.useRef=function(e){return hr.current.useRef(e)};Ve.useState=function(e){return hr.current.useState(e)};Ve.useSyncExternalStore=function(e,t,n){return hr.current.useSyncExternalStore(e,t,n)};Ve.useTransition=function(){return hr.current.useTransition()};Ve.version="18.3.1";UN.exports=Ve;var _=UN.exports;const _t=zo(_),vF=eF({__proto__:null,default:_t},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yF=_,_F=Symbol.for("react.element"),xF=Symbol.for("react.fragment"),wF=Object.prototype.hasOwnProperty,bF=yF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EF={key:!0,ref:!0,__self:!0,__source:!0};function QN(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)wF.call(t,r)&&!EF.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_F,type:e,key:o,ref:s,props:i,_owner:bF.current}}ly.Fragment=xF;ly.jsx=QN;ly.jsxs=QN;BN.exports=ly;var y=BN.exports,JN={exports:{}},Jr={},eR={exports:{}},tR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ie){var X=G.length;G.push(ie);e:for(;0<X;){var ue=X-1>>>1,we=G[ue];if(0<i(we,ie))G[ue]=ie,G[X]=we,X=ue;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],X=G.pop();if(X!==ie){G[0]=X;e:for(var ue=0,we=G.length,je=we>>>1;ue<je;){var Pe=2*(ue+1)-1,ke=G[Pe],ve=Pe+1,$e=G[ve];if(0>i(ke,X))ve<we&&0>i($e,ke)?(G[ue]=$e,G[ve]=X,ue=ve):(G[ue]=ke,G[Pe]=X,ue=Pe);else if(ve<we&&0>i($e,X))G[ue]=$e,G[ve]=X,ue=ve;else break e}}return ie}function i(G,ie){var X=G.sortIndex-ie.sortIndex;return X!==0?X:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,h=null,p=3,v=!1,x=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(G){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=G)r(c),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(c)}}function R(G){if(b=!1,C(G),!x)if(n(u)!==null)x=!0,oe(j);else{var ie=n(c);ie!==null&&ae(R,ie.startTime-G)}}function j(G,ie){x=!1,b&&(b=!1,P(I),I=-1),v=!0;var X=p;try{for(C(ie),h=n(u);h!==null&&(!(h.expirationTime>ie)||G&&!D());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,p=h.priorityLevel;var we=ue(h.expirationTime<=ie);ie=e.unstable_now(),typeof we=="function"?h.callback=we:h===n(u)&&r(u),C(ie)}else r(u);h=n(u)}if(h!==null)var je=!0;else{var Pe=n(c);Pe!==null&&ae(R,Pe.startTime-ie),je=!1}return je}finally{h=null,p=X,v=!1}}var $=!1,O=null,I=-1,N=5,z=-1;function D(){return!(e.unstable_now()-z<N)}function F(){if(O!==null){var G=e.unstable_now();z=G;var ie=!0;try{ie=O(!0,G)}finally{ie?B():($=!1,O=null)}}else $=!1}var B;if(typeof T=="function")B=function(){T(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,xe=ne.port2;ne.port1.onmessage=F,B=function(){xe.postMessage(null)}}else B=function(){E(F,0)};function oe(G){O=G,$||($=!0,B())}function ae(G,ie){I=E(function(){G(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,oe(j))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(G){switch(p){case 1:case 2:case 3:var ie=3;break;default:ie=p}var X=p;p=ie;try{return G()}finally{p=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=p;p=G;try{return ie()}finally{p=X}},e.unstable_scheduleCallback=function(G,ie,X){var ue=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,G){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=X+we,G={id:f++,callback:ie,priorityLevel:G,startTime:X,expirationTime:we,sortIndex:-1},X>ue?(G.sortIndex=X,t(c,G),n(u)===null&&G===n(c)&&(b?(P(I),I=-1):b=!0,ae(R,X-ue))):(G.sortIndex=we,t(u,G),x||v||(x=!0,oe(j))),G},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(G){var ie=p;return function(){var X=p;p=ie;try{return G.apply(this,arguments)}finally{p=X}}}})(tR);eR.exports=tR;var PF=eR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SF=_,Yr=PF;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nR=new Set,Vf={};function iu(e,t){Ec(e,t),Ec(e+"Capture",t)}function Ec(e,t){for(Vf[e]=t,e=0;e<t.length;e++)nR.add(t[e])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vx=Object.prototype.hasOwnProperty,TF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qT={},GT={};function AF(e){return Vx.call(GT,e)?!0:Vx.call(qT,e)?!1:TF.test(e)?GT[e]=!0:(qT[e]=!0,!1)}function CF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IF(e,t,n,r){if(t===null||typeof t>"u"||CF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ln[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ln[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ln[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ln[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ln[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ln[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ln[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ln[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ln[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var h1=/[\-:]([a-z])/g;function p1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(h1,p1);Ln[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(h1,p1);Ln[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(h1,p1);Ln[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ln[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ln[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function m1(e,t,n,r){var i=Ln.hasOwnProperty(t)?Ln[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IF(t,n,i,r)&&(n=null),r||i===null?AF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ls=SF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),$x=Symbol.for("react.profiler"),rR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),y1=Symbol.for("react.memo"),na=Symbol.for("react.lazy"),oR=Symbol.for("react.offscreen"),ZT=Symbol.iterator;function zd(e){return e===null||typeof e!="object"?null:(e=ZT&&e[ZT]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,E_;function sf(e){if(E_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E_=t&&t[1]||""}return`
`+E_+e}var P_=!1;function S_(e,t){if(!e||P_)return"";P_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{P_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sf(e):""}function kF(e){switch(e.tag){case 5:return sf(e.type);case 16:return sf("Lazy");case 13:return sf("Suspense");case 19:return sf("SuspenseList");case 0:case 2:case 15:return e=S_(e.type,!1),e;case 11:return e=S_(e.type.render,!1),e;case 1:return e=S_(e.type,!0),e;default:return""}}function Ux(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gu:return"Fragment";case qu:return"Portal";case $x:return"Profiler";case g1:return"StrictMode";case Fx:return"Suspense";case Bx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iR:return(e.displayName||"Context")+".Consumer";case rR:return(e._context.displayName||"Context")+".Provider";case v1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case y1:return t=e.displayName||null,t!==null?t:Ux(e.type)||"Memo";case na:t=e._payload,e=e._init;try{return Ux(e(t))}catch{}}return null}function OF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ux(t);case 8:return t===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NF(e){var t=sR(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qp(e){e._valueTracker||(e._valueTracker=NF(e))}function aR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sR(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wx(e,t){var n=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function YT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ra(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lR(e,t){t=t.checked,t!=null&&m1(e,"checked",t,!1)}function Hx(e,t){lR(e,t);var n=Ra(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kx(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kx(e,t.type,Ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kx(e,t,n){(t!=="number"||mg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var af=Array.isArray;function lc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ra(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function QT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(af(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ra(n)}}function uR(e,t){var n=Ra(t.value),r=Ra(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function JT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jp,dR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jp=Jp||document.createElement("div"),Jp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $f(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RF=["Webkit","ms","Moz","O"];Object.keys(_f).forEach(function(e){RF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_f[t]=_f[e]})});function fR(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_f.hasOwnProperty(e)&&_f[e]?(""+t).trim():t+"px"}function hR(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fR(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var MF=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zx(e,t){if(t){if(MF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Yx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=null;function _1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qx=null,uc=null,cc=null;function eA(e){if(e=jh(e)){if(typeof Qx!="function")throw Error(re(280));var t=e.stateNode;t&&(t=hy(t),Qx(e.stateNode,e.type,t))}}function pR(e){uc?cc?cc.push(e):cc=[e]:uc=e}function mR(){if(uc){var e=uc,t=cc;if(cc=uc=null,eA(e),t)for(e=0;e<t.length;e++)eA(t[e])}}function gR(e,t){return e(t)}function vR(){}var T_=!1;function yR(e,t,n){if(T_)return e(t,n);T_=!0;try{return gR(e,t,n)}finally{T_=!1,(uc!==null||cc!==null)&&(vR(),mR())}}function Ff(e,t){var n=e.stateNode;if(n===null)return null;var r=hy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var Jx=!1;if(ws)try{var Vd={};Object.defineProperty(Vd,"passive",{get:function(){Jx=!0}}),window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{Jx=!1}function jF(e,t,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var xf=!1,gg=null,vg=!1,ew=null,DF={onError:function(e){xf=!0,gg=e}};function LF(e,t,n,r,i,o,s,l,u){xf=!1,gg=null,jF.apply(DF,arguments)}function zF(e,t,n,r,i,o,s,l,u){if(LF.apply(this,arguments),xf){if(xf){var c=gg;xf=!1,gg=null}else throw Error(re(198));vg||(vg=!0,ew=c)}}function ou(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tA(e){if(ou(e)!==e)throw Error(re(188))}function VF(e){var t=e.alternate;if(!t){if(t=ou(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tA(i),e;if(o===r)return tA(i),t;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function xR(e){return e=VF(e),e!==null?wR(e):null}function wR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wR(e);if(t!==null)return t;e=e.sibling}return null}var bR=Yr.unstable_scheduleCallback,nA=Yr.unstable_cancelCallback,$F=Yr.unstable_shouldYield,FF=Yr.unstable_requestPaint,Kt=Yr.unstable_now,BF=Yr.unstable_getCurrentPriorityLevel,x1=Yr.unstable_ImmediatePriority,ER=Yr.unstable_UserBlockingPriority,yg=Yr.unstable_NormalPriority,UF=Yr.unstable_LowPriority,PR=Yr.unstable_IdlePriority,uy=null,So=null;function WF(e){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(uy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:qF,HF=Math.log,KF=Math.LN2;function qF(e){return e>>>=0,e===0?32:31-(HF(e)/KF|0)|0}var em=64,tm=4194304;function lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _g(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=lf(l):(o&=s,o!==0&&(r=lf(o)))}else s=n&~i,s!==0?r=lf(s):o!==0&&(r=lf(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ui(t),i=1<<n,r|=e[n],t&=~i;return r}function GF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZF(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ui(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=GF(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function tw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SR(){var e=em;return em<<=1,!(em&4194240)&&(em=64),e}function A_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ui(t),e[t]=n}function YF(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ui(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function w1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ui(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ot=0;function TR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AR,b1,CR,IR,kR,nw=!1,nm=[],ya=null,_a=null,xa=null,Bf=new Map,Uf=new Map,la=[],XF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rA(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Bf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(t.pointerId)}}function $d(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=jh(t),t!==null&&b1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QF(e,t,n,r,i){switch(t){case"focusin":return ya=$d(ya,e,t,n,r,i),!0;case"dragenter":return _a=$d(_a,e,t,n,r,i),!0;case"mouseover":return xa=$d(xa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bf.set(o,$d(Bf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uf.set(o,$d(Uf.get(o)||null,e,t,n,r,i)),!0}return!1}function OR(e){var t=bl(e.target);if(t!==null){var n=ou(t);if(n!==null){if(t=n.tag,t===13){if(t=_R(n),t!==null){e.blockedOn=t,kR(e.priority,function(){CR(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $m(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xx=r,n.target.dispatchEvent(r),Xx=null}else return t=jh(n),t!==null&&b1(t),e.blockedOn=n,!1;t.shift()}return!0}function iA(e,t,n){$m(e)&&n.delete(t)}function JF(){nw=!1,ya!==null&&$m(ya)&&(ya=null),_a!==null&&$m(_a)&&(_a=null),xa!==null&&$m(xa)&&(xa=null),Bf.forEach(iA),Uf.forEach(iA)}function Fd(e,t){e.blockedOn===t&&(e.blockedOn=null,nw||(nw=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,JF)))}function Wf(e){function t(i){return Fd(i,e)}if(0<nm.length){Fd(nm[0],e);for(var n=1;n<nm.length;n++){var r=nm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ya!==null&&Fd(ya,e),_a!==null&&Fd(_a,e),xa!==null&&Fd(xa,e),Bf.forEach(t),Uf.forEach(t),n=0;n<la.length;n++)r=la[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<la.length&&(n=la[0],n.blockedOn===null);)OR(n),n.blockedOn===null&&la.shift()}var dc=Ls.ReactCurrentBatchConfig,xg=!0;function e9(e,t,n,r){var i=ot,o=dc.transition;dc.transition=null;try{ot=1,E1(e,t,n,r)}finally{ot=i,dc.transition=o}}function t9(e,t,n,r){var i=ot,o=dc.transition;dc.transition=null;try{ot=4,E1(e,t,n,r)}finally{ot=i,dc.transition=o}}function E1(e,t,n,r){if(xg){var i=rw(e,t,n,r);if(i===null)L_(e,t,r,wg,n),rA(e,r);else if(QF(i,e,t,n,r))r.stopPropagation();else if(rA(e,r),t&4&&-1<XF.indexOf(e)){for(;i!==null;){var o=jh(i);if(o!==null&&AR(o),o=rw(e,t,n,r),o===null&&L_(e,t,r,wg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else L_(e,t,r,null,n)}}var wg=null;function rw(e,t,n,r){if(wg=null,e=_1(r),e=bl(e),e!==null)if(t=ou(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_R(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wg=e,null}function NR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BF()){case x1:return 1;case ER:return 4;case yg:case UF:return 16;case PR:return 536870912;default:return 16}default:return 16}}var pa=null,P1=null,Fm=null;function RR(){if(Fm)return Fm;var e,t=P1,n=t.length,r,i="value"in pa?pa.value:pa.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Fm=i.slice(e,1<r?1-r:void 0)}function Bm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rm(){return!0}function oA(){return!1}function ei(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rm:oA,this.isPropagationStopped=oA,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rm)},persist:function(){},isPersistent:rm}),t}var qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S1=ei(qc),Mh=kt({},qc,{view:0,detail:0}),n9=ei(Mh),C_,I_,Bd,cy=kt({},Mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bd&&(Bd&&e.type==="mousemove"?(C_=e.screenX-Bd.screenX,I_=e.screenY-Bd.screenY):I_=C_=0,Bd=e),C_)},movementY:function(e){return"movementY"in e?e.movementY:I_}}),sA=ei(cy),r9=kt({},cy,{dataTransfer:0}),i9=ei(r9),o9=kt({},Mh,{relatedTarget:0}),k_=ei(o9),s9=kt({},qc,{animationName:0,elapsedTime:0,pseudoElement:0}),a9=ei(s9),l9=kt({},qc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u9=ei(l9),c9=kt({},qc,{data:0}),aA=ei(c9),d9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h9[e])?!!t[e]:!1}function T1(){return p9}var m9=kt({},Mh,{key:function(e){if(e.key){var t=d9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T1,charCode:function(e){return e.type==="keypress"?Bm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g9=ei(m9),v9=kt({},cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lA=ei(v9),y9=kt({},Mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T1}),_9=ei(y9),x9=kt({},qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),w9=ei(x9),b9=kt({},cy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E9=ei(b9),P9=[9,13,27,32],A1=ws&&"CompositionEvent"in window,wf=null;ws&&"documentMode"in document&&(wf=document.documentMode);var S9=ws&&"TextEvent"in window&&!wf,MR=ws&&(!A1||wf&&8<wf&&11>=wf),uA=" ",cA=!1;function jR(e,t){switch(e){case"keyup":return P9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zu=!1;function T9(e,t){switch(e){case"compositionend":return DR(t);case"keypress":return t.which!==32?null:(cA=!0,uA);case"textInput":return e=t.data,e===uA&&cA?null:e;default:return null}}function A9(e,t){if(Zu)return e==="compositionend"||!A1&&jR(e,t)?(e=RR(),Fm=P1=pa=null,Zu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MR&&t.locale!=="ko"?null:t.data;default:return null}}var C9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C9[e.type]:t==="textarea"}function LR(e,t,n,r){pR(r),t=bg(t,"onChange"),0<t.length&&(n=new S1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bf=null,Hf=null;function I9(e){GR(e,0)}function dy(e){var t=Qu(e);if(aR(t))return e}function k9(e,t){if(e==="change")return t}var zR=!1;if(ws){var O_;if(ws){var N_="oninput"in document;if(!N_){var fA=document.createElement("div");fA.setAttribute("oninput","return;"),N_=typeof fA.oninput=="function"}O_=N_}else O_=!1;zR=O_&&(!document.documentMode||9<document.documentMode)}function hA(){bf&&(bf.detachEvent("onpropertychange",VR),Hf=bf=null)}function VR(e){if(e.propertyName==="value"&&dy(Hf)){var t=[];LR(t,Hf,e,_1(e)),yR(I9,t)}}function O9(e,t,n){e==="focusin"?(hA(),bf=t,Hf=n,bf.attachEvent("onpropertychange",VR)):e==="focusout"&&hA()}function N9(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dy(Hf)}function R9(e,t){if(e==="click")return dy(t)}function M9(e,t){if(e==="input"||e==="change")return dy(t)}function j9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zi=typeof Object.is=="function"?Object.is:j9;function Kf(e,t){if(Zi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vx.call(t,i)||!Zi(e[i],t[i]))return!1}return!0}function pA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mA(e,t){var n=pA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pA(n)}}function $R(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$R(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FR(){for(var e=window,t=mg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mg(e.document)}return t}function C1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D9(e){var t=FR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$R(n.ownerDocument.documentElement,n)){if(r!==null&&C1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=mA(n,o);var s=mA(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L9=ws&&"documentMode"in document&&11>=document.documentMode,Yu=null,iw=null,Ef=null,ow=!1;function gA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ow||Yu==null||Yu!==mg(r)||(r=Yu,"selectionStart"in r&&C1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ef&&Kf(Ef,r)||(Ef=r,r=bg(iw,"onSelect"),0<r.length&&(t=new S1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yu)))}function im(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xu={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},R_={},BR={};ws&&(BR=document.createElement("div").style,"AnimationEvent"in window||(delete Xu.animationend.animation,delete Xu.animationiteration.animation,delete Xu.animationstart.animation),"TransitionEvent"in window||delete Xu.transitionend.transition);function fy(e){if(R_[e])return R_[e];if(!Xu[e])return e;var t=Xu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in BR)return R_[e]=t[n];return e}var UR=fy("animationend"),WR=fy("animationiteration"),HR=fy("animationstart"),KR=fy("transitionend"),qR=new Map,vA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){qR.set(e,t),iu(t,[e])}for(var M_=0;M_<vA.length;M_++){var j_=vA[M_],z9=j_.toLowerCase(),V9=j_[0].toUpperCase()+j_.slice(1);Wa(z9,"on"+V9)}Wa(UR,"onAnimationEnd");Wa(WR,"onAnimationIteration");Wa(HR,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(KR,"onTransitionEnd");Ec("onMouseEnter",["mouseout","mouseover"]);Ec("onMouseLeave",["mouseout","mouseover"]);Ec("onPointerEnter",["pointerout","pointerover"]);Ec("onPointerLeave",["pointerout","pointerover"]);iu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));iu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));iu("onBeforeInput",["compositionend","keypress","textInput","paste"]);iu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));iu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));iu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$9=new Set("cancel close invalid load scroll toggle".split(" ").concat(uf));function yA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zF(r,t,void 0,e),e.currentTarget=null}function GR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;yA(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;yA(i,l,c),o=u}}}if(vg)throw e=ew,vg=!1,ew=null,e}function vt(e,t){var n=t[cw];n===void 0&&(n=t[cw]=new Set);var r=e+"__bubble";n.has(r)||(ZR(t,e,2,!1),n.add(r))}function D_(e,t,n){var r=0;t&&(r|=4),ZR(n,e,r,t)}var om="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[om]){e[om]=!0,nR.forEach(function(n){n!=="selectionchange"&&($9.has(n)||D_(n,!1,e),D_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[om]||(t[om]=!0,D_("selectionchange",!1,t))}}function ZR(e,t,n,r){switch(NR(t)){case 1:var i=e9;break;case 4:i=t9;break;default:i=E1}n=i.bind(null,t,n,e),i=void 0,!Jx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function L_(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=bl(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}yR(function(){var c=o,f=_1(n),h=[];e:{var p=qR.get(e);if(p!==void 0){var v=S1,x=e;switch(e){case"keypress":if(Bm(n)===0)break e;case"keydown":case"keyup":v=g9;break;case"focusin":x="focus",v=k_;break;case"focusout":x="blur",v=k_;break;case"beforeblur":case"afterblur":v=k_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=sA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=i9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_9;break;case UR:case WR:case HR:v=a9;break;case KR:v=w9;break;case"scroll":v=n9;break;case"wheel":v=E9;break;case"copy":case"cut":case"paste":v=u9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lA}var b=(t&4)!==0,E=!b&&e==="scroll",P=b?p!==null?p+"Capture":null:p;b=[];for(var T=c,C;T!==null;){C=T;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,P!==null&&(R=Ff(T,P),R!=null&&b.push(Gf(T,R,C)))),E)break;T=T.return}0<b.length&&(p=new v(p,x,null,n,f),h.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==Xx&&(x=n.relatedTarget||n.fromElement)&&(bl(x)||x[bs]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?bl(x):null,x!==null&&(E=ou(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(b=sA,R="onMouseLeave",P="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(b=lA,R="onPointerLeave",P="onPointerEnter",T="pointer"),E=v==null?p:Qu(v),C=x==null?p:Qu(x),p=new b(R,T+"leave",v,n,f),p.target=E,p.relatedTarget=C,R=null,bl(f)===c&&(b=new b(P,T+"enter",x,n,f),b.target=C,b.relatedTarget=E,R=b),E=R,v&&x)t:{for(b=v,P=x,T=0,C=b;C;C=Lu(C))T++;for(C=0,R=P;R;R=Lu(R))C++;for(;0<T-C;)b=Lu(b),T--;for(;0<C-T;)P=Lu(P),C--;for(;T--;){if(b===P||P!==null&&b===P.alternate)break t;b=Lu(b),P=Lu(P)}b=null}else b=null;v!==null&&_A(h,p,v,b,!1),x!==null&&E!==null&&_A(h,E,x,b,!0)}}e:{if(p=c?Qu(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var j=k9;else if(dA(p))if(zR)j=M9;else{j=N9;var $=O9}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=R9);if(j&&(j=j(e,c))){LR(h,j,n,f);break e}$&&$(e,p,c),e==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&Kx(p,"number",p.value)}switch($=c?Qu(c):window,e){case"focusin":(dA($)||$.contentEditable==="true")&&(Yu=$,iw=c,Ef=null);break;case"focusout":Ef=iw=Yu=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,gA(h,n,f);break;case"selectionchange":if(L9)break;case"keydown":case"keyup":gA(h,n,f)}var O;if(A1)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Zu?jR(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(MR&&n.locale!=="ko"&&(Zu||I!=="onCompositionStart"?I==="onCompositionEnd"&&Zu&&(O=RR()):(pa=f,P1="value"in pa?pa.value:pa.textContent,Zu=!0)),$=bg(c,I),0<$.length&&(I=new aA(I,e,null,n,f),h.push({event:I,listeners:$}),O?I.data=O:(O=DR(n),O!==null&&(I.data=O)))),(O=S9?T9(e,n):A9(e,n))&&(c=bg(c,"onBeforeInput"),0<c.length&&(f=new aA("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=O))}GR(h,t)})}function Gf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ff(e,n),o!=null&&r.unshift(Gf(e,o,i)),o=Ff(e,t),o!=null&&r.push(Gf(e,o,i))),e=e.return}return r}function Lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _A(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Ff(n,o),u!=null&&s.unshift(Gf(n,u,l))):i||(u=Ff(n,o),u!=null&&s.push(Gf(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var F9=/\r\n?/g,B9=/\u0000|\uFFFD/g;function xA(e){return(typeof e=="string"?e:""+e).replace(F9,`
`).replace(B9,"")}function sm(e,t,n){if(t=xA(t),xA(e)!==t&&n)throw Error(re(425))}function Eg(){}var sw=null,aw=null;function lw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uw=typeof setTimeout=="function"?setTimeout:void 0,U9=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,W9=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(e){return wA.resolve(null).then(e).catch(H9)}:uw;function H9(e){setTimeout(function(){throw e})}function z_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wf(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gc=Math.random().toString(36).slice(2),bo="__reactFiber$"+Gc,Zf="__reactProps$"+Gc,bs="__reactContainer$"+Gc,cw="__reactEvents$"+Gc,K9="__reactListeners$"+Gc,q9="__reactHandles$"+Gc;function bl(e){var t=e[bo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bs]||n[bo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bA(e);e!==null;){if(n=e[bo])return n;e=bA(e)}return t}e=n,n=e.parentNode}return null}function jh(e){return e=e[bo]||e[bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function hy(e){return e[Zf]||null}var dw=[],Ju=-1;function Ha(e){return{current:e}}function xt(e){0>Ju||(e.current=dw[Ju],dw[Ju]=null,Ju--)}function mt(e,t){Ju++,dw[Ju]=e.current,e.current=t}var Ma={},tr=Ha(Ma),Cr=Ha(!1),Vl=Ma;function Pc(e,t){var n=e.type.contextTypes;if(!n)return Ma;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(e){return e=e.childContextTypes,e!=null}function Pg(){xt(Cr),xt(tr)}function EA(e,t,n){if(tr.current!==Ma)throw Error(re(168));mt(tr,t),mt(Cr,n)}function YR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(re(108,OF(e)||"Unknown",i));return kt({},n,r)}function Sg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,Vl=tr.current,mt(tr,e),mt(Cr,Cr.current),!0}function PA(e,t,n){var r=e.stateNode;if(!r)throw Error(re(169));n?(e=YR(e,t,Vl),r.__reactInternalMemoizedMergedChildContext=e,xt(Cr),xt(tr),mt(tr,e)):xt(Cr),mt(Cr,n)}var os=null,py=!1,V_=!1;function XR(e){os===null?os=[e]:os.push(e)}function G9(e){py=!0,XR(e)}function Ka(){if(!V_&&os!==null){V_=!0;var e=0,t=ot;try{var n=os;for(ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}os=null,py=!1}catch(i){throw os!==null&&(os=os.slice(e+1)),bR(x1,Ka),i}finally{ot=t,V_=!1}}return null}var ec=[],tc=0,Tg=null,Ag=0,gi=[],vi=0,$l=null,us=1,cs="";function gl(e,t){ec[tc++]=Ag,ec[tc++]=Tg,Tg=e,Ag=t}function QR(e,t,n){gi[vi++]=us,gi[vi++]=cs,gi[vi++]=$l,$l=e;var r=us;e=cs;var i=32-Ui(r)-1;r&=~(1<<i),n+=1;var o=32-Ui(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,us=1<<32-Ui(t)+i|n<<i|r,cs=o+e}else us=1<<o|n<<i|r,cs=e}function I1(e){e.return!==null&&(gl(e,1),QR(e,1,0))}function k1(e){for(;e===Tg;)Tg=ec[--tc],ec[tc]=null,Ag=ec[--tc],ec[tc]=null;for(;e===$l;)$l=gi[--vi],gi[vi]=null,cs=gi[--vi],gi[vi]=null,us=gi[--vi],gi[vi]=null}var Hr=null,Br=null,Et=!1,zi=null;function JR(e,t){var n=_i(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function SA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hr=e,Br=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$l!==null?{id:us,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_i(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hr=e,Br=null,!0):!1;default:return!1}}function fw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hw(e){if(Et){var t=Br;if(t){var n=t;if(!SA(e,t)){if(fw(e))throw Error(re(418));t=wa(n.nextSibling);var r=Hr;t&&SA(e,t)?JR(r,n):(e.flags=e.flags&-4097|2,Et=!1,Hr=e)}}else{if(fw(e))throw Error(re(418));e.flags=e.flags&-4097|2,Et=!1,Hr=e}}}function TA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hr=e}function am(e){if(e!==Hr)return!1;if(!Et)return TA(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lw(e.type,e.memoizedProps)),t&&(t=Br)){if(fw(e))throw eM(),Error(re(418));for(;t;)JR(e,t),t=wa(t.nextSibling)}if(TA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Br=wa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Hr?wa(e.stateNode.nextSibling):null;return!0}function eM(){for(var e=Br;e;)e=wa(e.nextSibling)}function Sc(){Br=Hr=null,Et=!1}function O1(e){zi===null?zi=[e]:zi.push(e)}var Z9=Ls.ReactCurrentBatchConfig;function Ud(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function lm(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AA(e){var t=e._init;return t(e._payload)}function tM(e){function t(P,T){if(e){var C=P.deletions;C===null?(P.deletions=[T],P.flags|=16):C.push(T)}}function n(P,T){if(!e)return null;for(;T!==null;)t(P,T),T=T.sibling;return null}function r(P,T){for(P=new Map;T!==null;)T.key!==null?P.set(T.key,T):P.set(T.index,T),T=T.sibling;return P}function i(P,T){return P=Sa(P,T),P.index=0,P.sibling=null,P}function o(P,T,C){return P.index=C,e?(C=P.alternate,C!==null?(C=C.index,C<T?(P.flags|=2,T):C):(P.flags|=2,T)):(P.flags|=1048576,T)}function s(P){return e&&P.alternate===null&&(P.flags|=2),P}function l(P,T,C,R){return T===null||T.tag!==6?(T=K_(C,P.mode,R),T.return=P,T):(T=i(T,C),T.return=P,T)}function u(P,T,C,R){var j=C.type;return j===Gu?f(P,T,C.props.children,R,C.key):T!==null&&(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===na&&AA(j)===T.type)?(R=i(T,C.props),R.ref=Ud(P,T,C),R.return=P,R):(R=Zm(C.type,C.key,C.props,null,P.mode,R),R.ref=Ud(P,T,C),R.return=P,R)}function c(P,T,C,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=q_(C,P.mode,R),T.return=P,T):(T=i(T,C.children||[]),T.return=P,T)}function f(P,T,C,R,j){return T===null||T.tag!==7?(T=Nl(C,P.mode,R,j),T.return=P,T):(T=i(T,C),T.return=P,T)}function h(P,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=K_(""+T,P.mode,C),T.return=P,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xp:return C=Zm(T.type,T.key,T.props,null,P.mode,C),C.ref=Ud(P,null,T),C.return=P,C;case qu:return T=q_(T,P.mode,C),T.return=P,T;case na:var R=T._init;return h(P,R(T._payload),C)}if(af(T)||zd(T))return T=Nl(T,P.mode,C,null),T.return=P,T;lm(P,T)}return null}function p(P,T,C,R){var j=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return j!==null?null:l(P,T,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xp:return C.key===j?u(P,T,C,R):null;case qu:return C.key===j?c(P,T,C,R):null;case na:return j=C._init,p(P,T,j(C._payload),R)}if(af(C)||zd(C))return j!==null?null:f(P,T,C,R,null);lm(P,C)}return null}function v(P,T,C,R,j){if(typeof R=="string"&&R!==""||typeof R=="number")return P=P.get(C)||null,l(T,P,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xp:return P=P.get(R.key===null?C:R.key)||null,u(T,P,R,j);case qu:return P=P.get(R.key===null?C:R.key)||null,c(T,P,R,j);case na:var $=R._init;return v(P,T,C,$(R._payload),j)}if(af(R)||zd(R))return P=P.get(C)||null,f(T,P,R,j,null);lm(T,R)}return null}function x(P,T,C,R){for(var j=null,$=null,O=T,I=T=0,N=null;O!==null&&I<C.length;I++){O.index>I?(N=O,O=null):N=O.sibling;var z=p(P,O,C[I],R);if(z===null){O===null&&(O=N);break}e&&O&&z.alternate===null&&t(P,O),T=o(z,T,I),$===null?j=z:$.sibling=z,$=z,O=N}if(I===C.length)return n(P,O),Et&&gl(P,I),j;if(O===null){for(;I<C.length;I++)O=h(P,C[I],R),O!==null&&(T=o(O,T,I),$===null?j=O:$.sibling=O,$=O);return Et&&gl(P,I),j}for(O=r(P,O);I<C.length;I++)N=v(O,P,I,C[I],R),N!==null&&(e&&N.alternate!==null&&O.delete(N.key===null?I:N.key),T=o(N,T,I),$===null?j=N:$.sibling=N,$=N);return e&&O.forEach(function(D){return t(P,D)}),Et&&gl(P,I),j}function b(P,T,C,R){var j=zd(C);if(typeof j!="function")throw Error(re(150));if(C=j.call(C),C==null)throw Error(re(151));for(var $=j=null,O=T,I=T=0,N=null,z=C.next();O!==null&&!z.done;I++,z=C.next()){O.index>I?(N=O,O=null):N=O.sibling;var D=p(P,O,z.value,R);if(D===null){O===null&&(O=N);break}e&&O&&D.alternate===null&&t(P,O),T=o(D,T,I),$===null?j=D:$.sibling=D,$=D,O=N}if(z.done)return n(P,O),Et&&gl(P,I),j;if(O===null){for(;!z.done;I++,z=C.next())z=h(P,z.value,R),z!==null&&(T=o(z,T,I),$===null?j=z:$.sibling=z,$=z);return Et&&gl(P,I),j}for(O=r(P,O);!z.done;I++,z=C.next())z=v(O,P,I,z.value,R),z!==null&&(e&&z.alternate!==null&&O.delete(z.key===null?I:z.key),T=o(z,T,I),$===null?j=z:$.sibling=z,$=z);return e&&O.forEach(function(F){return t(P,F)}),Et&&gl(P,I),j}function E(P,T,C,R){if(typeof C=="object"&&C!==null&&C.type===Gu&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Xp:e:{for(var j=C.key,$=T;$!==null;){if($.key===j){if(j=C.type,j===Gu){if($.tag===7){n(P,$.sibling),T=i($,C.props.children),T.return=P,P=T;break e}}else if($.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===na&&AA(j)===$.type){n(P,$.sibling),T=i($,C.props),T.ref=Ud(P,$,C),T.return=P,P=T;break e}n(P,$);break}else t(P,$);$=$.sibling}C.type===Gu?(T=Nl(C.props.children,P.mode,R,C.key),T.return=P,P=T):(R=Zm(C.type,C.key,C.props,null,P.mode,R),R.ref=Ud(P,T,C),R.return=P,P=R)}return s(P);case qu:e:{for($=C.key;T!==null;){if(T.key===$)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(P,T.sibling),T=i(T,C.children||[]),T.return=P,P=T;break e}else{n(P,T);break}else t(P,T);T=T.sibling}T=q_(C,P.mode,R),T.return=P,P=T}return s(P);case na:return $=C._init,E(P,T,$(C._payload),R)}if(af(C))return x(P,T,C,R);if(zd(C))return b(P,T,C,R);lm(P,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(P,T.sibling),T=i(T,C),T.return=P,P=T):(n(P,T),T=K_(C,P.mode,R),T.return=P,P=T),s(P)):n(P,T)}return E}var Tc=tM(!0),nM=tM(!1),Cg=Ha(null),Ig=null,nc=null,N1=null;function R1(){N1=nc=Ig=null}function M1(e){var t=Cg.current;xt(Cg),e._currentValue=t}function pw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fc(e,t){Ig=e,N1=nc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pr=!0),e.firstContext=null)}function bi(e){var t=e._currentValue;if(N1!==e)if(e={context:e,memoizedValue:t,next:null},nc===null){if(Ig===null)throw Error(re(308));nc=e,Ig.dependencies={lanes:0,firstContext:e}}else nc=nc.next=e;return t}var El=null;function j1(e){El===null?El=[e]:El.push(e)}function rM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,j1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Es(e,r)}function Es(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ra=!1;function D1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Es(e,n)}return i=r.interleaved,i===null?(t.next=t,j1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Es(e,n)}function Um(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w1(e,n)}}function CA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kg(e,t,n,r){var i=e.updateQueue;ra=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;s=0,f=c=u=null,l=o;do{var p=l.lane,v=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,b=l;switch(p=t,v=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(v,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,p=typeof x=="function"?x.call(v,h,p):x,p==null)break e;h=kt({},h,p);break e;case 2:ra=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,u=h):f=f.next=v,s|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Bl|=s,e.lanes=s,e.memoizedState=h}}function IA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var Dh={},To=Ha(Dh),Yf=Ha(Dh),Xf=Ha(Dh);function Pl(e){if(e===Dh)throw Error(re(174));return e}function L1(e,t){switch(mt(Xf,t),mt(Yf,e),mt(To,Dh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gx(t,e)}xt(To),mt(To,t)}function Ac(){xt(To),xt(Yf),xt(Xf)}function oM(e){Pl(Xf.current);var t=Pl(To.current),n=Gx(t,e.type);t!==n&&(mt(Yf,e),mt(To,n))}function z1(e){Yf.current===e&&(xt(To),xt(Yf))}var Ct=Ha(0);function Og(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $_=[];function V1(){for(var e=0;e<$_.length;e++)$_[e]._workInProgressVersionPrimary=null;$_.length=0}var Wm=Ls.ReactCurrentDispatcher,F_=Ls.ReactCurrentBatchConfig,Fl=0,It=null,sn=null,wn=null,Ng=!1,Pf=!1,Qf=0,Y9=0;function Hn(){throw Error(re(321))}function $1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zi(e[n],t[n]))return!1;return!0}function F1(e,t,n,r,i,o){if(Fl=o,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wm.current=e===null||e.memoizedState===null?eB:tB,e=n(r,i),Pf){o=0;do{if(Pf=!1,Qf=0,25<=o)throw Error(re(301));o+=1,wn=sn=null,t.updateQueue=null,Wm.current=nB,e=n(r,i)}while(Pf)}if(Wm.current=Rg,t=sn!==null&&sn.next!==null,Fl=0,wn=sn=It=null,Ng=!1,t)throw Error(re(300));return e}function B1(){var e=Qf!==0;return Qf=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?It.memoizedState=wn=e:wn=wn.next=e,wn}function Ei(){if(sn===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=wn===null?It.memoizedState:wn.next;if(t!==null)wn=t,sn=e;else{if(e===null)throw Error(re(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},wn===null?It.memoizedState=wn=e:wn=wn.next=e}return wn}function Jf(e,t){return typeof t=="function"?t(e):t}function B_(e){var t=Ei(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=sn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((Fl&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,s=r):u=u.next=h,It.lanes|=f,Bl|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,Zi(r,t.memoizedState)||(Pr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,It.lanes|=o,Bl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function U_(e){var t=Ei(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Zi(o,t.memoizedState)||(Pr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function sM(){}function aM(e,t){var n=It,r=Ei(),i=t(),o=!Zi(r.memoizedState,i);if(o&&(r.memoizedState=i,Pr=!0),r=r.queue,U1(cM.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,eh(9,uM.bind(null,n,r,i,t),void 0,null),Pn===null)throw Error(re(349));Fl&30||lM(n,t,i)}return i}function lM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uM(e,t,n,r){t.value=n,t.getSnapshot=r,dM(t)&&fM(e)}function cM(e,t,n){return n(function(){dM(t)&&fM(e)})}function dM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zi(e,n)}catch{return!0}}function fM(e){var t=Es(e,1);t!==null&&Wi(t,e,1,-1)}function kA(e){var t=_o();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:e},t.queue=e,e=e.dispatch=J9.bind(null,It,e),[t.memoizedState,e]}function eh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hM(){return Ei().memoizedState}function Hm(e,t,n,r){var i=_o();It.flags|=e,i.memoizedState=eh(1|t,n,void 0,r===void 0?null:r)}function my(e,t,n,r){var i=Ei();r=r===void 0?null:r;var o=void 0;if(sn!==null){var s=sn.memoizedState;if(o=s.destroy,r!==null&&$1(r,s.deps)){i.memoizedState=eh(t,n,o,r);return}}It.flags|=e,i.memoizedState=eh(1|t,n,o,r)}function OA(e,t){return Hm(8390656,8,e,t)}function U1(e,t){return my(2048,8,e,t)}function pM(e,t){return my(4,2,e,t)}function mM(e,t){return my(4,4,e,t)}function gM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vM(e,t,n){return n=n!=null?n.concat([e]):null,my(4,4,gM.bind(null,t,e),n)}function W1(){}function yM(e,t){var n=Ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _M(e,t){var n=Ei();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xM(e,t,n){return Fl&21?(Zi(n,t)||(n=SR(),It.lanes|=n,Bl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pr=!0),e.memoizedState=n)}function X9(e,t){var n=ot;ot=n!==0&&4>n?n:4,e(!0);var r=F_.transition;F_.transition={};try{e(!1),t()}finally{ot=n,F_.transition=r}}function wM(){return Ei().memoizedState}function Q9(e,t,n){var r=Pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bM(e))EM(t,n);else if(n=rM(e,t,n,r),n!==null){var i=cr();Wi(n,e,r,i),PM(n,t,r)}}function J9(e,t,n){var r=Pa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bM(e))EM(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Zi(l,s)){var u=t.interleaved;u===null?(i.next=i,j1(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=rM(e,t,i,r),n!==null&&(i=cr(),Wi(n,e,r,i),PM(n,t,r))}}function bM(e){var t=e.alternate;return e===It||t!==null&&t===It}function EM(e,t){Pf=Ng=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w1(e,n)}}var Rg={readContext:bi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},eB={readContext:bi,useCallback:function(e,t){return _o().memoizedState=[e,t===void 0?null:t],e},useContext:bi,useEffect:OA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hm(4194308,4,gM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hm(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Q9.bind(null,It,e),[r.memoizedState,e]},useRef:function(e){var t=_o();return e={current:e},t.memoizedState=e},useState:kA,useDebugValue:W1,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=kA(!1),t=e[0];return e=X9.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=It,i=_o();if(Et){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Pn===null)throw Error(re(349));Fl&30||lM(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,OA(cM.bind(null,r,o,e),[e]),r.flags|=2048,eh(9,uM.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Pn.identifierPrefix;if(Et){var n=cs,r=us;n=(r&~(1<<32-Ui(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Y9++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tB={readContext:bi,useCallback:yM,useContext:bi,useEffect:U1,useImperativeHandle:vM,useInsertionEffect:pM,useLayoutEffect:mM,useMemo:_M,useReducer:B_,useRef:hM,useState:function(){return B_(Jf)},useDebugValue:W1,useDeferredValue:function(e){var t=Ei();return xM(t,sn.memoizedState,e)},useTransition:function(){var e=B_(Jf)[0],t=Ei().memoizedState;return[e,t]},useMutableSource:sM,useSyncExternalStore:aM,useId:wM,unstable_isNewReconciler:!1},nB={readContext:bi,useCallback:yM,useContext:bi,useEffect:U1,useImperativeHandle:vM,useInsertionEffect:pM,useLayoutEffect:mM,useMemo:_M,useReducer:U_,useRef:hM,useState:function(){return U_(Jf)},useDebugValue:W1,useDeferredValue:function(e){var t=Ei();return sn===null?t.memoizedState=e:xM(t,sn.memoizedState,e)},useTransition:function(){var e=U_(Jf)[0],t=Ei().memoizedState;return[e,t]},useMutableSource:sM,useSyncExternalStore:aM,useId:wM,unstable_isNewReconciler:!1};function Di(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gy={isMounted:function(e){return(e=e._reactInternals)?ou(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cr(),i=Pa(e),o=gs(r,i);o.payload=t,n!=null&&(o.callback=n),t=ba(e,o,i),t!==null&&(Wi(t,e,i,r),Um(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cr(),i=Pa(e),o=gs(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ba(e,o,i),t!==null&&(Wi(t,e,i,r),Um(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cr(),r=Pa(e),i=gs(n,r);i.tag=2,t!=null&&(i.callback=t),t=ba(e,i,r),t!==null&&(Wi(t,e,r,n),Um(t,e,r))}};function NA(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Kf(n,r)||!Kf(i,o):!0}function SM(e,t,n){var r=!1,i=Ma,o=t.contextType;return typeof o=="object"&&o!==null?o=bi(o):(i=Ir(t)?Vl:tr.current,r=t.contextTypes,o=(r=r!=null)?Pc(e,i):Ma),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function RA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gy.enqueueReplaceState(t,t.state,null)}function gw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},D1(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=bi(o):(o=Ir(t)?Vl:tr.current,i.context=Pc(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(mw(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gy.enqueueReplaceState(i,i.state,null),kg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cc(e,t){try{var n="",r=t;do n+=kF(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function W_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rB=typeof WeakMap=="function"?WeakMap:Map;function TM(e,t,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jg||(jg=!0,Aw=r),vw(e,t)},n}function AM(e,t,n){n=gs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vw(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vw(e,t),typeof r!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function MA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rB;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vB.bind(null,e,t,n),t.then(e,e))}function jA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function DA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gs(-1,1),t.tag=2,ba(n,t,1))),n.lanes|=1),e)}var iB=Ls.ReactCurrentOwner,Pr=!1;function lr(e,t,n,r){t.child=e===null?nM(t,null,n,r):Tc(t,e.child,n,r)}function LA(e,t,n,r,i){n=n.render;var o=t.ref;return fc(t,i),r=F1(e,t,n,r,o,i),n=B1(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ps(e,t,i)):(Et&&n&&I1(t),t.flags|=1,lr(e,t,r,i),t.child)}function zA(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Q1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,CM(e,t,o,r,i)):(e=Zm(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kf,n(s,r)&&e.ref===t.ref)return Ps(e,t,i)}return t.flags|=1,e=Sa(o,r),e.ref=t.ref,e.return=t,t.child=e}function CM(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Kf(o,r)&&e.ref===t.ref)if(Pr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Pr=!0);else return t.lanes=e.lanes,Ps(e,t,i)}return yw(e,t,n,r,i)}function IM(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(ic,Vr),Vr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(ic,Vr),Vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,mt(ic,Vr),Vr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,mt(ic,Vr),Vr|=r;return lr(e,t,i,n),t.child}function kM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yw(e,t,n,r,i){var o=Ir(n)?Vl:tr.current;return o=Pc(t,o),fc(t,i),n=F1(e,t,n,r,o,i),r=B1(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ps(e,t,i)):(Et&&r&&I1(t),t.flags|=1,lr(e,t,n,i),t.child)}function VA(e,t,n,r,i){if(Ir(n)){var o=!0;Sg(t)}else o=!1;if(fc(t,i),t.stateNode===null)Km(e,t),SM(t,n,r),gw(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=bi(c):(c=Ir(n)?Vl:tr.current,c=Pc(t,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&RA(t,s,r,c),ra=!1;var p=t.memoizedState;s.state=p,kg(t,r,s,i),u=t.memoizedState,l!==r||p!==u||Cr.current||ra?(typeof f=="function"&&(mw(t,n,f,r),u=t.memoizedState),(l=ra||NA(t,n,l,r,p,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,iM(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Di(t.type,l),s.props=c,h=t.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=bi(u):(u=Ir(n)?Vl:tr.current,u=Pc(t,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||p!==u)&&RA(t,s,r,u),ra=!1,p=t.memoizedState,s.state=p,kg(t,r,s,i);var x=t.memoizedState;l!==h||p!==x||Cr.current||ra?(typeof v=="function"&&(mw(t,n,v,r),x=t.memoizedState),(c=ra||NA(t,n,c,r,p,x,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _w(e,t,n,r,o,i)}function _w(e,t,n,r,i,o){kM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&PA(t,n,!1),Ps(e,t,o);r=t.stateNode,iB.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Tc(t,e.child,null,o),t.child=Tc(t,null,l,o)):lr(e,t,l,o),t.memoizedState=r.state,i&&PA(t,n,!0),t.child}function OM(e){var t=e.stateNode;t.pendingContext?EA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EA(e,t.context,!1),L1(e,t.containerInfo)}function $A(e,t,n,r,i){return Sc(),O1(i),t.flags|=256,lr(e,t,n,r),t.child}var xw={dehydrated:null,treeContext:null,retryLane:0};function ww(e){return{baseLanes:e,cachePool:null,transitions:null}}function NM(e,t,n){var r=t.pendingProps,i=Ct.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),mt(Ct,i&1),e===null)return hw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_y(s,r,0,null),e=Nl(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ww(n),t.memoizedState=xw,e):H1(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return oB(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Sa(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Sa(l,o):(o=Nl(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ww(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=xw,r}return o=e.child,e=o.sibling,r=Sa(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function H1(e,t){return t=_y({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function um(e,t,n,r){return r!==null&&O1(r),Tc(t,e.child,null,n),e=H1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oB(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=W_(Error(re(422))),um(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=_y({mode:"visible",children:r.children},i,0,null),o=Nl(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Tc(t,e.child,null,s),t.child.memoizedState=ww(s),t.memoizedState=xw,o);if(!(t.mode&1))return um(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(re(419)),r=W_(o,r,void 0),um(e,t,s,r)}if(l=(s&e.childLanes)!==0,Pr||l){if(r=Pn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Es(e,i),Wi(r,e,i,-1))}return X1(),r=W_(Error(re(421))),um(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yB.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Br=wa(i.nextSibling),Hr=t,Et=!0,zi=null,e!==null&&(gi[vi++]=us,gi[vi++]=cs,gi[vi++]=$l,us=e.id,cs=e.overflow,$l=t),t=H1(t,r.children),t.flags|=4096,t)}function FA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pw(e.return,t,n)}function H_(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function RM(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(lr(e,t,r.children,n),r=Ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&FA(e,n,t);else if(e.tag===19)FA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(Ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Og(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),H_(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Og(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}H_(t,!0,n,null,o);break;case"together":H_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Km(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=Sa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sB(e,t,n){switch(t.tag){case 3:OM(t),Sc();break;case 5:oM(t);break;case 1:Ir(t.type)&&Sg(t);break;case 4:L1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;mt(Cg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(Ct,Ct.current&1),t.flags|=128,null):n&t.child.childLanes?NM(e,t,n):(mt(Ct,Ct.current&1),e=Ps(e,t,n),e!==null?e.sibling:null);mt(Ct,Ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return RM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(Ct,Ct.current),r)break;return null;case 22:case 23:return t.lanes=0,IM(e,t,n)}return Ps(e,t,n)}var MM,bw,jM,DM;MM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bw=function(){};jM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Pl(To.current);var o=null;switch(n){case"input":i=Wx(e,i),r=Wx(e,r),o=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),o=[];break;case"textarea":i=qx(e,i),r=qx(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Eg)}Zx(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vf.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vf.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&vt("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};DM=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wd(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function aB(e,t,n){var r=t.pendingProps;switch(k1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return Ir(t.type)&&Pg(),Kn(t),null;case 3:return r=t.stateNode,Ac(),xt(Cr),xt(tr),V1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(am(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zi!==null&&(kw(zi),zi=null))),bw(e,t),Kn(t),null;case 5:z1(t);var i=Pl(Xf.current);if(n=t.type,e!==null&&t.stateNode!=null)jM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(re(166));return Kn(t),null}if(e=Pl(To.current),am(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[bo]=t,r[Zf]=o,e=(t.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(i=0;i<uf.length;i++)vt(uf[i],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":YT(r,o),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},vt("invalid",r);break;case"textarea":QT(r,o),vt("invalid",r)}Zx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&sm(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&sm(r.textContent,l,e),i=["children",""+l]):Vf.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&vt("scroll",r)}switch(n){case"input":Qp(r),XT(r,o,!0);break;case"textarea":Qp(r),JT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Eg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cR(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[bo]=t,e[Zf]=r,MM(e,t,!1,!1),t.stateNode=e;e:{switch(s=Yx(n,r),n){case"dialog":vt("cancel",e),vt("close",e),i=r;break;case"iframe":case"object":case"embed":vt("load",e),i=r;break;case"video":case"audio":for(i=0;i<uf.length;i++)vt(uf[i],e);i=r;break;case"source":vt("error",e),i=r;break;case"img":case"image":case"link":vt("error",e),vt("load",e),i=r;break;case"details":vt("toggle",e),i=r;break;case"input":YT(e,r),i=Wx(e,r),vt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),vt("invalid",e);break;case"textarea":QT(e,r),i=qx(e,r),vt("invalid",e);break;default:i=r}Zx(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?hR(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dR(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$f(e,u):typeof u=="number"&&$f(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vf.hasOwnProperty(o)?u!=null&&o==="onScroll"&&vt("scroll",e):u!=null&&m1(e,o,u,s))}switch(n){case"input":Qp(e),XT(e,r,!1);break;case"textarea":Qp(e),JT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ra(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?lc(e,!!r.multiple,o,!1):r.defaultValue!=null&&lc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Eg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)DM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(re(166));if(n=Pl(Xf.current),Pl(To.current),am(t)){if(r=t.stateNode,n=t.memoizedProps,r[bo]=t,(o=r.nodeValue!==n)&&(e=Hr,e!==null))switch(e.tag){case 3:sm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sm(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bo]=t,t.stateNode=r}return Kn(t),null;case 13:if(xt(Ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&Br!==null&&t.mode&1&&!(t.flags&128))eM(),Sc(),t.flags|=98560,o=!1;else if(o=am(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(re(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[bo]=t}else Sc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),o=!1}else zi!==null&&(kw(zi),zi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?un===0&&(un=3):X1())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return Ac(),bw(e,t),e===null&&qf(t.stateNode.containerInfo),Kn(t),null;case 10:return M1(t.type._context),Kn(t),null;case 17:return Ir(t.type)&&Pg(),Kn(t),null;case 19:if(xt(Ct),o=t.memoizedState,o===null)return Kn(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Wd(o,!1);else{if(un!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Og(e),s!==null){for(t.flags|=128,Wd(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(Ct,Ct.current&1|2),t.child}e=e.sibling}o.tail!==null&&Kt()>Ic&&(t.flags|=128,r=!0,Wd(o,!1),t.lanes=4194304)}else{if(!r)if(e=Og(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Et)return Kn(t),null}else 2*Kt()-o.renderingStartTime>Ic&&n!==1073741824&&(t.flags|=128,r=!0,Wd(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Kt(),t.sibling=null,n=Ct.current,mt(Ct,r?n&1|2:n&1),t):(Kn(t),null);case 22:case 23:return Y1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vr&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function lB(e,t){switch(k1(t),t.tag){case 1:return Ir(t.type)&&Pg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ac(),xt(Cr),xt(tr),V1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z1(t),null;case 13:if(xt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Sc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(Ct),null;case 4:return Ac(),null;case 10:return M1(t.type._context),null;case 22:case 23:return Y1(),null;case 24:return null;default:return null}}var cm=!1,Xn=!1,uB=typeof WeakSet=="function"?WeakSet:Set,pe=null;function rc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(e,t,r)}else n.current=null}function Ew(e,t,n){try{n()}catch(r){Lt(e,t,r)}}var BA=!1;function cB(e,t){if(sw=xg,e=FR(),C1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,h=e,p=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(l=s+i),h!==o||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=s),p===o&&++f===r&&(u=s),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(aw={focusedElem:e,selectionRange:n},xg=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,E=x.memoizedState,P=t.stateNode,T=P.getSnapshotBeforeUpdate(t.elementType===t.type?b:Di(t.type,b),E);P.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(R){Lt(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return x=BA,BA=!1,x}function Sf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ew(t,n,o)}i=i.next}while(i!==r)}}function vy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function LM(e){var t=e.alternate;t!==null&&(e.alternate=null,LM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bo],delete t[Zf],delete t[cw],delete t[K9],delete t[q9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zM(e){return e.tag===5||e.tag===3||e.tag===4}function UA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Eg));else if(r!==4&&(e=e.child,e!==null))for(Sw(e,t,n),e=e.sibling;e!==null;)Sw(e,t,n),e=e.sibling}function Tw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tw(e,t,n),e=e.sibling;e!==null;)Tw(e,t,n),e=e.sibling}var On=null,Li=!1;function ea(e,t,n){for(n=n.child;n!==null;)VM(e,t,n),n=n.sibling}function VM(e,t,n){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(uy,n)}catch{}switch(n.tag){case 5:Xn||rc(n,t);case 6:var r=On,i=Li;On=null,ea(e,t,n),On=r,Li=i,On!==null&&(Li?(e=On,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(Li?(e=On,n=n.stateNode,e.nodeType===8?z_(e.parentNode,n):e.nodeType===1&&z_(e,n),Wf(e)):z_(On,n.stateNode));break;case 4:r=On,i=Li,On=n.stateNode.containerInfo,Li=!0,ea(e,t,n),On=r,Li=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ew(n,t,s),i=i.next}while(i!==r)}ea(e,t,n);break;case 1:if(!Xn&&(rc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Lt(n,t,l)}ea(e,t,n);break;case 21:ea(e,t,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,ea(e,t,n),Xn=r):ea(e,t,n);break;default:ea(e,t,n)}}function WA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uB),t.forEach(function(r){var i=_B.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:On=l.stateNode,Li=!1;break e;case 3:On=l.stateNode.containerInfo,Li=!0;break e;case 4:On=l.stateNode.containerInfo,Li=!0;break e}l=l.return}if(On===null)throw Error(re(160));VM(o,s,i),On=null,Li=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Lt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$M(t,e),t=t.sibling}function $M(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mi(t,e),mo(e),r&4){try{Sf(3,e,e.return),vy(3,e)}catch(b){Lt(e,e.return,b)}try{Sf(5,e,e.return)}catch(b){Lt(e,e.return,b)}}break;case 1:Mi(t,e),mo(e),r&512&&n!==null&&rc(n,n.return);break;case 5:if(Mi(t,e),mo(e),r&512&&n!==null&&rc(n,n.return),e.flags&32){var i=e.stateNode;try{$f(i,"")}catch(b){Lt(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&lR(i,o),Yx(l,s);var c=Yx(l,o);for(s=0;s<u.length;s+=2){var f=u[s],h=u[s+1];f==="style"?hR(i,h):f==="dangerouslySetInnerHTML"?dR(i,h):f==="children"?$f(i,h):m1(i,f,h,c)}switch(l){case"input":Hx(i,o);break;case"textarea":uR(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?lc(i,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?lc(i,!!o.multiple,o.defaultValue,!0):lc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zf]=o}catch(b){Lt(e,e.return,b)}}break;case 6:if(Mi(t,e),mo(e),r&4){if(e.stateNode===null)throw Error(re(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){Lt(e,e.return,b)}}break;case 3:if(Mi(t,e),mo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wf(t.containerInfo)}catch(b){Lt(e,e.return,b)}break;case 4:Mi(t,e),mo(e);break;case 13:Mi(t,e),mo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(G1=Kt())),r&4&&WA(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Xn=(c=Xn)||f,Mi(t,e),Xn=c):Mi(t,e),mo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(pe=e,f=e.child;f!==null;){for(h=pe=f;pe!==null;){switch(p=pe,v=p.child,p.tag){case 0:case 11:case 14:case 15:Sf(4,p,p.return);break;case 1:rc(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Lt(r,n,b)}}break;case 5:rc(p,p.return);break;case 22:if(p.memoizedState!==null){KA(h);continue}}v!==null?(v.return=p,pe=v):KA(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fR("display",s))}catch(b){Lt(e,e.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){Lt(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mi(t,e),mo(e),r&4&&WA(e);break;case 21:break;default:Mi(t,e),mo(e)}}function mo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zM(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($f(i,""),r.flags&=-33);var o=UA(e);Tw(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=UA(e);Sw(e,l,s);break;default:throw Error(re(161))}}catch(u){Lt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dB(e,t,n){pe=e,FM(e)}function FM(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||cm;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Xn;l=cm;var c=Xn;if(cm=s,(Xn=u)&&!c)for(pe=i;pe!==null;)s=pe,u=s.child,s.tag===22&&s.memoizedState!==null?qA(i):u!==null?(u.return=s,pe=u):qA(i);for(;o!==null;)pe=o,FM(o),o=o.sibling;pe=i,cm=l,Xn=c}HA(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):HA(e)}}function HA(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xn||vy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Di(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&IA(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}IA(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Wf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Xn||t.flags&512&&Pw(t)}catch(p){Lt(t,t.return,p)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function KA(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function qA(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vy(4,t)}catch(u){Lt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Lt(t,i,u)}}var o=t.return;try{Pw(t)}catch(u){Lt(t,o,u)}break;case 5:var s=t.return;try{Pw(t)}catch(u){Lt(t,s,u)}}}catch(u){Lt(t,t.return,u)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var fB=Math.ceil,Mg=Ls.ReactCurrentDispatcher,K1=Ls.ReactCurrentOwner,wi=Ls.ReactCurrentBatchConfig,Ge=0,Pn=null,Qt=null,Dn=0,Vr=0,ic=Ha(0),un=0,th=null,Bl=0,yy=0,q1=0,Tf=null,br=null,G1=0,Ic=1/0,is=null,jg=!1,Aw=null,Ea=null,dm=!1,ma=null,Dg=0,Af=0,Cw=null,qm=-1,Gm=0;function cr(){return Ge&6?Kt():qm!==-1?qm:qm=Kt()}function Pa(e){return e.mode&1?Ge&2&&Dn!==0?Dn&-Dn:Z9.transition!==null?(Gm===0&&(Gm=SR()),Gm):(e=ot,e!==0||(e=window.event,e=e===void 0?16:NR(e.type)),e):1}function Wi(e,t,n,r){if(50<Af)throw Af=0,Cw=null,Error(re(185));Rh(e,n,r),(!(Ge&2)||e!==Pn)&&(e===Pn&&(!(Ge&2)&&(yy|=n),un===4&&ua(e,Dn)),kr(e,r),n===1&&Ge===0&&!(t.mode&1)&&(Ic=Kt()+500,py&&Ka()))}function kr(e,t){var n=e.callbackNode;ZF(e,t);var r=_g(e,e===Pn?Dn:0);if(r===0)n!==null&&nA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nA(n),t===1)e.tag===0?G9(GA.bind(null,e)):XR(GA.bind(null,e)),W9(function(){!(Ge&6)&&Ka()}),n=null;else{switch(TR(r)){case 1:n=x1;break;case 4:n=ER;break;case 16:n=yg;break;case 536870912:n=PR;break;default:n=yg}n=ZM(n,BM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function BM(e,t){if(qm=-1,Gm=0,Ge&6)throw Error(re(327));var n=e.callbackNode;if(hc()&&e.callbackNode!==n)return null;var r=_g(e,e===Pn?Dn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lg(e,r);else{t=r;var i=Ge;Ge|=2;var o=WM();(Pn!==e||Dn!==t)&&(is=null,Ic=Kt()+500,Ol(e,t));do try{mB();break}catch(l){UM(e,l)}while(!0);R1(),Mg.current=o,Ge=i,Qt!==null?t=0:(Pn=null,Dn=0,t=un)}if(t!==0){if(t===2&&(i=tw(e),i!==0&&(r=i,t=Iw(e,i))),t===1)throw n=th,Ol(e,0),ua(e,r),kr(e,Kt()),n;if(t===6)ua(e,r);else{if(i=e.current.alternate,!(r&30)&&!hB(i)&&(t=Lg(e,r),t===2&&(o=tw(e),o!==0&&(r=o,t=Iw(e,o))),t===1))throw n=th,Ol(e,0),ua(e,r),kr(e,Kt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(re(345));case 2:vl(e,br,is);break;case 3:if(ua(e,r),(r&130023424)===r&&(t=G1+500-Kt(),10<t)){if(_g(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){cr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uw(vl.bind(null,e,br,is),t);break}vl(e,br,is);break;case 4:if(ua(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ui(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fB(r/1960))-r,10<r){e.timeoutHandle=uw(vl.bind(null,e,br,is),r);break}vl(e,br,is);break;case 5:vl(e,br,is);break;default:throw Error(re(329))}}}return kr(e,Kt()),e.callbackNode===n?BM.bind(null,e):null}function Iw(e,t){var n=Tf;return e.current.memoizedState.isDehydrated&&(Ol(e,t).flags|=256),e=Lg(e,t),e!==2&&(t=br,br=n,t!==null&&kw(t)),e}function kw(e){br===null?br=e:br.push.apply(br,e)}function hB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t){for(t&=~q1,t&=~yy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ui(t),r=1<<n;e[n]=-1,t&=~r}}function GA(e){if(Ge&6)throw Error(re(327));hc();var t=_g(e,0);if(!(t&1))return kr(e,Kt()),null;var n=Lg(e,t);if(e.tag!==0&&n===2){var r=tw(e);r!==0&&(t=r,n=Iw(e,r))}if(n===1)throw n=th,Ol(e,0),ua(e,t),kr(e,Kt()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vl(e,br,is),kr(e,Kt()),null}function Z1(e,t){var n=Ge;Ge|=1;try{return e(t)}finally{Ge=n,Ge===0&&(Ic=Kt()+500,py&&Ka())}}function Ul(e){ma!==null&&ma.tag===0&&!(Ge&6)&&hc();var t=Ge;Ge|=1;var n=wi.transition,r=ot;try{if(wi.transition=null,ot=1,e)return e()}finally{ot=r,wi.transition=n,Ge=t,!(Ge&6)&&Ka()}}function Y1(){Vr=ic.current,xt(ic)}function Ol(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,U9(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(k1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pg();break;case 3:Ac(),xt(Cr),xt(tr),V1();break;case 5:z1(r);break;case 4:Ac();break;case 13:xt(Ct);break;case 19:xt(Ct);break;case 10:M1(r.type._context);break;case 22:case 23:Y1()}n=n.return}if(Pn=e,Qt=e=Sa(e.current,null),Dn=Vr=t,un=0,th=null,q1=yy=Bl=0,br=Tf=null,El!==null){for(t=0;t<El.length;t++)if(n=El[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}El=null}return e}function UM(e,t){do{var n=Qt;try{if(R1(),Wm.current=Rg,Ng){for(var r=It.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ng=!1}if(Fl=0,wn=sn=It=null,Pf=!1,Qf=0,K1.current=null,n===null||n.return===null){un=1,th=t,Qt=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Dn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=jA(s);if(v!==null){v.flags&=-257,DA(v,s,l,o,t),v.mode&1&&MA(o,c,t),t=v,u=c;var x=t.updateQueue;if(x===null){var b=new Set;b.add(u),t.updateQueue=b}else x.add(u);break e}else{if(!(t&1)){MA(o,c,t),X1();break e}u=Error(re(426))}}else if(Et&&l.mode&1){var E=jA(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),DA(E,s,l,o,t),O1(Cc(u,l));break e}}o=u=Cc(u,l),un!==4&&(un=2),Tf===null?Tf=[o]:Tf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var P=TM(o,u,t);CA(o,P);break e;case 1:l=u;var T=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ea===null||!Ea.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=AM(o,l,t);CA(o,R);break e}}o=o.return}while(o!==null)}KM(n)}catch(j){t=j,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function WM(){var e=Mg.current;return Mg.current=Rg,e===null?Rg:e}function X1(){(un===0||un===3||un===2)&&(un=4),Pn===null||!(Bl&268435455)&&!(yy&268435455)||ua(Pn,Dn)}function Lg(e,t){var n=Ge;Ge|=2;var r=WM();(Pn!==e||Dn!==t)&&(is=null,Ol(e,t));do try{pB();break}catch(i){UM(e,i)}while(!0);if(R1(),Ge=n,Mg.current=r,Qt!==null)throw Error(re(261));return Pn=null,Dn=0,un}function pB(){for(;Qt!==null;)HM(Qt)}function mB(){for(;Qt!==null&&!$F();)HM(Qt)}function HM(e){var t=GM(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,t===null?KM(e):Qt=t,K1.current=null}function KM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lB(n,t),n!==null){n.flags&=32767,Qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{un=6,Qt=null;return}}else if(n=aB(n,t,Vr),n!==null){Qt=n;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);un===0&&(un=5)}function vl(e,t,n){var r=ot,i=wi.transition;try{wi.transition=null,ot=1,gB(e,t,n,r)}finally{wi.transition=i,ot=r}return null}function gB(e,t,n,r){do hc();while(ma!==null);if(Ge&6)throw Error(re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(YF(e,o),e===Pn&&(Qt=Pn=null,Dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dm||(dm=!0,ZM(yg,function(){return hc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wi.transition,wi.transition=null;var s=ot;ot=1;var l=Ge;Ge|=4,K1.current=null,cB(e,n),$M(n,e),D9(aw),xg=!!sw,aw=sw=null,e.current=n,dB(n),FF(),Ge=l,ot=s,wi.transition=o}else e.current=n;if(dm&&(dm=!1,ma=e,Dg=i),o=e.pendingLanes,o===0&&(Ea=null),WF(n.stateNode),kr(e,Kt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jg)throw jg=!1,e=Aw,Aw=null,e;return Dg&1&&e.tag!==0&&hc(),o=e.pendingLanes,o&1?e===Cw?Af++:(Af=0,Cw=e):Af=0,Ka(),null}function hc(){if(ma!==null){var e=TR(Dg),t=wi.transition,n=ot;try{if(wi.transition=null,ot=16>e?16:e,ma===null)var r=!1;else{if(e=ma,ma=null,Dg=0,Ge&6)throw Error(re(331));var i=Ge;for(Ge|=4,pe=e.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(pe=c;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:Sf(8,f,o)}var h=f.child;if(h!==null)h.return=f,pe=h;else for(;pe!==null;){f=pe;var p=f.sibling,v=f.return;if(LM(f),f===c){pe=null;break}if(p!==null){p.return=v,pe=p;break}pe=v}}}var x=o.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sf(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,pe=P;break e}pe=o.return}}var T=e.current;for(pe=T;pe!==null;){s=pe;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,pe=C;else e:for(s=T;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vy(9,l)}}catch(j){Lt(l,l.return,j)}if(l===s){pe=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,pe=R;break e}pe=l.return}}if(Ge=i,Ka(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(uy,e)}catch{}r=!0}return r}finally{ot=n,wi.transition=t}}return!1}function ZA(e,t,n){t=Cc(n,t),t=TM(e,t,1),e=ba(e,t,1),t=cr(),e!==null&&(Rh(e,1,t),kr(e,t))}function Lt(e,t,n){if(e.tag===3)ZA(e,e,n);else for(;t!==null;){if(t.tag===3){ZA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))){e=Cc(n,e),e=AM(t,e,1),t=ba(t,e,1),e=cr(),t!==null&&(Rh(t,1,e),kr(t,e));break}}t=t.return}}function vB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&n,Pn===e&&(Dn&n)===n&&(un===4||un===3&&(Dn&130023424)===Dn&&500>Kt()-G1?Ol(e,0):q1|=n),kr(e,t)}function qM(e,t){t===0&&(e.mode&1?(t=tm,tm<<=1,!(tm&130023424)&&(tm=4194304)):t=1);var n=cr();e=Es(e,t),e!==null&&(Rh(e,t,n),kr(e,n))}function yB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qM(e,n)}function _B(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(t),qM(e,n)}var GM;GM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)Pr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pr=!1,sB(e,t,n);Pr=!!(e.flags&131072)}else Pr=!1,Et&&t.flags&1048576&&QR(t,Ag,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Km(e,t),e=t.pendingProps;var i=Pc(t,tr.current);fc(t,n),i=F1(null,t,r,e,i,n);var o=B1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(r)?(o=!0,Sg(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D1(t),i.updater=gy,t.stateNode=i,i._reactInternals=t,gw(t,r,e,n),t=_w(null,t,r,!0,o,n)):(t.tag=0,Et&&o&&I1(t),lr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Km(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=wB(r),e=Di(r,e),i){case 0:t=yw(null,t,r,e,n);break e;case 1:t=VA(null,t,r,e,n);break e;case 11:t=LA(null,t,r,e,n);break e;case 14:t=zA(null,t,r,Di(r.type,e),n);break e}throw Error(re(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Di(r,i),yw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Di(r,i),VA(e,t,r,i,n);case 3:e:{if(OM(t),e===null)throw Error(re(387));r=t.pendingProps,o=t.memoizedState,i=o.element,iM(e,t),kg(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Cc(Error(re(423)),t),t=$A(e,t,r,n,i);break e}else if(r!==i){i=Cc(Error(re(424)),t),t=$A(e,t,r,n,i);break e}else for(Br=wa(t.stateNode.containerInfo.firstChild),Hr=t,Et=!0,zi=null,n=nM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sc(),r===i){t=Ps(e,t,n);break e}lr(e,t,r,n)}t=t.child}return t;case 5:return oM(t),e===null&&hw(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,lw(r,i)?s=null:o!==null&&lw(r,o)&&(t.flags|=32),kM(e,t),lr(e,t,s,n),t.child;case 6:return e===null&&hw(t),null;case 13:return NM(e,t,n);case 4:return L1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tc(t,null,r,n):lr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Di(r,i),LA(e,t,r,i,n);case 7:return lr(e,t,t.pendingProps,n),t.child;case 8:return lr(e,t,t.pendingProps.children,n),t.child;case 12:return lr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,mt(Cg,r._currentValue),r._currentValue=s,o!==null)if(Zi(o.value,s)){if(o.children===i.children&&!Cr.current){t=Ps(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=gs(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),pw(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pw(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}lr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fc(t,n),i=bi(i),r=r(i),t.flags|=1,lr(e,t,r,n),t.child;case 14:return r=t.type,i=Di(r,t.pendingProps),i=Di(r.type,i),zA(e,t,r,i,n);case 15:return CM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Di(r,i),Km(e,t),t.tag=1,Ir(r)?(e=!0,Sg(t)):e=!1,fc(t,n),SM(t,r,i),gw(t,r,i,n),_w(null,t,r,!0,e,n);case 19:return RM(e,t,n);case 22:return IM(e,t,n)}throw Error(re(156,t.tag))};function ZM(e,t){return bR(e,t)}function xB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(e,t,n,r){return new xB(e,t,n,r)}function Q1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wB(e){if(typeof e=="function")return Q1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===v1)return 11;if(e===y1)return 14}return 2}function Sa(e,t){var n=e.alternate;return n===null?(n=_i(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zm(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Q1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gu:return Nl(n.children,i,o,t);case g1:s=8,i|=8;break;case $x:return e=_i(12,n,t,i|2),e.elementType=$x,e.lanes=o,e;case Fx:return e=_i(13,n,t,i),e.elementType=Fx,e.lanes=o,e;case Bx:return e=_i(19,n,t,i),e.elementType=Bx,e.lanes=o,e;case oR:return _y(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rR:s=10;break e;case iR:s=9;break e;case v1:s=11;break e;case y1:s=14;break e;case na:s=16,r=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=_i(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Nl(e,t,n,r){return e=_i(7,e,r,t),e.lanes=n,e}function _y(e,t,n,r){return e=_i(22,e,r,t),e.elementType=oR,e.lanes=n,e.stateNode={isHidden:!1},e}function K_(e,t,n){return e=_i(6,e,null,t),e.lanes=n,e}function q_(e,t,n){return t=_i(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bB(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A_(0),this.expirationTimes=A_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J1(e,t,n,r,i,o,s,l,u){return e=new bB(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_i(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D1(o),e}function EB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function YM(e){if(!e)return Ma;e=e._reactInternals;e:{if(ou(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Ir(n))return YR(e,n,t)}return t}function XM(e,t,n,r,i,o,s,l,u){return e=J1(n,r,!0,e,i,o,s,l,u),e.context=YM(null),n=e.current,r=cr(),i=Pa(n),o=gs(r,i),o.callback=t??null,ba(n,o,i),e.current.lanes=i,Rh(e,i,r),kr(e,r),e}function xy(e,t,n,r){var i=t.current,o=cr(),s=Pa(i);return n=YM(n),t.context===null?t.context=n:t.pendingContext=n,t=gs(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ba(i,t,s),e!==null&&(Wi(e,i,s,o),Um(e,i,s)),s}function zg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eE(e,t){YA(e,t),(e=e.alternate)&&YA(e,t)}function PB(){return null}var QM=typeof reportError=="function"?reportError:function(e){console.error(e)};function tE(e){this._internalRoot=e}wy.prototype.render=tE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));xy(e,t,null,null)};wy.prototype.unmount=tE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ul(function(){xy(null,e,null,null)}),t[bs]=null}};function wy(e){this._internalRoot=e}wy.prototype.unstable_scheduleHydration=function(e){if(e){var t=IR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<la.length&&t!==0&&t<la[n].priority;n++);la.splice(n,0,e),n===0&&OR(e)}};function nE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function by(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XA(){}function SB(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=zg(s);o.call(c)}}var s=XM(t,r,e,0,null,!1,!1,"",XA);return e._reactRootContainer=s,e[bs]=s.current,qf(e.nodeType===8?e.parentNode:e),Ul(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=zg(u);l.call(c)}}var u=J1(e,0,!1,null,null,!1,!1,"",XA);return e._reactRootContainer=u,e[bs]=u.current,qf(e.nodeType===8?e.parentNode:e),Ul(function(){xy(t,u,n,r)}),u}function Ey(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=zg(s);l.call(u)}}xy(t,s,e,i)}else s=SB(n,t,e,i,r);return zg(s)}AR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lf(t.pendingLanes);n!==0&&(w1(t,n|1),kr(t,Kt()),!(Ge&6)&&(Ic=Kt()+500,Ka()))}break;case 13:Ul(function(){var r=Es(e,1);if(r!==null){var i=cr();Wi(r,e,1,i)}}),eE(e,1)}};b1=function(e){if(e.tag===13){var t=Es(e,134217728);if(t!==null){var n=cr();Wi(t,e,134217728,n)}eE(e,134217728)}};CR=function(e){if(e.tag===13){var t=Pa(e),n=Es(e,t);if(n!==null){var r=cr();Wi(n,e,t,r)}eE(e,t)}};IR=function(){return ot};kR=function(e,t){var n=ot;try{return ot=e,t()}finally{ot=n}};Qx=function(e,t,n){switch(t){case"input":if(Hx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hy(r);if(!i)throw Error(re(90));aR(r),Hx(r,i)}}}break;case"textarea":uR(e,n);break;case"select":t=n.value,t!=null&&lc(e,!!n.multiple,t,!1)}};gR=Z1;vR=Ul;var TB={usingClientEntryPoint:!1,Events:[jh,Qu,hy,pR,mR,Z1]},Hd={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AB={bundleType:Hd.bundleType,version:Hd.version,rendererPackageName:Hd.rendererPackageName,rendererConfig:Hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xR(e),e===null?null:e.stateNode},findFiberByHostInstance:Hd.findFiberByHostInstance||PB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fm.isDisabled&&fm.supportsFiber)try{uy=fm.inject(AB),So=fm}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TB;Jr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nE(t))throw Error(re(200));return EB(e,t,null,n)};Jr.createRoot=function(e,t){if(!nE(e))throw Error(re(299));var n=!1,r="",i=QM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=J1(e,1,!1,null,null,n,!1,r,i),e[bs]=t.current,qf(e.nodeType===8?e.parentNode:e),new tE(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=xR(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return Ul(e)};Jr.hydrate=function(e,t,n){if(!by(t))throw Error(re(200));return Ey(null,e,t,!0,n)};Jr.hydrateRoot=function(e,t,n){if(!nE(e))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=XM(t,null,e,1,n??null,i,!1,o,s),e[bs]=t.current,qf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wy(t)};Jr.render=function(e,t,n){if(!by(t))throw Error(re(200));return Ey(null,e,t,!1,n)};Jr.unmountComponentAtNode=function(e){if(!by(e))throw Error(re(40));return e._reactRootContainer?(Ul(function(){Ey(null,null,e,!1,function(){e._reactRootContainer=null,e[bs]=null})}),!0):!1};Jr.unstable_batchedUpdates=Z1;Jr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!by(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Ey(e,t,n,!1,r)};Jr.version="18.3.1-next-f1338f8080-20240426";function JM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JM)}catch(e){console.error(e)}}JM(),JN.exports=Jr;var ds=JN.exports,ej,QA=ds;ej=QA.createRoot,QA.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JA="popstate";function CB(e={}){function t(r,i){let{pathname:o,search:s,hash:l}=r.location;return Ow("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nh(i)}return kB(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IB(){return Math.random().toString(36).substring(2,10)}function eC(e,t){return{usr:e.state,key:e.key,idx:t}}function Ow(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zc(t):t,state:n,key:t&&t.key||r||IB()}}function nh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function kB(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function h(){l="POP";let E=f(),P=E==null?null:E-c;c=E,u&&u({action:l,location:b.location,delta:P})}function p(E,P){l="PUSH";let T=Ow(b.location,E,P);c=f()+1;let C=eC(T,c),R=b.createHref(T);try{s.pushState(C,"",R)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(R)}o&&u&&u({action:l,location:b.location,delta:1})}function v(E,P){l="REPLACE";let T=Ow(b.location,E,P);c=f();let C=eC(T,c),R=b.createHref(T);s.replaceState(C,"",R),o&&u&&u({action:l,location:b.location,delta:0})}function x(E){return OB(E)}let b={get action(){return l},get location(){return e(i,s)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(JA,h),u=E,()=>{i.removeEventListener(JA,h),u=null}},createHref(E){return t(i,E)},createURL:x,encodeLocation(E){let P=x(E);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:p,replace:v,go(E){return s.go(E)}};return b}function OB(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nh(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tj(e,t,n="/"){return NB(e,t,n,!1)}function NB(e,t,n,r){let i=typeof t=="string"?Zc(t):t,o=Ss(i.pathname||"/",n);if(o==null)return null;let s=nj(e);RB(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=WB(o);l=BB(s[u],c,r)}return l}function nj(e,t=[],n=[],r="",i=!1){let o=(s,l,u=i,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;St(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=vs([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(St(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),nj(s.children,t,p,h,u)),!(s.path==null&&!s.index)&&t.push({path:h,score:$B(h,s.index),routesMeta:p})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))o(s,l);else for(let c of rj(s.path))o(s,l,!0,c)}),t}function rj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=rj(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function RB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MB=/^:[\w-]+$/,jB=3,DB=2,LB=1,zB=10,VB=-2,tC=e=>e==="*";function $B(e,t){let n=e.split("/"),r=n.length;return n.some(tC)&&(r+=VB),t&&(r+=DB),n.filter(i=>!tC(i)).reduce((i,o)=>i+(MB.test(o)?jB:o===""?LB:zB),r)}function FB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function BB(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=Vg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Vg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:vs([o,h.pathname]),pathnameBase:GB(vs([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=vs([o,h.pathnameBase]))}return s}function Vg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=UB(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},p)=>{if(f==="*"){let x=l[p]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[p];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function UB(e,t=!1,n=!0){Yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var HB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function KB(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zc(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=nC(n.substring(1),"/"):o=nC(n,t)):o=t,{pathname:o,search:ZB(r),hash:YB(i)}}function nC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function G_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rE(e){let t=qB(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function iE(e,t,n,r=!1){let i;typeof e=="string"?i=Zc(e):(i={...e},St(!i.pathname||!i.pathname.includes("?"),G_("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),G_("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),G_("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=KB(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var vs=e=>e.join("/").replace(/\/\/+/g,"/"),GB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,XB=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function QB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function JB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ij=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oj(e,t){let n=e;if(typeof n!="string"||!HB.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(ij)try{let o=new URL(window.location.href),s=n.startsWith("//")?new URL(o.protocol+n):new URL(n),l=Ss(s.pathname,t);s.origin===o.origin&&l!=null?n=l+s.search+s.hash:i=!0}catch{Yi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sj=["POST","PUT","PATCH","DELETE"];new Set(sj);var eU=["GET",...sj];new Set(eU);var Yc=_.createContext(null);Yc.displayName="DataRouter";var Py=_.createContext(null);Py.displayName="DataRouterState";var tU=_.createContext(!1),aj=_.createContext({isTransitioning:!1});aj.displayName="ViewTransition";var nU=_.createContext(new Map);nU.displayName="Fetchers";var rU=_.createContext(null);rU.displayName="Await";var ti=_.createContext(null);ti.displayName="Navigation";var Lh=_.createContext(null);Lh.displayName="Location";var Ai=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var oE=_.createContext(null);oE.displayName="RouteError";var lj="REACT_ROUTER_ERROR",iU="REDIRECT",oU="ROUTE_ERROR_RESPONSE";function sU(e){if(e.startsWith(`${lj}:${iU}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function aU(e){if(e.startsWith(`${lj}:${oU}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new XB(t.status,t.statusText,t.data)}catch{}}function lU(e,{relative:t}={}){St(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(ti),{hash:i,pathname:o,search:s}=Vh(e,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:vs([n,o])),r.createHref({pathname:l,search:s,hash:i})}function Xc(){return _.useContext(Lh)!=null}function zs(){return St(Xc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Lh).location}var uj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cj(e){_.useContext(ti).static||_.useLayoutEffect(e)}function zh(){let{isDataRoute:e}=_.useContext(Ai);return e?PU():uU()}function uU(){St(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Yc),{basename:t,navigator:n}=_.useContext(ti),{matches:r}=_.useContext(Ai),{pathname:i}=zs(),o=JSON.stringify(rE(r)),s=_.useRef(!1);return cj(()=>{s.current=!0}),_.useCallback((u,c={})=>{if(Yi(s.current,uj),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=iE(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vs([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,o,i,e])}var cU=_.createContext(null);function dU(e){let t=_.useContext(Ai).outlet;return _.useMemo(()=>t&&_.createElement(cU.Provider,{value:e},t),[t,e])}function fU(){let{matches:e}=_.useContext(Ai),t=e[e.length-1];return t?t.params:{}}function Vh(e,{relative:t}={}){let{matches:n}=_.useContext(Ai),{pathname:r}=zs(),i=JSON.stringify(rE(n));return _.useMemo(()=>iE(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function hU(e,t){return dj(e,t)}function dj(e,t,n,r,i){var T;St(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=_.useContext(ti),{matches:s}=_.useContext(Ai),l=s[s.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let C=h&&h.path||"";hj(c,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=zs(),v;if(t){let C=typeof t=="string"?Zc(t):t;St(f==="/"||((T=C.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=p;let x=v.pathname||"/",b=x;if(f!=="/"){let C=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=tj(e,{pathname:b});Yi(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yi(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=yU(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:vs([f,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:vs([f,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,r,i);return t&&P?_.createElement(Lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},P):P}function pU(){let e=EU(),t=QB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,s)}var mU=_.createElement(pU,null),fj=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=aU(e.digest);n&&(e=n)}let t=e!==void 0?_.createElement(Ai.Provider,{value:this.props.routeContext},_.createElement(oE.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(gU,{error:e},t):t}};fj.contextType=tU;var Z_=new WeakMap;function gU({children:e,error:t}){let{basename:n}=_.useContext(ti);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=sU(t.digest);if(r){let i=Z_.get(t);if(i)throw i;let o=oj(r.location,n);if(ij&&!Z_.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Z_.set(t,s),s}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function vU({routeContext:e,match:t,children:n}){let r=_.useContext(Yc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Ai.Provider,{value:e},n)}function yU(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n==null?void 0:n.errors;if(s!=null){let f=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);St(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:v}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let c=n&&r?(f,h)=>{var p,v;r(f,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:JB(n.matches),errorInfo:h})}:void 0;return o.reduceRight((f,h,p)=>{let v,x=!1,b=null,E=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||mU,l&&(u<0&&p===0?(hj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===p&&(x=!0,E=h.route.hydrateFallbackElement||null)));let P=t.concat(o.slice(0,p+1)),T=()=>{let C;return v?C=b:x?C=E:h.route.Component?C=_.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,_.createElement(vU,{match:h,routeContext:{outlet:f,matches:P,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(fj,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:T(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:c}):T()},null)}function sE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _U(e){let t=_.useContext(Yc);return St(t,sE(e)),t}function xU(e){let t=_.useContext(Py);return St(t,sE(e)),t}function wU(e){let t=_.useContext(Ai);return St(t,sE(e)),t}function aE(e){let t=wU(e),n=t.matches[t.matches.length-1];return St(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function bU(){return aE("useRouteId")}function EU(){var r;let e=_.useContext(oE),t=xU("useRouteError"),n=aE("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function PU(){let{router:e}=_U("useNavigate"),t=aE("useNavigate"),n=_.useRef(!1);return cj(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{Yi(n.current,uj),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var rC={};function hj(e,t,n){!t&&!rC[e]&&(rC[e]=!0,Yi(!1,n))}_.memo(SU);function SU({routes:e,future:t,state:n,onError:r}){return dj(e,void 0,n,r,t)}function Y_({to:e,replace:t,state:n,relative:r}){St(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(ti);Yi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=_.useContext(Ai),{pathname:s}=zs(),l=zh(),u=iE(e,rE(o),s,r==="path"),c=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(c),{replace:t,state:n,relative:r})},[l,c,r,t,n]),null}function pj(e){return dU(e.context)}function ji(e){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TU({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){St(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[l,i,o,s]);typeof n=="string"&&(n=Zc(n));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,x=_.useMemo(()=>{let b=Ss(c,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:r}},[l,c,f,h,p,v,r]);return Yi(x!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(ti.Provider,{value:u},_.createElement(Lh.Provider,{children:t,value:x}))}function AU({children:e,location:t}){return hU(Nw(e),t)}function Nw(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,Nw(r.props.children,o));return}St(r.type===ji,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Nw(r.props.children,o)),n.push(s)}),n}var Ym="get",Xm="application/x-www-form-urlencoded";function Sy(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function CU(e){return Sy(e)&&e.tagName.toLowerCase()==="button"}function IU(e){return Sy(e)&&e.tagName.toLowerCase()==="form"}function kU(e){return Sy(e)&&e.tagName.toLowerCase()==="input"}function OU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NU(e,t){return e.button===0&&(!t||t==="_self")&&!OU(e)}var hm=null;function RU(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var MU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X_(e){return e!=null&&!MU.has(e)?(Yi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xm}"`),null):e}function jU(e,t){let n,r,i,o,s;if(IU(e)){let l=e.getAttribute("action");r=l?Ss(l,t):null,n=e.getAttribute("method")||Ym,i=X_(e.getAttribute("enctype"))||Xm,o=new FormData(e)}else if(CU(e)||kU(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ss(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Ym,i=X_(e.getAttribute("formenctype"))||X_(l.getAttribute("enctype"))||Xm,o=new FormData(l,e),!RU()){let{name:c,type:f,value:h}=e;if(f==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,h)}}else{if(Sy(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ym,r=null,i=Xm,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DU(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Ss(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function LU(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VU(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await LU(o,n);return s.links?s.links():[]}return[]}));return UU(r.flat(1).filter(zU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iC(e,t,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?t.filter((u,c)=>s(u,c)||l(u,c)):o==="data"?t.filter((u,c)=>{var h;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function $U(e,t,{includeHydrateFallback:n}={}){return FU(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function FU(e){return[...new Set(e)]}function BU(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UU(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(BU(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function mj(){let e=_.useContext(Yc);return lE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WU(){let e=_.useContext(Py);return lE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uE=_.createContext(void 0);uE.displayName="FrameworkContext";function gj(){let e=_.useContext(uE);return lE(e,"You must render this element inside a <HydratedRouter> element"),e}function HU(e,t){let n=_.useContext(uE),[r,i]=_.useState(!1),[o,s]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=t,p=_.useRef(null);_.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=P=>{P.forEach(T=>{s(T.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[e]),_.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},x=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:Kd(l,v),onBlur:Kd(u,x),onMouseEnter:Kd(c,v),onMouseLeave:Kd(f,x),onTouchStart:Kd(h,v)}]:[!1,p,{}]}function Kd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KU({page:e,...t}){let{router:n}=mj(),r=_.useMemo(()=>tj(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(GU,{page:e,matches:r,...t}):null}function qU(e){let{manifest:t,routeModules:n}=gj(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return VU(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function GU({page:e,matches:t,...n}){let r=zs(),{future:i,manifest:o,routeModules:s}=gj(),{basename:l}=mj(),{loaderData:u,matches:c}=WU(),f=_.useMemo(()=>iC(e,t,c,o,r,"data"),[e,t,c,o,r]),h=_.useMemo(()=>iC(e,t,c,o,r,"assets"),[e,t,c,o,r]),p=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,E=!1;if(t.forEach(T=>{var R;let C=o.routes[T.route.id];!C||!C.hasLoader||(!f.some(j=>j.route.id===T.route.id)&&T.route.id in u&&((R=s[T.route.id])!=null&&R.shouldRevalidate)||C.hasClientLoader?E=!0:b.add(T.route.id))}),b.size===0)return[];let P=DU(e,l,i.unstable_trailingSlashAwareDataRequests,"data");return E&&b.size>0&&P.searchParams.set("_routes",t.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[P.pathname+P.search]},[l,i.unstable_trailingSlashAwareDataRequests,u,r,o,f,t,e,s]),v=_.useMemo(()=>$U(h,o),[h,o]),x=qU(h);return _.createElement(_.Fragment,null,p.map(b=>_.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),v.map(b=>_.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),x.map(({key:b,link:E})=>_.createElement("link",{key:b,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function ZU(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var YU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YU&&(window.__reactRouterVersion="7.13.0")}catch{}function XU({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=_.useRef();i.current==null&&(i.current=CB({window:r,v5Compat:!0}));let o=i.current,[s,l]=_.useState({action:o.action,location:o.location}),u=_.useCallback(c=>{n===!1?l(c):_.startTransition(()=>l(c))},[n]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.createElement(TU,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:n})}var vj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yj=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p,...v},x){let{basename:b,unstable_useTransitions:E}=_.useContext(ti),P=typeof c=="string"&&vj.test(c),T=oj(c,b);c=T.to;let C=lU(c,{relative:i}),[R,j,$]=HU(r,v),O=e8(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:E});function I(z){t&&t(z),z.defaultPrevented||O(z)}let N=_.createElement("a",{...v,...$,href:T.absoluteURL||C,onClick:T.isExternal||o?t:I,ref:ZU(x,j),target:u,"data-discover":!P&&n==="render"?"true":void 0});return R&&!P?_.createElement(_.Fragment,null,N,_.createElement(KU,{page:C})):N});yj.displayName="Link";var _j=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:l,children:u,...c},f){let h=Vh(s,{relative:c.relative}),p=zs(),v=_.useContext(Py),{navigator:x,basename:b}=_.useContext(ti),E=v!=null&&o8(h)&&l===!0,P=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,T=p.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,P=P.toLowerCase()),C&&b&&(C=Ss(C,b)||C);const R=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let j=T===P||!i&&T.startsWith(P)&&T.charAt(R)==="/",$=C!=null&&(C===P||!i&&C.startsWith(P)&&C.charAt(P.length)==="/"),O={isActive:j,isPending:$,isTransitioning:E},I=j?t:void 0,N;typeof r=="function"?N=r(O):N=[r,j?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(O):o;return _.createElement(yj,{...c,"aria-current":I,className:N,ref:f,style:z,to:s,viewTransition:l},typeof u=="function"?u(O):u)});_j.displayName="NavLink";var QU=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Ym,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p,...v},x)=>{let{unstable_useTransitions:b}=_.useContext(ti),E=r8(),P=i8(l,{relative:c}),T=s.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&vj.test(l),R=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,O=($==null?void 0:$.getAttribute("formmethod"))||s,I=()=>E($||j.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:o,relative:c,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:p});b&&n!==!1?_.startTransition(()=>I()):I()};return _.createElement("form",{ref:x,method:T,action:P,onSubmit:r?u:R,...v,"data-discover":!C&&e==="render"?"true":void 0})});QU.displayName="Form";function JU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xj(e){let t=_.useContext(Yc);return St(t,JU(e)),t}function e8(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let c=zh(),f=zs(),h=Vh(e,{relative:o});return _.useCallback(p=>{if(NU(p,t)){p.preventDefault();let v=n!==void 0?n:nh(f)===nh(h),x=()=>c(e,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:l});u?_.startTransition(()=>x()):x()}},[f,c,h,n,r,t,e,i,o,s,l,u])}var t8=0,n8=()=>`__${String(++t8)}__`;function r8(){let{router:e}=xj("useSubmit"),{basename:t}=_.useContext(ti),n=bU(),r=e.fetch,i=e.navigate;return _.useCallback(async(o,s={})=>{let{action:l,method:u,encType:c,formData:f,body:h}=jU(o,t);if(s.navigate===!1){let p=s.fetcherKey||n8();await r(p,n,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function i8(e,{relative:t}={}){let{basename:n}=_.useContext(ti),r=_.useContext(Ai);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Vh(e||".",{relative:t})},s=zs();if(e==null){o.search=s.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:vs([n,o.pathname])),nh(o)}function o8(e,{relative:t}={}){let n=_.useContext(aj);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xj("useViewTransitionState"),i=Vh(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vg(i.pathname,s)!=null||Vg(i.pathname,o)!=null}const s8=()=>{};var oC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},a8=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],l=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},bj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,l=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,f=o>>2,h=(o&3)<<4|l>>4;let p=(l&15)<<2|c>>6,v=c&63;u||(v=64,s||(p=64)),r.push(n[f],n[h],n[p],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):a8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||l==null||c==null||h==null)throw new l8;const p=o<<2|l>>4;if(r.push(p),c!==64){const v=l<<4&240|c>>2;if(r.push(v),h!==64){const x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u8=function(e){const t=wj(e);return bj.encodeByteArray(t,!0)},$g=function(e){return u8(e).replace(/\./g,"")},Ej=function(e){try{return bj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=()=>c8().__FIREBASE_DEFAULTS__,f8=()=>{if(typeof process>"u"||typeof oC>"u")return;const e=oC.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},h8=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ej(e[1]);return t&&JSON.parse(t)},Ty=()=>{try{return s8()||d8()||f8()||h8()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Pj=e=>{var t,n;return(n=(t=Ty())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Sj=e=>{const t=Pj(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Tj=()=>{var e;return(e=Ty())==null?void 0:e.config},Aj=e=>{var t;return(t=Ty())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cE(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[$g(JSON.stringify(n)),$g(JSON.stringify(s)),""].join(".")}const Cf={};function g8(){const e={prod:[],emulator:[]};for(const t of Object.keys(Cf))Cf[t]?e.emulator.push(t):e.prod.push(t);return e}function v8(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let sC=!1;function dE(e,t){if(typeof window>"u"||typeof document>"u"||!qa(window.location.host)||Cf[e]===t||Cf[e]||sC)return;Cf[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=g8().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{sC=!0,s()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=v8(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),b=n("learnmore"),E=document.getElementById(b)||document.createElement("a"),P=n("preprendIcon"),T=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;l(C),f(E,b);const R=c();u(T,P),C.append(T,x,E,R),document.body.appendChild(C)}o?(x.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function _8(){var t;const e=(t=Ty())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w8(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function b8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E8(){const e=nr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P8(){return!_8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S8(){try{return typeof indexedDB=="object"}catch{return!1}}function T8(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)==null?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="FirebaseError";class Vo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=A8,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?C8(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Vo(i,l,r)}}function C8(e,t){return e.replace(I8,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const I8=/\{\$([^}]+)}/g;function k8(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Wl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(aC(o)&&aC(s)){if(!Wl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aC(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cf(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function df(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function O8(e,t){const n=new N8(e,t);return n.subscribe.bind(n)}class N8{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R8(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Q_),i.error===void 0&&(i.error=Q_),i.complete===void 0&&(i.complete=Q_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R8(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Q_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e){return e&&e._delegate?e._delegate:e}class ja{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M8=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new p8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(D8(t))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=yl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=yl){return this.instances.has(t)}getOptions(t=yl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j8(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=yl){return this.component?this.component.multipleInstances?t:yl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function j8(e){return e===yl?void 0:e}function D8(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new M8(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Fe||(Fe={}));const z8={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},V8=Fe.INFO,$8={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},F8=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=$8[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fE{constructor(t){this.name=t,this._logLevel=V8,this._logHandler=F8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...t),this._logHandler(this,Fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...t),this._logHandler(this,Fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...t),this._logHandler(this,Fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...t),this._logHandler(this,Fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...t),this._logHandler(this,Fe.ERROR,...t)}}const B8=(e,t)=>t.some(n=>e instanceof n);let lC,uC;function U8(){return lC||(lC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W8(){return uC||(uC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cj=new WeakMap,Rw=new WeakMap,Ij=new WeakMap,J_=new WeakMap,hE=new WeakMap;function H8(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ta(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Cj.set(n,e)}).catch(()=>{}),hE.set(t,e),t}function K8(e){if(Rw.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Rw.set(e,t)}let Mw={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ij.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q8(e){Mw=e(Mw)}function G8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ex(this),t,...n);return Ij.set(r,t.sort?t.sort():[t]),Ta(r)}:W8().includes(e)?function(...t){return e.apply(ex(this),t),Ta(Cj.get(this))}:function(...t){return Ta(e.apply(ex(this),t))}}function Z8(e){return typeof e=="function"?G8(e):(e instanceof IDBTransaction&&K8(e),B8(e,U8())?new Proxy(e,Mw):e)}function Ta(e){if(e instanceof IDBRequest)return H8(e);if(J_.has(e))return J_.get(e);const t=Z8(e);return t!==e&&(J_.set(e,t),hE.set(t,e)),t}const ex=e=>hE.get(e);function Y8(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),l=Ta(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ta(s.result),u.oldVersion,u.newVersion,Ta(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const X8=["get","getKey","getAll","getAllKeys","count"],Q8=["put","add","delete","clear"],tx=new Map;function cC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tx.get(t))return tx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Q8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X8.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return tx.set(t,o),o}q8(e=>({...e,get:(t,n,r)=>cC(t,n)||e.get(t,n,r),has:(t,n)=>!!cC(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e7(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jw="@firebase/app",dC="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new fE("@firebase/app"),t7="@firebase/app-compat",n7="@firebase/analytics-compat",r7="@firebase/analytics",i7="@firebase/app-check-compat",o7="@firebase/app-check",s7="@firebase/auth",a7="@firebase/auth-compat",l7="@firebase/database",u7="@firebase/data-connect",c7="@firebase/database-compat",d7="@firebase/functions",f7="@firebase/functions-compat",h7="@firebase/installations",p7="@firebase/installations-compat",m7="@firebase/messaging",g7="@firebase/messaging-compat",v7="@firebase/performance",y7="@firebase/performance-compat",_7="@firebase/remote-config",x7="@firebase/remote-config-compat",w7="@firebase/storage",b7="@firebase/storage-compat",E7="@firebase/firestore",P7="@firebase/ai",S7="@firebase/firestore-compat",T7="firebase",A7="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="[DEFAULT]",C7={[jw]:"fire-core",[t7]:"fire-core-compat",[r7]:"fire-analytics",[n7]:"fire-analytics-compat",[o7]:"fire-app-check",[i7]:"fire-app-check-compat",[s7]:"fire-auth",[a7]:"fire-auth-compat",[l7]:"fire-rtdb",[u7]:"fire-data-connect",[c7]:"fire-rtdb-compat",[d7]:"fire-fn",[f7]:"fire-fn-compat",[h7]:"fire-iid",[p7]:"fire-iid-compat",[m7]:"fire-fcm",[g7]:"fire-fcm-compat",[v7]:"fire-perf",[y7]:"fire-perf-compat",[_7]:"fire-rc",[x7]:"fire-rc-compat",[w7]:"fire-gcs",[b7]:"fire-gcs-compat",[E7]:"fire-fst",[S7]:"fire-fst-compat",[P7]:"fire-vertex","fire-js":"fire-js",[T7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map,I7=new Map,Lw=new Map;function fC(e,t){try{e.container.addComponent(t)}catch(n){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Hl(e){const t=e.name;if(Lw.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;Lw.set(t,e);for(const n of Fg.values())fC(n,e);for(const n of I7.values())fC(n,e);return!0}function Ay(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $r(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new $h("app","Firebase",k7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=A7;function kj(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Dw,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=Tj()),!n)throw Aa.create("no-options");const o=Fg.get(i);if(o){if(Wl(n,o.options)&&Wl(r,o.config))return o;throw Aa.create("duplicate-app",{appName:i})}const s=new L8(i);for(const u of Lw.values())s.addComponent(u);const l=new O7(n,r,s);return Fg.set(i,l),l}function pE(e=Dw){const t=Fg.get(e);if(!t&&e===Dw&&Tj())return kj();if(!t)throw Aa.create("no-app",{appName:e});return t}function Ao(e,t,n){let r=C7[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(s.join(" "));return}Hl(new ja(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="firebase-heartbeat-database",R7=1,rh="firebase-heartbeat-store";let nx=null;function Oj(){return nx||(nx=Y8(N7,R7,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Aa.create("idb-open",{originalErrorMessage:e.message})})),nx}async function M7(e){try{const n=(await Oj()).transaction(rh),r=await n.objectStore(rh).get(Nj(e));return await n.done,r}catch(t){if(t instanceof Vo)Ts.warn(t.message);else{const n=Aa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ts.warn(n.message)}}}async function hC(e,t){try{const r=(await Oj()).transaction(rh,"readwrite");await r.objectStore(rh).put(t,Nj(e)),await r.done}catch(n){if(n instanceof Vo)Ts.warn(n.message);else{const r=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(r.message)}}}function Nj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=1024,D7=30;class L7{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pC();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>D7){const s=$7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ts.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pC(),{heartbeatsToSend:r,unsentEntries:i}=z7(this._heartbeatsCache.heartbeats),o=$g(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ts.warn(n),""}}}function pC(){return new Date().toISOString().substring(0,10)}function z7(e,t=j7){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mC(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mC(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S8()?T8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return hC(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return hC(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mC(e){return $g(JSON.stringify({version:2,heartbeats:e})).length}function $7(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(e){Hl(new ja("platform-logger",t=>new J8(t),"PRIVATE")),Hl(new ja("heartbeat",t=>new L7(t),"PRIVATE")),Ao(jw,dC,e),Ao(jw,dC,"esm2020"),Ao("fire-js","")}F7("");function Rj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B7=Rj,Mj=new $h("auth","Firebase",Rj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new fE("@firebase/auth");function U7(e,...t){Bg.logLevel<=Fe.WARN&&Bg.warn(`Auth (${Qc}): ${e}`,...t)}function Qm(e,...t){Bg.logLevel<=Fe.ERROR&&Bg.error(`Auth (${Qc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e,...t){throw gE(e,...t)}function Hi(e,...t){return gE(e,...t)}function mE(e,t,n){const r={...B7(),[t]:n};return new $h("auth","Firebase",r).create(t,{appName:e.name})}function Ca(e){return mE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W7(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Pi(e,"argument-error"),mE(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gE(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Mj.create(e,...t)}function Te(e,t,...n){if(!e)throw gE(t,...n)}function fs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qm(t),new Error(t)}function As(e,t){e||fs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function H7(){return gC()==="http:"||gC()==="https:"}function gC(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H7()||w8()||"connection"in navigator)?navigator.onLine:!0}function q7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.shortDelay=t,this.longDelay=n,As(n>t,"Short delay should be less than long delay!"),this.isMobile=y8()||b8()}get(){return K7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(e,t){As(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y7=new Bh(3e4,6e4);function su(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ga(e,t,n,r,i={}){return Dj(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const l=Fh({key:e.config.apiKey,...s}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...o};return x8()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&qa(e.emulatorConfig.host)&&(c.credentials="include"),jj.fetch()(await Lj(e,e.config.apiHost,n,l),c)})}async function Dj(e,t,n){e._canInitEmulator=!1;const r={...G7,...t};try{const i=new Q7(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw pm(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pm(e,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw pm(e,"email-already-in-use",s);if(u==="USER_DISABLED")throw pm(e,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mE(e,f,c);Pi(e,f)}}catch(i){if(i instanceof Vo)throw i;Pi(e,"network-request-failed",{message:String(i)})}}async function Cy(e,t,n,r,i={}){const o=await Ga(e,t,n,r,i);return"mfaPendingCredential"in o&&Pi(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Lj(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?vE(e.config,i):`${e.config.apiScheme}://${i}`;return Z7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function X7(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),Y7.get())})}}function pm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hi(e,t,r);return i.customData._tokenResponse=n,i}function vC(e){return e!==void 0&&e.enterprise!==void 0}class J7{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return X7(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eW(e,t){return Ga(e,"GET","/v2/recaptchaConfig",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(e,t){return Ga(e,"POST","/v1/accounts:delete",t)}async function Ug(e,t){return Ga(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nW(e,t=!1){const n=$t(e),r=await n.getIdToken(t),i=yE(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:If(rx(i.auth_time)),issuedAtTime:If(rx(i.iat)),expirationTime:If(rx(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rx(e){return Number(e)*1e3}function yE(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ej(n);return i?JSON.parse(i):(Qm("Failed to decode base64 JWT payload"),null)}catch(i){return Qm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yC(e){const t=yE(e);return Te(t,"internal-error"),Te(typeof t.exp<"u","internal-error"),Te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Vo&&rW(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function rW({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=If(this.lastLoginAt),this.creationTime=If(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(e){var h;const t=e.auth,n=await e.getIdToken(),r=await ih(e,Ug(t,{idToken:n}));Te(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const o=(h=i.providerUserInfo)!=null&&h.length?zj(i.providerUserInfo):[],s=sW(e.providerData,o),l=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vw(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function oW(e){const t=$t(e);await Wg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sW(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function zj(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(e,t){const n=await Dj(e,{},async()=>{const r=Fh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await Lj(e,i,"/v1/token",`key=${o}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return e.emulatorConfig&&qa(e.emulatorConfig.host)&&(u.credentials="include"),jj.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lW(e,t){return Ga(e,"POST","/v2/accounts:revokeToken",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Te(t.idToken,"internal-error"),Te(typeof t.idToken<"u","internal-error"),Te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Te(t.length!==0,"internal-error");const n=yC(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await aW(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new pc;return r&&(Te(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(Te(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(e,t){Te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Bi{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new iW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await ih(this,this.stsTokenManager.getToken(this.auth,t));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nW(this,t)}reload(){return oW(this)}_assign(t){this!==t&&(Te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Wg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Ca(this.auth));const t=await this.getIdToken();return await ih(this,tW(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:v,providerData:x,stsTokenManager:b}=n;Te(h&&b,t,"internal-error");const E=pc.fromJSON(this.name,b);Te(typeof h=="string",t,"internal-error"),ta(r,t.name),ta(i,t.name),Te(typeof p=="boolean",t,"internal-error"),Te(typeof v=="boolean",t,"internal-error"),ta(o,t.name),ta(s,t.name),ta(l,t.name),ta(u,t.name),ta(c,t.name),ta(f,t.name);const P=new Bi({uid:h,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:o,tenantId:l,stsTokenManager:E,createdAt:c,lastLoginAt:f});return x&&Array.isArray(x)&&(P.providerData=x.map(T=>({...T}))),u&&(P._redirectEventId=u),P}static async _fromIdTokenResponse(t,n,r=!1){const i=new pc;i.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Wg(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?zj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new pc;l.updateFromIdToken(r);const u=new Bi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map;function hs(e){As(e instanceof Function,"Expected a class definition");let t=_C.get(e);return t?(As(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_C.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Vj.type="NONE";const xC=Vj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(e,t,n){return`firebase:${e}:${t}:${n}`}class mc{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ug(this.auth,{idToken:t}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,t):null}return Bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new mc(hs(xC),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||hs(xC);const s=Jm(r,t.config.apiKey,t.name);let l=null;for(const c of n)try{const f=await c._get(s);if(f){let h;if(typeof f=="string"){const p=await Ug(t,{idToken:f}).catch(()=>{});if(!p)break;h=await Bi._fromGetAccountInfoResponse(t,p,f)}else h=Bi._fromJSON(t,f);c!==o&&(l=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new mc(o,t,r):(o=u[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new mc(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uj(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($j(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hj(t))return"Blackberry";if(Kj(t))return"Webos";if(Fj(t))return"Safari";if((t.includes("chrome/")||Bj(t))&&!t.includes("edge/"))return"Chrome";if(Wj(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $j(e=nr()){return/firefox\//i.test(e)}function Fj(e=nr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Bj(e=nr()){return/crios\//i.test(e)}function Uj(e=nr()){return/iemobile/i.test(e)}function Wj(e=nr()){return/android/i.test(e)}function Hj(e=nr()){return/blackberry/i.test(e)}function Kj(e=nr()){return/webos/i.test(e)}function _E(e=nr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uW(e=nr()){var t;return _E(e)&&!!((t=window.navigator)!=null&&t.standalone)}function cW(){return E8()&&document.documentMode===10}function qj(e=nr()){return _E(e)||Wj(e)||Kj(e)||Hj(e)||/windows phone/i.test(e)||Uj(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(e,t=[]){let n;switch(e){case"Browser":n=wC(nr());break;case"Worker":n=`${wC(nr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,l)=>{try{const u=t(o);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(e,t={}){return Ga(e,"GET","/v2/passwordPolicy",su(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=6;class pW{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bC(this),this.idTokenSubscription=new bC(this),this.beforeStateQueue=new dW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await mc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ug(this,{idToken:t}),r=await Bi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var o;if($r(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!s||s===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=q7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($r(this.app))return Promise.reject(Ca(this));const n=t?$t(t):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $r(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fW(this),n=new pW(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $h("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lW(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hs(t)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await mc.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=t.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Gj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&U7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function au(e){return $t(e)}class bC{constructor(t){this.auth=t,this.observer=null,this.addObserver=O8(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gW(e){Iy=e}function Zj(e){return Iy.loadJS(e)}function vW(){return Iy.recaptchaEnterpriseScript}function yW(){return Iy.gapiScript}function _W(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class xW{constructor(){this.enterprise=new wW}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class wW{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const bW="recaptcha-enterprise",Yj="NO_RECAPTCHA";class EW{constructor(t){this.type=bW,this.auth=au(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{eW(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new J7(u);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(u=>{l(u)})})}function i(o,s,l){const u=window.grecaptcha;vC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:t}).then(c=>{s(c)}).catch(()=>{s(Yj)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xW().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&vC(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vW();u.length!==0&&(u+=l),Zj(u).then(()=>{i(l,o,s)}).catch(c=>{s(c)})}}).catch(l=>{s(l)})})}}async function EC(e,t,n,r=!1,i=!1){const o=new EW(e);let s;if(i)s=Yj;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const l={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function PC(e,t,n,r,i){var o;if((o=e._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await EC(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await EC(e,t,n,n==="getOobCode");return r(e,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(e,t){const n=Ay(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Wl(o,t??{}))return i;Pi(i,"already-initialized")}return n.initialize({options:t})}function SW(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hs);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function TW(e,t,n){const r=au(e);Te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Xj(t),{host:s,port:l}=AW(t),u=l===null?"":`:${l}`,c={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Wl(c,r.config.emulator)&&Wl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,qa(s)?(cE(`${o}//${s}${u}`),dE("Auth",!0)):CW()}function Xj(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function AW(e){const t=Xj(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:SC(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:SC(s)}}}function SC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function CW(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,n){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function IW(e,t){return Ga(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(e,t){return Cy(e,"POST","/v1/accounts:signInWithPassword",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(e,t){return Cy(e,"POST","/v1/accounts:signInWithEmailLink",su(e,t))}async function NW(e,t){return Cy(e,"POST","/v1/accounts:signInWithEmailLink",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends xE{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new oh(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new oh(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PC(t,n,"signInWithPassword",kW);case"emailLink":return OW(t,{email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PC(t,r,"signUpPassword",IW);case"emailLink":return NW(t,{idToken:n,email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(e,t){return Cy(e,"POST","/v1/accounts:signInWithIdp",su(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW="http://localhost";class Kl extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Kl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Kl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return gc(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,gc(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,gc(t,n)}buildRequest(){const t={requestUri:RW,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Fh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jW(e){const t=cf(df(e)).link,n=t?cf(df(t)).deep_link_id:null,r=cf(df(e)).deep_link_id;return(r?cf(df(r)).link:null)||r||n||t||e}class wE{constructor(t){const n=cf(df(t)),r=n.apiKey??null,i=n.oobCode??null,o=MW(n.mode??null);Te(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=jW(t);try{return new wE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.providerId=Jc.PROVIDER_ID}static credential(t,n){return oh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=wE.parseLink(n);return Te(r,"argument-error"),oh._fromEmailAndCode(t,r.code,r.tenantId)}}Jc.PROVIDER_ID="password";Jc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends bE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Uh{constructor(){super("facebook.com")}static credential(t){return Kl._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ca.credentialFromTaggedObject(t)}static credentialFromError(t){return ca.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ca.credential(t.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Kl._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Uh{constructor(){super("github.com")}static credential(t){return Kl._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return da.credentialFromTaggedObject(t)}static credentialFromError(t){return da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return da.credential(t.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Uh{constructor(){super("twitter.com")}static credential(t,n){return Kl._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fa.credentialFromTaggedObject(t)}static credentialFromError(t){return fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fa.credential(n,r)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Bi._fromIdTokenResponse(t,r,i),s=TC(r);return new kc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=TC(r);return new kc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function TC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Vo{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hg.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Hg(t,n,r,i)}}function Qj(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hg._fromErrorAndOperation(e,o,t,r):o})}async function DW(e,t,n=!1){const r=await ih(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return kc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW(e,t,n=!1){const{auth:r}=e;if($r(r.app))return Promise.reject(Ca(r));const i="reauthenticate";try{const o=await ih(e,Qj(r,i,t,e),n);Te(o.idToken,r,"internal-error");const s=yE(o.idToken);Te(s,r,"internal-error");const{sub:l}=s;return Te(e.uid===l,r,"user-mismatch"),kc._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Pi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(e,t,n=!1){if($r(e.app))return Promise.reject(Ca(e));const r="signIn",i=await Qj(e,r,t),o=await kc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function zW(e,t){return Jj(au(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(e){const t=au(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function $W(e,t,n){return $r(e.app)?Promise.reject(Ca(e)):zW($t(e),Jc.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VW(e),r})}function FW(e,t,n,r){return $t(e).onIdTokenChanged(t,n,r)}function BW(e,t,n){return $t(e).beforeAuthStateChanged(t,n)}function UW(e,t,n,r){return $t(e).onAuthStateChanged(t,n,r)}function WW(e){return $t(e).signOut()}const Kg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kg,"1"),this.storage.removeItem(Kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=1e3,KW=10;class tD extends eD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qj(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);cW()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,KW):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},HW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tD.type="LOCAL";const qW=tD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends eD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}nD.type="SESSION";const rD=nD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new ky(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async c=>c(n.origin,o)),u=await GW(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ky.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,u)=>{const c=EE("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(p.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return window}function YW(e){Co().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof Co().WorkerGlobalScope<"u"&&typeof Co().importScripts=="function"}async function XW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QW(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function JW(){return iD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="firebaseLocalStorageDb",eH=1,qg="firebaseLocalStorage",sD="fbase_key";class Wh{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oy(e,t){return e.transaction([qg],t?"readwrite":"readonly").objectStore(qg)}function tH(){const e=indexedDB.deleteDatabase(oD);return new Wh(e).toPromise()}function $w(){const e=indexedDB.open(oD,eH);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(qg,{keyPath:sD})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(qg)?t(r):(r.close(),await tH(),t(await $w()))})})}async function AC(e,t,n){const r=Oy(e,!0).put({[sD]:t,value:n});return new Wh(r).toPromise()}async function nH(e,t){const n=Oy(e,!1).get(t),r=await new Wh(n).toPromise();return r===void 0?null:r.value}function CC(e,t){const n=Oy(e,!0).delete(t);return new Wh(n).toPromise()}const rH=800,iH=3;class aD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $w(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>iH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ky._getInstance(JW()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await XW(),!this.activeServiceWorker)return;this.sender=new ZW(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $w();return await AC(t,Kg,"1"),await CC(t,Kg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AC(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>nH(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>CC(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Oy(i,!1).getAll();return new Wh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aD.type="LOCAL";const oH=aD;new Bh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(e,t){return t?hs(t):(Te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends xE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return gc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return gc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return gc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sH(e){return Jj(e.auth,new PE(e),e.bypassAuthState)}function aH(e){const{auth:t,user:n}=e;return Te(n,t,"internal-error"),LW(n,new PE(e),e.bypassAuthState)}async function lH(e){const{auth:t,user:n}=e;return Te(n,t,"internal-error"),DW(n,new PE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=t;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sH;case"linkViaPopup":case"linkViaRedirect":return lH;case"reauthViaPopup":case"reauthViaRedirect":return aH;default:Pi(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=new Bh(2e3,1e4);async function cH(e,t,n){if($r(e.app))return Promise.reject(Hi(e,"operation-not-supported-in-this-environment"));const r=au(e);W7(e,t,bE);const i=lD(r,n);return new Sl(r,"signInViaPopup",t,i).executeNotNull()}class Sl extends uD{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Te(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=EE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uH.get())};t()}}Sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="pendingRedirect",eg=new Map;class fH extends uD{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=eg.get(this.auth._key());if(!t){try{const r=await hH(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}eg.set(this.auth._key(),t)}return this.bypassAuthState||eg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hH(e,t){const n=gH(t),r=mH(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pH(e,t){eg.set(e._key(),t)}function mH(e){return hs(e._redirectPersistence)}function gH(e){return Jm(dH,e.config.apiKey,e.name)}async function vH(e,t,n=!1){if($r(e.app))return Promise.reject(Ca(e));const r=au(e),i=lD(r,t),s=await new fH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=10*60*1e3;class _H{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xH(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!cD(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yH&&this.cachedEventUids.clear(),this.cachedEventUids.has(IC(t))}saveEventToCache(t){this.cachedEventUids.add(IC(t)),this.lastProcessedEventTime=Date.now()}}function IC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function cD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function xH(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(e,t={}){return Ga(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EH=/^https?/;async function PH(e){if(e.config.emulator)return;const{authorizedDomains:t}=await wH(e);for(const n of t)try{if(SH(n))return}catch{}Pi(e,"unauthorized-domain")}function SH(e){const t=zw(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!EH.test(n))return!1;if(bH.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new Bh(3e4,6e4);function kC(){const e=Co().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function AH(e){return new Promise((t,n)=>{var i,o,s;function r(){kC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kC(),n(Hi(e,"network-request-failed"))},timeout:TH.get()})}if((o=(i=Co().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)t(gapi.iframes.getContext());else if((s=Co().gapi)!=null&&s.load)r();else{const l=_W("iframefcb");return Co()[l]=()=>{gapi.load?r():n(Hi(e,"network-request-failed"))},Zj(`${yW()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw tg=null,t})}let tg=null;function CH(e){return tg=tg||AH(e),tg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new Bh(5e3,15e3),kH="__/auth/iframe",OH="emulator/auth/iframe",NH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MH(e){const t=e.config;Te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vE(t,OH):`https://${e.config.authDomain}/${kH}`,r={apiKey:t.apiKey,appName:e.name,v:Qc},i=RH.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fh(r).slice(1)}`}async function jH(e){const t=await CH(e),n=Co().gapi;return Te(n,e,"internal-error"),t.open({where:document.body,url:MH(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Hi(e,"network-request-failed"),l=Co().setTimeout(()=>{o(s)},IH.get());function u(){Co().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LH=500,zH=600,VH="_blank",$H="http://localhost";class OC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FH(e,t,n,r=LH,i=zH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...DH,width:r.toString(),height:i.toString(),top:o,left:s},c=nr().toLowerCase();n&&(l=Bj(c)?VH:n),$j(c)&&(t=t||$H,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[v,x])=>`${p}${v}=${x},`,"");if(uW(c)&&l!=="_self")return BH(t||"",l),new OC(null);const h=window.open(t||"",l,f);Te(h,e,"popup-blocked");try{h.focus()}catch{}return new OC(h)}function BH(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH="__/auth/handler",WH="emulator/auth/handler",HH=encodeURIComponent("fac");async function NC(e,t,n,r,i,o){Te(e.config.authDomain,e,"auth-domain-config-required"),Te(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qc,eventId:i};if(t instanceof bE){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",k8(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,h]of Object.entries({}))s[f]=h}if(t instanceof Uh){const f=t.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}e.tenantId&&(s.tid=e.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await e._getAppCheckToken(),c=u?`#${HH}=${encodeURIComponent(u)}`:"";return`${KH(e)}?${Fh(l).slice(1)}${c}`}function KH({config:e}){return e.emulator?vE(e,WH):`https://${e.authDomain}/${UH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="webStorageSupport";class qH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rD,this._completeRedirectFn=vH,this._overrideRedirectResult=pH}async _openPopup(t,n,r,i){var s;As((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await NC(t,n,r,zw(),i);return FH(t,o,EE())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await NC(t,n,r,zw(),i);return YW(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(As(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await jH(t),r=new _H(t);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ix,{type:ix},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[ix];o!==void 0&&n(!!o),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PH(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qj()||Fj()||_E()}}const GH=qH;var RC="@firebase/auth",MC="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XH(e){Hl(new ja("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gj(e)},c=new mW(r,i,o,u);return SW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Hl(new ja("auth-internal",t=>{const n=au(t.getProvider("auth").getImmediate());return(r=>new ZH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(RC,MC,YH(e)),Ao(RC,MC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=5*60,JH=Aj("authIdTokenMaxAge")||QH;let jC=null;const eK=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JH)return;const i=n==null?void 0:n.token;jC!==i&&(jC=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tK(e=pE()){const t=Ay(e,"auth");if(t.isInitialized())return t.getImmediate();const n=PW(e,{popupRedirectResolver:GH,persistence:[oH,qW,rD]}),r=Aj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=eK(o.toString());BW(n,s,()=>s(n.currentUser)),FW(n,l=>s(l))}}const i=Pj("auth");return i&&TW(n,`http://${i}`),n}function nK(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}gW({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Hi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",nK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XH("Browser");var DC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,dD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,I){function N(){}N.prototype=I.prototype,O.F=I.prototype,O.prototype=new N,O.prototype.constructor=O,O.D=function(z,D,F){for(var B=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)B[ne-2]=arguments[ne];return I.prototype[D].apply(z,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,I,N){N||(N=0);const z=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)z[D]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(D=0;D<16;++D)z[D]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=O.g[0],N=O.g[1],D=O.g[2];let F=O.g[3],B;B=I+(F^N&(D^F))+z[0]+3614090360&4294967295,I=N+(B<<7&4294967295|B>>>25),B=F+(D^I&(N^D))+z[1]+3905402710&4294967295,F=I+(B<<12&4294967295|B>>>20),B=D+(N^F&(I^N))+z[2]+606105819&4294967295,D=F+(B<<17&4294967295|B>>>15),B=N+(I^D&(F^I))+z[3]+3250441966&4294967295,N=D+(B<<22&4294967295|B>>>10),B=I+(F^N&(D^F))+z[4]+4118548399&4294967295,I=N+(B<<7&4294967295|B>>>25),B=F+(D^I&(N^D))+z[5]+1200080426&4294967295,F=I+(B<<12&4294967295|B>>>20),B=D+(N^F&(I^N))+z[6]+2821735955&4294967295,D=F+(B<<17&4294967295|B>>>15),B=N+(I^D&(F^I))+z[7]+4249261313&4294967295,N=D+(B<<22&4294967295|B>>>10),B=I+(F^N&(D^F))+z[8]+1770035416&4294967295,I=N+(B<<7&4294967295|B>>>25),B=F+(D^I&(N^D))+z[9]+2336552879&4294967295,F=I+(B<<12&4294967295|B>>>20),B=D+(N^F&(I^N))+z[10]+4294925233&4294967295,D=F+(B<<17&4294967295|B>>>15),B=N+(I^D&(F^I))+z[11]+2304563134&4294967295,N=D+(B<<22&4294967295|B>>>10),B=I+(F^N&(D^F))+z[12]+1804603682&4294967295,I=N+(B<<7&4294967295|B>>>25),B=F+(D^I&(N^D))+z[13]+4254626195&4294967295,F=I+(B<<12&4294967295|B>>>20),B=D+(N^F&(I^N))+z[14]+2792965006&4294967295,D=F+(B<<17&4294967295|B>>>15),B=N+(I^D&(F^I))+z[15]+1236535329&4294967295,N=D+(B<<22&4294967295|B>>>10),B=I+(D^F&(N^D))+z[1]+4129170786&4294967295,I=N+(B<<5&4294967295|B>>>27),B=F+(N^D&(I^N))+z[6]+3225465664&4294967295,F=I+(B<<9&4294967295|B>>>23),B=D+(I^N&(F^I))+z[11]+643717713&4294967295,D=F+(B<<14&4294967295|B>>>18),B=N+(F^I&(D^F))+z[0]+3921069994&4294967295,N=D+(B<<20&4294967295|B>>>12),B=I+(D^F&(N^D))+z[5]+3593408605&4294967295,I=N+(B<<5&4294967295|B>>>27),B=F+(N^D&(I^N))+z[10]+38016083&4294967295,F=I+(B<<9&4294967295|B>>>23),B=D+(I^N&(F^I))+z[15]+3634488961&4294967295,D=F+(B<<14&4294967295|B>>>18),B=N+(F^I&(D^F))+z[4]+3889429448&4294967295,N=D+(B<<20&4294967295|B>>>12),B=I+(D^F&(N^D))+z[9]+568446438&4294967295,I=N+(B<<5&4294967295|B>>>27),B=F+(N^D&(I^N))+z[14]+3275163606&4294967295,F=I+(B<<9&4294967295|B>>>23),B=D+(I^N&(F^I))+z[3]+4107603335&4294967295,D=F+(B<<14&4294967295|B>>>18),B=N+(F^I&(D^F))+z[8]+1163531501&4294967295,N=D+(B<<20&4294967295|B>>>12),B=I+(D^F&(N^D))+z[13]+2850285829&4294967295,I=N+(B<<5&4294967295|B>>>27),B=F+(N^D&(I^N))+z[2]+4243563512&4294967295,F=I+(B<<9&4294967295|B>>>23),B=D+(I^N&(F^I))+z[7]+1735328473&4294967295,D=F+(B<<14&4294967295|B>>>18),B=N+(F^I&(D^F))+z[12]+2368359562&4294967295,N=D+(B<<20&4294967295|B>>>12),B=I+(N^D^F)+z[5]+4294588738&4294967295,I=N+(B<<4&4294967295|B>>>28),B=F+(I^N^D)+z[8]+2272392833&4294967295,F=I+(B<<11&4294967295|B>>>21),B=D+(F^I^N)+z[11]+1839030562&4294967295,D=F+(B<<16&4294967295|B>>>16),B=N+(D^F^I)+z[14]+4259657740&4294967295,N=D+(B<<23&4294967295|B>>>9),B=I+(N^D^F)+z[1]+2763975236&4294967295,I=N+(B<<4&4294967295|B>>>28),B=F+(I^N^D)+z[4]+1272893353&4294967295,F=I+(B<<11&4294967295|B>>>21),B=D+(F^I^N)+z[7]+4139469664&4294967295,D=F+(B<<16&4294967295|B>>>16),B=N+(D^F^I)+z[10]+3200236656&4294967295,N=D+(B<<23&4294967295|B>>>9),B=I+(N^D^F)+z[13]+681279174&4294967295,I=N+(B<<4&4294967295|B>>>28),B=F+(I^N^D)+z[0]+3936430074&4294967295,F=I+(B<<11&4294967295|B>>>21),B=D+(F^I^N)+z[3]+3572445317&4294967295,D=F+(B<<16&4294967295|B>>>16),B=N+(D^F^I)+z[6]+76029189&4294967295,N=D+(B<<23&4294967295|B>>>9),B=I+(N^D^F)+z[9]+3654602809&4294967295,I=N+(B<<4&4294967295|B>>>28),B=F+(I^N^D)+z[12]+3873151461&4294967295,F=I+(B<<11&4294967295|B>>>21),B=D+(F^I^N)+z[15]+530742520&4294967295,D=F+(B<<16&4294967295|B>>>16),B=N+(D^F^I)+z[2]+3299628645&4294967295,N=D+(B<<23&4294967295|B>>>9),B=I+(D^(N|~F))+z[0]+4096336452&4294967295,I=N+(B<<6&4294967295|B>>>26),B=F+(N^(I|~D))+z[7]+1126891415&4294967295,F=I+(B<<10&4294967295|B>>>22),B=D+(I^(F|~N))+z[14]+2878612391&4294967295,D=F+(B<<15&4294967295|B>>>17),B=N+(F^(D|~I))+z[5]+4237533241&4294967295,N=D+(B<<21&4294967295|B>>>11),B=I+(D^(N|~F))+z[12]+1700485571&4294967295,I=N+(B<<6&4294967295|B>>>26),B=F+(N^(I|~D))+z[3]+2399980690&4294967295,F=I+(B<<10&4294967295|B>>>22),B=D+(I^(F|~N))+z[10]+4293915773&4294967295,D=F+(B<<15&4294967295|B>>>17),B=N+(F^(D|~I))+z[1]+2240044497&4294967295,N=D+(B<<21&4294967295|B>>>11),B=I+(D^(N|~F))+z[8]+1873313359&4294967295,I=N+(B<<6&4294967295|B>>>26),B=F+(N^(I|~D))+z[15]+4264355552&4294967295,F=I+(B<<10&4294967295|B>>>22),B=D+(I^(F|~N))+z[6]+2734768916&4294967295,D=F+(B<<15&4294967295|B>>>17),B=N+(F^(D|~I))+z[13]+1309151649&4294967295,N=D+(B<<21&4294967295|B>>>11),B=I+(D^(N|~F))+z[4]+4149444226&4294967295,I=N+(B<<6&4294967295|B>>>26),B=F+(N^(I|~D))+z[11]+3174756917&4294967295,F=I+(B<<10&4294967295|B>>>22),B=D+(I^(F|~N))+z[2]+718787259&4294967295,D=F+(B<<15&4294967295|B>>>17),B=N+(F^(D|~I))+z[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+F&4294967295}r.prototype.v=function(O,I){I===void 0&&(I=O.length);const N=I-this.blockSize,z=this.C;let D=this.h,F=0;for(;F<I;){if(D==0)for(;F<=N;)i(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<I;)if(z[D++]=O.charCodeAt(F++),D==this.blockSize){i(this,z),D=0;break}}else for(;F<I;)if(z[D++]=O[F++],D==this.blockSize){i(this,z),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;I=this.o*8;for(var N=O.length-8;N<O.length;++N)O[N]=I&255,I/=256;for(this.v(O),O=Array(16),I=0,N=0;N<4;++N)for(let z=0;z<32;z+=8)O[I++]=this.g[N]>>>z&255;return O};function o(O,I){var N=l;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=I(O)}function s(O,I){this.h=I;const N=[];let z=!0;for(let D=O.length-1;D>=0;D--){const F=O[D]|0;z&&F==I||(N[D]=F,z=!1)}this.g=N}var l={};function u(O){return-128<=O&&O<128?o(O,function(I){return new s([I|0],I<0?-1:0)}):new s([O|0],O<0?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return h;if(O<0)return E(c(-O));const I=[];let N=1;for(let z=0;O>=N;z++)I[z]=O/N|0,N*=4294967296;return new s(I,0)}function f(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return E(f(O.substring(1),I));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(I,8));let z=h;for(let F=0;F<O.length;F+=8){var D=Math.min(8,O.length-F);const B=parseInt(O.substring(F,F+D),I);D<8?(D=c(Math.pow(I,D)),z=z.j(D).add(c(B))):(z=z.j(N),z=z.add(c(B)))}return z}var h=u(0),p=u(1),v=u(16777216);e=s.prototype,e.m=function(){if(b(this))return-E(this).m();let O=0,I=1;for(let N=0;N<this.g.length;N++){const z=this.i(N);O+=(z>=0?z:4294967296+z)*I,I*=4294967296}return O},e.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(b(this))return"-"+E(this).toString(O);const I=c(Math.pow(O,6));var N=this;let z="";for(;;){const D=R(N,I).g;N=P(N,D.j(I));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(O);if(N=D,x(N))return F+z;for(;F.length<6;)F="0"+F;z=F+z}},e.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(let I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function b(O){return O.h==-1}e.l=function(O){return O=P(this,O),b(O)?-1:x(O)?0:1};function E(O){const I=O.g.length,N=[];for(let z=0;z<I;z++)N[z]=~O.g[z];return new s(N,~O.h).add(p)}e.abs=function(){return b(this)?E(this):this},e.add=function(O){const I=Math.max(this.g.length,O.g.length),N=[];let z=0;for(let D=0;D<=I;D++){let F=z+(this.i(D)&65535)+(O.i(D)&65535),B=(F>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);z=B>>>16,F&=65535,B&=65535,N[D]=B<<16|F}return new s(N,N[N.length-1]&-2147483648?-1:0)};function P(O,I){return O.add(E(I))}e.j=function(O){if(x(this)||x(O))return h;if(b(this))return b(O)?E(this).j(E(O)):E(E(this).j(O));if(b(O))return E(this.j(E(O)));if(this.l(v)<0&&O.l(v)<0)return c(this.m()*O.m());const I=this.g.length+O.g.length,N=[];for(var z=0;z<2*I;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(let D=0;D<O.g.length;D++){const F=this.i(z)>>>16,B=this.i(z)&65535,ne=O.i(D)>>>16,xe=O.i(D)&65535;N[2*z+2*D]+=B*xe,T(N,2*z+2*D),N[2*z+2*D+1]+=F*xe,T(N,2*z+2*D+1),N[2*z+2*D+1]+=B*ne,T(N,2*z+2*D+1),N[2*z+2*D+2]+=F*ne,T(N,2*z+2*D+2)}for(O=0;O<I;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=I;O<2*I;O++)N[O]=0;return new s(N,0)};function T(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function C(O,I){this.g=O,this.h=I}function R(O,I){if(x(I))throw Error("division by zero");if(x(O))return new C(h,h);if(b(O))return I=R(E(O),I),new C(E(I.g),E(I.h));if(b(I))return I=R(O,E(I)),new C(E(I.g),I.h);if(O.g.length>30){if(b(O)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var N=p,z=I;z.l(O)<=0;)N=j(N),z=j(z);var D=$(N,1),F=$(z,1);for(z=$(z,2),N=$(N,2);!x(z);){var B=F.add(z);B.l(O)<=0&&(D=D.add(N),F=B),z=$(z,1),N=$(N,1)}return I=P(O,D.j(I)),new C(D,I)}for(D=h;O.l(I)>=0;){for(N=Math.max(1,Math.floor(O.m()/I.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),F=c(N),B=F.j(I);b(B)||B.l(O)>0;)N-=z,F=c(N),B=F.j(I);x(F)&&(F=p),D=D.add(F),O=P(O,B)}return new C(D,O)}e.B=function(O){return R(this,O).h},e.and=function(O){const I=Math.max(this.g.length,O.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)&O.i(z);return new s(N,this.h&O.h)},e.or=function(O){const I=Math.max(this.g.length,O.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)|O.i(z);return new s(N,this.h|O.h)},e.xor=function(O){const I=Math.max(this.g.length,O.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)^O.i(z);return new s(N,this.h^O.h)};function j(O){const I=O.g.length+1,N=[];for(let z=0;z<I;z++)N[z]=O.i(z)<<1|O.i(z-1)>>>31;return new s(N,O.h)}function $(O,I){const N=I>>5;I%=32;const z=O.g.length-N,D=[];for(let F=0;F<z;F++)D[F]=I>0?O.i(F+N)>>>I|O.i(F+N+1)<<32-I:O.i(F+N);return new s(D,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Ia=s}).apply(typeof DC<"u"?DC:typeof self<"u"?self:typeof window<"u"?window:{});var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fD,ff,hD,ng,Fw,pD,mD,gD;(function(){var e,t=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof mm=="object"&&mm];for(var S=0;S<m.length;++S){var k=m[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,S){if(S)e:{var k=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var W=m[V];if(!(W in k))break e;k=k[W]}m=m[m.length-1],V=k[m],S=S(V),S!=V&&S!=null&&t(k,m,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(S){var k=[],V;for(V in S)Object.prototype.hasOwnProperty.call(S,V)&&k.push([V,S[V]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function u(m,S,k){return m.call.apply(m.bind,arguments)}function c(m,S,k){return c=u,c.apply(null,arguments)}function f(m,S){var k=Array.prototype.slice.call(arguments,1);return function(){var V=k.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function h(m,S){function k(){}k.prototype=S.prototype,m.Z=S.prototype,m.prototype=new k,m.prototype.constructor=m,m.Ob=function(V,W,q){for(var se=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)se[Ie-2]=arguments[Ie];return S.prototype[W].apply(V,se)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function v(m){const S=m.length;if(S>0){const k=Array(S);for(let V=0;V<S;V++)k[V]=m[V];return k}return[]}function x(m,S){for(let V=1;V<arguments.length;V++){const W=arguments[V];var k=typeof W;if(k=k!="object"?k:W?Array.isArray(W)?"array":k:"null",k=="array"||k=="object"&&typeof W.length=="number"){k=m.length||0;const q=W.length||0;m.length=k+q;for(let se=0;se<q;se++)m[k+se]=W[se]}else m.push(W)}}class b{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function E(m){s.setTimeout(()=>{throw m},0)}function P(){var m=O;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class T{constructor(){this.h=this.g=null}add(S,k){const V=C.get();V.set(S,k),this.h?this.h.next=V:this.g=V,this.h=V}}var C=new b(()=>new R,m=>m.reset());class R{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let j,$=!1,O=new T,I=()=>{const m=Promise.resolve(void 0);j=()=>{m.then(N)}};function N(){for(var m;m=P();){try{m.h.call(m.g)}catch(k){E(k)}var S=C;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}$=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};s.addEventListener("test",k,S),s.removeEventListener("test",k,S)}catch{}return m}();function B(m){return/^[\s\xa0]*$/.test(m)}function ne(m,S){D.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}h(ne,D),ne.prototype.init=function(m,S){const k=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(k=="mouseover"?S=m.fromElement:k=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),oe=0;function ae(m,S,k,V,W){this.listener=m,this.proxy=null,this.src=S,this.type=k,this.capture=!!V,this.ha=W,this.key=++oe,this.da=this.fa=!1}function G(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ie(m,S,k){for(const V in m)S.call(k,m[V],V,m)}function X(m,S){for(const k in m)S.call(void 0,m[k],k,m)}function ue(m){const S={};for(const k in m)S[k]=m[k];return S}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(m,S){let k,V;for(let W=1;W<arguments.length;W++){V=arguments[W];for(k in V)m[k]=V[k];for(let q=0;q<we.length;q++)k=we[q],Object.prototype.hasOwnProperty.call(V,k)&&(m[k]=V[k])}}function Pe(m){this.src=m,this.g={},this.h=0}Pe.prototype.add=function(m,S,k,V,W){const q=m.toString();m=this.g[q],m||(m=this.g[q]=[],this.h++);const se=ve(m,S,V,W);return se>-1?(S=m[se],k||(S.fa=!1)):(S=new ae(S,this.src,q,!!V,W),S.fa=k,m.push(S)),S};function ke(m,S){const k=S.type;if(k in m.g){var V=m.g[k],W=Array.prototype.indexOf.call(V,S,void 0),q;(q=W>=0)&&Array.prototype.splice.call(V,W,1),q&&(G(S),m.g[k].length==0&&(delete m.g[k],m.h--))}}function ve(m,S,k,V){for(let W=0;W<m.length;++W){const q=m[W];if(!q.da&&q.listener==S&&q.capture==!!k&&q.ha==V)return W}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),rn={};function ee(m,S,k,V,W){if(Array.isArray(S)){for(let q=0;q<S.length;q++)ee(m,S[q],k,V,W);return null}return k=Rr(k),m&&m[xe]?m.J(S,k,l(V)?!!V.capture:!!V,W):Ee(m,S,k,!1,V,W)}function Ee(m,S,k,V,W,q){if(!S)throw Error("Invalid event type");const se=l(W)?!!W.capture:!!W;let Ie=st(m);if(Ie||(m[$e]=Ie=new Pe(m)),k=Ie.add(S,k,V,se,q),k.proxy)return k;if(V=Me(),k.proxy=V,V.src=m,V.listener=k,m.addEventListener)F||(W=se),W===void 0&&(W=!1),m.addEventListener(S.toString(),V,W);else if(m.attachEvent)m.attachEvent(De(S.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Me(){function m(k){return S.call(m.src,m.listener,k)}const S=At;return m}function J(m,S,k,V,W){if(Array.isArray(S))for(var q=0;q<S.length;q++)J(m,S[q],k,V,W);else V=l(V)?!!V.capture:!!V,k=Rr(k),m&&m[xe]?(m=m.i,q=String(S).toString(),q in m.g&&(S=m.g[q],k=ve(S,k,V,W),k>-1&&(G(S[k]),Array.prototype.splice.call(S,k,1),S.length==0&&(delete m.g[q],m.h--)))):m&&(m=st(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ve(S,k,V,W)),(k=m>-1?S[m]:null)&&gt(k))}function gt(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[xe])ke(S.i,m);else{var k=m.type,V=m.proxy;S.removeEventListener?S.removeEventListener(k,V,m.capture):S.detachEvent?S.detachEvent(De(k),V):S.addListener&&S.removeListener&&S.removeListener(V),(k=st(S))?(ke(k,m),k.h==0&&(k.src=null,S[$e]=null)):G(m)}}}function De(m){return m in rn?rn[m]:rn[m]="on"+m}function At(m,S){if(m.da)m=!0;else{S=new ne(S,this);const k=m.listener,V=m.ha||m.src;m.fa&&gt(m),m=k.call(V,S)}return m}function st(m){return m=m[$e],m instanceof Pe?m:null}var pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(m){return typeof m=="function"?m:(m[pn]||(m[pn]=function(S){return m.handleEvent(S)}),m[pn])}function Rt(){z.call(this),this.i=new Pe(this),this.M=this,this.G=null}h(Rt,z),Rt.prototype[xe]=!0,Rt.prototype.removeEventListener=function(m,S,k,V){J(this,m,S,k,V)};function at(m,S){var k,V=m.G;if(V)for(k=[];V;V=V.G)k.push(V);if(m=m.M,V=S.type||S,typeof S=="string")S=new D(S,m);else if(S instanceof D)S.target=S.target||m;else{var W=S;S=new D(V,m),je(S,W)}W=!0;let q,se;if(k)for(se=k.length-1;se>=0;se--)q=S.g=k[se],W=Mr(q,V,!0,S)&&W;if(q=S.g=m,W=Mr(q,V,!0,S)&&W,W=Mr(q,V,!1,S)&&W,k)for(se=0;se<k.length;se++)q=S.g=k[se],W=Mr(q,V,!1,S)&&W}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const k=m.g[S];for(let V=0;V<k.length;V++)G(k[V]);delete m.g[S],m.h--}}this.G=null},Rt.prototype.J=function(m,S,k,V){return this.i.add(String(m),S,!1,k,V)},Rt.prototype.K=function(m,S,k,V){return this.i.add(String(m),S,!0,k,V)};function Mr(m,S,k,V){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let W=!0;for(let q=0;q<S.length;++q){const se=S[q];if(se&&!se.da&&se.capture==k){const Ie=se.listener,Ye=se.ha||se.src;se.fa&&ke(m.i,se),W=Ie.call(Ye,V)!==!1&&W}}return W&&!V.defaultPrevented}function Fo(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:s.setTimeout(m,S||0)}function qs(m){m.g=Fo(()=>{m.g=null,m.i&&(m.i=!1,qs(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class hu extends z{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bo(m){z.call(this),this.h=m,this.g={}}h(Bo,z);var Gs=[];function ni(m){ie(m.g,function(S,k){this.g.hasOwnProperty(k)&&gt(S)},m),m.g={}}Bo.prototype.N=function(){Bo.Z.N.call(this),ni(this)},Bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=s.JSON.stringify,Uo=s.JSON.parse,tl=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function gr(){}function nl(){}var no={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wo(){D.call(this,"d")}h(Wo,D);function ro(){D.call(this,"c")}h(ro,D);var ri={},io=null;function Ho(){return io=io||new Rt}ri.Ia="serverreachability";function pu(m){D.call(this,ri.Ia,m)}h(pu,D);function oo(m){const S=Ho();at(S,new pu(S))}ri.STAT_EVENT="statevent";function rl(m,S){D.call(this,ri.STAT_EVENT,m),this.stat=S}h(rl,D);function He(m){const S=Ho();at(S,new rl(S,m))}ri.Ja="timingevent";function mn(m,S){D.call(this,ri.Ja,m),this.size=S}h(mn,D);function Bt(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},S)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Un(m,S,k,V,W,q){m.info(function(){if(m.g)if(q){var se="",Ie=q.split("&");for(let Je=0;Je<Ie.length;Je++){var Ye=Ie[Je].split("=");if(Ye.length>1){const Wt=Ye[0];Ye=Ye[1];const ui=Wt.split("_");se=ui.length>=2&&ui[1]=="type"?se+(Wt+"="+Ye+"&"):se+(Wt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+V+") [attempt "+W+"]: "+S+`
`+k+`
`+se})}function Cn(m,S,k,V,W,q,se){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+W+"]: "+S+`
`+k+`
`+q+" "+se})}function on(m,S,k,V){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ut(m,k)+(V?" "+V:"")})}function ii(m,S){m.info(function(){return"TIMEOUT: "+S})}Bn.prototype.info=function(){};function Ut(m,S){if(!m.g)return S;if(!S)return null;try{const q=JSON.parse(S);if(q){for(m=0;m<q.length;m++)if(Array.isArray(q[m])){var k=q[m];if(!(k.length<2)){var V=k[1];if(Array.isArray(V)&&!(V.length<1)){var W=V[0];if(W!="noop"&&W!="stop"&&W!="close")for(let se=1;se<V.length;se++)V[se]=""}}}}return jr(q)}catch{return S}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ir={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vr;function qt(){}h(qt,gr),qt.prototype.g=function(){return new XMLHttpRequest},vr=new qt;function de(m){return encodeURIComponent(String(m))}function Dr(m){var S=1;m=m.split(":");const k=[];for(;S>0&&m.length;)k.push(m.shift()),S--;return m.length&&k.push(m.join(":")),k}function In(m,S,k,V){this.j=m,this.i=S,this.l=k,this.S=V||1,this.V=new Bo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}var yd={},il={};function mu(m,S,k){m.M=1,m.A=ft(or(S)),m.u=k,m.R=!0,qo(m,null)}function qo(m,S){m.F=Date.now(),gu(m),m.B=or(m.A);var k=m.B,V=m.S;Array.isArray(V)||(V=[String(V)]),wu(k.i,"t",V),m.C=0,k=m.j.L,m.h=new Ko,m.g=Nd(m.j,k?S:null,!m.u),m.P>0&&(m.O=new hu(c(m.Y,m,m.g),m.P)),S=m.V,k=m.g,V=m.ba;var W="readystatechange";Array.isArray(W)||(W&&(Gs[0]=W.toString()),W=Gs);for(let q=0;q<W.length;q++){const se=ee(k,W[q],V||S.handleEvent,!1,S.h||S);if(!se)break;S.g[se.key]=se}S=m.J?ue(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),oo(),Un(m.i,m.v,m.B,m.l,m.S,m.u)}In.prototype.ba=function(m){m=m.target;const S=this.O;S&&uo(m)==3?S.j():this.Y(m)},In.prototype.Y=function(m){try{if(m==this.g)e:{const Ie=uo(this.g),Ye=this.g.ya(),Je=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Sd(this.g)))){this.K||Ie!=4||Ye==7||(Ye==8||Je<=0?oo(3):oo(2)),vu(this);var S=this.g.ca();this.X=S;var k=Tp(this);if(this.o=S==200,Cn(this.i,this.v,this.B,this.l,this.S,Ie,S),this.o){if(this.U&&!this.L){t:{if(this.g){var V,W=this.g;if((V=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(V)){var q=V;break t}}q=null}if(m=q)on(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_d(this,m);else{this.o=!1,this.m=3,He(12),oi(this),ol(this);break e}}if(this.R){m=!0;let Wt;for(;!this.K&&this.C<k.length;)if(Wt=h_(this,k),Wt==il){Ie==4&&(this.m=4,He(14),m=!1),on(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==yd){this.m=4,He(15),on(this.i,this.l,k,"[Invalid Chunk]"),m=!1;break}else on(this.i,this.l,Wt,null),_d(this,Wt);if(Ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||k.length!=0||this.h.h||(this.m=1,He(16),m=!1),this.o=this.o&&m,!m)on(this.i,this.l,k,"[Invalid Chunked Response]"),oi(this),ol(this);else if(k.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),kd(se),se.P=!0,He(11))}}else on(this.i,this.l,k,null),_d(this,k);Ie==4&&oi(this),this.o&&!this.K&&(Ie==4?zr(this.j,this):(this.o=!1,gu(this)))}else Td(this.g),S==400&&k.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),oi(this),ol(this)}}}catch{}finally{}};function Tp(m){if(!Ap(m))return m.g.la();const S=Sd(m.g);if(S==="")return"";let k="";const V=S.length,W=uo(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return oi(m),ol(m),"";m.h.i=new s.TextDecoder}for(let q=0;q<V;q++)m.h.h=!0,k+=m.h.i.decode(S[q],{stream:!(W&&q==V-1)});return S.length=0,m.h.g+=k,m.C=0,m.h.g}function Ap(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function h_(m,S){var k=m.C,V=S.indexOf(`
`,k);return V==-1?il:(k=Number(S.substring(k,V)),isNaN(k)?yd:(V+=1,V+k>S.length?il:(S=S.slice(V,V+k),m.C=V+k,S)))}In.prototype.cancel=function(){this.K=!0,oi(this)};function gu(m){m.T=Date.now()+m.H,Cp(m,m.H)}function Cp(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Bt(c(m.aa,m),S)}function vu(m){m.D&&(s.clearTimeout(m.D),m.D=null)}In.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ii(this.i,this.B),this.M!=2&&(oo(),He(17)),oi(this),this.m=2,ol(this)):Cp(this,this.T-m)};function ol(m){m.j.I==0||m.K||zr(m.j,m)}function oi(m){vu(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,ni(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function _d(m,S){try{var k=m.j;if(k.I!=0&&(k.g==m||sl(k.h,m))){if(!m.L&&sl(k.h,m)&&k.I==3){try{var V=k.Ba.g.parse(S)}catch{V=null}if(Array.isArray(V)&&V.length==3){var W=V;if(W[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<m.F)Tu(k),Pu(k);else break e;Id(k),He(18)}}else k.xa=W[1],0<k.xa-k.K&&W[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Bt(c(k.Va,k),6e3));Op(k.h)<=1&&k.ta&&(k.ta=void 0)}else fo(k,11)}else if((m.L||k.g==m)&&Tu(k),!B(S))for(W=k.Ba.g.parse(S),S=0;S<W.length;S++){let Je=W[S];const Wt=Je[0];if(!(Wt<=k.K))if(k.K=Wt,Je=Je[1],k.I==2)if(Je[0]=="c"){k.M=Je[1],k.ba=Je[2];const ui=Je[3];ui!=null&&(k.ka=ui,k.j.info("VER="+k.ka));const Ni=Je[4];Ni!=null&&(k.za=Ni,k.j.info("SVER="+k.za));const ci=Je[5];ci!=null&&typeof ci=="number"&&ci>0&&(V=1.5*ci,k.O=V,k.j.info("backChannelRequestTimeoutMs_="+V)),V=k;const ho=m.g;if(ho){const Iu=ho.g?ho.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var q=V.h;q.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(V.G){const ku=ho.g?ho.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(V.wa=ku,he(V.J,V.G,ku))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-m.F,k.j.info("Handshake RTT: "+k.T+"ms")),V=k;var se=m;if(V.na=Od(V,V.L?V.ba:null,V.W),se.L){xd(V.h,se);var Ie=se,Ye=V.O;Ye&&(Ie.H=Ye),Ie.D&&(vu(Ie),gu(Ie)),V.g=se}else Cd(V);k.i.length>0&&co(k)}else Je[0]!="stop"&&Je[0]!="close"||fo(k,7);else k.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?fo(k,7):Le(k):Je[0]!="noop"&&k.l&&k.l.qa(Je),k.A=0)}}oo(4)}catch{}}var p_=class{constructor(m,S){this.g=m,this.map=S}};function Ip(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kp(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Op(m){return m.h?1:m.g?m.g.size:0}function sl(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Go(m,S){m.g?m.g.add(S):m.h=S}function xd(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}Ip.prototype.cancel=function(){if(this.i=wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wd(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const k of m.g.values())S=S.concat(k.G);return S}return v(m.i)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ke(m,S){if(m){m=m.split("&");for(let k=0;k<m.length;k++){const V=m[k].indexOf("=");let W,q=null;V>=0?(W=m[k].substring(0,V),q=m[k].substring(V+1)):W=m[k],S(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ze(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof Ze?(this.l=m.l,si(this,m.j),this.o=m.o,this.g=m.g,ai(this,m.u),this.h=m.h,al(this,ll(m.i)),this.m=m.m):m&&(S=String(m).match(Zs))?(this.l=!1,si(this,S[1]||"",!0),this.o=Zo(S[2]||""),this.g=Zo(S[3]||"",!0),ai(this,S[4]),this.h=Zo(S[5]||"",!0),al(this,S[6]||"",!0),this.m=Zo(S[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}Ze.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(so(S,Np,!0),":");var k=this.g;return(k||S=="file")&&(m.push("//"),(S=this.o)&&m.push(so(S,Np,!0),"@"),m.push(de(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&m.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(so(k,k.charAt(0)=="/"?Yo:yu,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",so(k,Xo)),m.join("")},Ze.prototype.resolve=function(m){const S=or(this);let k=!!m.j;k?si(S,m.j):k=!!m.o,k?S.o=m.o:k=!!m.g,k?S.g=m.g:k=m.u!=null;var V=m.h;if(k)ai(S,m.u);else if(k=!!m.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var W=S.h.lastIndexOf("/");W!=-1&&(V=S.h.slice(0,W+1)+V)}if(W=V,W==".."||W==".")V="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){V=W.lastIndexOf("/",0)==0,W=W.split("/");const q=[];for(let se=0;se<W.length;){const Ie=W[se++];Ie=="."?V&&se==W.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),V&&se==W.length&&q.push("")):(q.push(Ie),V=!0)}V=q.join("/")}else V=W}return k?S.h=V:k=m.i.toString()!=="",k?al(S,ll(m.i)):k=!!m.m,k&&(S.m=m.m),S};function or(m){return new Ze(m)}function si(m,S,k){m.j=k?Zo(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function ai(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function al(m,S,k){S instanceof ki?(m.i=S,bd(m.i,m.l)):(k||(S=so(S,Mt)),m.i=new ki(S,m.l))}function he(m,S,k){m.i.set(S,k)}function ft(m){return he(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Zo(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function so(m,S,k){return typeof m=="string"?(m=encodeURI(m).replace(S,yr),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Np=/[#\/\?@]/g,yu=/[#\?:]/g,Yo=/[#\?]/g,Mt=/[#\?@]/g,Xo=/#/g;function ki(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Lr(m){m.g||(m.g=new Map,m.h=0,m.i&&Ke(m.i,function(S,k){m.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}e=ki.prototype,e.add=function(m,S){Lr(this),this.i=null,m=ao(this,m);let k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(S),this.h+=1,this};function _u(m,S){Lr(m),S=ao(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function Ys(m,S){return Lr(m),S=ao(m,S),m.g.has(S)}e.forEach=function(m,S){Lr(this),this.g.forEach(function(k,V){k.forEach(function(W){m.call(S,W,V,this)},this)},this)};function xu(m,S){Lr(m);let k=[];if(typeof S=="string")Ys(m,S)&&(k=k.concat(m.g.get(ao(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)k=k.concat(m[S]);return k}e.set=function(m,S){return Lr(this),this.i=null,m=ao(this,m),Ys(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},e.get=function(m,S){return m?(m=xu(this,m),m.length>0?String(m[0]):S):S};function wu(m,S,k){_u(m,S),k.length>0&&(m.i=null,m.g.set(ao(m,S),v(k)),m.h+=k.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let V=0;V<S.length;V++){var k=S[V];const W=de(k);k=xu(this,k);for(let q=0;q<k.length;q++){let se=W;k[q]!==""&&(se+="="+de(k[q])),m.push(se)}}return this.i=m.join("&")};function ll(m){const S=new ki;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function ao(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function bd(m,S){S&&!m.j&&(Lr(m),m.i=null,m.g.forEach(function(k,V){const W=V.toLowerCase();V!=W&&(_u(this,V),wu(this,W,k))},m)),m.j=S}function bu(m,S){const k=new Bn;if(s.Image){const V=new Image;V.onload=f(li,k,"TestLoadImage: loaded",!0,S,V),V.onerror=f(li,k,"TestLoadImage: error",!1,S,V),V.onabort=f(li,k,"TestLoadImage: abort",!1,S,V),V.ontimeout=f(li,k,"TestLoadImage: timeout",!1,S,V),s.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else S(!1)}function Rp(m,S){const k=new Bn,V=new AbortController,W=setTimeout(()=>{V.abort(),li(k,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:V.signal}).then(q=>{clearTimeout(W),q.ok?li(k,"TestPingServer: ok",!0,S):li(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(W),li(k,"TestPingServer: error",!1,S)})}function li(m,S,k,V,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),V(k)}catch{}}function m_(){this.g=new tl}function Ce(m){this.i=m.Sb||null,this.h=m.ab||!1}h(Ce,gr),Ce.prototype.g=function(){return new sr(this.i,this.h)};function sr(m,S){Rt.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(sr,Rt),e=sr.prototype,e.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,Qo(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||s).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},e.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rt(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function rt(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}e.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Xs(this):Qo(this),this.readyState==3&&rt(this)}},e.Oa=function(m){this.g&&(this.response=this.responseText=m,Xs(this))},e.Na=function(m){this.g&&(this.response=m,Xs(this))},e.ga=function(){this.g&&Xs(this)};function Xs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Qo(m)}e.setRequestHeader=function(m,S){this.A.append(m,S)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=S.next();return m.join(`\r
`)};function Qo(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Eu(m){let S="";return ie(m,function(k,V){S+=V,S+=":",S+=k,S+=`\r
`}),S}function ul(m,S,k){e:{for(V in k){var V=!1;break e}V=!0}V||(k=Eu(k),typeof m=="string"?k!=null&&de(k):he(m,S,k))}function Qe(m){Rt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Qe,Rt);var Ed=/^https?$/i,cl=["POST","PUT"];e=Qe.prototype,e.Fa=function(m){this.H=m},e.ea=function(m,S,k,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vr.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(q){Gt(this,q);return}if(m=k||"",k=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var W in V)k.set(W,V[W]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const q of V.keys())k.set(q,V.get(q));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(k.keys()).find(q=>q.toLowerCase()=="content-type"),W=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(cl,S,void 0)>=0)||V||W||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of k)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(q){Gt(this,q)}};function Gt(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,lo(m),dl(m)}function lo(m){m.A||(m.A=!0,at(m,"complete"),at(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,at(this,"complete"),at(this,"abort"),dl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dl(this,!0)),Qe.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Pd(this):this.Xa())},e.Xa=function(){Pd(this)};function Pd(m){if(m.h&&typeof o<"u"){if(m.v&&uo(m)==4)setTimeout(m.Ca.bind(m),0);else if(at(m,"readystatechange"),uo(m)==4){m.h=!1;try{const q=m.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var V;if(V=q===0){let se=String(m.D).match(Zs)[1]||null;!se&&s.self&&s.self.location&&(se=s.self.location.protocol.slice(0,-1)),V=!Ed.test(se?se.toLowerCase():"")}k=V}if(k)at(m,"complete"),at(m,"success");else{m.o=6;try{var W=uo(m)>2?m.g.statusText:""}catch{W=""}m.l=W+" ["+m.ca()+"]",lo(m)}}finally{dl(m)}}}}function dl(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const k=m.g;m.g=null,S||at(m,"ready");try{k.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function uo(m){return m.g?m.g.readyState:0}e.ca=function(){try{return uo(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Uo(S)}};function Sd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Td(m){const S={};m=(m.g&&uo(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(B(m[V]))continue;var k=Dr(m[V]);const W=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const q=S[W]||[];S[W]=q,q.push(k)}X(S,function(V){return V.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fl(m,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||S}function Ad(m){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fl("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fl("baseRetryDelayMs",5e3,m),this.Za=fl("retryDelaySeedMs",1e4,m),this.Ta=fl("forwardChannelMaxRetries",2,m),this.va=fl("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ip(m&&m.concurrentRequestLimit),this.Ba=new m_,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ad.prototype,e.ka=8,e.I=1,e.connect=function(m,S,k,V){He(0),this.W=m,this.H=S||{},k&&V!==void 0&&(this.H.OSID=k,this.H.OAID=V),this.F=this.X,this.J=Od(this,null,this.W),co(this)};function Le(m){if(_r(m),m.I==3){var S=m.V++,k=or(m.J);if(he(k,"SID",m.M),he(k,"RID",S),he(k,"TYPE","terminate"),Jo(m,k),S=new In(m,m.j,S),S.M=2,S.A=ft(or(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(S.A.toString(),"")}catch{}!k&&s.Image&&(new Image().src=S.A,k=!0),k||(S.g=Nd(S.j,null),S.g.ea(S.A)),S.F=Date.now(),gu(S)}Oi(m)}function Pu(m){m.g&&(kd(m),m.g.cancel(),m.g=null)}function _r(m){Pu(m),m.v&&(s.clearTimeout(m.v),m.v=null),Tu(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function co(m){if(!kp(m.h)&&!m.m){m.m=!0;var S=m.Ea;j||I(),$||(j(),$=!0),O.add(S,m),m.D=0}}function Mp(m,S){return Op(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Bt(c(m.Ea,m,S),Lp(m,m.D)),m.D++,!0)}e.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const W=new In(this,this.j,m);let q=this.o;if(this.U&&(q?(q=ue(q),je(q,this.U)):q=this.U),this.u!==null||this.R||(W.J=q,q=null),this.S)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var V=this.i[k];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(S+=V,S>4096){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=Dp(this,W,S),k=or(this.J),he(k,"RID",m),he(k,"CVER",22),this.G&&he(k,"X-HTTP-Session-Id",this.G),Jo(this,k),q&&(this.R?S="headers="+de(Eu(q))+"&"+S:this.u&&ul(k,this.u,q)),Go(this.h,W),this.Ra&&he(k,"TYPE","init"),this.S?(he(k,"$req",S),he(k,"SID","null"),W.U=!0,mu(W,k,null)):mu(W,k,S),this.I=2}}else this.I==3&&(m?jp(this,m):this.i.length==0||kp(this.h)||jp(this))};function jp(m,S){var k;S?k=S.l:k=m.V++;const V=or(m.J);he(V,"SID",m.M),he(V,"RID",k),he(V,"AID",m.K),Jo(m,V),m.u&&m.o&&ul(V,m.u,m.o),k=new In(m,m.j,k,m.D+1),m.u===null&&(k.J=m.o),S&&(m.i=S.G.concat(m.i)),S=Dp(m,k,1e3),k.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Go(m.h,k),mu(k,V,S)}function Jo(m,S){m.H&&ie(m.H,function(k,V){he(S,V,k)}),m.l&&ie({},function(k,V){he(S,V,k)})}function Dp(m,S,k){k=Math.min(m.i.length,k);const V=m.l?c(m.l.Ka,m.l,m):null;e:{var W=m.i;let Ie=-1;for(;;){const Ye=["count="+k];Ie==-1?k>0?(Ie=W[0].g,Ye.push("ofs="+Ie)):Ie=0:Ye.push("ofs="+Ie);let Je=!0;for(let Wt=0;Wt<k;Wt++){var q=W[Wt].g;const ui=W[Wt].map;if(q-=Ie,q<0)Ie=Math.max(0,W[Wt].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var se=ui instanceof Map?ui:Object.entries(ui);for(const[Ni,ci]of se){let ho=ci;l(ci)&&(ho=jr(ci)),Ye.push(q+Ni+"="+encodeURIComponent(ho))}}catch(Ni){throw Ye.push(q+"type="+encodeURIComponent("_badmap")),Ni}}catch{V&&V(ui)}}if(Je){se=Ye.join("&");break e}}se=void 0}return m=m.i.splice(0,k),S.G=m,se}function Cd(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;j||I(),$||(j(),$=!0),O.add(S,m),m.A=0}}function Id(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Bt(c(m.Da,m),Lp(m,m.A)),m.A++,!0)}e.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Bt(c(this.Wa,this),m)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Pu(this),Su(this))};function kd(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function Su(m){m.g=new In(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=or(m.na);he(S,"RID","rpc"),he(S,"SID",m.M),he(S,"AID",m.K),he(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&he(S,"TO",m.ia),he(S,"TYPE","xmlhttp"),Jo(m,S),m.u&&m.o&&ul(S,m.u,m.o),m.O&&(m.g.H=m.O);var k=m.g;m=m.ba,k.M=1,k.A=ft(or(S)),k.u=null,k.R=!0,qo(k,m)}e.Va=function(){this.C!=null&&(this.C=null,Pu(this),Id(this),He(19))};function Tu(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function zr(m,S){var k=null;if(m.g==S){Tu(m),kd(m),m.g=null;var V=2}else if(sl(m.h,S))k=S.G,xd(m.h,S),V=1;else return;if(m.I!=0){if(S.o)if(V==1){k=S.u?S.u.length:0,S=Date.now()-S.F;var W=m.D;V=Ho(),at(V,new mn(V,k)),co(m)}else Cd(m);else if(W=S.m,W==3||W==0&&S.X>0||!(V==1&&Mp(m,S)||V==2&&Id(m)))switch(k&&k.length>0&&(S=m.h,S.i=S.i.concat(k)),W){case 1:fo(m,5);break;case 4:fo(m,10);break;case 3:fo(m,6);break;default:fo(m,2)}}}function Lp(m,S){let k=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(k*=2),k*S}function fo(m,S){if(m.j.info("Error code "+S),S==2){var k=c(m.bb,m),V=m.Ua;const W=!V;V=new Ze(V||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||si(V,"https"),ft(V),W?bu(V.toString(),k):Rp(V.toString(),k)}else He(2);m.I=0,m.l&&m.l.pa(S),Oi(m),_r(m)}e.bb=function(m){m?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Oi(m){if(m.I=0,m.ja=[],m.l){const S=wd(m.h);(S.length!=0||m.i.length!=0)&&(x(m.ja,S),x(m.ja,m.i),m.h.i.length=0,v(m.i),m.i.length=0),m.l.oa()}}function Od(m,S,k){var V=k instanceof Ze?or(k):new Ze(k);if(V.g!="")S&&(V.g=S+"."+V.g),ai(V,V.u);else{var W=s.location;V=W.protocol,S=S?S+"."+W.hostname:W.hostname,W=+W.port;const q=new Ze(null);V&&si(q,V),S&&(q.g=S),W&&ai(q,W),k&&(q.h=k),V=q}return k=m.G,S=m.wa,k&&S&&he(V,k,S),he(V,"VER",m.ka),Jo(m,V),V}function Nd(m,S,k){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new Qe(new Ce({ab:k})):new Qe(m.ma),S.Fa(m.L),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}e=Au.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Cu(){}Cu.prototype.g=function(m,S){return new Wn(m,S)};function Wn(m,S){Rt.call(this),this.g=new Ad(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!B(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!B(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Qs(this)}h(Wn,Rt),Wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Le(this.g)},Wn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.v&&(k={},k.__data__=jr(m),m=k);S.i.push(new p_(S.Ya++,m)),S.I==3&&co(S)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Le(this.g),delete this.g,Wn.Z.N.call(this)};function Rd(m){Wo.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const k in S){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}h(Rd,Wo);function zp(){ro.call(this),this.status=1}h(zp,ro);function Qs(m){this.g=m}h(Qs,Au),Qs.prototype.ra=function(){at(this.g,"a")},Qs.prototype.qa=function(m){at(this.g,new Rd(m))},Qs.prototype.pa=function(m){at(this.g,new zp)},Qs.prototype.oa=function(){at(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,gD=function(){return new Cu},mD=function(){return Ho()},pD=ri,Fw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,ng=rr,ir.COMPLETE="complete",hD=ir,nl.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,ff=nl,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,fD=Qe}).apply(typeof mm<"u"?mm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed="12.9.0";function rK(e){ed=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new fE("@firebase/firestore");function Bu(){return ql.logLevel}function fe(e,...t){if(ql.logLevel<=Fe.DEBUG){const n=t.map(SE);ql.debug(`Firestore (${ed}): ${e}`,...n)}}function Cs(e,...t){if(ql.logLevel<=Fe.ERROR){const n=t.map(SE);ql.error(`Firestore (${ed}): ${e}`,...n)}}function Gl(e,...t){if(ql.logLevel<=Fe.WARN){const n=t.map(SE);ql.warn(`Firestore (${ed}): ${e}`,...n)}}function SE(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,vD(e,r,n)}function vD(e,t,n){let r=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function tt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||vD(t,i,r)}function Re(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Vo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class oK{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sK{constructor(t){this.t=t,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){tt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ys,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ys)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new yD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return tt(t===null||typeof t=="string",2055,{h:t}),new Yn(t)}}class aK{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lK{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new aK(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uK{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){tt(this.o===void 0,3512);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LC(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function Be(e,t){return e<t?-1:e>t?1:0}function Bw(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),o=t.charAt(r);if(i!==o)return ox(i)===ox(o)?Be(i,o):ox(i)?1:-1}return Be(e.length,t.length)}const dK=55296,fK=57343;function ox(e){const t=e.charCodeAt(0);return t>=dK&&t<=fK}function Oc(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="__name__";class xo{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ae(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Ae(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return xo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=xo.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Be(t.length,n.length)}static compareSegments(t,n){const r=xo.isNumericId(t),i=xo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xo.extractNumericId(t).compare(xo.extractNumericId(n)):Bw(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ia.fromString(t.substring(4,t.length-2))}}class pt extends xo{construct(t,n,r){return new pt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const hK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends xo{construct(t,n,r){return new jn(t,n,r)}static isValidIdentifier(t){return hK.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zC}static keyField(){return new jn([zC])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.path=t}static fromPath(t){return new be(pt.fromString(t))}static fromName(t){return new be(pt.fromString(t).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return pt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new be(new pt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(e,t,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pK(e,t,n,r){if(t===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function VC(e){if(!be.isDocumentKey(e))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $C(e){if(be.isDocumentKey(e))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xD(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Ny(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ae(12329,{type:typeof e})}function Kr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ny(e);throw new le(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e,t){const n={typeString:e};return t&&(n.value=t),n}function Hh(e,t){if(!xD(e))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=-62135596800,BC=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*BC);return new Oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<FC)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BC}_compareTo(t){return this.seconds===t.seconds?Be(this.nanoseconds,t.nanoseconds):Be(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hh(t,Oe._jsonSchema))return new Oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-FC;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:en("string",Oe._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(t){return new Ne(t)}static min(){return new Ne(new Oe(0,0))}static max(){return new Ne(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;function mK(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Da(i,be.empty(),t)}function gK(e){return new Da(e.readTime,e.key,sh)}class Da{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Da(Ne.min(),be.empty(),sh)}static max(){return new Da(Ne.max(),be.empty(),sh)}}function vK(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=be.comparator(e.documentKey,t.documentKey),n!==0?n:Be(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _K{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(e){if(e.code!==Y.FAILED_PRECONDITION||e.message!==yK)throw e;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,r)=>{n(t)})}static reject(t){return new Q((n,r)=>{r(t)})}static waitFor(t){return new Q((n,r)=>{let i=0,o=0,s=!1;t.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(t){let n=Q.resolve(!1);for(const r of t)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new Q((r,i)=>{const o=t.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(t[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(t,n){return new Q((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function xK(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ry.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-1;function My(e){return e==null}function Gg(e){return e===0&&1/e==-1/0}function wK(e){return typeof e=="number"&&Number.isInteger(e)&&!Gg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="";function bK(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=UC(t)),t=EK(e.get(n),t);return UC(t)}function EK(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case wD:n+="";break;default:n+=o}}return n}function UC(e){return e+wD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Za(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n){this.comparator=t,this.root=n||Rn.EMPTY}insert(t,n){return new Ot(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new Ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gm(this.root,t,this.comparator,!1)}getReverseIterator(){return new gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gm(this.root,t,this.comparator,!0)}}class gm{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Rn(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ae(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(t,n,r,i,o){return this}insert(t,n,r){return new Rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.comparator=t,this.data=new Ot(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new HC(this.data.getIterator())}getIteratorFrom(t){return new HC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof dn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new dn(this.comparator);return n.data=t,n}}class HC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.fields=t,t.sort(jn.comparator)}static empty(){return new Ur([])}unionWith(t){let n=new dn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ur(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oc(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ED("Invalid base64 string: "+o):o}}(t);return new zn(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new zn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Be(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const PK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(e){if(tt(!!e,39018),typeof e=="string"){let t=0;const n=PK.exec(e);if(tt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ht(e.seconds),nanos:Ht(e.nanos)}}function Ht(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function za(e){return typeof e=="string"?zn.fromBase64String(e):zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="server_timestamp",SD="__type__",TD="__previous_value__",AD="__local_write_time__";function CE(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[SD])==null?void 0:r.stringValue)===PD}function jy(e){const t=e.mapValue.fields[TD];return CE(t)?jy(t):t}function ah(e){const t=La(e.mapValue.fields[AD].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(t,n,r,i,o,s,l,u,c,f,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=h}}const Zg="(default)";class lh{constructor(t,n){this.projectId=t,this.database=n||Zg}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===Zg}isEqual(t){return t instanceof lh&&t.projectId===this.projectId&&t.database===this.database}}function TK(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__type__",ID="__max__",vm={mapValue:{fields:{__type__:{stringValue:ID}}}},kD="__vector__",Yg="value";function Va(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?CE(e)?4:CK(e)?9007199254740991:AK(e)?10:11:Ae(28295,{value:e})}function Ro(e,t){if(e===t)return!0;const n=Va(e);if(n!==Va(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ah(e).isEqual(ah(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=La(i.timestampValue),l=La(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return za(i.bytesValue).isEqual(za(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ht(i.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ht(i.integerValue)===Ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ht(i.doubleValue),l=Ht(o.doubleValue);return s===l?Gg(s)===Gg(l):isNaN(s)&&isNaN(l)}return!1}(e,t);case 9:return Oc(e.arrayValue.values||[],t.arrayValue.values||[],Ro);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(WC(s)!==WC(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Ro(s[u],l[u])))return!1;return!0}(e,t);default:return Ae(52216,{left:e})}}function uh(e,t){return(e.values||[]).find(n=>Ro(n,t))!==void 0}function Nc(e,t){if(e===t)return 0;const n=Va(e),r=Va(t);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(e.booleanValue,t.booleanValue);case 2:return function(o,s){const l=Ht(o.integerValue||o.doubleValue),u=Ht(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return KC(e.timestampValue,t.timestampValue);case 4:return KC(ah(e),ah(t));case 5:return Bw(e.stringValue,t.stringValue);case 6:return function(o,s){const l=za(o),u=za(s);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=Be(l[c],u[c]);if(f!==0)return f}return Be(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const l=Be(Ht(o.latitude),Ht(s.latitude));return l!==0?l:Be(Ht(o.longitude),Ht(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qC(e.arrayValue,t.arrayValue);case 10:return function(o,s){var p,v,x,b;const l=o.fields||{},u=s.fields||{},c=(p=l[Yg])==null?void 0:p.arrayValue,f=(v=u[Yg])==null?void 0:v.arrayValue,h=Be(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((b=f==null?void 0:f.values)==null?void 0:b.length)||0);return h!==0?h:qC(c,f)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===vm.mapValue&&s===vm.mapValue)return 0;if(o===vm.mapValue)return 1;if(s===vm.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const p=Bw(u[h],f[h]);if(p!==0)return p;const v=Nc(l[u[h]],c[f[h]]);if(v!==0)return v}return Be(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Ae(23264,{he:n})}}function KC(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Be(e,t);const n=La(e),r=La(t),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function qC(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Nc(n[i],r[i]);if(o)return o}return Be(n.length,r.length)}function Rc(e){return Uw(e)}function Uw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=La(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return za(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return be.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Uw(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Uw(n.fields[s])}`;return i+"}"}(e.mapValue):Ae(61005,{value:e})}function rg(e){switch(Va(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jy(e);return t?16+rg(t):16;case 5:return 2*e.stringValue.length;case 6:return za(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+rg(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Za(r.fields,(o,s)=>{i+=o.length+rg(s)}),i}(e.mapValue);default:throw Ae(13486,{value:e})}}function GC(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ww(e){return!!e&&"integerValue"in e}function IE(e){return!!e&&"arrayValue"in e}function ZC(e){return!!e&&"nullValue"in e}function YC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ig(e){return!!e&&"mapValue"in e}function AK(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[CD])==null?void 0:r.stringValue)===kD}function kf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Za(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=kf(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kf(e.arrayValue.values[n]);return t}return{...e}}function CK(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ID}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.value=t}static empty(){return new Er({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ig(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kf(n)}setAll(t){let n=jn.emptyPath(),r={},i=[];t.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=kf(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());ig(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ro(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];ig(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Za(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Er(kf(this.value))}}function OD(e){const t=[];return Za(e.fields,(n,r)=>{const i=new jn([n]);if(ig(r)){const o=OD(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Ur(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n,r,i,o,s,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(t){return new Qn(t,0,Ne.min(),Ne.min(),Ne.min(),Er.empty(),0)}static newFoundDocument(t,n,r,i){return new Qn(t,1,n,Ne.min(),r,i,0)}static newNoDocument(t,n){return new Qn(t,2,n,Ne.min(),Ne.min(),Er.empty(),0)}static newUnknownDocument(t,n){return new Qn(t,3,n,Ne.min(),Ne.min(),Er.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,n){this.position=t,this.inclusive=n}}function XC(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(s.referenceValue),n.key):r=Nc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ro(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,n="asc"){this.field=t,this.dir=n}}function IK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class Jt extends ND{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new OK(t,n,r):n==="array-contains"?new MK(t,r):n==="in"?new jK(t,r):n==="not-in"?new DK(t,r):n==="array-contains-any"?new LK(t,r):new Jt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new NK(t,r):new RK(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nc(n,this.value)):n!==null&&Va(this.value)===Va(n)&&this.matchesComparison(Nc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends ND{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Xi(t,n)}matches(t){return RD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RD(e){return e.op==="and"}function MD(e){return kK(e)&&RD(e)}function kK(e){for(const t of e.filters)if(t instanceof Xi)return!1;return!0}function Hw(e){if(e instanceof Jt)return e.field.canonicalString()+e.op.toString()+Rc(e.value);if(MD(e))return e.filters.map(t=>Hw(t)).join(",");{const t=e.filters.map(n=>Hw(n)).join(",");return`${e.op}(${t})`}}function jD(e,t){return e instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Ro(r.value,i.value)}(e,t):e instanceof Xi?function(r,i){return i instanceof Xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&jD(s,i.filters[l]),!0):!1}(e,t):void Ae(19439)}function DD(e){return e instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Rc(n.value)}`}(e):e instanceof Xi?function(n){return n.op.toString()+" {"+n.getFilters().map(DD).join(" ,")+"}"}(e):"Filter"}class OK extends Jt{constructor(t,n,r){super(t,n,r),this.key=be.fromName(r.referenceValue)}matches(t){const n=be.comparator(t.key,this.key);return this.matchesComparison(n)}}class NK extends Jt{constructor(t,n){super(t,"in",n),this.keys=LD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RK extends Jt{constructor(t,n){super(t,"not-in",n),this.keys=LD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function LD(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class MK extends Jt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return IE(n)&&uh(n.arrayValue,this.value)}}class jK extends Jt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uh(this.value.arrayValue,n)}}class DK extends Jt{constructor(t,n){super(t,"not-in",n)}matches(t){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uh(this.value.arrayValue,n)}}class LK extends Jt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!IE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(t,n=null,r=[],i=[],o=null,s=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Te=null}}function JC(e,t=null,n=[],r=[],i=null,o=null,s=null){return new zK(e,t,n,r,i,o,s)}function kE(e){const t=Re(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Hw(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),My(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Rc(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Rc(r)).join(",")),t.Te=n}return t.Te}function OE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IK(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QC(e.startAt,t.startAt)&&QC(e.endAt,t.endAt)}function Kw(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VK(e,t,n,r,i,o,s,l){return new Kh(e,t,n,r,i,o,s,l)}function Dy(e){return new Kh(e)}function eI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $K(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function zD(e){return e.collectionGroup!==null}function Of(e){const t=Re(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new dn(jn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Qg(o,r))}),n.has(jn.keyField().canonicalString())||t.Ie.push(new Qg(jn.keyField(),r))}return t.Ie}function Io(e){const t=Re(e);return t.Ee||(t.Ee=FK(t,Of(e))),t.Ee}function FK(e,t){if(e.limitType==="F")return JC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Qg(i.field,o)});const n=e.endAt?new Xg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xg(e.startAt.position,e.startAt.inclusive):null;return JC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function qw(e,t){const n=e.filters.concat([t]);return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gw(e,t,n){return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ly(e,t){return OE(Io(e),Io(t))&&e.limitType===t.limitType}function VD(e){return`${kE(Io(e))}|lt:${e.limitType}`}function Uu(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DD(i)).join(", ")}]`),My(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rc(i)).join(",")),`Target(${r})`}(Io(e))}; limitType=${e.limitType})`}function zy(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Of(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=XC(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,Of(r),i)||r.endAt&&!function(s,l,u){const c=XC(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,Of(r),i))}(e,t)}function BK(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $D(e){return(t,n)=>{let r=!1;for(const i of Of(e)){const o=UK(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function UK(e,t,n){const r=e.field.isKeyField()?be.comparator(t.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Nc(u,c):Ae(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Za(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return bD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=new Ot(be.comparator);function Is(){return WK}const FD=new Ot(be.comparator);function hf(...e){let t=FD;for(const n of e)t=t.insert(n.key,n);return t}function BD(e){let t=FD;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Tl(){return Nf()}function UD(){return Nf()}function Nf(){return new lu(e=>e.toString(),(e,t)=>e.isEqual(t))}const HK=new Ot(be.comparator),KK=new dn(be.comparator);function Ue(...e){let t=KK;for(const n of e)t=t.add(n);return t}const qK=new dn(Be);function GK(){return qK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gg(t)?"-0":t}}function WD(e){return{integerValue:""+e}}function ZK(e,t){return wK(t)?WD(t):NE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this._=void 0}}function YK(e,t,n){return e instanceof ch?function(i,o){const s={fields:{[SD]:{stringValue:PD},[AD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&CE(o)&&(o=jy(o)),o&&(s.fields[TD]=o),{mapValue:s}}(n,t):e instanceof dh?KD(e,t):e instanceof fh?qD(e,t):function(i,o){const s=HD(i,o),l=tI(s)+tI(i.Ae);return Ww(s)&&Ww(i.Ae)?WD(l):NE(i.serializer,l)}(e,t)}function XK(e,t,n){return e instanceof dh?KD(e,t):e instanceof fh?qD(e,t):n}function HD(e,t){return e instanceof Jg?function(r){return Ww(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class ch extends Vy{}class dh extends Vy{constructor(t){super(),this.elements=t}}function KD(e,t){const n=GD(t);for(const r of e.elements)n.some(i=>Ro(i,r))||n.push(r);return{arrayValue:{values:n}}}class fh extends Vy{constructor(t){super(),this.elements=t}}function qD(e,t){let n=GD(t);for(const r of e.elements)n=n.filter(i=>!Ro(i,r));return{arrayValue:{values:n}}}class Jg extends Vy{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tI(e){return Ht(e.integerValue||e.doubleValue)}function GD(e){return IE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(t,n){this.field=t,this.transform=n}}function JK(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof dh&&i instanceof dh||r instanceof fh&&i instanceof fh?Oc(r.elements,i.elements,Ro):r instanceof Jg&&i instanceof Jg?Ro(r.Ae,i.Ae):r instanceof ch&&i instanceof ch}(e.transform,t.transform)}class eq{constructor(t,n){this.version=t,this.transformResults=n}}class Ki{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ki}static exists(t){return new Ki(void 0,t)}static updateTime(t){return new Ki(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function og(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $y{}function ZD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new XD(e.key,Ki.none()):new qh(e.key,e.data,Ki.none());{const n=e.data,r=Er.empty();let i=new dn(jn.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ya(e.key,r,new Ur(i.toArray()),Ki.none())}}function tq(e,t,n){e instanceof qh?function(i,o,s){const l=i.value.clone(),u=rI(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Ya?function(i,o,s){if(!og(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=rI(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(YD(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Rf(e,t,n,r){return e instanceof qh?function(o,s,l,u){if(!og(o.precondition,s))return l;const c=o.value.clone(),f=iI(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ya?function(o,s,l,u){if(!og(o.precondition,s))return l;const c=iI(o.fieldTransforms,u,s),f=s.data;return f.setAll(YD(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(o,s,l){return og(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(e,t,n)}function nq(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=HD(r.transform,i||null);o!=null&&(n===null&&(n=Er.empty()),n.set(r.field,o))}return n||null}function nI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oc(r,i,(o,s)=>JK(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qh extends $y{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ya extends $y{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function rI(e,t,n){const r=new Map;tt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,l=t.data.field(o.field);r.set(o.field,XK(s,l,n[i]))}return r}function iI(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,YK(o,s,t))}return r}class XD extends $y{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rq extends $y{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&tq(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Rf(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Rf(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=UD();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=ZD(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ue())}isEqual(t){return this.batchId===t.batchId&&Oc(this.mutations,t.mutations,(n,r)=>nI(n,r))&&Oc(this.baseMutations,t.baseMutations,(n,r)=>nI(n,r))}}class RE{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){tt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return HK}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new RE(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,qe;function aq(e){switch(e){case Y.OK:return Ae(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ae(15467,{code:e})}}function QD(e){if(e===void 0)return Cs("GRPC error has no .code"),Y.UNKNOWN;switch(e){case Yt.OK:return Y.OK;case Yt.CANCELLED:return Y.CANCELLED;case Yt.UNKNOWN:return Y.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Y.INTERNAL;case Yt.UNAVAILABLE:return Y.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Y.NOT_FOUND;case Yt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Yt.ABORTED:return Y.ABORTED;case Yt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Yt.DATA_LOSS:return Y.DATA_LOSS;default:return Ae(39323,{code:e})}}(qe=Yt||(Yt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=new Ia([4294967295,4294967295],0);function oI(e){const t=lq().encode(e),n=new dD;return n.update(t),new Uint8Array(n.digest())}function sI(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ia([n,r],0),new Ia([i,o],0)]}class ME{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pf(`Invalid padding: ${n}`);if(r<0)throw new pf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pf(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new pf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ia.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(Ia.fromNumber(r)));return i.compare(uq)===1&&(i=new Ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=oI(t),[r,i]=sI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new ME(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(t){if(this.ge===0)return;const n=oI(t),[r,i]=sI(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Gh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Fy(Ne.min(),i,new Ot(Be),Is(),Ue())}}class Gh{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Gh(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n,r,i){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=i}}class JD{constructor(t,n){this.targetId=t,this.Ce=n}}class eL{constructor(t,n,r=zn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aI{constructor(){this.ve=0,this.Fe=lI(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ue(),n=Ue(),r=Ue();return this.Fe.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:o})}}),new Gh(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=lI()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cq{constructor(t){this.Ge=t,this.ze=new Map,this.je=Is(),this.He=ym(),this.Je=ym(),this.Ze=new Ot(Be)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Ae(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Kw(o))if(r===0){const s=new be(o.path);this.et(n,s,Qn.newNoDocument(s,Ne.min()))}else tt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(t),u=l?this.ct(l,t,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=za(r).toUint8Array()}catch(u){if(u instanceof ED)return Gl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ME(s,i,o)}catch(u){return Gl(u instanceof pf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(l)||(this.et(n,o,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((o,s)=>{const l=this.ot(s);if(l){if(o.current&&Kw(l.target)){const u=new be(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Qn.newNoDocument(u,t))}o.Be&&(n.set(s,o.ke()),o.Ke())}});let r=Ue();this.Je.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(t));const i=new Fy(t,n,this.Ze,this.je,r);return this.je=Is(),this.He=ym(),this.Je=ym(),this.Ze=new Ot(Be),i}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new aI,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new dn(Be),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new dn(Be),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aI),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ym(){return new Ot(be.comparator)}function lI(){return new Ot(be.comparator)}const dq={asc:"ASCENDING",desc:"DESCENDING"},fq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hq={and:"AND",or:"OR"};class pq{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zw(e,t){return e.useProto3Json||My(t)?t:{value:t}}function ev(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tL(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mq(e,t){return ev(e,t.toTimestamp())}function ko(e){return tt(!!e,49232),Ne.fromTimestamp(function(n){const r=La(n);return new Oe(r.seconds,r.nanos)}(e))}function jE(e,t){return Yw(e,t).canonicalString()}function Yw(e,t){const n=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function nL(e){const t=pt.fromString(e);return tt(aL(t),10190,{key:t.toString()}),t}function Xw(e,t){return jE(e.databaseId,t.path)}function sx(e,t){const n=nL(t);if(n.get(1)!==e.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(iL(n))}function rL(e,t){return jE(e.databaseId,t)}function gq(e){const t=nL(e);return t.length===4?pt.emptyPath():iL(t)}function Qw(e){return new pt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iL(e){return tt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function uI(e,t,n){return{name:Xw(e,t),fields:n.value.mapValue.fields}}function vq(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ae(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(tt(f===void 0||typeof f=="string",58123),zn.fromBase64String(f||"")):(tt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),zn.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(c){const f=c.code===void 0?Y.UNKNOWN:QD(c.code);return new le(f,c.message||"")}(s);n=new eL(r,i,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sx(e,r.document.name),o=ko(r.document.updateTime),s=r.document.createTime?ko(r.document.createTime):Ne.min(),l=new Er({mapValue:{fields:r.document.fields}}),u=Qn.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new sg(c,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sx(e,r.document),o=r.readTime?ko(r.readTime):Ne.min(),s=Qn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new sg([],l,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sx(e,r.document),o=r.removedTargetIds||[];n=new sg([],o,i,null)}else{if(!("filter"in t))return Ae(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new sq(i,o),l=r.targetId;n=new JD(l,s)}}return n}function yq(e,t){let n;if(t instanceof qh)n={update:uI(e,t.key,t.value)};else if(t instanceof XD)n={delete:Xw(e,t.key)};else if(t instanceof Ya)n={update:uI(e,t.key,t.data),updateMask:Aq(t.fieldMask)};else{if(!(t instanceof rq))return Ae(16599,{dt:t.type});n={verify:Xw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof ch)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Jg)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw Ae(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:mq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)}(e,t.precondition)),n}function _q(e,t){return e&&e.length>0?(tt(t!==void 0,14353),e.map(n=>function(i,o){let s=i.updateTime?ko(i.updateTime):ko(o);return s.isEqual(Ne.min())&&(s=ko(o)),new eq(s,i.transformResults||[])}(n,t))):[]}function xq(e,t){return{documents:[rL(e,t.path)]}}function wq(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rL(e,i);const o=function(c){if(c.length!==0)return sL(Xi.create(c,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:Wu(p.field),direction:Pq(p.dir)}}(f))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Zw(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function bq(e){let t=gq(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:t=t.child(f.collectionId)}let o=[];n.where&&(o=function(h){const p=oL(h);return p instanceof Xi&&MD(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(x){return new Qg(Hu(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,My(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,v=h.values||[];return new Xg(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,v=h.values||[];return new Xg(v,p)}(n.endAt)),VK(t,i,s,o,l,"F",u,c)}function Eq(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function oL(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hu(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hu(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hu(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hu(n.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(e):e.fieldFilter!==void 0?function(n){return Jt.create(Hu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Xi.create(n.compositeFilter.filters.map(r=>oL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(e):Ae(30097,{filter:e})}function Pq(e){return dq[e]}function Sq(e){return fq[e]}function Tq(e){return hq[e]}function Wu(e){return{fieldPath:e.canonicalString()}}function Hu(e){return jn.fromServerFormat(e.fieldPath)}function sL(e){return e instanceof Jt?function(n){if(n.op==="=="){if(YC(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NAN"}};if(ZC(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YC(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NAN"}};if(ZC(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(n.field),op:Sq(n.op),value:n.value}}}(e):e instanceof Xi?function(n){const r=n.getFilters().map(i=>sL(i));return r.length===1?r[0]:{compositeFilter:{op:Tq(n.op),filters:r}}}(e):Ae(54877,{filter:e})}function Aq(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function aL(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function lL(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n,r,i,o=Ne.min(),s=Ne.min(),l=zn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new ga(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(t){this.yt=t}}function Iq(e){const t=bq({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Gw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(){this.Sn=new Oq}addToCollectionParentIndex(t,n){return this.Sn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Da.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Da.min())}updateCollectionGroup(t,n,r){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class Oq{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new dn(pt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new dn(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uL=41943040;class wr{static withCacheSize(t){return new wr(t,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(uL,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Mc(0)}static ar(){return new Mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="LruGarbageCollector",Nq=1048576;function fI([e,t],[n,r]){const i=Be(e,n);return i===0?Be(t,r):i}class Rq{constructor(t){this.Pr=t,this.buffer=new dn(fI),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mq{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){fe(dI,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nd(n)?fe(dI,"Ignoring IndexedDB error during garbage collection: ",n):await td(n)}await this.Ar(3e5)})}}class jq{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(Ry.ce);const r=new Rq(n);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(cI)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,i,o,s,l,u,c;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(r=h,l=Date.now(),this.removeTargets(t,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(h=>(c=Date.now(),Bu()<=Fe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function Dq(e,t){return new jq(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this.changes=new lu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Rf(r.mutation,i,Ur.empty(),Oe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ue()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ue()){const i=Tl();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=hf();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Tl();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ue()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(t,n,r,i){let o=Is();const s=Nf(),l=function(){return Nf()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ya)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Rf(f.mutation,c,f.mutation.getFieldMask(),Oe.now())):s.set(c.key,Ur.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>l.set(c,new zq(f,s.get(c)??null))),l))}recalculateAndSaveOverlays(t,n){const r=Nf();let i=new Ot((s,l)=>s-l),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Ur.empty();f=l.applyToLocalView(c,f),r.set(u,f);const h=(i.get(l.batchId)||Ue()).add(u);i=i.insert(l.batchId,h)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,h=UD();f.forEach(p=>{if(!o.has(p)){const v=ZD(n.get(p),r.get(p));v!==null&&h.set(p,v),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,h))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return $K(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):Q.resolve(Tl());let l=sh,u=o;return s.next(c=>Q.forEach(c,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),o.get(f)?Q.resolve():this.remoteDocumentCache.getEntry(t,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,u,c,Ue())).next(f=>({batchId:l,changes:BD(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new be(n)).next(r=>{let i=hf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=hf();return this.indexManager.getCollectionParents(t,o).next(l=>Q.forEach(l,u=>{const c=function(h,p){return new Kh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(f=>{f.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,Qn.newInvalidDocument(f)))});let l=hf();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&Rf(f.mutation,c,Ur.empty(),Oe.now()),zy(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Q.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ko(i.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(i){return{name:i.name,query:Iq(i.bundledQuery),readTime:ko(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.overlays=new Ot(be.comparator),this.Lr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Tl();return Q.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.bt(t,n,o)}),Q.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),Q.resolve()}getOverlaysForCollection(t,n,r){const i=Tl(),o=n.length+1,s=new be(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Ot((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=Tl(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Tl(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return Q.resolve(l)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oq(n,r));let o=this.Lr.get(n);o===void 0&&(o=Ue(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.kr=new dn(_n.Kr),this.qr=new dn(_n.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new _n(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new _n(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new be(new pt([])),r=new _n(n,t),i=new _n(n,t+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new be(new pt([])),r=new _n(n,t),i=new _n(n,t+1);let o=Ue();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new _n(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class _n{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return be.comparator(t.key,n.key)||Be(t.Hr,n.Hr)}static Ur(t,n){return Be(t.Hr,n.Hr)||be.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new dn(_n.Kr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new iq(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new _n(l.key,o)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(t,n){return Q.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?AE:this.Yn-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{const l=this.Zr(s.Hr);o.push(l)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new dn(Be);return n.forEach(i=>{const o=new _n(i,0),s=new _n(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],l=>{r=r.add(l.Hr)})}),Q.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const s=new _n(new be(o),0);let l=new dn(Be);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Hr)),!0)},s),Q.resolve(this.Yr(l))}Yr(t){const n=[];return t.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Q.forEach(n.mutations,i=>{const o=new _n(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new _n(n,0),i=this.Jr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(t){this.ti=t,this.docs=function(){return new Ot(be.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(t,n){let r=Is();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Is();const s=n.path,l=new be(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vK(gK(f),r)<=0||(i.has(f.key)||zy(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Ae(9500)}ni(t,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Hq(this)}getSize(t){return Q.resolve(this.size)}}class Hq extends Lq{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(r)}),Q.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(t){this.persistence=t,this.ri=new lu(n=>kE(n),OE),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new DE,this.targetCount=0,this.oi=Mc._r()}forEachTarget(t,n){return this.ri.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Q.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Mc(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.lr(n),Q.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.ri.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return Q.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),Q.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return Q.resolve(r)}containsKey(t,n){return Q.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(t,n){this._i={},this.overlays={},this.ai=new Ry(0),this.ui=!1,this.ui=!0,this.ci=new Bq,this.referenceDelegate=t(this),this.li=new Kq(this),this.indexManager=new kq,this.remoteDocumentCache=function(i){return new Wq(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Cq(n),this.Pi=new $q(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Fq,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new Uq(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){fe("MemoryPersistence","Starting transaction:",t);const i=new qq(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(t,n){return Q.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class qq extends _K{constructor(t){super(),this.currentSequenceNumber=t}}class LE{constructor(t){this.persistence=t,this.Ri=new DE,this.Ai=null}static Vi(t){return new LE(t)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Q.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,r=>{const i=be.fromPath(r);return this.mi(t,i).next(o=>{o||n.removeEntry(i,Ne.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class tv{constructor(t,n){this.persistence=t,this.fi=new lu(r=>bK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Dq(this,n)}static Vi(t,n){return new tv(t,n)}Ti(){}Ii(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return Q.forEach(this.fi,(r,i)=>this.wr(t,r,i).next(o=>o?Q.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(t,s=>this.wr(t,s,n).next(l=>{l||(r++,o.removeEntry(s,Ne.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Q.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=rg(t.data.value)),n}wr(t,n,r){return Q.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.fi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=i}static Es(t,n){let r=Ue(),i=Ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new zE(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return P8()?8:xK(nr())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.gs(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Gq;return this.ys(t,n,s).next(l=>{if(o.result=l,this.As)return this.ws(t,n,s,l.size)})}).next(()=>o.result)}ws(t,n,r,i){return r.documentReadCount<this.Vs?(Bu()<=Fe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(Bu()<=Fe.DEBUG&&fe("QueryEngine","Query:",Uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Bu()<=Fe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Io(n))):Q.resolve())}gs(t,n){if(eI(n))return Q.resolve(null);let r=Io(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gw(n,null,"F"),r=Io(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=Ue(...o);return this.fs.getDocuments(t,s).next(l=>this.indexManager.getMinOffset(t,r).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,s,u.readTime)?this.gs(t,Gw(n,null,"F")):this.Ds(t,c,n,u)}))})))}ps(t,n,r,i){return eI(n)||i.isEqual(Ne.min())?Q.resolve(null):this.fs.getDocuments(t,r).next(o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?Q.resolve(null):(Bu()<=Fe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uu(n)),this.Ds(t,s,n,mK(i,sh)).next(l=>l))})}bs(t,n){let r=new dn($D(t));return n.forEach((i,o)=>{zy(t,o)&&(r=r.add(o))}),r}Ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(t,n,r){return Bu()<=Fe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Uu(n)),this.fs.getDocumentsMatchingQuery(t,n,Da.min(),r)}Ds(t,n,r,i){return this.fs.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="LocalStore",Yq=3e8;class Xq{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.vs=new Ot(Be),this.Fs=new lu(o=>kE(o),OE),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Vq(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function Qq(e,t,n,r){return new Xq(e,t,n,r)}async function dL(e,t){const n=Re(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=Ue();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:l}))})})}function Jq(e,t){const n=Re(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const h=c.batch,p=h.keys();let v=Q.resolve();return p.forEach(x=>{v=v.next(()=>f.getEntry(u,x)).next(b=>{const E=c.docVersions.get(x);tt(E!==null,48541),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),f.addEntry(b)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ue();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function fL(e){const t=Re(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function eG(e,t){const n=Re(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];t.targetChanges.forEach((f,h)=>{const p=i.get(h);if(!p)return;l.push(n.li.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.li.addMatchingKeys(o,f.addedDocuments,h)));let v=p.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(h)!==null?v=v.withResumeToken(zn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(h,v),function(b,E,P){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Yq?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(p,v,f)&&l.push(n.li.updateTargetData(o,v))});let u=Is(),c=Ue();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(tG(o,s,t.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!r.isEqual(Ne.min())){const f=n.li.getLastRemoteSnapshotVersion(o).next(h=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return Q.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.vs=i,o))}function tG(e,t,n){let r=Ue(),i=Ue();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Is();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ne.min())?(t.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),s=s.insert(l,u)):fe(VE,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function nG(e,t){const n=Re(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=AE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function rG(e,t){const n=Re(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,t).next(o=>o?(i=o,Q.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new ga(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r})}async function Jw(e,t,n){const r=Re(e),i=r.vs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!nd(s))throw s;fe(VE,`Failed to update sequence numbers for target ${t}: ${s}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function hI(e,t,n){const r=Re(e);let i=Ne.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const h=Re(u),p=h.Fs.get(f);return p!==void 0?Q.resolve(h.vs.get(p)):h.li.getTargetData(c,f)}(r,s,Io(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,t,n?i:Ne.min(),n?o:Ue())).next(l=>(iG(r,BK(t),l),{documents:l,ks:o})))}function iG(e,t,n){let r=e.Ms.get(t)||Ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Ms.set(t,r)}class pI{constructor(){this.activeTargetIds=GK()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oG{constructor(){this.vo=new pI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new pI,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="ConnectivityMonitor";class gI{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(mI,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){fe(mI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m=null;function eb(){return _m===null?_m=function(){return 268435456+Math.round(2147483648*Math.random())}():_m++,"0x"+_m.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="RestConnection",aG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lG{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Zg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,o){const s=eb(),l=this.Qo(t,n.toUriEncodedString());fe(ax,`Sending RPC '${t}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);const{host:c}=new URL(l),f=qa(c);return this.zo(t,l,u,r,f).then(h=>(fe(ax,`Received RPC '${t}' ${s}: `,h),h),h=>{throw Gl(ax,`RPC '${t}' ${s} failed with error: `,h,"url: ",l,"request:",r),h})}jo(t,n,r,i,o,s){return this.Wo(t,n,r,i,o)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ed}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}Qo(t,n){const r=aG[t];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection",qd=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class vc extends lG{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!vc.c_){const t=mD();qd(t,pD.STAT_EVENT,n=>{n.stat===Fw.PROXY?fe(qn,"STAT_EVENT: detected buffering proxy"):n.stat===Fw.NOPROXY&&fe(qn,"STAT_EVENT: detected no buffering proxy")}),vc.c_=!0}}zo(t,n,r,i,o){const s=eb();return new Promise((l,u)=>{const c=new fD;c.setWithCredentials(!0),c.listenOnce(hD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ng.NO_ERROR:const h=c.getResponseJson();fe(qn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(h)),l(h);break;case ng.TIMEOUT:fe(qn,`RPC '${t}' ${s} timed out`),u(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ng.HTTP_ERROR:const p=c.getStatus();if(fe(qn,`RPC '${t}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const b=function(P){const T=P.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(T)>=0?T:Y.UNKNOWN}(x.status);u(new le(b,x.message))}else u(new le(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new le(Y.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{fe(qn,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(i);fe(qn,`RPC '${t}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}T_(t,n,r){const i=eb(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");fe(qn,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,p=!1;const v=new uG({Ho:x=>{p?fe(qn,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(h||(fe(qn,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),fe(qn,`RPC '${t}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return qd(f,ff.EventType.OPEN,()=>{p||(fe(qn,`RPC '${t}' stream ${i} transport opened.`),v.i_())}),qd(f,ff.EventType.CLOSE,()=>{p||(p=!0,fe(qn,`RPC '${t}' stream ${i} transport closed`),v.o_(),this.E_(f))}),qd(f,ff.EventType.ERROR,x=>{p||(p=!0,Gl(qn,`RPC '${t}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),v.o_(new le(Y.UNAVAILABLE,"The operation could not be completed")))}),qd(f,ff.EventType.MESSAGE,x=>{var b;if(!p){const E=x.data[0];tt(!!E,16349);const P=E,T=(P==null?void 0:P.error)||((b=P[0])==null?void 0:b.error);if(T){fe(qn,`RPC '${t}' stream ${i} received error:`,T);const C=T.status;let R=function(O){const I=Yt[O];if(I!==void 0)return QD(I)}(C),j=T.message;C==="NOT_FOUND"&&j.includes("database")&&j.includes("does not exist")&&j.includes(this.databaseId.database)&&Gl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),R===void 0&&(R=Y.INTERNAL,j="Unknown error status: "+C+" with message "+T.message),p=!0,v.o_(new le(R,j)),f.close()}else fe(qn,`RPC '${t}' stream ${i} received:`,E),v.__(E)}}),vc.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(e){return new vc(e)}function lx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e){return new pq(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vc.c_=!1;class hL{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="PersistentStream";class pL{constructor(t,n,r,i,o,s,l,u){this.Ci=t,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hL(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return fe(vI,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(fe(vI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dG extends pL{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=vq(this.serializer,t),r=function(o){if(!("targetChange"in o))return Ne.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ne.min():s.readTime?ko(s.readTime):Ne.min()}(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Qw(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Kw(u)?{documents:xq(o,u)}:{query:wq(o,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=tL(o,s.resumeToken);const c=Zw(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ne.min())>0){l.readTime=ev(o,s.snapshotVersion.toTimestamp());const c=Zw(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,t);const r=Eq(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Qw(this.serializer),n.removeTarget=t,this.K_(n)}}class fG extends pL{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return tt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,tt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){tt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=_q(t.writeResults,t.commitTime),r=ko(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Qw(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>yq(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{}class pG extends hG{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(t,Yw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Y.UNKNOWN,o.toString())})}jo(t,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.jo(t,Yw(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Y.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function mG(e,t,n,r){return new pG(e,t,n,r)}class gG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class vG{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{uu(this)&&(fe(Zl,"Restarting streams for network reachability change."),await async function(u){const c=Re(u);c.Ea.add(4),await Zh(c),c.Va.set("Unknown"),c.Ea.delete(4),await Uy(c)}(this))})}),this.Va=new gG(r,i)}}async function Uy(e){if(uu(e))for(const t of e.Ra)await t(!0)}async function Zh(e){for(const t of e.Ra)await t(!1)}function mL(e,t){const n=Re(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),UE(n)?BE(n):rd(n).O_()&&FE(n,t))}function $E(e,t){const n=Re(e),r=rd(n);n.Ia.delete(t),r.O_()&&gL(n,t),n.Ia.size===0&&(r.O_()?r.L_():uu(n)&&n.Va.set("Unknown"))}function FE(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ne.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rd(e).Z_(t)}function gL(e,t){e.da.$e(t),rd(e).X_(t)}function BE(e){e.da=new cq({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),rd(e).start(),e.Va.ua()}function UE(e){return uu(e)&&!rd(e).x_()&&e.Ia.size>0}function uu(e){return Re(e).Ea.size===0}function vL(e){e.da=void 0}async function yG(e){e.Va.set("Online")}async function _G(e){e.Ia.forEach((t,n)=>{FE(e,t)})}async function xG(e,t){vL(e),UE(e)?(e.Va.ha(t),BE(e)):e.Va.set("Unknown")}async function wG(e,t,n){if(e.Va.set("Online"),t instanceof eL&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))}(e,t)}catch(r){fe(Zl,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await nv(e,r)}else if(t instanceof sg?e.da.Xe(t):t instanceof JD?e.da.st(t):e.da.tt(t),!n.isEqual(Ne.min()))try{const r=await fL(e.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.da.Tt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.Ia.get(c);f&&o.Ia.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(zn.EMPTY_BYTE_STRING,f.snapshotVersion)),gL(o,u);const h=new ga(f.target,u,c,f.sequenceNumber);FE(o,h)}),o.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(r){fe(Zl,"Failed to raise snapshot:",r),await nv(e,r)}}async function nv(e,t,n){if(!nd(t))throw t;e.Ea.add(1),await Zh(e),e.Va.set("Offline"),n||(n=()=>fL(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{fe(Zl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Uy(e)})}function yL(e,t){return t().catch(n=>nv(e,n,t))}async function Wy(e){const t=Re(e),n=$a(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:AE;for(;bG(t);)try{const i=await nG(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,EG(t,i)}catch(i){await nv(t,i)}_L(t)&&xL(t)}function bG(e){return uu(e)&&e.Ta.length<10}function EG(e,t){e.Ta.push(t);const n=$a(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function _L(e){return uu(e)&&!$a(e).x_()&&e.Ta.length>0}function xL(e){$a(e).start()}async function PG(e){$a(e).ra()}async function SG(e){const t=$a(e);for(const n of e.Ta)t.ea(n.mutations)}async function TG(e,t,n){const r=e.Ta.shift(),i=RE.from(r,t,n);await yL(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Wy(e)}async function AG(e,t){t&&$a(e).Y_&&await async function(r,i){if(function(s){return aq(s)&&s!==Y.ABORTED}(i.code)){const o=r.Ta.shift();$a(r).B_(),await yL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Wy(r)}}(e,t),_L(e)&&xL(e)}async function yI(e,t){const n=Re(e);n.asyncQueue.verifyOperationInProgress(),fe(Zl,"RemoteStore received new credentials");const r=uu(n);n.Ea.add(3),await Zh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uy(n)}async function CG(e,t){const n=Re(e);t?(n.Ea.delete(2),await Uy(n)):t||(n.Ea.add(2),await Zh(n),n.Va.set("Unknown"))}function rd(e){return e.ma||(e.ma=function(n,r,i){const o=Re(n);return o.sa(),new dG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Zo:yG.bind(null,e),Yo:_G.bind(null,e),t_:xG.bind(null,e),J_:wG.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),UE(e)?BE(e):e.Va.set("Unknown")):(await e.ma.stop(),vL(e))})),e.ma}function $a(e){return e.fa||(e.fa=function(n,r,i){const o=Re(n);return o.sa(),new fG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:PG.bind(null,e),t_:AG.bind(null,e),ta:SG.bind(null,e),na:TG.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Wy(e)):(await e.fa.stop(),e.Ta.length>0&&(fe(Zl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,l=new WE(t,n,s,i,o);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HE(e,t){if(Cs("AsyncQueue",`${t}: ${e}`),nd(e))return new le(Y.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{static emptySet(t){return new yc(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=hf(),this.sortedSet=new Ot(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof yc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new yc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.ga=new Ot(be.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ae(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class jc{constructor(t,n,r,i,o,s,l,u,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new jc(t,n,yc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ly(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class kG{constructor(){this.queries=xI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),o=i.queries;i.queries=xI(),o.forEach((s,l)=>{for(const u of l.ba)u.onError(r)})})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function xI(){return new lu(e=>VD(e),Ly)}async function KE(e,t){const n=Re(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Sa()&&t.Da()&&(r=2):(o=new IG,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=HE(s,`Initialization of query '${Uu(t.query)}' failed`);return void t.onError(l)}n.queries.set(i,o),o.ba.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&GE(n)}async function qE(e,t){const n=Re(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(t);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=t.Da()?0:1:!o.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OG(e,t){const n=Re(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ba)l.Fa(i)&&(r=!0);s.wa=i}}r&&GE(n)}function NG(e,t,n){const r=Re(e),i=r.queries.get(t);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(t)}function GE(e){e.Ca.forEach(t=>{t.next()})}var tb,wI;(wI=tb||(tb={})).Ma="default",wI.Cache="cache";class ZE{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new jc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=jc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t){this.key=t}}class bL{constructor(t){this.key=t}}class RG{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=$D(t),this.tu=new yc(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new _I,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((f,h)=>{const p=i.get(f),v=zy(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;p&&v?p.data.isEqual(v.data)?x!==b&&(r.track({type:3,doc:v}),E=!0):this.su(p,v)||(r.track({type:2,doc:v}),E=!0,(u&&this.eu(v,u)>0||c&&this.eu(v,c)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),E=!0):p&&!v&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(l=!0)),E&&(v?(s=s.add(v),o=b?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Ss:l,mutatedKeys:o}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((f,h)=>function(v,x){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:E})}};return b(v)-b(x)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,c=u!==this.Xa;return this.Xa=u,s.length!==0||c?{snapshot:new jc(this.query,t.tu,o,s,t.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _I,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new bL(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new wL(r))}),n}cu(t){this.Za=t.ks,this.Ya=Ue();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const YE="SyncEngine";class MG{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class jG{constructor(t){this.key=t,this.hu=!1}}class DG{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new lu(l=>VD(l),Ly),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(be.comparator),this.Au=new Map,this.Vu=new DE,this.du={},this.mu=new Map,this.fu=Mc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LG(e,t,n=!0){const r=CL(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await EL(r,t,n,!0),i}async function zG(e,t){const n=CL(e);await EL(n,t,!0,!1)}async function EL(e,t,n,r){const i=await rG(e.localStore,Io(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await VG(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&mL(e.remoteStore,i),l}async function VG(e,t,n,r,i){e.pu=(h,p,v)=>async function(b,E,P,T){let C=E.view.ru(P);C.Ss&&(C=await hI(b.localStore,E.query,!1).then(({documents:O})=>E.view.ru(O,C)));const R=T&&T.targetChanges.get(E.targetId),j=T&&T.targetMismatches.get(E.targetId)!=null,$=E.view.applyChanges(C,b.isPrimaryClient,R,j);return EI(b,E.targetId,$.au),$.snapshot}(e,h,p,v);const o=await hI(e.localStore,t,!0),s=new RG(t,o.ks),l=s.ru(o.documents),u=Gh.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=s.applyChanges(l,e.isPrimaryClient,u);EI(e,n,c.au);const f=new MG(t,n,s);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function $G(e,t,n){const r=Re(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Ly(s,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$E(r.remoteStore,i.targetId),nb(r,i.targetId)}).catch(td)):(nb(r,i.targetId),await Jw(r.localStore,i.targetId,!0))}async function FG(e,t){const n=Re(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$E(n.remoteStore,r.targetId))}async function BG(e,t,n){const r=ZG(e);try{const i=await function(s,l){const u=Re(s),c=Oe.now(),f=l.reduce((v,x)=>v.add(x.key),Ue());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Is(),b=Ue();return u.xs.getEntries(v,f).next(E=>{x=E,x.forEach((P,T)=>{T.isValidDocument()||(b=b.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,x)).next(E=>{h=E;const P=[];for(const T of l){const C=nq(T,h.get(T.key).overlayedDocument);C!=null&&P.push(new Ya(T.key,C,OD(C.value.mapValue),Ki.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,P,l)}).next(E=>{p=E;const P=E.applyToLocalDocumentSet(h,b);return u.documentOverlayCache.saveOverlays(v,E.batchId,P)})}).then(()=>({batchId:p.batchId,changes:BD(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.du[s.currentUser.toKey()];c||(c=new Ot(Be)),c=c.insert(l,u),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await Yh(r,i.changes),await Wy(r.remoteStore)}catch(i){const o=HE(i,"Failed to persist write");n.reject(o)}}async function PL(e,t){const n=Re(e);try{const r=await eG(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?tt(s.hu,14607):i.removedDocuments.size>0&&(tt(s.hu,42227),s.hu=!1))}),await Yh(n,r,t)}catch(r){await td(r)}}function bI(e,t,n){const r=Re(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const l=s.view.va(t);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Re(s);u.onlineState=l;let c=!1;u.queries.forEach((f,h)=>{for(const p of h.ba)p.va(l)&&(c=!0)}),c&&GE(u)}(r.eventManager,t),i.length&&r.Pu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function UG(e,t,n){const r=Re(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let s=new Ot(be.comparator);s=s.insert(o,Qn.newNoDocument(o,Ne.min()));const l=Ue().add(o),u=new Fy(Ne.min(),new Map,new Ot(Be),s,l);await PL(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(t),XE(r)}else await Jw(r.localStore,t,!1).then(()=>nb(r,t,n)).catch(td)}async function WG(e,t){const n=Re(e),r=t.batch.batchId;try{const i=await Jq(n.localStore,t);TL(n,r,null),SL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yh(n,i)}catch(i){await td(i)}}async function HG(e,t,n){const r=Re(e);try{const i=await function(s,l){const u=Re(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(h=>(tt(h!==null,37113),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,t);TL(r,t,n),SL(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yh(r,i)}catch(i){await td(i)}}function SL(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function TL(e,t,n){const r=Re(e);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function nb(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(r=>{e.Vu.containsKey(r)||AL(e,r)})}function AL(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&($E(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),XE(e))}function EI(e,t,n){for(const r of n)r instanceof wL?(e.Vu.addReference(r.key,t),KG(e,r)):r instanceof bL?(fe(YE,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||AL(e,r.key)):Ae(19791,{wu:r})}function KG(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(fe(YE,"New document in limbo: "+n),e.Eu.add(r),XE(e))}function XE(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new be(pt.fromString(t)),r=e.fu.next();e.Au.set(r,new jG(n)),e.Ru=e.Ru.insert(n,r),mL(e.remoteStore,new ga(Io(Dy(n.path)),r,"TargetPurposeLimboResolution",Ry.ce))}}async function Yh(e,t,n){const r=Re(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{s.push(r.pu(u,t,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=zE.Es(u.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(u,c){const f=Re(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.Ts,v=>f.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>Q.forEach(p.Is,v=>f.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!nd(h))throw h;fe(VE,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const v=f.vs.get(p),x=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(p,b)}}}(r.localStore,o))}async function qG(e,t){const n=Re(e);if(!n.currentUser.isEqual(t)){fe(YE,"User change. New user:",t.toKey());const r=await dL(n.localStore,t);n.currentUser=t,function(o,s){o.mu.forEach(l=>{l.forEach(u=>{u.reject(new le(Y.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yh(n,r.Ns)}}function GG(e,t){const n=Re(e),r=n.Au.get(t);if(r&&r.hu)return Ue().add(r.key);{let i=Ue();const o=n.Iu.get(t);if(!o)return i;for(const s of o){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function CL(e){const t=Re(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UG.bind(null,t),t.Pu.J_=OG.bind(null,t.eventManager),t.Pu.yu=NG.bind(null,t.eventManager),t}function ZG(e){const t=Re(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HG.bind(null,t),t}class rv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=By(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Qq(this.persistence,new Zq,t.initialUser,this.serializer)}Cu(t){return new cL(LE.Vi,this.serializer)}Du(t){return new oG}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rv.provider={build:()=>new rv};class YG extends rv{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){tt(this.persistence.referenceDelegate instanceof tv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Mq(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new cL(r=>tv.Vi(r,n),this.serializer)}}class rb{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qG.bind(null,this.syncEngine),await CG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new kG}()}createDatastore(t){const n=By(t.databaseInfo.databaseId),r=cG(t.databaseInfo);return mG(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,l){return new vG(r,i,o,s,l)}(this.localStore,this.datastore,t.asyncQueue,n=>bI(this.syncEngine,n,0),function(){return gI.v()?new gI:new sG}())}createSyncEngine(t,n){return function(i,o,s,l,u,c,f){const h=new DG(i,o,s,l,u,c);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=Re(i);fe(Zl,"RemoteStore shutting down."),o.Ea.add(5),await Zh(o),o.Aa.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}rb.provider={build:()=>new rb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="FirestoreClient";class XG{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Yn.UNAUTHENTICATED,this.clientId=TE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{fe(Fa,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(fe(Fa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=HE(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function ux(e,t){e.asyncQueue.verifyOperationInProgress(),fe(Fa,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dL(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function PI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QG(e);fe(Fa,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>yI(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>yI(t.remoteStore,i)),e._onlineComponents=t}async function QG(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fe(Fa,"Using user provided OfflineComponentProvider");try{await ux(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await ux(e,new rv)}}else fe(Fa,"Using default OfflineComponentProvider"),await ux(e,new YG(void 0));return e._offlineComponents}async function IL(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fe(Fa,"Using user provided OnlineComponentProvider"),await PI(e,e._uninitializedComponentsProvider._online)):(fe(Fa,"Using default OnlineComponentProvider"),await PI(e,new rb))),e._onlineComponents}function JG(e){return IL(e).then(t=>t.syncEngine)}async function iv(e){const t=await IL(e),n=t.eventManager;return n.onListen=LG.bind(null,t.syncEngine),n.onUnlisten=$G.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zG.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FG.bind(null,t.syncEngine),n}function eZ(e,t,n,r){const i=new QE(r),o=new ZE(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>KE(await iv(e),o)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>qE(await iv(e),o))}}function tZ(e,t,n={}){const r=new ys;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new QE({next:p=>{f.Nu(),s.enqueueAndForget(()=>qE(o,h));const v=p.docs.has(l);!v&&p.fromCache?c.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?c.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new ZE(Dy(l.path),f,{includeMetadataChanges:!0,Ka:!0});return KE(o,h)}(await iv(e),e.asyncQueue,t,n,r)),r.promise}function nZ(e,t,n={}){const r=new ys;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new QE({next:p=>{f.Nu(),s.enqueueAndForget(()=>qE(o,h)),p.fromCache&&u.source==="server"?c.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new ZE(l,f,{includeMetadataChanges:!0,Ka:!0});return KE(o,h)}(await iv(e),e.asyncQueue,t,n,r)),r.promise}function rZ(e,t){const n=new ys;return e.asyncQueue.enqueueAndForget(async()=>BG(await JG(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ="ComponentProvider",SI=new Map;function oZ(e,t,n,r,i){return new SK(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,kL(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firestore.googleapis.com",TI=!0;class AI{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OL,this.ssl=TI}else this.host=t.host,this.ssl=t.ssl??TI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uL;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Nq)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kL(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hy{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iK;switch(r.type){case"firstParty":return new lK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SI.get(n);r&&(fe(iZ,"Removing Datastore"),SI.delete(n),r.terminate())}(this),Promise.resolve()}}function sZ(e,t,n,r={}){var c;e=Kr(e,Hy);const i=qa(t),o=e._getSettings(),s={...o,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;i&&(cE(`https://${l}`),dE("Firestore",!0)),o.host!==OL&&o.host!==l&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:l,ssl:i,emulatorOptions:r};if(!Wl(u,s)&&(e._setSettings(u),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Yn.MOCK_USER;else{f=m8(r.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yn(p)}e._authCredentials=new oK(new yD(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new cu(this.firestore,t,this._query)}}class Vt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vt(this.firestore,t,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Hh(n,Vt._jsonSchema))return new Vt(t,r||null,new be(pt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:en("string",Vt._jsonSchemaVersion),referencePath:en("string")};class ka extends cu{constructor(t,n,r){super(t,n,Dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vt(this.firestore,null,new be(t))}withConverter(t){return new ka(this.firestore,t,this._path)}}function En(e,t,...n){if(e=$t(e),_D("collection","path",t),e instanceof Hy){const r=pt.fromString(t,...n);return $C(r),new ka(e,null,r)}{if(!(e instanceof Vt||e instanceof ka))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pt.fromString(t,...n));return $C(r),new ka(e.firestore,null,r)}}function qr(e,t,...n){if(e=$t(e),arguments.length===1&&(t=TE.newId()),_D("doc","path",t),e instanceof Hy){const r=pt.fromString(t,...n);return VC(r),new Vt(e,null,new be(r))}{if(!(e instanceof Vt||e instanceof ka))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pt.fromString(t,...n));return VC(r),new Vt(e.firestore,e instanceof ka?e.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="AsyncQueue";class II{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hL(this,"async_queue_retry"),this._c=()=>{const r=lx();r&&fe(CI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=lx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=lx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ys;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!nd(t))throw t;fe(CI,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",kI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=WE.createAndSchedule(this,t,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:kI(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function kI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ba extends Hy{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new II,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new II(t),this._firestoreClient=void 0,await t}}}function aZ(e,t){const n=typeof e=="object"?e:pE(),r=typeof e=="string"?e:Zg,i=Ay(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Sj("firestore");o&&sZ(i,...o)}return i}function Ky(e){if(e._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lZ(e),e._firestoreClient}function lZ(e){var r,i,o,s;const t=e._freezeSettings(),n=oZ(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(i=e._app)==null?void 0:i.options.apiKey,t);e._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new XG(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yi(zn.fromBase64String(t))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yi(zn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hh(t,yi._jsonSchema))return yi.fromBase64String(t.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:en("string",yi._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Be(this._lat,t._lat)||Be(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oo._jsonSchemaVersion}}static fromJSON(t){if(Hh(t,Oo._jsonSchema))return new Oo(t.latitude,t.longitude)}}Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:en("string",Oo._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hh(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new qi(t.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:en("string",qi._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ=/^__.*__$/;class cZ{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ya(t,this.data,this.fieldMask,n,this.fieldTransforms):new qh(t,this.data,n,this.fieldTransforms)}}class NL{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ya(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function RL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:e})}}class eP{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new eP({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ov(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(RL(this.dataSource)&&uZ.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class dZ{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||By(t)}createContext(t,n,r,i=!1){return new eP({dataSource:t,methodName:n,targetDoc:r,path:jn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(e){const t=e._freezeSettings(),n=By(e._databaseId);return new dZ(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ML(e,t,n,r,i,o={}){const s=e.createContext(o.merge||o.mergeFields?2:0,t,n,i);nP("Data must be an object, but it was:",s,r);const l=jL(r,s);let u,c;if(o.merge)u=new Ur(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const p=Dc(t,h,n);if(!s.contains(p))throw new le(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zL(f,p)||f.push(p)}u=new Ur(f),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new cZ(new Er(l),u,c)}class Zy extends qy{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zy}}class tP extends qy{_toFieldTransform(t){return new QK(t.path,new ch)}isEqual(t){return t instanceof tP}}function fZ(e,t,n,r){const i=e.createContext(1,t,n);nP("Data must be an object, but it was:",i,r);const o=[],s=Er.empty();Za(r,(u,c)=>{const f=LL(t,u,n);c=$t(c);const h=i.childContextForFieldPath(f);if(c instanceof Zy)o.push(f);else{const p=Xh(c,h);p!=null&&(o.push(f),s.set(f,p))}});const l=new Ur(o);return new NL(s,l,i.fieldTransforms)}function hZ(e,t,n,r,i,o){const s=e.createContext(1,t,n),l=[Dc(t,r,n)],u=[i];if(o.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)l.push(Dc(t,o[p])),u.push(o[p+1]);const c=[],f=Er.empty();for(let p=l.length-1;p>=0;--p)if(!zL(c,l[p])){const v=l[p];let x=u[p];x=$t(x);const b=s.childContextForFieldPath(v);if(x instanceof Zy)c.push(v);else{const E=Xh(x,b);E!=null&&(c.push(v),f.set(v,E))}}const h=new Ur(c);return new NL(f,h,s.fieldTransforms)}function pZ(e,t,n,r=!1){return Xh(n,e.createContext(r?4:3,t))}function Xh(e,t){if(DL(e=$t(e)))return nP("Unsupported field value:",t,e),jL(e,t);if(e instanceof qy)return function(r,i){if(!RL(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=Xh(l,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Oe.fromDate(r);return{timestampValue:ev(i.serializer,o)}}if(r instanceof Oe){const o=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ev(i.serializer,o)}}if(r instanceof Oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yi)return{bytesValue:tL(i.serializer,r._byteString)};if(r instanceof Vt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qi)return function(s,l){const u=s instanceof qi?s.toArray():s;return{mapValue:{fields:{[CD]:{stringValue:kD},[Yg]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return NE(l.serializer,f)})}}}}}}(r,i);if(lL(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Ny(r)}`)}(e,t)}function jL(e,t){const n={};return bD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Za(e,(r,i)=>{const o=Xh(i,t.childContextForField(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function DL(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof Oo||e instanceof yi||e instanceof Vt||e instanceof qy||e instanceof qi||lL(e))}function nP(e,t,n){if(!DL(n)||!xD(n)){const r=Ny(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Dc(e,t,n){if((t=$t(t))instanceof JE)return t._internalPath;if(typeof t=="string")return LL(e,t);throw ov("Field path arguments must be of type string or ",e,!1,void 0,n)}const mZ=new RegExp("[~\\*/\\[\\]]");function LL(e,t,n){if(t.search(mZ)>=0)throw ov(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new JE(...t.split("."))._internalPath}catch{throw ov(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ov(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new le(Y.INVALID_ARGUMENT,l+e+u)}function zL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{convertValue(t,n="none"){switch(Va(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(za(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ae(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Za(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var r,i,o;const n=(o=(i=(r=t.fields)==null?void 0:r[Yg].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Ht(s.doubleValue));return new qi(n)}convertGeoPoint(t){return new Oo(Ht(t.latitude),Ht(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=jy(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ah(t));default:return null}}convertTimestamp(t){const n=La(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=pt.fromString(t);tt(aL(r),9688,{name:t});const i=new lh(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends gZ{constructor(t){super(),this.firestore=t}convertBytes(t){return new yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Qh(){return new tP("serverTimestamp")}const OI="@firebase/firestore",NI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Dc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vZ extends VL{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iP{}class yZ extends iP{}function wo(e,t,...n){let r=[];t instanceof iP&&r.push(t),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof oP).length,l=o.filter(u=>u instanceof Yy).length;if(s>1||s>0&&l>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Yy extends yZ{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Yy(t,n,r)}_apply(t){const n=this._parse(t);return FL(t._query,n),new cu(t.firestore,t.converter,qw(t._query,n))}_parse(t){const n=Gy(t.firestore);return function(o,s,l,u,c,f,h){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){jI(h,f);const x=[];for(const b of h)x.push(MI(u,o,b));p={arrayValue:{values:x}}}else p=MI(u,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||jI(h,f),p=pZ(l,s,h,f==="in"||f==="not-in");return Jt.create(c,f,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Gn(e,t,n){const r=t,i=Dc("where",e);return Yy._create(i,r,n)}class oP extends iP{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new oP(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)FL(s,u),s=qw(s,u)}(t._query,n),new cu(t.firestore,t.converter,qw(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MI(e,t,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zD(t)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(pt.fromString(n));if(!be.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GC(e,new be(r))}if(n instanceof Vt)return GC(e,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ny(n)}.`)}function jI(e,t){if(!Array.isArray(e)||e.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FL(e,t){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function BL(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class mf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rl extends VL{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ag(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Dc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Rl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rl._jsonSchema={type:en("string",Rl._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class ag extends Rl{data(t={}){return super.data(t)}}class Ml{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ag(this._firestore,this._userDataWriter,r.key,r,new mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new ag(i._firestore,i._userDataWriter,l.doc.key,l.doc,new mf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new ag(i._firestore,i._userDataWriter,l.doc.key,l.doc,new mf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:_Z(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=TE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _Z(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ml._jsonSchemaVersion="firestore/querySnapshot/1.0",Ml._jsonSchema={type:en("string",Ml._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(e){e=Kr(e,Vt);const t=Kr(e.firestore,Ba),n=Ky(t);return tZ(n,e._key).then(r=>WL(t,e,r))}function UL(e){e=Kr(e,cu);const t=Kr(e.firestore,Ba),n=Ky(t),r=new rP(t);return $L(e._query),nZ(n,e._query).then(i=>new Ml(t,r,e,i))}function DI(e,t,n){e=Kr(e,Vt);const r=Kr(e.firestore,Ba),i=BL(e.converter,t),o=Gy(r);return sP(r,[ML(o,"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Ki.none())])}function Jh(e,t,n,...r){e=Kr(e,Vt);const i=Kr(e.firestore,Ba),o=Gy(i);let s;return s=typeof(t=$t(t))=="string"||t instanceof JE?hZ(o,"updateDoc",e._key,t,n,r):fZ(o,"updateDoc",e._key,t),sP(i,[s.toMutation(e._key,Ki.exists(!0))])}function Xt(e,t){const n=Kr(e.firestore,Ba),r=qr(e),i=BL(e.converter,t),o=Gy(e.firestore);return sP(n,[ML(o,"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Ki.exists(!1))]).then(()=>r)}function ia(e,...t){var c,f,h;e=$t(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||RI(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(RI(t[r])){const p=t[r];t[r]=(c=p.next)==null?void 0:c.bind(p),t[r+1]=(f=p.error)==null?void 0:f.bind(p),t[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let o,s,l;if(e instanceof Vt)s=Kr(e.firestore,Ba),l=Dy(e._key.path),o={next:p=>{t[r]&&t[r](WL(s,e,p))},error:t[r+1],complete:t[r+2]};else{const p=Kr(e,cu);s=Kr(p.firestore,Ba),l=p._query;const v=new rP(s);o={next:x=>{t[r]&&t[r](new Ml(s,v,p,x))},error:t[r+1],complete:t[r+2]},$L(e._query)}const u=Ky(s);return eZ(u,l,i,o)}function sP(e,t){const n=Ky(e);return rZ(n,t)}function WL(e,t,n){const r=n.docs.get(t._key),i=new rP(e);return new Rl(e,i,t._key,r,new mf(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){rK(Qc),Hl(new ja("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Ba(new sK(r.getProvider("auth-internal")),new uK(s,r.getProvider("app-check-internal")),TK(s,i),s);return o={useFetchStreams:n,...o},l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ao(OI,NI,t),Ao(OI,NI,"esm2020")})();var xZ="firebase",wZ="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(xZ,wZ,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ="type.googleapis.com/google.protobuf.Int64Value",EZ="type.googleapis.com/google.protobuf.UInt64Value";function HL(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function sv(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>sv(t));if(typeof e=="function"||typeof e=="object")return HL(e,t=>sv(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Lc(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case bZ:case EZ:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Lc(t)):typeof e=="function"||typeof e=="object"?HL(e,t=>Lc(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sr extends Vo{constructor(t,n,r){super(`${aP}/${t}`,n||""),this.details=r,Object.setPrototypeOf(this,Sr.prototype)}}function PZ(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function av(e,t){let n=PZ(e),r=n,i;try{const o=t&&t.error;if(o){const s=o.status;if(typeof s=="string"){if(!LI[s])return new Sr("internal","internal");n=LI[s],r=s}const l=o.message;typeof l=="string"&&(r=l),i=o.details,i!==void 0&&(i=Lc(i))}}catch{}return n==="ok"?null:new Sr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(t,n,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,$r(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="us-central1",TZ=/^data: (.*?)(?:\n|$)/;function AZ(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Sr("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class CZ{constructor(t,n,r,i,o=ib,s=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new SZ(t,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=ib}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function IZ(e,t,n){const r=qa(t);e.emulatorOrigin=`http${r?"s":""}://${t}:${n}`,r&&(cE(e.emulatorOrigin+"/backends"),dE("Functions",!0))}function kZ(e,t,n){const r=i=>NZ(e,t,i,{});return r.stream=(i,o)=>MZ(e,t,i,o),r}function KL(e){return e.emulatorOrigin&&qa(e.emulatorOrigin)?"include":void 0}async function OZ(e,t,n,r,i){n["Content-Type"]="application/json";let o;try{o=await r(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:KL(i)})}catch{return{status:0,json:null}}let s=null;try{s=await o.json()}catch{}return{status:o.status,json:s}}async function qL(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function NZ(e,t,n,r){const i=e._url(t);return RZ(e,i,n,r)}async function RZ(e,t,n,r){n=sv(n);const i={data:n},o=await qL(e,r),s=r.timeout||7e4,l=AZ(s),u=await Promise.race([OZ(t,i,o,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new Sr("cancelled","Firebase Functions instance was deleted.");const c=av(u.status,u.json);if(c)throw c;if(!u.json)throw new Sr("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Sr("internal","Response is missing data field.");return{data:Lc(f)}}function MZ(e,t,n,r){const i=e._url(t);return jZ(e,i,n,r||{})}async function jZ(e,t,n,r){var p;n=sv(n);const i={data:n},o=await qL(e,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let s;try{s=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(i),headers:o,signal:r==null?void 0:r.signal,credentials:KL(e)})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const b=new Sr("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const x=av(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let l,u;const c=new Promise((v,x)=>{l=v,u=x});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const v=new Sr("cancelled","Request was cancelled.");u(v)});const f=s.body.getReader(),h=DZ(f,l,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const v=h.getReader();return{async next(){const{value:x,done:b}=await v.read();return{value:x,done:b}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:c}}function DZ(e,t,n,r){const i=(s,l)=>{const u=s.match(TZ);if(!u)return;const c=u[1];try{const f=JSON.parse(c);if("result"in f){t(Lc(f.result));return}if("message"in f){l.enqueue(Lc(f.message));return}if("error"in f){const h=av(0,f);l.error(h),n(h);return}}catch(f){if(f instanceof Sr){l.error(f),n(f);return}}},o=new TextDecoder;return new ReadableStream({start(s){let l="";return u();async function u(){if(r!=null&&r.aborted){const c=new Sr("cancelled","Request was cancelled");return s.error(c),n(c),Promise.resolve()}try{const{value:c,done:f}=await e.read();if(f){l.trim()&&i(l.trim(),s),s.close();return}if(r!=null&&r.aborted){const p=new Sr("cancelled","Request was cancelled");s.error(p),n(p),await e.cancel();return}l+=o.decode(c,{stream:!0});const h=l.split(`
`);l=h.pop()||"";for(const p of h)p.trim()&&i(p.trim(),s);return u()}catch(c){const f=c instanceof Sr?c:av(0,null);s.error(f),n(f)}}},cancel(){return e.cancel()}})}const zI="@firebase/functions",VI="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ="auth-internal",zZ="app-check-internal",VZ="messaging-internal";function $Z(e){const t=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(LZ),s=n.getProvider(VZ),l=n.getProvider(zZ);return new CZ(i,o,s,l,r)};Hl(new ja(aP,t,"PUBLIC").setMultipleInstances(!0)),Ao(zI,VI,e),Ao(zI,VI,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(e=pE(),t=ib){const r=Ay($t(e),aP).getImmediate({identifier:t}),i=Sj("functions");return i&&BZ(r,...i),r}function BZ(e,t,n){IZ($t(e),t,n)}function GL(e,t,n){return kZ($t(e),t)}$Z();const UZ={apiKey:"AIzaSyAkYZ-uG8WNVQprkngHkQS7_zamNtjDAF8",authDomain:"dashboard-6f9d1.firebaseapp.com",projectId:"dashboard-6f9d1",storageBucket:"dashboard-6f9d1.firebasestorage.app",messagingSenderId:"1032409154469",appId:"1:1032409154469:web:983c36ebc120cd8618de4c"},lP=kj(UZ),Xy=tK(lP),et=aZ(lP),ZL=FZ(lP),WZ=new as,HZ=async()=>{try{return(await cH(Xy,WZ)).user}catch(e){throw console.error("Error signing in with Google",e),e}},KZ=async e=>{try{const t=qr(et,"users",e);return(await Mf(t)).exists()}catch(t){throw console.error("Error checking if user exists",t),t}},qZ=async(e,t,n,r,i)=>{try{return{agencyId:(await GL(ZL,"agencies-createAgencyAccount")({agencyName:i,userName:n,phone:r})).data.agencyId}}catch(o){throw console.error("Error completing onboarding via Cloud Function",o),o}},GZ=async e=>{try{const t=wo(En(et,"users"),Gn("email","==",e)),n=await UL(t);return n.empty?null:{docId:n.docs[0].id}}catch(t){return console.error("[authService] Error finding user by email:",t),null}},ZZ=async(e,t)=>{const n=qr(et,"users",e);await Jh(n,{uid:t})},YL=_.createContext(void 0);function YZ({children:e}){const[t,n]=_.useState(null),[r,i]=_.useState(null),[o,s]=_.useState(!0),[l,u]=_.useState(!1),c=async h=>{const p=h||(t==null?void 0:t.uid);if(p)try{const v=qr(et,"users",p),x=await Mf(v);x.exists()?(i({uid:p,...x.data()}),u(!1)):(i(null),u(!0))}catch(v){console.error("[AuthContext] Error fetching user document:",v),i(null)}};_.useEffect(()=>UW(Xy,async p=>{if(n(p),p){const v=qr(et,"users",p.uid);if((await Mf(v)).exists())await c(p.uid);else{const b=p.email||"",E=b?await GZ(b):null;if(E){await ZZ(E.docId,p.uid);const P=qr(et,"users",E.docId),T=await Mf(P);T.exists()?(i({uid:p.uid,...T.data()}),u(!1)):u(!0)}else i(null),u(!0)}}else i(null),u(!1);s(!1)}),[]);const f={currentUser:t,userData:r,loading:o,requireOnboarding:l,refreshUserData:c};return y.jsx(YL.Provider,{value:f,children:!o&&e})}function Vs(){const e=_.useContext(YL);if(e===void 0)throw new Error("useAuth must be used within an <AuthProvider>");return e}const XZ=async e=>{try{const t="agency_omer_01";console.log(" Starting database seed..."),await DI(qr(et,"agencies",t),{agencyId:t,name:"Omer Digital Solutions",subscriptionTier:"pro",createdAt:Oe.now()}),console.log(" Agency created"),await DI(qr(et,"users",e),{uid:e,agencyId:t,name:" ",role:"admin",email:"admin@omerdigital.co.il",phone:"054-1234567"}),console.log(" Admin user created");const n=En(et,"properties"),r=await Promise.all([Xt(n,{agencyId:t,agentId:e,address:" 22,  ",type:"sale",price:45e5,status:"active",daysOnMarket:14,exclusivityEndDate:Oe.fromDate(new Date("2026-05-01")),lat:32.0637,lng:34.7745}),Xt(n,{agencyId:t,agentId:e,address:" 15, ",type:"sale",price:82e5,status:"active",daysOnMarket:5,exclusivityEndDate:Oe.fromDate(new Date("2026-04-10")),lat:32.1622,lng:34.8454}),Xt(n,{agencyId:t,agentId:e,address:" 100,  ",type:"rent",price:8500,status:"active",daysOnMarket:2,exclusivityEndDate:null,lat:32.0823,lng:34.7815})]);console.log(" Properties created");const i=En(et,"leads"),o=await Promise.all([Xt(i,{agencyId:t,name:" ",phone:"050-1112223",source:"Facebook",assignedTo:e,createdAt:Oe.now()}),Xt(i,{agencyId:t,name:" ",phone:"052-3334445",source:"Yad2",assignedTo:e,createdAt:Oe.now()}),Xt(i,{agencyId:t,name:" ",phone:"054-5556667",source:"Google",assignedTo:e,createdAt:Oe.now()}),Xt(i,{agencyId:t,name:" ",phone:"053-7778889",source:"Instagram",assignedTo:e,createdAt:Oe.now()}),Xt(i,{agencyId:t,name:" ",phone:"058-9990001",source:"Referral",assignedTo:e,createdAt:Oe.now()})]);console.log(" Leads created");const s=En(et,"deals");await Promise.all([Xt(s,{agencyId:t,propertyId:r[0].id,leadId:o[0].id,agentId:e,stage:"tour",projectedCommission:45e5*.02,updatedAt:Oe.now()}),Xt(s,{agencyId:t,propertyId:r[1].id,leadId:o[1].id,agentId:e,stage:"offer",projectedCommission:82e5*.02,updatedAt:Oe.now()}),Xt(s,{agencyId:t,propertyId:r[0].id,leadId:o[2].id,agentId:e,stage:"contract",projectedCommission:45e5*.02,updatedAt:Oe.now()}),Xt(s,{agencyId:t,propertyId:r[2].id,leadId:o[3].id,agentId:e,stage:"tour",projectedCommission:8500,updatedAt:Oe.now()})]),console.log(" Deals created");const l=En(et,"tasks");await Promise.all([Xt(l,{agencyId:t,agentId:e,title:"    ",isCompleted:!1,dueDate:Oe.fromDate(new Date("2026-02-21")),createdAt:Oe.now()}),Xt(l,{agencyId:t,agentId:e,title:"     - 14:00",isCompleted:!1,dueDate:Oe.fromDate(new Date("2026-02-20")),createdAt:Oe.now()}),Xt(l,{agencyId:t,agentId:e,title:"    ",isCompleted:!0,dueDate:Oe.fromDate(new Date("2026-02-19")),createdAt:Oe.now()})]),console.log(" Tasks created");const u=En(et,"alerts");return await Promise.all([Xt(u,{agencyId:t,targetAgentId:e,message:"        3 ",type:"warning",isRead:!1,createdAt:Oe.now()}),Xt(u,{agencyId:t,targetAgentId:"all",message:"   !    .",type:"info",isRead:!1,createdAt:Oe.now()})]),console.log(" Alerts created"),console.log(" Database seeding completed successfully!"),{success:!0,agencyId:t}}catch(t){return console.error(" Error seeding database:",t),{success:!1,error:t}}};function Xa(){const{userData:e}=Vs(),[t,n]=_.useState([]),[r,i]=_.useState([]),[o,s]=_.useState([]),[l,u]=_.useState([]),[c,f]=_.useState([]),[h,p]=_.useState(!0),[v,x]=_.useState(null);return _.useEffect(()=>{if(!(e!=null&&e.agencyId)){p(!1);return}const b=e.agencyId,E=e.uid;p(!0),x(null);const P=wo(En(et,"properties"),Gn("agencyId","==",b)),T=ia(P,oe=>{n(oe.docs.map(ae=>({id:ae.id,...ae.data()})))},oe=>x(oe)),C=wo(En(et,"deals"),Gn("agencyId","==",b)),R=ia(C,oe=>{i(oe.docs.map(ae=>({id:ae.id,...ae.data()})))},oe=>x(oe)),j=wo(En(et,"tasks"),Gn("agencyId","==",b),Gn("agentId","==",E)),$=ia(j,oe=>{s(oe.docs.map(ae=>({id:ae.id,...ae.data()})))},oe=>x(oe)),O=wo(En(et,"leads"),Gn("agencyId","==",b)),I=ia(O,oe=>{f(oe.docs.map(ae=>({id:ae.id,...ae.data()})))},oe=>x(oe)),N=wo(En(et,"alerts"),Gn("agencyId","==",b),Gn("targetAgentId","==",E),Gn("isRead","==",!1)),z=wo(En(et,"alerts"),Gn("agencyId","==",b),Gn("targetAgentId","==","all"),Gn("isRead","==",!1));let D=[],F=[];const B=()=>{const oe=[...D,...F],ae=new Set,G=oe.filter(ie=>ae.has(ie.id)?!1:(ae.add(ie.id),!0));u(G),p(!1)},ne=ia(N,oe=>{D=oe.docs.map(ae=>({id:ae.id,...ae.data()})),B()},oe=>x(oe)),xe=ia(z,oe=>{F=oe.docs.map(ae=>({id:ae.id,...ae.data()})),B()},oe=>x(oe));return()=>{T(),R(),$(),I(),ne(),xe()}},[e==null?void 0:e.agencyId,e==null?void 0:e.uid]),{properties:t,deals:r,tasks:o,alerts:l,leads:c,loading:h,error:v}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,...c},f)=>_.createElement("svg",{ref:f,...QZ,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${JZ(e)}`,l].join(" "),...c},[...t.map(([h,p])=>_.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=_e("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=_e("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=_e("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=_e("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=_e("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=_e("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=_e("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=_e("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=_e("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=_e("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=_e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=_e("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=_e("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=_e("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RY="properties";async function MY(e,t){return(await Xt(En(et,RY),{...t,agencyId:e,status:"active",daysOnMarket:0,createdAt:Qh()})).id}const jY=[""," ","",""],hl="w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",pl="block text-xs font-semibold text-slate-500 mb-1.5";function DY({isOpen:e,onClose:t}){const{userData:n}=Vs(),[r,i]=_.useState(""),[o,s]=_.useState(""),[l,u]=_.useState("sale"),[c,f]=_.useState(""),[h,p]=_.useState(""),[v,x]=_.useState(""),[b,E]=_.useState(""),[P,T]=_.useState(!1),[C,R]=_.useState(null);if(!e)return null;const j=(I,N=!0)=>{R({msg:I,ok:N}),setTimeout(()=>R(null),3500)},$=()=>{i(""),s(""),u("sale"),f(""),p(""),x(""),E("")},O=async I=>{if(I.preventDefault(),!(n!=null&&n.agencyId))return;const N=parseFloat(h);if(!N||N<=0){j("    ",!1);return}try{T(!0),await MY(n.agencyId,{address:r.trim(),city:o.trim(),type:l,kind:c,price:N,...v?{rooms:parseFloat(v)}:{},...b?{floor:parseFloat(b)}:{},agentId:n.uid}),j("   "),$(),setTimeout(t,1200)}catch(z){(z==null?void 0:z.code)==="permission-denied"?j("   ",!1):j(" ,  ",!1)}finally{T(!1)}};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:t}),y.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",dir:"rtl",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 sticky top-0 bg-white rounded-t-2xl z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-9 h-9 bg-blue-50 rounded-xl flex items-center justify-center",children:y.jsx(ep,{size:18,className:"text-blue-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:"  "}),y.jsx("p",{className:"text-xs text-slate-400",children:"   "})]})]}),y.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:y.jsx(tp,{size:18})})]}),y.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:pl,children:[" ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{value:r,onChange:I=>i(I.target.value),required:!0,placeholder:"  12,  4",className:hl})]}),y.jsxs("div",{children:[y.jsxs("label",{className:pl,children:[" ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{value:o,onChange:I=>s(I.target.value),required:!0,placeholder:" ",className:hl})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsxs("label",{className:pl,children:["  ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsxs("select",{value:l,onChange:I=>u(I.target.value),className:hl,children:[y.jsx("option",{value:"sale",children:""}),y.jsx("option",{value:"rent",children:""})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:pl,children:["  ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("select",{value:c,onChange:I=>f(I.target.value),className:hl,children:jY.map(I=>y.jsx("option",{value:I,children:I},I))})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:pl,children:[" () ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"number",min:"1",value:h,onChange:I=>p(I.target.value),required:!0,placeholder:"1,500,000",className:hl,dir:"ltr"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:pl,children:""}),y.jsx("input",{type:"number",min:"0",step:"0.5",value:v,onChange:I=>x(I.target.value),placeholder:"3.5",className:hl,dir:"ltr"})]}),y.jsxs("div",{children:[y.jsx("label",{className:pl,children:""}),y.jsx("input",{type:"number",min:"0",value:b,onChange:I=>E(I.target.value),placeholder:"4",className:hl,dir:"ltr"})]})]}),C&&y.jsx("div",{className:`text-xs font-medium px-4 py-3 rounded-xl border ${C.ok?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-600 border-red-100"}`,children:C.msg}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),y.jsx("button",{type:"submit",disabled:P||!r||!o||!h,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:P?"...":" "})]})]})]})]})}const LY="leads";async function zY(e,t){return(await Xt(En(et,LY),{...t,agencyId:e,status:"new",assignedTo:t.assignedTo??"",createdAt:Qh()})).id}const VY=["","","","",""],xm="w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",Gd="block text-xs font-semibold text-slate-500 mb-1.5";function $Y({isOpen:e,onClose:t}){const{userData:n}=Vs(),[r,i]=_.useState(""),[o,s]=_.useState(""),[l,u]=_.useState(""),[c,f]=_.useState(""),[h,p]=_.useState(""),[v,x]=_.useState(!1),[b,E]=_.useState(null);if(!e)return null;const P=(R,j=!0)=>{E({msg:R,ok:j}),setTimeout(()=>E(null),3500)},T=()=>{i(""),s(""),u(""),f(""),p("")},C=async R=>{if(R.preventDefault(),!!(n!=null&&n.agencyId))try{x(!0),await zY(n.agencyId,{name:r.trim(),phone:o.trim(),source:l,...c?{desiredCity:c.trim()}:{},...h?{maxBudget:parseFloat(h)}:{},assignedTo:n.uid}),P("   "),T(),setTimeout(t,1200)}catch(j){(j==null?void 0:j.code)==="permission-denied"?P("   ",!1):P(" ,  ",!1)}finally{x(!1)}};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:t}),y.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",dir:"rtl",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-9 h-9 bg-emerald-50 rounded-xl flex items-center justify-center",children:y.jsx(id,{size:18,className:"text-emerald-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:"  "}),y.jsx("p",{className:"text-xs text-slate-400",children:"   "})]})]}),y.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:y.jsx(tp,{size:18})})]}),y.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:Gd,children:["  ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{value:r,onChange:R=>i(R.target.value),required:!0,placeholder:" ",className:xm})]}),y.jsxs("div",{children:[y.jsxs("label",{className:Gd,children:[" ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"tel",value:o,onChange:R=>s(R.target.value),required:!0,placeholder:"050-1234567",className:xm,dir:"ltr"})]}),y.jsxs("div",{children:[y.jsx("label",{className:Gd,children:" "}),y.jsx("div",{className:"flex flex-wrap gap-2",children:VY.map(R=>y.jsx("button",{type:"button",onClick:()=>u(R),className:`text-xs font-semibold px-3 py-1.5 rounded-lg border transition-all ${l===R?"bg-blue-600 text-white border-blue-600":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:R},R))})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:Gd,children:" "}),y.jsx("input",{value:c,onChange:R=>f(R.target.value),placeholder:" ",className:xm})]}),y.jsxs("div",{children:[y.jsx("label",{className:Gd,children:"  ()"}),y.jsx("input",{type:"number",min:"0",value:h,onChange:R=>p(R.target.value),placeholder:"2,500,000",className:xm,dir:"ltr"})]})]}),b&&y.jsx("div",{className:`text-xs font-medium px-4 py-3 rounded-xl border ${b.ok?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-600 border-red-100"}`,children:b.msg}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),y.jsx("button",{type:"submit",disabled:v||!r||!o,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:v?"...":" "})]})]})]})]})}const FY=[{name:" ",href:"/",icon:gY},{name:"",href:"/leads",icon:QL},{name:"",href:"/transactions",icon:t5},{name:"",href:"/properties",icon:ep},{name:"",href:"/agents",icon:c5},{name:"",href:"/settings",icon:AY}];function BY(){const{userData:e,currentUser:t}=Vs(),{alerts:n}=Xa(),r=zh(),[i,o]=_.useState(!1),[s,l]=_.useState(!1),[u,c]=_.useState(!1),[f,h]=_.useState(!1),p=async()=>{if(!t)return;o(!0);const x=await XZ(t.uid);o(!1),x.success?alert("   !      ."):alert("   .   .")},v=async()=>{try{await WW(Xy),r("/login")}catch(x){console.error("Logout error:",x)}};return y.jsxs("div",{className:"min-h-screen bg-slate-50 flex",dir:"rtl",children:[y.jsxs("aside",{className:"w-64 bg-white border-l border-slate-200 flex flex-col fixed inset-y-0 right-0 z-20",children:[y.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-200",children:y.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Omer Digital"})}),y.jsx("nav",{className:"flex-1 px-4 py-6 overflow-y-auto space-y-1",children:FY.map(x=>y.jsxs(_j,{to:x.href,className:({isActive:b})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg font-medium transition-colors ${b?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[y.jsx(x.icon,{className:"w-5 h-5 flex-shrink-0"}),x.name]},x.name))})]}),y.jsxs("div",{className:"flex-1 mr-64 flex flex-col min-h-screen",children:[y.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-10",children:[y.jsx("div",{className:"flex items-center gap-6",children:y.jsxs("h1",{className:"text-lg font-medium text-slate-800",children:[" , ",(e==null?void 0:e.name)||""]})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>h(x=>!x),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2 rounded-xl transition-colors shadow-sm",children:[y.jsx(r5,{size:16}),""]}),f&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),y.jsxs("div",{className:"absolute left-0 top-11 z-20 bg-white rounded-xl shadow-xl border border-slate-100 py-1 min-w-[170px]",children:[y.jsxs("button",{onClick:()=>{l(!0),h(!1)},className:"flex items-center gap-2.5 w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[y.jsx(ep,{size:15,className:"text-blue-500"}),"  "]}),y.jsxs("button",{onClick:()=>{c(!0),h(!1)},className:"flex items-center gap-2.5 w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[y.jsx(QL,{size:15,className:"text-emerald-500"}),"  "]})]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:y.jsx(o5,{className:"h-4 w-4 text-slate-400"})}),y.jsx("input",{type:"text",placeholder:"...",className:"block w-64 pl-3 pr-10 py-2 border border-slate-200 rounded-lg text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-slate-50 transition-all focus:bg-white"})]}),y.jsxs("button",{className:"text-slate-500 hover:text-slate-700 transition-colors relative",children:[y.jsx(XL,{className:"w-5 h-5"}),n.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[9px] font-bold text-white border border-white",children:n.length})]}),y.jsxs("button",{onClick:p,disabled:i,title:"Seed Database (Dev)",className:"flex items-center gap-1.5 text-xs font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 px-2.5 py-1.5 rounded-md disabled:opacity-50 transition-colors",children:[y.jsx(fY,{className:"w-3.5 h-3.5"}),i?"...":"Seed DB"]}),y.jsx("div",{className:"h-8 w-px bg-slate-200 mx-2"}),y.jsxs("button",{onClick:v,className:"flex items-center gap-2 text-slate-600 hover:text-red-600 font-medium text-sm transition-colors",children:[y.jsx(yY,{className:"w-4 h-4"}),y.jsx("span",{children:""})]})]})]}),y.jsx("main",{className:"flex-1 p-8",children:y.jsx(pj,{})})]}),y.jsx(DY,{isOpen:s,onClose:()=>l(!1)}),y.jsx($Y,{isOpen:u,onClose:()=>c(!1)})]})}function UY(){return y.jsx("div",{className:"min-h-screen bg-slate-50 font-sans",dir:"rtl",children:y.jsx("main",{className:"w-full h-full min-h-screen",children:y.jsx(pj,{})})})}function BI({children:e}){const{currentUser:t,loading:n,requireOnboarding:r}=Vs(),i=zs();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:y.jsx(hh,{className:"w-8 h-8 animate-spin text-blue-600"})}):t?r&&i.pathname!=="/onboarding"?y.jsx(Y_,{to:"/onboarding",replace:!0}):!r&&i.pathname==="/onboarding"?y.jsx(Y_,{to:"/",replace:!0}):y.jsx(y.Fragment,{children:e}):y.jsx(Y_,{to:"/login",replace:!0})}class Zd extends _.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("[ErrorBoundary] Caught error:",t,n.componentStack)}render(){var t,n;if(this.state.hasError){const r=(n=(t=this.state.error)==null?void 0:t.message)==null?void 0:n.includes("index");return y.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-8",children:y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center max-w-md w-full",children:[y.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-2xl flex items-center justify-center mx-auto mb-4",children:y.jsx(tY,{size:22,className:"text-red-500"})}),y.jsx("h2",{className:"text-base font-bold text-slate-900",children:this.props.message??"   "}),y.jsx("p",{className:"text-sm text-slate-400 mt-2 mb-6",children:r?"   -Firestore  .     .":"   .   ,    ."}),y.jsxs("button",{onClick:this.handleReset,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl transition-colors",children:[y.jsx(i5,{size:15})," "]})]})})}return this.props.children}}function WY(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[i,o]=_.useState(""),[s,l]=_.useState(!1),[u,c]=_.useState(!1),f=zh(),h=async v=>{v.preventDefault(),o(""),l(!0);try{await $W(Xy,e,n),f("/")}catch(x){console.error("Login error:",x),o("   ")}finally{l(!1)}},p=async()=>{o(""),c(!0);try{const v=await HZ(),x=await KZ(v.uid);f(x?"/":"/onboarding")}catch(v){console.error("Google login error:",v),o("    ")}finally{c(!1)}};return y.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",dir:"rtl",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Omer Digital Solutions"}),y.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:" "})]}),y.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:y.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-slate-200",children:[y.jsxs("form",{className:"space-y-6",onSubmit:h,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:""}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:y.jsx(_Y,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"name@example.com",dir:"ltr"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:""}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:y.jsx(vY,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:v=>r(v.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"",dir:"ltr"})]})]}),i&&y.jsx("div",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:i}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:s||u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?y.jsx(hh,{className:"w-5 h-5 animate-spin"}):"  "})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-slate-500",children:""})})]}),y.jsx("div",{className:"mt-6",children:y.jsx("button",{onClick:p,disabled:s||u,type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-slate-300 rounded-md shadow-sm bg-white text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?y.jsx(hh,{className:"w-5 h-5 animate-spin text-slate-500"}):y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.26H17.92C17.66 15.63 16.88 16.79 15.72 17.57V20.34H19.29C21.37 18.42 22.56 15.6 22.56 12.25Z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23C14.97 23 17.46 22.02 19.29 20.34L15.72 17.57C14.73 18.23 13.48 18.63 12 18.63C9.13 18.63 6.69 16.69 5.81 14.1H2.12V16.96C3.94 20.57 7.67 23 12 23Z",fill:"#34A853"}),y.jsx("path",{d:"M5.81 14.1C5.58 13.41 5.45 12.69 5.45 11.95C5.45 11.21 5.58 10.49 5.81 9.80001V6.94001H2.12C1.37 8.44001 0.95 10.15 0.95 11.95C0.95 13.75 1.37 15.46 2.12 16.96L5.81 14.1Z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.27999C13.62 5.27999 15.07 5.83999 16.21 6.92999L19.38 3.75999C17.45 1.95999 14.97 0.899994 12 0.899994C7.67 0.899994 3.94 3.32999 2.12 6.94001L5.81 9.80001C6.69 7.20001 9.13 5.27999 12 5.27999Z",fill:"#EA4335"})]}),y.jsx("span",{children:"  "})]})})})]})]})})]})}function HY(){const{currentUser:e,refreshUserData:t}=Vs(),n=zh(),[r,i]=_.useState(""),[o,s]=_.useState(""),[l,u]=_.useState(""),[c,f]=_.useState(!1),[h,p]=_.useState("");_.useEffect(()=>{e!=null&&e.displayName&&i(e.displayName)},[e]);const v=async x=>{if(x.preventDefault(),p(""),f(!0),!e){p("   "),f(!1);return}try{await qZ(e.uid,e.email||"",r,o,l),await t(),n("/")}catch(b){console.error("Onboarding error:",b),p("   .   .")}finally{f(!1)}};return y.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",dir:"rtl",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:" !"}),y.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"     "})]}),y.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:y.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-slate-200",children:y.jsxs("form",{className:"space-y-6",onSubmit:v,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700",children:" "}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:y.jsx(OY,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:r,onChange:x=>i(x.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:" "})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700",children:" "}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:y.jsx(TY,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:o,onChange:x=>s(x.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"050-0000000",dir:"ltr"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"agencyName",className:"block text-sm font-medium text-slate-700",children:"  "}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:y.jsx(ep,{className:"h-5 w-5 text-slate-400"})}),y.jsx("input",{id:"agencyName",name:"agencyName",type:"text",required:!0,value:l,onChange:x=>u(x.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:":  "})]})]}),h&&y.jsx("div",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:h}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?y.jsx(hh,{className:"w-5 h-5 animate-spin"}):" "})})]})})})]})}const KY={DollarSign:JL,Users:c5,Handshake:t5,TrendingUp:u5,BarChart3:iY},UI={blue:{icon:"bg-blue-50 text-blue-600",bar:"bg-blue-500",badge:"bg-blue-50 text-blue-700"},emerald:{icon:"bg-emerald-50 text-emerald-600",bar:"bg-emerald-500",badge:"bg-emerald-50 text-emerald-700"},amber:{icon:"bg-amber-50 text-amber-600",bar:"bg-amber-500",badge:"bg-amber-50 text-amber-700"},violet:{icon:"bg-violet-50 text-violet-600",bar:"bg-violet-500",badge:"bg-violet-50 text-violet-700"}};function wm({title:e,value:t,rawValue:n,target:r,change:i,positive:o,subtitle:s,icon:l,color:u}){const c=KY[l]??JL,f=UI[u]??UI.blue,h=Math.min(100,Math.round(n/r*100)),p=h>=70;return y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 flex flex-col gap-4 hover:shadow-md transition-shadow duration-200",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${f.icon}`,children:y.jsx(c,{size:20})}),y.jsxs("span",{className:`inline-flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded-full ${o?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-600"}`,children:[o?y.jsx(u5,{size:11}):y.jsx(l5,{size:11}),i]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:t}),y.jsx("p",{className:"text-sm font-medium text-slate-700 mt-0.5",children:e}),y.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:s})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[y.jsxs("span",{className:"text-xs text-slate-400 font-medium",children:[h,"% "]}),y.jsx("span",{className:`text-xs font-bold ${p?"text-emerald-600":"text-red-500"}`,children:p?" ":" "})]}),y.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${p?f.bar:"bg-red-400"}`,style:{width:`${h}%`}})})]})]})}function d5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=d5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=d5(e))&&(r&&(r+=" "),r+=t);return r}var qY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function dP(e){if(typeof e!="string")return!1;var t=qY;return t.includes(e)}var GY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZY=new Set(GY);function f5(e){return typeof e!="string"?!1:ZY.has(e)}function h5(e){return typeof e=="string"&&e.startsWith("data-")}function Xr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(f5(n)||h5(n))&&(t[n]=e[n]);return t}function zc(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xr(t)}return typeof e=="object"&&!Array.isArray(e)?Xr(e):null}function dr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(f5(n)||h5(n)||dP(n))&&(t[n]=e[n]);return t}function YY(e){return e==null?null:_.isValidElement(e)?dr(e.props):typeof e=="object"&&!Array.isArray(e)?dr(e):null}var XY=["children","width","height","viewBox","className","style","title","desc"];function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}function QY(e,t){if(e==null)return{};var n,r,i=JY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p5=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:l,title:u,desc:c}=e,f=QY(e,XY),h=o||{width:r,height:i,x:0,y:0},p=nt("recharts-surface",s);return _.createElement("svg",sb({},dr(f),{className:p,width:r,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,c),n)}),eX=["children","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function tX(e,t){if(e==null)return{};var n,r,i=nX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vn=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=tX(e,eX),o=nt("recharts-layer",r);return _.createElement("g",ab({className:o},dr(i),{ref:t}),n)}),rX=_.createContext(null);function ht(e){return function(){return e}}const m5=Math.cos,lv=Math.sin,eo=Math.sqrt,uv=Math.PI,Jy=2*uv,lb=Math.PI,ub=2*lb,_l=1e-6,iX=ub-_l;function g5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return g5;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?g5:oX(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=r-t,c=i-n,f=s-t,h=l-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>_l)if(!(Math.abs(h*u-c*f)>_l)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,x=i-l,b=u*u+c*c,E=v*v+x*x,P=Math.sqrt(b),T=Math.sqrt(p),C=o*Math.tan((lb-Math.acos((b+p-E)/(2*P*T)))/2),R=C/T,j=C/P;Math.abs(R-1)>_l&&this._append`L${t+R*f},${n+R*h}`,this._append`A${o},${o},0,0,${+(h*v>f*x)},${this._x1=t+j*u},${this._y1=n+j*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),c=t+l,f=n+u,h=1^s,p=s?i-o:o-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>_l||Math.abs(this._y1-f)>_l)&&this._append`L${c},${f}`,r&&(p<0&&(p=p%ub+ub),p>iX?this._append`A${r},${r},0,1,${h},${t-l},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:p>_l&&this._append`A${r},${r},0,${+(p>=lb)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sX(t)}function hP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function e0(e){return new v5(e)}function y5(e){return e[0]}function _5(e){return e[1]}function x5(e,t){var n=ht(!0),r=null,i=e0,o=null,s=fP(l);e=typeof e=="function"?e:e===void 0?y5:ht(e),t=typeof t=="function"?t:t===void 0?_5:ht(t);function l(u){var c,f=(u=hP(u)).length,h,p=!1,v;for(r==null&&(o=i(v=s())),c=0;c<=f;++c)!(c<f&&n(h=u[c],c,u))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(h,c,u),+t(h,c,u));if(v)return o=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:ht(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:ht(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ht(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function bm(e,t,n){var r=null,i=ht(!0),o=null,s=e0,l=null,u=fP(c);e=typeof e=="function"?e:e===void 0?y5:ht(+e),t=typeof t=="function"?t:ht(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?_5:ht(+n);function c(h){var p,v,x,b=(h=hP(h)).length,E,P=!1,T,C=new Array(b),R=new Array(b);for(o==null&&(l=s(T=u())),p=0;p<=b;++p){if(!(p<b&&i(E=h[p],p,h))===P)if(P=!P)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=v;--x)l.point(C[x],R[x]);l.lineEnd(),l.areaEnd()}P&&(C[p]=+e(E,p,h),R[p]=+t(E,p,h),l.point(r?+r(E,p,h):C[p],n?+n(E,p,h):R[p]))}if(T)return l=null,T+""||null}function f(){return x5().defined(i).curve(s).context(o)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:ht(+h),r=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:ht(+h),c):e},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ht(+h),c):r},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:ht(+h),n=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:ht(+h),c):t},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ht(+h),c):n},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(n)},c.lineX1=function(){return f().x(r).y(t)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ht(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,o!=null&&(l=s(o)),c):s},c.context=function(h){return arguments.length?(h==null?o=l=null:l=s(o=h),c):o},c}class w5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function aX(e){return new w5(e,!0)}function lX(e){return new w5(e,!1)}const pP={draw(e,t){const n=eo(t/uv);e.moveTo(n,0),e.arc(0,0,n,0,Jy)}},uX={draw(e,t){const n=eo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},b5=eo(1/3),cX=b5*2,dX={draw(e,t){const n=eo(t/cX),r=n*b5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fX={draw(e,t){const n=eo(t),r=-n/2;e.rect(r,r,n,n)}},hX=.8908130915292852,E5=lv(uv/10)/lv(7*uv/10),pX=lv(Jy/10)*E5,mX=-m5(Jy/10)*E5,gX={draw(e,t){const n=eo(t*hX),r=pX*n,i=mX*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=Jy*o/5,l=m5(s),u=lv(s);e.lineTo(u*n,-l*n),e.lineTo(l*r-u*i,u*r+l*i)}e.closePath()}},cx=eo(3),vX={draw(e,t){const n=-eo(t/(cx*3));e.moveTo(0,n*2),e.lineTo(-cx*n,-n),e.lineTo(cx*n,-n),e.closePath()}},fi=-.5,hi=eo(3)/2,cb=1/eo(12),yX=(cb/2+1)*3,_X={draw(e,t){const n=eo(t/yX),r=n/2,i=n*cb,o=r,s=n*cb+n,l=-o,u=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(l,u),e.lineTo(fi*r-hi*i,hi*r+fi*i),e.lineTo(fi*o-hi*s,hi*o+fi*s),e.lineTo(fi*l-hi*u,hi*l+fi*u),e.lineTo(fi*r+hi*i,fi*i-hi*r),e.lineTo(fi*o+hi*s,fi*s-hi*o),e.lineTo(fi*l+hi*u,fi*u-hi*l),e.closePath()}};function xX(e,t){let n=null,r=fP(i);e=typeof e=="function"?e:ht(e||pP),t=typeof t=="function"?t:ht(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ht(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ht(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function cv(){}function dv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function P5(e){this._context=e}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wX(e){return new P5(e)}function S5(e){this._context=e}S5.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bX(e){return new S5(e)}function T5(e){this._context=e}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EX(e){return new T5(e)}function A5(e){this._context=e}A5.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PX(e){return new A5(e)}function WI(e){return e<0?-1:1}function HI(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(WI(o)+WI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function KI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function dx(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function fv(e){this._context=e}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dx(this,this._t0,KI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dx(this,KI(this,n=HI(this,e,t)),n);break;default:dx(this,this._t0,n=HI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function C5(e){this._context=new I5(e)}(C5.prototype=Object.create(fv.prototype)).point=function(e,t){fv.prototype.point.call(this,t,e)};function I5(e){this._context=e}I5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function SX(e){return new fv(e)}function TX(e){return new C5(e)}function k5(e){this._context=e}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=qI(e),i=qI(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qI(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function AX(e){return new k5(e)}function t0(e,t){this._context=e,this._t=t}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function CX(e){return new t0(e,.5)}function IX(e){return new t0(e,0)}function kX(e){return new t0(e,1)}function Yl(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,l=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function db(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function OX(e,t){return e[t]}function NX(e){const t=[];return t.key=e,t}function RX(){var e=ht([]),t=db,n=Yl,r=OX;function i(o){var s=Array.from(e.apply(this,arguments),NX),l,u=s.length,c=-1,f;for(const h of o)for(l=0,++c;l<u;++l)(s[l][c]=[0,+r(h,s[l].key,c,o)]).data=h;for(l=0,f=hP(t(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ht(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ht(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?db:typeof o=="function"?o:ht(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Yl,i):n},i}function MX(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Yl(e,t)}}function jX(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Yl(e,t)}}function DX(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,u=0,c=0;l<s;++l){for(var f=e[t[l]],h=f[r][1]||0,p=f[r-1][1]||0,v=(h-p)/2,x=0;x<l;++x){var b=e[t[x]],E=b[r][1]||0,P=b[r-1][1]||0;v+=E-P}u+=h,c+=v*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,Yl(e,t)}}var n0={},O5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(O5);var mP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(mP);var r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(r0);var i0={},N5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(N5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5,n=r0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let l=0,u="",c="",f=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<s;){const h=i[l];c?h==="\\"&&l+1<s?(l++,u+=i[l]):h===c?c="":u+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,o.push(u),u=""):u+=h:h==="["?(f=!0,u&&(o.push(u),u="")):h==="."?u&&(o.push(u),u=""):u+=h,l++}return u&&o.push(u),o}e.toPath=r})(i0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5,n=mP,r=r0,i=i0;function o(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const f=l[u];return f===void 0?n.isDeepKey(u)?o(l,i.toPath(u),c):c:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?c:f}default:{if(Array.isArray(u))return s(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const f=l[u];return f===void 0?c:f}}}function s(l,u,c){if(u.length===0)return c;let f=l;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return c;f=f[u[h]]}return f===void 0?c:f}e.get=o})(n0);var LX=n0.get;const Xl=zo(LX);var zX=4;function va(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zX,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var l=n[s-1];return typeof l=="string"?i+l+o:l!==void 0?i+va(l)+o:i+o},"")}var er=e=>e===0?0:e>0?1:-1,Mo=e=>typeof e=="number"&&e!=+e,Ql=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ge=e=>(typeof e=="number"||e instanceof Number)&&!Mo(e),jo=e=>ge(e)||typeof e=="string",VX=0,ph=e=>{var t=++VX;return"".concat(e||"").concat(t)},Gr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&typeof t!="string")return r;var o;if(Ql(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Mo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},R5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Mn(e,t,n){return ge(e)&&ge(t)?va(e+n*(t-e)):t}function M5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Xl(r,t))===n)}var $n=e=>e===null||typeof e>"u",np=e=>$n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Tr(e){return e!=null}function od(){}var $X=["type","size","sizeType"];function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(null,arguments)}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){FX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FX(e,t,n){return(t=BX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t){if(e==null)return{};var n,r,i=HX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var j5={symbolCircle:pP,symbolCross:uX,symbolDiamond:dX,symbolSquare:fX,symbolStar:gX,symbolTriangle:vX,symbolWye:_X},KX=Math.PI/180,qX=e=>{var t="symbol".concat(np(e));return j5[t]||pP},GX=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*KX;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZX=(e,t)=>{j5["symbol".concat(np(e))]=t},D5=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=WX(e,$X),o=ZI(ZI({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var p=qX(s),v=xX().type(p).size(GX(n,r,s)),x=v();if(x!==null)return x},{className:u,cx:c,cy:f}=o,h=dr(o);return ge(c)&&ge(f)&&ge(n)?_.createElement("path",fb({},h,{className:nt("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(f,")"),d:l()})):null};D5.registerSymbol=ZX;var L5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,gP=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{dP(i)&&(r[i]=o=>n[i](n,o))}),r},YX=(e,t,n)=>r=>(e(t,n,r),null),z5=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];dP(i)&&typeof o=="function"&&(r||(r={}),r[i]=YX(o,t,n))}),r};function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){QX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QX(e,t,n){return(t=JX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JX(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(e,t){var n=XX({},e),r=t,i=Object.keys(t),o=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return o}var V5={},$5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],l=r(s,o,n);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})($5);var F5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(F5);var vP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(vP);var B5={},o0={},U5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(U5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(o0);var W5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(W5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0,n=W5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(B5);var H5={},K5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(K5);var q5={},yP={},G5={},_P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(_P);var xP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(xP);var wP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(wP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P,n=xP,r=wP;function i(f,h,p){return typeof p!="function"?i(f,h,()=>{}):o(f,h,function v(x,b,E,P,T,C){const R=p(x,b,E,P,T,C);return R!==void 0?!!R:o(x,b,v,C)},new Map)}function o(f,h,p,v){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,p,v);case"function":return Object.keys(h).length>0?o(f,{...h},p,v):r.isEqualsSameValueZero(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:r.isEqualsSameValueZero(f,h)}}function s(f,h,p,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,v);if(h instanceof Map)return l(f,h,p,v);if(h instanceof Set)return c(f,h,p,v);const x=Object.keys(h);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===f;v==null||v.set(h,f);try{for(let b=0;b<x.length;b++){const E=x[b];if(!n.isPrimitive(f)&&!(E in f)||h[E]===void 0&&f[E]!==void 0||h[E]===null&&f[E]!==null||!p(f[E],h[E],E,f,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function l(f,h,p,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,b]of h.entries()){const E=f.get(x);if(p(E,b,x,f,h,v)===!1)return!1}return!0}function u(f,h,p,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let b=0;b<h.length;b++){const E=h[b];let P=!1;for(let T=0;T<f.length;T++){if(x.has(T))continue;const C=f[T];let R=!1;if(p(C,E,b,f,h,v)&&(R=!0),R){x.add(T),P=!0;break}}if(!P)return!1}return!0}function c(f,h,p,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,v):!1}e.isMatchWith=i,e.isSetMatch=c})(G5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(yP);var Z5={},bP={},Y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Y5);var s0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(s0);var EP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",f="[object Array]",h="[object Function]",p="[object ArrayBuffer]",v="[object Object]",x="[object Error]",b="[object DataView]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",T="[object Uint16Array]",C="[object Uint32Array]",R="[object BigUint64Array]",j="[object Int8Array]",$="[object Int16Array]",O="[object Int32Array]",I="[object BigInt64Array]",N="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=p,e.arrayTag=f,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=R,e.booleanTag=i,e.dataViewTag=b,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=N,e.float64ArrayTag=z,e.functionTag=h,e.int16ArrayTag=$,e.int32ArrayTag=O,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=T,e.uint32ArrayTag=C,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=P})(EP);var X5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(X5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y5,n=s0,r=EP,i=xP,o=X5;function s(f,h){return l(f,void 0,f,new Map,h)}function l(f,h,p,v=new Map,x=void 0){const b=x==null?void 0:x(f,h,p,v);if(b!==void 0)return b;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const E=new Array(f.length);v.set(f,E);for(let P=0;P<f.length;P++)E[P]=l(f[P],P,p,v,x);return Object.hasOwn(f,"index")&&(E.index=f.index),Object.hasOwn(f,"input")&&(E.input=f.input),E}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const E=new RegExp(f.source,f.flags);return E.lastIndex=f.lastIndex,E}if(f instanceof Map){const E=new Map;v.set(f,E);for(const[P,T]of f)E.set(P,l(T,P,p,v,x));return E}if(f instanceof Set){const E=new Set;v.set(f,E);for(const P of f)E.add(l(P,void 0,p,v,x));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const E=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,E);for(let P=0;P<f.length;P++)E[P]=l(f[P],P,p,v,x);return E}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const E=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,E),u(E,f,p,v,x),E}if(typeof File<"u"&&f instanceof File){const E=new File([f],f.name,{type:f.type});return v.set(f,E),u(E,f,p,v,x),E}if(typeof Blob<"u"&&f instanceof Blob){const E=new Blob([f],{type:f.type});return v.set(f,E),u(E,f,p,v,x),E}if(f instanceof Error){const E=new f.constructor;return v.set(f,E),E.message=f.message,E.name=f.name,E.stack=f.stack,E.cause=f.cause,u(E,f,p,v,x),E}if(f instanceof Boolean){const E=new Boolean(f.valueOf());return v.set(f,E),u(E,f,p,v,x),E}if(f instanceof Number){const E=new Number(f.valueOf());return v.set(f,E),u(E,f,p,v,x),E}if(f instanceof String){const E=new String(f.valueOf());return v.set(f,E),u(E,f,p,v,x),E}if(typeof f=="object"&&c(f)){const E=Object.create(Object.getPrototypeOf(f));return v.set(f,E),u(E,f,p,v,x),E}return f}function u(f,h,p=f,v,x){const b=[...Object.keys(h),...t.getSymbols(h)];for(let E=0;E<b.length;E++){const P=b[E],T=Object.getOwnPropertyDescriptor(f,P);(T==null||T.writable)&&(f[P]=l(h[P],P,p,v,x))}}function c(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(bP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Z5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP,n=Z5;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(q5);var Q5={},J5={},e4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP,n=s0,r=EP;function i(o,s){return t.cloneDeepWith(o,(l,u,c,f)=>{const h=s==null?void 0:s(l,u,c,f);if(h!==void 0)return h;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const p={};return f.set(o,p),t.copyProperties(p,o,c,f),p}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(p,o),p}case r.argumentsTag:{const p={};return t.copyProperties(p,o),p.length=o.length,p[Symbol.iterator]=o[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=i})(e4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e4;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(J5);var t4={},PP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(PP);var n4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(n4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP,n=PP,r=n4,i=i0;function o(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let c=s;for(let f=0;f<u.length;f++){const h=u[f];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}e.has=o})(t4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP,n=r0,r=J5,i=n0,o=t4;function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(c){const f=i.get(c,l);return f===void 0?o.has(c,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=s})(Q5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP,n=K5,r=q5,i=Q5;function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(H5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$5,n=F5,r=vP,i=B5,o=H5;function s(l,u=r.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.ary(o.iteratee(u),1)):[]}e.uniqBy=s})(V5);var tQ=V5.uniqBy;const XI=zo(tQ);function nQ(e,t,n){return t===!0?XI(e,n):typeof t=="function"?XI(e,t):e}var r4={exports:{}},i4={},o4={exports:{}},s4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=_;function rQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iQ=typeof Object.is=="function"?Object.is:rQ,oQ=Vc.useState,sQ=Vc.useEffect,aQ=Vc.useLayoutEffect,lQ=Vc.useDebugValue;function uQ(e,t){var n=t(),r=oQ({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return aQ(function(){i.value=n,i.getSnapshot=t,fx(i)&&o({inst:i})},[e,n,t]),sQ(function(){return fx(i)&&o({inst:i}),e(function(){fx(i)&&o({inst:i})})},[e]),lQ(n),n}function fx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!iQ(e,n)}catch{return!0}}function cQ(e,t){return t()}var dQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cQ:uQ;s4.useSyncExternalStore=Vc.useSyncExternalStore!==void 0?Vc.useSyncExternalStore:dQ;o4.exports=s4;var fQ=o4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=_,hQ=fQ;function pQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mQ=typeof Object.is=="function"?Object.is:pQ,gQ=hQ.useSyncExternalStore,vQ=a0.useRef,yQ=a0.useEffect,_Q=a0.useMemo,xQ=a0.useDebugValue;i4.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=vQ(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=_Q(function(){function u(v){if(!c){if(c=!0,f=v,v=r(v),i!==void 0&&s.hasValue){var x=s.value;if(i(x,v))return h=x}return h=v}if(x=h,mQ(f,v))return x;var b=r(v);return i!==void 0&&i(x,b)?(f=v,x):(f=v,h=b)}var c=!1,f,h,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,i]);var l=gQ(e,o[0],o[1]);return yQ(function(){s.hasValue=!0,s.value=l},[l]),xQ(l),l};r4.exports=i4;var wQ=r4.exports,SP=_.createContext(null),bQ=e=>e,Tt=()=>{var e=_.useContext(SP);return e?e.store.dispatch:bQ},lg=()=>{},EQ=()=>lg,PQ=(e,t)=>e===t;function ye(e){var t=_.useContext(SP),n=_.useMemo(()=>t?r=>{if(r!=null)return e(r)}:lg,[t,e]);return wQ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:EQ,t?t.store.getState:lg,t?t.store.getState:lg,n,PQ)}function SQ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function TQ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function AQ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var QI=e=>Array.isArray(e)?e:[e];function CQ(e){const t=Array.isArray(e[0])?e[0]:e;return AQ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IQ(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var kQ=class{constructor(e){this.value=e}deref(){return this.value}},OQ=typeof WeakRef<"u"?WeakRef:kQ,NQ=0,JI=1;function Em(){return{s:NQ,v:void 0,o:null,p:null}}function a4(e,t={}){let n=Em();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var h;let l=n;const{length:u}=arguments;for(let p=0,v=u;p<v;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const E=b.get(x);E===void 0?(l=Em(),b.set(x,l)):l=E}else{let b=l.p;b===null&&(l.p=b=new Map);const E=b.get(x);E===void 0?(l=Em(),b.set(x,l)):l=E}}const c=l;let f;if(l.s===JI)f=l.v;else if(f=e.apply(null,arguments),o++,r){const p=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;p!=null&&r(p,f)&&(f=p,o!==0&&o--),i=typeof f=="object"&&f!==null||typeof f=="function"?new OQ(f):f}return c.s=JI,c.v=f,f}return s.clearCache=()=>{n=Em(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function RQ(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,l,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),SQ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...n,...u},{memoize:h,memoizeOptions:p=[],argsMemoize:v=a4,argsMemoizeOptions:x=[],devModeChecks:b={}}=f,E=QI(p),P=QI(x),T=CQ(i),C=h(function(){return o++,c.apply(null,arguments)},...E),R=v(function(){s++;const $=IQ(T,arguments);return l=C.apply(null,$),l},...P);return Object.assign(R,{resultFunc:c,memoizedResultFunc:C,dependencies:T,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var K=RQ(a4),MQ=Object.assign((e,t=K)=>{TQ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>MQ}),l4={},u4={},c4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};e.compareValues=n})(c4);var d4={},TP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(d4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c4,n=d4,r=i0;function i(o,s,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const c=(v,x)=>{let b=v;for(let E=0;E<x.length&&b!=null;++E)b=b[x[E]];return b},f=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:c(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?c(x,v):typeof x=="object"?x[v]:x,h=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return o.map(v=>({original:v,criteria:h.map(x=>f(x,v))})).slice().sort((v,x)=>{for(let b=0;b<h.length;b++){const E=t.compareValues(v.criteria[b],x.criteria[b],l[b]);if(E!==0)return E}return 0}).map(v=>v.original)}e.orderBy=i})(u4);var f4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(l,u)=>{for(let c=0;c<l.length;c++){const f=l[c];Array.isArray(f)&&u<o?s(f,u+1):i.push(f)}};return s(n,0),i}e.flatten=t})(f4);var AP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP,n=o0,r=_P,i=wP;function o(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],s):!1}e.isIterateeCall=o})(AP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u4,n=f4,r=AP;function i(o,...s){const l=s.length;return l>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(l4);var jQ=l4.sortBy;const l0=zo(jQ);var h4=e=>e.legend.settings,DQ=e=>e.legend.size,LQ=e=>e.legend.payload;K([LQ,h4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?l0(r,n):r});var Pm=1;function zQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>Pm||Math.abs(s.left-t.left)>Pm||Math.abs(s.top-t.top)>Pm||Math.abs(s.width-t.width)>Pm)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function kn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",ek=VQ,hx=()=>Math.random().toString(36).substring(7).split("").join("."),$Q={INIT:`@@redux/INIT${hx()}`,REPLACE:`@@redux/REPLACE${hx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hx()}`},hv=$Q;function CP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function p4(e,t,n){if(typeof e!="function")throw new Error(kn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kn(1));return n(p4)(e,t)}let r=e,i=t,o=new Map,s=o,l=0,u=!1;function c(){s===o&&(s=new Map,o.forEach((E,P)=>{s.set(P,E)}))}function f(){if(u)throw new Error(kn(3));return i}function h(E){if(typeof E!="function")throw new Error(kn(4));if(u)throw new Error(kn(5));let P=!0;c();const T=l++;return s.set(T,E),function(){if(P){if(u)throw new Error(kn(6));P=!1,c(),s.delete(T),o=null}}}function p(E){if(!CP(E))throw new Error(kn(7));if(typeof E.type>"u")throw new Error(kn(8));if(typeof E.type!="string")throw new Error(kn(17));if(u)throw new Error(kn(9));try{u=!0,i=r(i,E)}finally{u=!1}return(o=s).forEach(T=>{T()}),E}function v(E){if(typeof E!="function")throw new Error(kn(10));r=E,p({type:hv.REPLACE})}function x(){const E=h;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(kn(11));function T(){const R=P;R.next&&R.next(f())}return T(),{unsubscribe:E(T)}},[ek](){return this}}}return p({type:hv.INIT}),{dispatch:p,subscribe:h,getState:f,replaceReducer:v,[ek]:x}}function FQ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:hv.INIT})>"u")throw new Error(kn(12));if(typeof n(void 0,{type:hv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kn(13))})}function m4(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{FQ(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let u=!1;const c={};for(let f=0;f<r.length;f++){const h=r[f],p=n[h],v=s[h],x=p(v,l);if(typeof x>"u")throw l&&l.type,new Error(kn(14));c[h]=x,u=u||x!==v}return u=u||r.length!==Object.keys(s).length,u?c:s}}function pv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function BQ(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(kn(15))};const s={getState:i.getState,dispatch:(u,...c)=>o(u,...c)},l=e.map(u=>u(s));return o=pv(...l)(i.dispatch),{...i,dispatch:o}}}function g4(e){return CP(e)&&"type"in e&&typeof e.type=="string"}var v4=Symbol.for("immer-nothing"),tk=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Vi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wr=Object,$c=Wr.getPrototypeOf,mv="constructor",u0="prototype",hb="configurable",gv="enumerable",ug="writable",mh="value",ks=e=>!!e&&!!e[fr];function Qi(e){var t;return e?y4(e)||d0(e)||!!e[tk]||!!((t=e[mv])!=null&&t[tk])||f0(e)||h0(e):!1}var UQ=Wr[u0][mv].toString(),nk=new WeakMap;function y4(e){if(!e||!IP(e))return!1;const t=$c(e);if(t===null||t===Wr[u0])return!0;const n=Wr.hasOwnProperty.call(t,mv)&&t[mv];if(n===Object)return!0;if(!Ku(n))return!1;let r=nk.get(n);return r===void 0&&(r=Function.toString.call(n),nk.set(n,r)),r===UQ}function c0(e,t,n=!0){rp(e)===0?(n?Reflect.ownKeys(e):Wr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function rp(e){const t=e[fr];return t?t.type_:d0(e)?1:f0(e)?2:h0(e)?3:0}var rk=(e,t,n=rp(e))=>n===2?e.has(t):Wr[u0].hasOwnProperty.call(e,t),pb=(e,t,n=rp(e))=>n===2?e.get(t):e[t],vv=(e,t,n,r=rp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function WQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var d0=Array.isArray,f0=e=>e instanceof Map,h0=e=>e instanceof Set,IP=e=>typeof e=="object",Ku=e=>typeof e=="function",px=e=>typeof e=="boolean";function HQ(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ss=e=>e.copy_||e.base_,kP=e=>e.modified_?e.copy_:e.base_;function mb(e,t){if(f0(e))return new Map(e);if(h0(e))return new Set(e);if(d0(e))return Array[u0].slice.call(e);const n=y4(e);if(t===!0||t==="class_only"&&!n){const r=Wr.getOwnPropertyDescriptors(e);delete r[fr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l[ug]===!1&&(l[ug]=!0,l[hb]=!0),(l.get||l.set)&&(r[s]={[hb]:!0,[ug]:!0,[gv]:l[gv],[mh]:e[s]})}return Wr.create($c(e),r)}else{const r=$c(e);if(r!==null&&n)return{...e};const i=Wr.create(r);return Wr.assign(i,e)}}function OP(e,t=!1){return p0(e)||ks(e)||!Qi(e)||(rp(e)>1&&Wr.defineProperties(e,{set:Sm,add:Sm,clear:Sm,delete:Sm}),Wr.freeze(e),t&&c0(e,(n,r)=>{OP(r,!0)},!1)),e}function KQ(){Vi(2)}var Sm={[mh]:KQ};function p0(e){return e===null||!IP(e)?!0:Wr.isFrozen(e)}var yv="MapSet",gb="Patches",ik="ArrayMethods",_4={};function Jl(e){const t=_4[e];return t||Vi(0,e),t}var ok=e=>!!_4[e],gh,x4=()=>gh,qQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ok(yv)?Jl(yv):void 0,arrayMethodsPlugin_:ok(ik)?Jl(ik):void 0});function sk(e,t){t&&(e.patchPlugin_=Jl(gb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vb(e){yb(e),e.drafts_.forEach(GQ),e.drafts_=null}function yb(e){e===gh&&(gh=e.parent_)}var ak=e=>gh=qQ(gh,e);function GQ(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fr].modified_&&(vb(t),Vi(4)),Qi(e)&&(e=uk(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fr].base_,e,t)}else e=uk(t,n);return ZQ(t,e,!0),vb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==v4?e:void 0}function uk(e,t){if(p0(t))return t;const n=t[fr];if(!n)return _v(t,e.handledSet_,e);if(!m0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);E4(n,e)}return n.copy_}function ZQ(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&OP(t,n)}function w4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var m0=(e,t)=>e.scope_===t,YQ=[];function b4(e,t,n,r){const i=ss(e),o=e.type_;if(r!==void 0&&pb(i,r,o)===t){vv(i,r,n,o);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;c0(i,(u,c)=>{if(ks(c)){const f=l.get(c)||[];f.push(u),l.set(c,f)}})}const s=e.draftLocations_.get(t)??YQ;for(const l of s)vv(i,l,n,o)}function XQ(e,t,n){e.callbacks_.push(function(i){var l;const o=t;if(!o||!m0(o,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(o);const s=kP(o);b4(e,o.draft_??o,s,n),E4(o,i)})}function E4(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}w4(e)}}function QQ(e,t,n){const{scope_:r}=e;if(ks(n)){const i=n[fr];m0(i,r)&&i.callbacks_.push(function(){cg(e);const s=kP(i);b4(e,n,s,t)})}else Qi(n)&&e.callbacks_.push(function(){const o=ss(e);e.type_===3?o.has(n)&&_v(n,r.handledSet_,r):pb(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&_v(pb(e.copy_,t,e.type_),r.handledSet_,r)})}function _v(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ks(e)||t.has(e)||!Qi(e)||p0(e)||(t.add(e),c0(e,(r,i)=>{if(ks(i)){const o=i[fr];if(m0(o,n)){const s=kP(o);vv(e,r,s,e.type_),w4(o)}}else Qi(i)&&_v(i,t,n)})),e}function JQ(e,t){const n=d0(e),r={type_:n?1:0,scope_:t?t.scope_:x4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=xv;n&&(i=[r],o=vh);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,[l,r]}var xv={get(e,t){if(t===fr)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=ss(e);if(!rk(i,t,e.type_))return eJ(e,i,t);const o=i[t];if(e.finalized_||!Qi(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&HQ(t))return o;if(o===mx(e.base_,t)){cg(e);const s=e.type_===1?+t:t,l=xb(e.scope_,o,e,s);return e.copy_[s]=l}return o},has(e,t){return t in ss(e)},ownKeys(e){return Reflect.ownKeys(ss(e))},set(e,t,n){const r=P4(ss(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=mx(ss(e),t),o=i==null?void 0:i[fr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(WQ(n,i)&&(n!==void 0||rk(e.base_,t,e.type_)))return!0;cg(e),_b(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),QQ(e,t,n)),!0},deleteProperty(e,t){return cg(e),mx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),_b(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ss(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ug]:!0,[hb]:e.type_!==1||t!=="length",[gv]:r[gv],[mh]:n[t]}},defineProperty(){Vi(11)},getPrototypeOf(e){return $c(e.base_)},setPrototypeOf(){Vi(12)}},vh={};for(let e in xv){let t=xv[e];vh[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}vh.deleteProperty=function(e,t){return vh.set.call(this,e,t,void 0)};vh.set=function(e,t,n){return xv.set.call(this,e[0],t,n,e[0])};function mx(e,t){const n=e[fr];return(n?ss(n):e)[t]}function eJ(e,t,n){var i;const r=P4(t,n);return r?mh in r?r[mh]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function P4(e,t){if(!(t in e))return;let n=$c(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$c(n)}}function _b(e){e.modified_||(e.modified_=!0,e.parent_&&_b(e.parent_))}function cg(e){e.copy_||(e.assigned_=new Map,e.copy_=mb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ku(n)&&!Ku(r)){const s=r;r=n;const l=this;return function(c=s,...f){return l.produce(c,h=>r.call(this,h,...f))}}Ku(r)||Vi(6),i!==void 0&&!Ku(i)&&Vi(7);let o;if(Qi(n)){const s=ak(this),l=xb(s,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?vb(s):yb(s)}return sk(s,i),lk(o,s)}else if(!n||!IP(n)){if(o=r(n),o===void 0&&(o=n),o===v4&&(o=void 0),this.autoFreeze_&&OP(o,!0),i){const s=[],l=[];Jl(gb).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:l}),i(s,l)}return o}else Vi(1,n)},this.produceWithPatches=(n,r)=>{if(Ku(n))return(l,...u)=>this.produceWithPatches(l,c=>n(c,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},px(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),px(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),px(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Qi(t)||Vi(8),ks(t)&&(t=Gi(t));const n=ak(this),r=xb(n,t,void 0);return r[fr].isManual_=!0,yb(n),r}finishDraft(t,n){const r=t&&t[fr];(!r||!r.isManual_)&&Vi(9);const{scope_:i}=r;return sk(i,n),lk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Jl(gb).applyPatches_;return ks(t)?i(t,n):this.produce(t,o=>i(o,n))}};function xb(e,t,n,r){const[i,o]=f0(t)?Jl(yv).proxyMap_(t,n):h0(t)?Jl(yv).proxySet_(t,n):JQ(t,n);return((n==null?void 0:n.scope_)??x4()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?XQ(n,o,r):o.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(o);const{patchPlugin_:c}=u;o.modified_&&c&&c.generatePatches_(o,[],u)}),i}function Gi(e){return ks(e)||Vi(10,e),S4(e)}function S4(e){if(!Qi(e)||p0(e))return e;const t=e[fr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mb(e,!0);return c0(n,(i,o)=>{vv(n,i,S4(o))},r),t&&(t.finalized_=!1),n}var nJ=new tJ,T4=nJ.produce;function A4(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var rJ=A4(),iJ=A4,oJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pv:pv.apply(null,arguments)};function Si(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Zr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>g4(r)&&r.type===e,n}var C4=class gf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gf.prototype)}static get[Symbol.species](){return gf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gf(...t[0].concat(this)):new gf(...t.concat(this))}};function ck(e){return Qi(e)?T4(e,()=>{}):e}function Tm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function sJ(e){return typeof e=="boolean"}var aJ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new C4;return n&&(sJ(n)?s.push(rJ):s.push(iJ(n.extraArgument))),s},I4="RTK_autoBatch",bt=()=>e=>({payload:e,meta:{[I4]:!0}}),dk=e=>t=>{setTimeout(t,e)},k4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dk(10):e.type==="callback"?e.queueNotification:dk(e.timeout),c=()=>{s=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),p=r.subscribe(h);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[I4]),o=!i,o&&(s||(s=!0,u(c))),r.dispatch(f)}finally{i=!0}}})},lJ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new C4(e);return r&&i.push(k4(typeof r=="object"?r:void 0)),i};function uJ(e){const t=aJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(CP(n))u=m4(n);else throw new Error(Zr(1));let c;typeof r=="function"?c=r(t):c=t();let f=pv;i&&(f=oJ({trace:!1,...typeof i=="object"&&i}));const h=BQ(...c),p=lJ(h);let v=typeof l=="function"?l(p):p();const x=f(...v);return p4(u,s,x)}function O4(e){const t={},n=[];let r;const i={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Zr(28));if(l in t)throw new Error(Zr(29));return t[l]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function cJ(e){return typeof e=="function"}function dJ(e,t){let[n,r,i]=O4(t),o;if(cJ(e))o=()=>ck(e());else{const l=ck(e);o=()=>l}function s(l=o(),u){let c=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,h)=>{if(h)if(ks(f)){const v=h(f,u);return v===void 0?f:v}else{if(Qi(f))return T4(f,p=>h(p,u));{const p=h(f,u);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return s.getInitialState=o,s}var fJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hJ=(e=21)=>{let t="",n=e;for(;n--;)t+=fJ[Math.random()*64|0];return t},pJ=Symbol.for("rtk-slice-createasyncthunk");function mJ(e,t){return`${e}/${t}`}function gJ({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[pJ];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Zr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(yJ()):i.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(R,j){const $=typeof R=="string"?R:R.type;if(!$)throw new Error(Zr(12));if($ in c.sliceCaseReducersByType)throw new Error(Zr(13));return c.sliceCaseReducersByType[$]=j,f},addMatcher(R,j){return c.sliceMatchers.push({matcher:R,reducer:j}),f},exposeAction(R,j){return c.actionCreators[R]=j,f},exposeCaseReducer(R,j){return c.sliceCaseReducersByName[R]=j,f}};u.forEach(R=>{const j=l[R],$={reducerName:R,type:mJ(o,R),createNotation:typeof i.reducers=="function"};xJ(j)?bJ($,j,f,t):_J($,j,f)});function h(){const[R={},j=[],$=void 0]=typeof i.extraReducers=="function"?O4(i.extraReducers):[i.extraReducers],O={...R,...c.sliceCaseReducersByType};return dJ(i.initialState,I=>{for(let N in O)I.addCase(N,O[N]);for(let N of c.sliceMatchers)I.addMatcher(N.matcher,N.reducer);for(let N of j)I.addMatcher(N.matcher,N.reducer);$&&I.addDefaultCase($)})}const p=R=>R,v=new Map,x=new WeakMap;let b;function E(R,j){return b||(b=h()),b(R,j)}function P(){return b||(b=h()),b.getInitialState()}function T(R,j=!1){function $(I){let N=I[R];return typeof N>"u"&&j&&(N=Tm(x,$,P)),N}function O(I=p){const N=Tm(v,j,()=>new WeakMap);return Tm(N,I,()=>{const z={};for(const[D,F]of Object.entries(i.selectors??{}))z[D]=vJ(F,I,()=>Tm(x,I,P),j);return z})}return{reducerPath:R,getSelectors:O,get selectors(){return O($)},selectSlice:$}}const C={name:o,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:P,...T(s),injectInto(R,{reducerPath:j,...$}={}){const O=j??s;return R.inject({reducerPath:O,reducer:E},$),{...C,...T(O,!0)}}};return C}}function vJ(e,t,n,r){function i(o,...s){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var Or=gJ();function yJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function _J({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!wJ(r))throw new Error(Zr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Si(e,s):Si(e))}function xJ(e){return e._reducerDefinitionType==="asyncThunk"}function wJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bJ({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Zr(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:c,options:f}=n,h=i(e,o,f);r.exposeAction(t,h),s&&r.addCase(h.fulfilled,s),l&&r.addCase(h.pending,l),u&&r.addCase(h.rejected,u),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(t,{fulfilled:s||Am,pending:l||Am,rejected:u||Am,settled:c||Am})}function Am(){}var EJ="task",N4="listener",R4="completed",NP="cancelled",PJ=`task-${NP}`,SJ=`task-${R4}`,wb=`${N4}-${NP}`,TJ=`${N4}-${R4}`,g0=class{constructor(e){w_(this,"name","TaskAbortError");w_(this,"message");this.code=e,this.message=`${EJ} ${NP} (reason: ${e})`}},RP=(e,t)=>{if(typeof e!="function")throw new TypeError(Zr(32))},wv=()=>{},M4=(e,t=wv)=>(e.catch(t),e),j4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),jl=e=>{if(e.aborted)throw new g0(e.reason)};function D4(e,t){let n=wv;return new Promise((r,i)=>{const o=()=>i(new g0(e.reason));if(e.aborted){o();return}n=j4(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=wv})}var AJ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof g0?"cancelled":"rejected",error:n}}finally{t==null||t()}},bv=e=>t=>M4(D4(e,t).then(n=>(jl(e),n))),L4=e=>{const t=bv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:_c}=Object,fk={},v0="listenerMiddleware",CJ=(e,t)=>{const n=r=>j4(e,()=>r.abort(e.reason));return(r,i)=>{RP(r);const o=new AbortController;n(o);const s=AJ(async()=>{jl(e),jl(o.signal);const l=await r({pause:bv(o.signal),delay:L4(o.signal),signal:o.signal});return jl(o.signal),l},()=>o.abort(SJ));return i!=null&&i.autoJoin&&t.push(s.catch(wv)),{result:bv(e)(s),cancel(){o.abort(PJ)}}}},IJ=(e,t)=>{const n=async(r,i)=>{jl(t);let o=()=>{};const l=[new Promise((u,c)=>{let f=e({predicate:r,effect:(h,p)=>{p.unsubscribe(),u([h,p.getState(),p.getOriginalState()])}});o=()=>{f(),c()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await D4(t,Promise.race(l));return jl(t),u}finally{o()}};return(r,i)=>M4(n(r,i))},z4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Si(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zr(21));return RP(o),{predicate:i,type:t,effect:o}},V4=_c(e=>{const{type:t,predicate:n,effect:r}=z4(e);return{id:hJ(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>V4}),hk=(e,t)=>{const{type:n,effect:r,predicate:i}=z4(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},bb=e=>{e.pending.forEach(t=>{t.abort(wb)})},kJ=(e,t)=>()=>{for(const n of t.keys())bb(n);e.clear()},pk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},$4=_c(Si(`${v0}/add`),{withTypes:()=>$4}),OJ=Si(`${v0}/removeAll`),F4=_c(Si(`${v0}/remove`),{withTypes:()=>F4}),NJ=(...e)=>{console.error(`${v0}/error`,...e)},ip=(e={})=>{const t=new Map,n=new Map,r=v=>{const x=n.get(v)??0;n.set(v,x+1)},i=v=>{const x=n.get(v)??1;x===1?n.delete(v):n.set(v,x-1)},{extra:o,onError:s=NJ}=e;RP(s);const l=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&bb(v)}),u=v=>{const x=hk(t,v)??V4(v);return l(x)};_c(u,{withTypes:()=>u});const c=v=>{const x=hk(t,v);return x&&(x.unsubscribe(),v.cancelActive&&bb(x)),!!x};_c(c,{withTypes:()=>c});const f=async(v,x,b,E)=>{const P=new AbortController,T=IJ(u,P.signal),C=[];try{v.pending.add(P),r(v),await Promise.resolve(v.effect(x,_c({},b,{getOriginalState:E,condition:(R,j)=>T(R,j).then(Boolean),take:T,delay:L4(P.signal),pause:bv(P.signal),extra:o,signal:P.signal,fork:CJ(P.signal,C),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,j,$)=>{R!==P&&(R.abort(wb),$.delete(R))})},cancel:()=>{P.abort(wb),v.pending.delete(P)},throwIfCancelled:()=>{jl(P.signal)}})))}catch(R){R instanceof g0||pk(s,R,{raisedBy:"effect"})}finally{await Promise.all(C),P.abort(TJ),i(v),v.pending.delete(P)}},h=kJ(t,n);return{middleware:v=>x=>b=>{if(!g4(b))return x(b);if($4.match(b))return u(b.payload);if(OJ.match(b)){h();return}if(F4.match(b))return c(b.payload);let E=v.getState();const P=()=>{if(E===fk)throw new Error(Zr(23));return E};let T;try{if(T=x(b),t.size>0){const C=v.getState(),R=Array.from(t.values());for(const j of R){let $=!1;try{$=j.predicate(b,C,E)}catch(O){$=!1,pk(s,O,{raisedBy:"predicate"})}$&&f(j,b,v,P)}}}finally{E=fk}return T},startListening:u,stopListening:c,clearListeners:h}};function Zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},B4=Or({name:"chartLayout",initialState:RJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:MJ,setLayout:jJ,setChartSize:DJ,setScale:LJ}=B4.actions,zJ=B4.reducer;function U4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function We(e){return Number.isFinite(e)}function Do(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=$J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $J(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wt(e,t,n){return $n(e)||$n(t)?n:jo(t)?Xl(e,t,n):typeof t=="function"?t(e):n}var BJ=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&ge(e[o]))return oc(oc({},e),{},{[o]:e[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&ge(e[s]))return oc(oc({},e),{},{[s]:e[s]+(i||0)})}return e},$o=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",W4=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,o,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||s.push(t),o||s.push(n),s},H4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:f,ticks:h,niceTicks:p,axisType:v}=e;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(b=v==="angleAxis"&&o&&o.length>=2?er(o[0]-o[1])*2*b:b,h||p){var E=(h||p||[]).map((P,T)=>{var C=r?r.indexOf(P):P,R=s.map(C);return We(R)?{coordinate:R+b,value:P,offset:b,index:T}:null}).filter(Tr);return E}return u&&c?c.map((P,T)=>{var C=s.map(P);return We(C)?{coordinate:C+b,value:P,index:T,offset:b}:null}).filter(Tr):s.ticks&&!n&&f!=null?s.ticks(f).map((P,T)=>{var C=s.map(P);return We(C)?{coordinate:C+b,value:P,index:T,offset:b}:null}).filter(Tr):s.domain().map((P,T)=>{var C=s.map(P);return We(C)?{coordinate:C+b,value:r?r[P]:P,index:T,offset:b}:null}).filter(Tr)},UJ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,l=0;l<n;++l){var u=e[l],c=u==null?void 0:u[i];if(c!=null){var f=c[1],h=c[0],p=Mo(f)?h:f;p>=0?(c[0]=o,o+=p,c[1]=o):(c[0]=s,s+=p,c[1]=s)}}}},WJ=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=Mo(u[1])?u[0]:u[1];c>=0?(u[0]=o,o+=c,u[1]=o):(u[0]=0,u[1]=0)}}}},HJ={sign:UJ,expand:MX,none:Yl,silhouette:jX,wiggle:DX,positive:WJ},KJ=(e,t,n)=>{var r,i=(r=HJ[n])!==null&&r!==void 0?r:Yl,o=RX().keys(t).value((l,u)=>Number(wt(l,u,0))).order(db).offset(i),s=o(e);return s.forEach((l,u)=>{l.forEach((c,f)=>{var h=wt(e[f],t[u],0);Array.isArray(h)&&h.length===2&&ge(h[0])&&ge(h[1])&&(c[0]=h[0],c[1]=h[1])})}),s};function qJ(e){return e==null?void 0:String(e)}function gk(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$n(i[t.dataKey])){var l=M5(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var u=wt(i,$n(s)?t.dataKey:s),c=t.scale.map(u);return ge(c)?c:null}var GJ=e=>{var t=e.flat(2).filter(ge);return[Math.min(...t),Math.max(...t)]},ZJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],YJ=(e,t,n)=>{if(e!=null)return ZJ(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,l=s.reduce((u,c)=>{var f=U4(c,t,n),h=GJ(f);return!We(h[0])||!We(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},vk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ev=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=l0(t,f=>f.coordinate),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],c=i[s-1];o=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function _k(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return oc(oc({},t),{},{dataKey:n,payload:r,value:i,name:o})}function y0(e,t){if(e)return String(e);if(typeof t=="string")return t}var XJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},QJ=(e,t)=>t==="centric"?e.angle:e.radius,$s=e=>e.layout.width,Fs=e=>e.layout.height,JJ=e=>e.layout.scale,K4=e=>e.layout.margin,_0=K(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),x0=K(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),q4="data-recharts-item-index",G4="data-recharts-item-id",op=60;function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){eee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eee(e,t,n){return(t=tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tee(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ree=e=>e.brush.height;function iee(e){var t=x0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:op;return n+i}return n},0)}function oee(e){var t=x0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:op;return n+i}return n},0)}function see(e){var t=_0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function aee(e){var t=_0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sn=K([$s,Fs,K4,ree,iee,oee,see,aee,h4,DQ],(e,t,n,r,i,o,s,l,u,c)=>{var f={left:(n.left||0)+i,right:(n.right||0)+o},h={top:(n.top||0)+s,bottom:(n.bottom||0)+l},p=Cm(Cm({},h),f),v=p.bottom;p.bottom+=r,p=BJ(p,u,c);var x=e-p.left-p.right,b=t-p.top-p.bottom;return Cm(Cm({brushBottom:v},p),{},{width:Math.max(x,0),height:Math.max(b,0)})}),lee=K(Sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Z4=K($s,Fs,(e,t)=>({x:0,y:0,width:e,height:t})),uee=_.createContext(null),Nr=()=>_.useContext(uee)!=null,w0=e=>e.brush,b0=K([w0,Sn,K4],(e,t,n)=>({height:e.height,x:ge(e.x)?e.x:t.left,y:ge(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ge(e.width)?e.width:t.width})),Y4={},X4={},Q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,l=null;const u=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},h=()=>{c&&f(),b()};let p=null;const v=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},r)},x=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{x(),s=void 0,l=null},E=()=>{f()},P=function(...T){if(i!=null&&i.aborted)return;s=this,l=T;const C=p==null;v(),u&&C&&f()};return P.schedule=v,P.cancel=b,P.flush=E,i==null||i.addEventListener("abort",b,{once:!0}),P}e.debounce=t})(Q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q4;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:u}=o,c=Array(2);s&&(c[0]="leading"),l&&(c[1]="trailing");let f,h=null;const p=t.debounce(function(...b){f=r.apply(this,b),h=null},i,{edges:c}),v=function(...b){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=r.apply(this,b),h=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},x=()=>(p.flush(),f);return v.cancel=p.cancel,v.flush=x,v}e.debounce=n})(X4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X4;function n(r,i=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(Y4);var cee=Y4.throttle;const dee=zo(cee);var Pv=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Eo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},J4=(e,t,n)=>{var{width:r=Eo.width,height:i=Eo.height,aspect:o,maxHeight:s}=n,l=Ql(r)?e:Number(r),u=Ql(i)?t:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},fee={width:0,height:0,overflow:"visible"},hee={width:0,overflowX:"visible"},pee={height:0,overflowY:"visible"},mee={},gee=e=>{var{width:t,height:n}=e,r=Ql(t),i=Ql(n);return r&&i?fee:r?hee:i?pee:mee};function vee(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=Eo.width,o=Eo.height):i===void 0?i=r&&r>0?void 0:Eo.width:o===void 0&&(o=r&&r>0?void 0:Eo.height),{width:i,height:o}}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){yee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e3=_.createContext(Eo.initialDimension);function wee(e){return Do(e.width)&&Do(e.height)}function t3(e){var{children:t,width:n,height:r}=e,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return wee(i)?_.createElement(e3.Provider,{value:i},t):null}var MP=()=>_.useContext(e3),bee=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Eo.initialDimension,width:i,height:o,minWidth:s=Eo.minWidth,minHeight:l,maxHeight:u,children:c,debounce:f=Eo.debounce,id:h,className:p,onResize:v,style:x={}}=e,b=_.useRef(null),E=_.useRef();E.current=v,_.useImperativeHandle(t,()=>b.current);var[P,T]=_.useState({containerWidth:r.width,containerHeight:r.height}),C=_.useCallback((I,N)=>{T(z=>{var D=Math.round(I),F=Math.round(N);return z.containerWidth===D&&z.containerHeight===F?z:{containerWidth:D,containerHeight:F}})},[]);_.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return od;var I=F=>{var B,ne=F[0];if(ne!=null){var{width:xe,height:oe}=ne.contentRect;C(xe,oe),(B=E.current)===null||B===void 0||B.call(E,xe,oe)}};f>0&&(I=dee(I,f,{trailing:!0,leading:!1}));var N=new ResizeObserver(I),{width:z,height:D}=b.current.getBoundingClientRect();return C(z,D),N.observe(b.current),()=>{N.disconnect()}},[C,f]);var{containerWidth:R,containerHeight:j}=P;Pv(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:O}=J4(R,j,{width:i,height:o,aspect:n,maxHeight:u});return Pv($!=null&&$>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,O,i,o,s,l,n),_.createElement("div",{id:h?"".concat(h):void 0,className:nt("recharts-responsive-container",p),style:bk(bk({},x),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:u}),ref:b},_.createElement("div",{style:gee({width:i,height:o})},_.createElement(t3,{width:$,height:O},c)))}),n3=_.forwardRef((e,t)=>{var n=MP();if(Do(n.width)&&Do(n.height))return e.children;var{width:r,height:i}=vee({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=J4(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ge(o)&&ge(s)?_.createElement(t3,{width:o,height:s},e.children):_.createElement(bee,Eb({},e,{width:r,height:i,ref:t}))});function jP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var E0=()=>{var e,t=Nr(),n=ye(lee),r=ye(b0),i=(e=ye(w0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Eee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},r3=()=>{var e;return(e=ye(Sn))!==null&&e!==void 0?e:Eee},i3=()=>ye($s),o3=()=>ye(Fs),ct=e=>e.layout.layoutType,sd=()=>ye(ct),DP=()=>{var e=sd();if(e==="horizontal"||e==="vertical")return e},s3=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Pee=()=>{var e=sd();return e!==void 0},sp=e=>{var t=Tt(),n=Nr(),{width:r,height:i}=e,o=MP(),s=r,l=i;return o&&(s=o.width>0?o.width:r,l=o.height>0?o.height:i),_.useEffect(()=>{!n&&Do(s)&&Do(l)&&t(DJ({width:s,height:l}))},[t,n,s,l]),null},a3=Symbol.for("immer-nothing"),Ek=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function $i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yh=Object.getPrototypeOf;function Fc(e){return!!e&&!!e[Qr]}function eu(e){var t;return e?l3(e)||Array.isArray(e)||!!e[Ek]||!!((t=e.constructor)!=null&&t[Ek])||ap(e)||S0(e):!1}var See=Object.prototype.constructor.toString(),Pk=new WeakMap;function l3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Pk.get(n);return r===void 0&&(r=Function.toString.call(n),Pk.set(n,r)),r===See}function Sv(e,t,n=!0){P0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function P0(e){const t=e[Qr];return t?t.type_:Array.isArray(e)?1:ap(e)?2:S0(e)?3:0}function Pb(e,t){return P0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u3(e,t,n){const r=P0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Tee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ap(e){return e instanceof Map}function S0(e){return e instanceof Set}function xl(e){return e.copy_||e.base_}function Sb(e,t){if(ap(e))return new Map(e);if(S0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=l3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Qr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(yh(e),r)}else{const r=yh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function LP(e,t=!1){return T0(e)||Fc(e)||!eu(e)||(P0(e)>1&&Object.defineProperties(e,{set:Im,add:Im,clear:Im,delete:Im}),Object.freeze(e),t&&Object.values(e).forEach(n=>LP(n,!0))),e}function Aee(){$i(2)}var Im={value:Aee};function T0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Cee={};function tu(e){const t=Cee[e];return t||$i(0,e),t}var _h;function c3(){return _h}function Iee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sk(e,t){t&&(tu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tb(e){Ab(e),e.drafts_.forEach(kee),e.drafts_=null}function Ab(e){e===_h&&(_h=e.parent_)}function Tk(e){return _h=Iee(_h,e)}function kee(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ak(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Qr].modified_&&(Tb(t),$i(4)),eu(e)&&(e=Tv(t,e),t.parent_||Av(t,e)),t.patches_&&tu("Patches").generateReplacementPatches_(n[Qr].base_,e,t.patches_,t.inversePatches_)):e=Tv(t,n,[]),Tb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==a3?e:void 0}function Tv(e,t,n){if(T0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Qr];if(!i)return Sv(t,(o,s)=>Ck(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Av(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,l=!1;i.type_===3&&(s=new Set(o),o.clear(),l=!0),Sv(s,(u,c)=>Ck(e,i,o,u,c,n,l),r),Av(e,o,!1),n&&e.patches_&&tu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Ck(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const l=T0(i);if(!(l&&!s)){if(Fc(i)){const u=o&&t&&t.type_!==3&&!Pb(t.assigned_,r)?o.concat(r):void 0,c=Tv(e,i,u);if(u3(n,r,c),Fc(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(eu(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Tv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ap(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Av(e,i)}}}function Av(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&LP(t,n)}function Oee(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:c3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=zP;n&&(i=[r],o=xh);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var zP={get(e,t){if(t===Qr)return e;const n=xl(e);if(!Pb(n,t))return Nee(e,n,t);const r=n[t];return e.finalized_||!eu(r)?r:r===gx(e.base_,t)?(vx(e),e.copy_[t]=Ib(r,e)):r},has(e,t){return t in xl(e)},ownKeys(e){return Reflect.ownKeys(xl(e))},set(e,t,n){const r=d3(xl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=gx(xl(e),t),o=i==null?void 0:i[Qr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Tee(n,i)&&(n!==void 0||Pb(e.base_,t)))return!0;vx(e),Cb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vx(e),Cb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$i(11)},getPrototypeOf(e){return yh(e.base_)},setPrototypeOf(){$i(12)}},xh={};Sv(zP,(e,t)=>{xh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xh.deleteProperty=function(e,t){return xh.set.call(this,e,t,void 0)};xh.set=function(e,t,n){return zP.set.call(this,e[0],t,n,e[0])};function gx(e,t){const n=e[Qr];return(n?xl(n):e)[t]}function Nee(e,t,n){var i;const r=d3(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function d3(e,t){if(!(t in e))return;let n=yh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=yh(n)}}function Cb(e){e.modified_||(e.modified_=!0,e.parent_&&Cb(e.parent_))}function vx(e){e.copy_||(e.copy_=Sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ree=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(u=o,...c){return s.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&$i(6),r!==void 0&&typeof r!="function"&&$i(7);let i;if(eu(t)){const o=Tk(this),s=Ib(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?Tb(o):Ab(o)}return Sk(o,r),Ak(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===a3&&(i=void 0),this.autoFreeze_&&LP(i,!0),r){const o=[],s=[];tu("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else $i(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){eu(e)||$i(8),Fc(e)&&(e=Mee(e));const t=Tk(this),n=Ib(e,void 0);return n[Qr].isManual_=!0,Ab(t),n}finishDraft(e,t){const n=e&&e[Qr];(!n||!n.isManual_)&&$i(9);const{scope_:r}=n;return Sk(r,t),Ak(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=tu("Patches").applyPatches_;return Fc(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ib(e,t){const n=ap(e)?tu("MapSet").proxyMap_(e,t):S0(e)?tu("MapSet").proxySet_(e,t):Oee(e,t);return(t?t.scope_:c3()).drafts_.push(n),n}function Mee(e){return Fc(e)||$i(10,e),f3(e)}function f3(e){if(!eu(e)||T0(e))return e;const t=e[Qr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Sb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Sb(e,!0);return Sv(n,(i,o)=>{u3(n,i,f3(o))},r),t&&(t.finalized_=!1),n}var jee=new Ree;jee.produce;var Dee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},h3=Or({name:"legend",initialState:Dee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:bt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gi(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:bt()},removeLegendPayload:{reducer(e,t){var n=Gi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:bt()}}}),{setLegendSize:Cve,setLegendSettings:Ive,addLegendPayload:p3,replaceLegendPayload:m3,removeLegendPayload:g3}=h3.actions,Lee=h3.reducer;function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kb.apply(null,arguments)}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(r){zee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zee(e,t,n){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fee(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var zu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Bee=e=>{var{separator:t=zu.separator,contentStyle:n,itemStyle:r,labelStyle:i=zu.labelStyle,payload:o,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:c,label:f,labelFormatter:h,accessibilityLayer:p=zu.accessibilityLayer}=e,v=()=>{if(o&&o.length){var j={padding:0,margin:0},$=(l?l0(o,l):o).map((O,I)=>{if(O.type==="none")return null;var N=O.formatter||s||Fee,{value:z,name:D}=O,F=z,B=D;if(N){var ne=N(z,D,O,I,o);if(Array.isArray(ne))[F,B]=ne;else if(ne!=null)F=ne;else return null}var xe=Yd(Yd({},zu.itemStyle),{},{color:O.color||zu.itemStyle.color},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:xe},jo(B)?_.createElement("span",{className:"recharts-tooltip-item-name"},B):null,jo(B)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:j},$)}return null},x=Yd(Yd({},zu.contentStyle),n),b=Yd({margin:0},i),E=!$n(f),P=E?f:"",T=nt("recharts-default-tooltip",u),C=nt("recharts-tooltip-label",c);E&&h&&o!==void 0&&o!==null&&(P=h(f,o));var R=p?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",kb({className:T,style:x},R),_.createElement("p",{className:C,style:b},_.isValidElement(P)?P:"".concat(P)),v())},Xd="recharts-tooltip-wrapper",Uee={visibility:"hidden"};function Wee(e){var{coordinate:t,translateX:n,translateY:r}=e;return nt(Xd,{["".concat(Xd,"-right")]:ge(n)&&t&&ge(t.x)&&n>=t.x,["".concat(Xd,"-left")]:ge(n)&&t&&ge(t.x)&&n<t.x,["".concat(Xd,"-bottom")]:ge(r)&&t&&ge(t.y)&&r>=t.y,["".concat(Xd,"-top")]:ge(r)&&t&&ge(t.y)&&r<t.y})}function kk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(o&&ge(o[r]))return o[r];var f=n[r]-l-(i>0?i:0),h=n[r]+i;if(t[r])return s[r]?f:h;var p=u[r];if(p==null)return 0;if(s[r]){var v=f,x=p;return v<x?Math.max(h,p):Math.max(f,p)}if(c==null)return 0;var b=h+l,E=p+c;return b>E?Math.max(f,p):Math.max(h,p)}function Hee(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Kee(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,f,h,p;return l.height>0&&l.width>0&&n?(h=kk({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),p=kk({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),f=Hee({translateX:h,translateY:p,useTranslate3d:u})):f=Uee,{cssProperties:f,cssClasses:Wee({translateX:h,translateY:p,coordinate:n})}}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(r){Ob(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t,n){return(t=qee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zee extends _.PureComponent{constructor(){super(...arguments),Ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ob(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:l,isAnimationActive:u,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:v,wrapperStyle:x,lastBoundingBox:b,innerRef:E,hasPortalFromProps:P}=this.props,T=typeof c=="number"?c:c.x,C=typeof c=="number"?c:c.y,{cssClasses:R,cssProperties:j}=Kee({allowEscapeViewBox:n,coordinate:s,offsetLeft:T,offsetTop:C,position:f,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:v}),$=P?{}:km(km({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),O=km(km({},$),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:O,ref:E},o)}}var v3=()=>{var e;return(e=ye(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(null,arguments)}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){Yee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yee(e,t,n){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xee(e){var t=Qee(e,"string");return typeof t=="symbol"?t:t+""}function Qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mk={curveBasisClosed:bX,curveBasisOpen:EX,curveBasis:wX,curveBumpX:aX,curveBumpY:lX,curveLinearClosed:PX,curveLinear:e0,curveMonotoneX:SX,curveMonotoneY:TX,curveNatural:AX,curveStep:CX,curveStepAfter:kX,curveStepBefore:IX},Cv=e=>We(e.x)&&We(e.y),jk=e=>e.base!=null&&Cv(e.base)&&Cv(e),Qd=e=>e.x,Jd=e=>e.y,Jee=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(np(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=Mk["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return Mk[n]||e0},Dk={connectNulls:!1,type:"linear"},ete=e=>{var{type:t=Dk.type,points:n=[],baseLine:r,layout:i,connectNulls:o=Dk.connectNulls}=e,s=Jee(t,i),l=o?n.filter(Cv):n;if(Array.isArray(r)){var u,c=n.map((x,b)=>Rk(Rk({},x),{},{base:r[b]}));i==="vertical"?u=bm().y(Jd).x1(Qd).x0(x=>x.base.x):u=bm().x(Qd).y1(Jd).y0(x=>x.base.y);var f=u.defined(jk).curve(s),h=o?c.filter(jk):c;return f(h)}var p;i==="vertical"&&ge(r)?p=bm().y(Jd).x1(Qd).x0(r):ge(r)?p=bm().x(Qd).y1(Jd).y0(r):p=x5().x(Qd).y(Jd);var v=p.defined(Cv).curve(s);return v(l)},xc=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=sd();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},l=n&&n.length?ete(s):r;return _.createElement("path",Nb({},Xr(e),gP(e),{className:nt("recharts-curve",t),d:l===null?void 0:l,ref:i}))},tte=["x","y","top","left","width","height","className"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(null,arguments)}function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(r){rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rte(e,t,n){return(t=ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ite(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t){if(e==null)return{};var n,r,i=ate(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ate(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lte=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),ute=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:l}=e,u=ste(e,tte),c=nte({x:t,y:n,top:r,left:i,width:o,height:s},u);return!ge(t)||!ge(n)||!ge(o)||!ge(s)||!ge(r)||!ge(i)?null:_.createElement("path",Rb({},dr(c),{className:nt("recharts-cross",l),d:lte(t,n,o,s,r,i)}))};function cte(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(r){dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dte(e,t,n){return(t=fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),y3=(e,t,n)=>e.map(r=>"".concat(pte(r)," ").concat(t,"ms ").concat(n)).join(","),mte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),wh=(e,t)=>Object.keys(t).reduce((n,r)=>Vk(Vk({},n),{},{[r]:e(r,t[r])}),{});function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gte(e,t,n){return(t=vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iv=(e,t,n)=>e+(t-e)*n,Mb=e=>{var{from:t,to:n}=e;return t!==n},_3=(e,t,n)=>{var r=wh((i,o)=>{if(Mb(o)){var[s,l]=e(o.from,o.to,o.velocity);return an(an({},o),{},{from:s,velocity:l})}return o},t);return n<1?wh((i,o)=>Mb(o)&&r[i]!=null?an(an({},o),{},{velocity:Iv(o.velocity,r[i].velocity,n),from:Iv(o.from,r[i].from,n)}):o,t):_3(e,r,n-1)};function _te(e,t,n,r,i,o){var s,l=r.reduce((p,v)=>an(an({},p),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>wh((p,v)=>v.from,l),c=()=>!Object.values(l).filter(Mb).length,f=null,h=p=>{s||(s=p);var v=p-s,x=v/n.dt;l=_3(n,l,x),i(an(an(an({},e),t),u())),s=p,c()||(f=o.setTimeout(h))};return()=>(f=o.setTimeout(h),()=>{var p;(p=f)===null||p===void 0||p()})}function xte(e,t,n,r,i,o,s){var l=null,u=i.reduce((h,p)=>{var v=e[p],x=t[p];return v==null||x==null?h:an(an({},h),{},{[p]:[v,x]})},{}),c,f=h=>{c||(c=h);var p=(h-c)/r,v=wh((b,E)=>Iv(...E,n(p)),u);if(o(an(an(an({},e),t),v)),p<1)l=s.setTimeout(f);else{var x=wh((b,E)=>Iv(...E,n(1)),u);o(an(an(an({},e),t),x))}};return()=>(l=s.setTimeout(f),()=>{var h;(h=l)===null||h===void 0||h()})}const wte=(e,t,n,r,i,o)=>{var s=mte(e,t);return n==null?()=>(i(an(an({},e),t)),()=>{}):n.isStepper===!0?_te(e,t,n,s,i,o):xte(e,t,n,r,s,i,o)};var kv=1e-4,x3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],w3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Fk=(e,t)=>n=>{var r=x3(e,t);return w3(r,n)},bte=(e,t)=>n=>{var r=x3(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return w3(i,n)},Ete=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},Pte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Ete(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Ste=(e,t,n,r)=>{var i=Fk(e,n),o=Fk(t,r),s=bte(e,n),l=c=>c>1?1:c<0?0:c,u=c=>{for(var f=c>1?1:c,h=f,p=0;p<8;++p){var v=i(h)-f,x=s(h);if(Math.abs(v-f)<kv||x<kv)return o(h);h=l(h-v/x)}return o(h)};return u.isStepper=!1,u},Bk=function(){return Ste(...Pte(...arguments))},Tte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,l,u)=>{var c=-(s-l)*n,f=u*r,h=u+(c-f)*i/1e3,p=u*i/1e3+s;return Math.abs(p-l)<kv&&Math.abs(h)<kv?[l,0]:[p,h]};return o.isStepper=!0,o.dt=i,o},Ate=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Bk(e);case"spring":return Tte();default:if(e.split("(")[0]==="cubic-bezier")return Bk(e)}return typeof e=="function"?e:null};function Cte(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...c]=l;if(typeof u=="number"){i=e.setTimeout(o.bind(null,c),u);return}o(u),i=e.setTimeout(o.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Ite{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function kte(){return Cte(new Ite)}var Ote=_.createContext(kte);function Nte(e,t){var n=_.useContext(Ote);return _.useMemo(()=>t??n(e),[e,t,n])}var Rte=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lp={devToolsEnabled:!0,isSsr:Rte()},Mte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Uk={t:0},yx={t:1};function A0(e){var t=Fn(e,Mte),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u,children:c}=t,f=n==="auto"?!lp.isSsr:n,h=Nte(t.animationId,t.animationManager),[p,v]=_.useState(f?Uk:yx),x=_.useRef(null);return _.useEffect(()=>{f||v(yx)},[f]),_.useEffect(()=>{if(!f||!r)return od;var b=wte(Uk,yx,Ate(o),i,v,h.getTimeoutController()),E=()=>{x.current=b()};return h.start([u,s,E,i,l]),()=>{h.stop(),x.current&&x.current(),l()}},[f,r,i,o,s,u,l,h]),c(p.t)}function C0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(ph(t)),r=_.useRef(e);return r.current!==e&&(n.current=ph(t),r.current=e),n.current}var jte=["radius"],Dte=["radius"],Wk,Hk,Kk,qk,Gk,Zk,Yk,Xk,Qk,Jk;function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(r){Lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(null,arguments)}function n2(e,t){if(e==null)return{};var n,r,i=$te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function go(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var r2=(e,t,n,r,i)=>{var o=va(n),s=va(r),l=Math.min(Math.abs(o)/2,Math.abs(s)/2),u=s>=0?1:-1,c=o>=0?1:-1,f=s>=0&&o>=0||s<0&&o<0?1:0,h;if(l>0&&Array.isArray(i)){for(var p=[0,0,0,0],v=0,x=4;v<x;v++){var b,E=(b=i[v])!==null&&b!==void 0?b:0;p[v]=E>l?l:E}h=Dt(Wk||(Wk=go(["M",",",""])),e,t+u*p[0]),p[0]>0&&(h+=Dt(Hk||(Hk=go(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,e+c*p[0],t)),h+=Dt(Kk||(Kk=go(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(h+=Dt(qk||(qk=go(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,e+n,t+u*p[1])),h+=Dt(Gk||(Gk=go(["L ",",",""])),e+n,t+r-u*p[2]),p[2]>0&&(h+=Dt(Zk||(Zk=go(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,e+n-c*p[2],t+r)),h+=Dt(Yk||(Yk=go(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(h+=Dt(Xk||(Xk=go(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,e,t+r-u*p[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var P=Math.min(l,i);h=Dt(Qk||(Qk=go(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*P,P,P,f,e+c*P,t,e+n-c*P,t,P,P,f,e+n,t+u*P,e+n,t+r-u*P,P,P,f,e+n-c*P,t+r,e+c*P,t+r,P,P,f,e,t+r-u*P)}else h=Dt(Jk||(Jk=go(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return h},i2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b3=e=>{var t=Fn(e,i2),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:o,y:s,width:l,height:u,radius:c,className:f}=t,{animationEasing:h,animationDuration:p,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:b}=t,E=_.useRef(l),P=_.useRef(u),T=_.useRef(o),C=_.useRef(s),R=_.useMemo(()=>({x:o,y:s,width:l,height:u,radius:c}),[o,s,l,u,c]),j=C0(R,"rectangle-");if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var $=nt("recharts-rectangle",f);if(!b){var O=dr(t),I=n2(O,jte);return _.createElement("path",Ov({},I,{x:va(o),y:va(s),width:va(l),height:va(u),radius:typeof c=="number"?c:void 0,className:$,d:r2(o,s,l,u,c)}))}var N=E.current,z=P.current,D=T.current,F=C.current,B="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),xe=y3(["strokeDasharray"],p,typeof h=="string"?h:i2.animationEasing);return _.createElement(A0,{animationId:j,key:j,canBegin:r>0,duration:p,easing:h,isActive:b,begin:v},oe=>{var ae=Mn(N,l,oe),G=Mn(z,u,oe),ie=Mn(D,o,oe),X=Mn(F,s,oe);n.current&&(E.current=ae,P.current=G,T.current=ie,C.current=X);var ue;x?oe>0?ue={transition:xe,strokeDasharray:ne}:ue={strokeDasharray:B}:ue={strokeDasharray:ne};var we=dr(t),je=n2(we,Dte);return _.createElement("path",Ov({},je,{radius:typeof c=="number"?c:void 0,className:$,d:r2(ie,X,ae,G,c),ref:n,style:t2(t2({},ue),t.style)}))})};function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(r){Fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fte(e,t,n){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nv=Math.PI/180,Wte=e=>e*180/Math.PI,tn=(e,t,n,r)=>({x:e+Math.cos(-Nv*r)*n,y:t+Math.sin(-Nv*r)*n}),E3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hte=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},Kte=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=Hte({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:s,angle:Wte(u),angleInRadian:u}},qte=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},Gte=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},Zte=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=Kte({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:c}=qte(t),f=o,h;if(u<=c){for(;f>c;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=c}else{for(;f>u;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=u}return h?s2(s2({},t),{},{radius:i,angle:Gte(f,t)}):null};function P3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=tn(t,n,r,i),l=tn(t,n,r,o);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var a2,l2,u2,c2,d2,f2,h2;function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(null,arguments)}function Al(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Yte=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Om=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,c=l*(s?1:-1)+r,f=Math.asin(l/c)/Nv,h=u?i:i+o*f,p=tn(t,n,c,h),v=tn(t,n,r,h),x=u?i-o*f:i,b=tn(t,n,c*Math.cos(f*Nv),x);return{center:p,circleTangency:v,lineTangency:b,theta:f}},S3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,l=Yte(o,s),u=o+l,c=tn(t,n,i,o),f=tn(t,n,i,u),h=Dt(a2||(a2=Al(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(l)>180),+(o>u),f.x,f.y);if(r>0){var p=tn(t,n,r,o),v=tn(t,n,r,u);h+=Dt(l2||(l2=Al(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(o<=u),p.x,p.y)}else h+=Dt(u2||(u2=Al(["L ",","," Z"])),t,n);return h},Xte=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}=e,f=er(c-u),{circleTangency:h,lineTangency:p,theta:v}=Om({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:x,lineTangency:b,theta:E}=Om({cx:t,cy:n,radius:i,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),P=l?Math.abs(u-c):Math.abs(u-c)-v-E;if(P<0)return s?Dt(c2||(c2=Al(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,o,o,o*2,o,o,-o*2):S3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var T=Dt(d2||(d2=Al(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,o,o,+(f<0),h.x,h.y,i,i,+(P>180),+(f<0),x.x,x.y,o,o,+(f<0),b.x,b.y);if(r>0){var{circleTangency:C,lineTangency:R,theta:j}=Om({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:$,lineTangency:O,theta:I}=Om({cx:t,cy:n,radius:r,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=l?Math.abs(u-c):Math.abs(u-c)-j-I;if(N<0&&o===0)return"".concat(T,"L").concat(t,",").concat(n,"Z");T+=Dt(f2||(f2=Al(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,o,o,+(f<0),$.x,$.y,r,r,+(N>180),+(f>0),C.x,C.y,o,o,+(f<0),R.x,R.y)}else T+=Dt(h2||(h2=Al(["L",",","Z"])),t,n);return T},Qte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T3=e=>{var t=Fn(e,Qte),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f,className:h}=t;if(o<i||c===f)return null;var p=nt("recharts-sector",h),v=o-i,x=Gr(s,v,0,!0),b;return x>0&&Math.abs(c-f)<360?b=Xte({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=S3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:f}),_.createElement("path",jb({},dr(t),{className:p,d:b}))};function Jte(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(L5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:l}=t,u=tn(r,i,o,l),c=tn(r,i,s,l);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return P3(t)}}var A3={},C3={},I3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(I3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(C3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP,n=C3;function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((o-i)/(s||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=i,i+=s;return u}e.range=r})(A3);var ene=A3.range;const k3=zo(ene);function Oa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VP(e){let t,n,r;e.length!==2?(t=Oa,n=(l,u)=>Oa(e(l),u),r=(l,u)=>e(l)-u):(t=e===Oa||e===tne?e:nne,n=e,r=e);function i(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{const h=c+f>>>1;n(l[h],u)<0?c=h+1:f=h}while(c<f)}return c}function o(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{const h=c+f>>>1;n(l[h],u)<=0?c=h+1:f=h}while(c<f)}return c}function s(l,u,c=0,f=l.length){const h=i(l,u,c,f-1);return h>c&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:s,right:o}}function nne(){return 0}function O3(e){return e===null?NaN:+e}function*rne(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ine=VP(Oa),up=ine.right;VP(O3).center;class p2 extends Map{constructor(t,n=ane){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(m2(this,t))}has(t){return super.has(m2(this,t))}set(t,n){return super.set(one(this,t),n)}delete(t){return super.delete(sne(this,t))}}function m2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function one({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function sne({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ane(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lne(e=Oa){if(e===Oa)return N3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function N3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const une=Math.sqrt(50),cne=Math.sqrt(10),dne=Math.sqrt(2);function Rv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=une?10:o>=cne?5:o>=dne?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=n&&n<2?Rv(e,t,n*2):[l,u,c]}function Db(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Rv(t,e,n):Rv(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(s<0)for(let c=0;c<l;++c)u[c]=(o-c)/-s;else for(let c=0;c<l;++c)u[c]=(o-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(i+c)/-s;else for(let c=0;c<l;++c)u[c]=(i+c)*s;return u}function Lb(e,t,n){return t=+t,e=+e,n=+n,Rv(e,t,n)[2]}function zb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Lb(t,e,n):Lb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function g2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function v2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function R3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?N3:lne(i);r>n;){if(r-n>600){const u=r-n+1,c=t-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(u-h)/u)*(c-u/2<0?-1:1),v=Math.max(n,Math.floor(t-c*h/u+p)),x=Math.min(r,Math.floor(t+(u-c)*h/u+p));R3(e,t,v,x,i)}const o=e[t];let s=n,l=r;for(ef(e,n,t),i(e[r],o)>0&&ef(e,n,r);s<l;){for(ef(e,s,l),++s,--l;i(e[s],o)<0;)++s;for(;i(e[l],o)>0;)--l}i(e[n],o)===0?ef(e,n,l):(++l,ef(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ef(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fne(e,t,n){if(e=Float64Array.from(rne(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return v2(e);if(t>=1)return g2(e);var r,i=(r-1)*t,o=Math.floor(i),s=g2(R3(e,o).subarray(0,o+1)),l=v2(e.subarray(o+1));return s+(l-s)*(i-o)}}function hne(e,t,n=O3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),l=+n(e[o+1],o+1,e);return s+(l-s)*(i-o)}}function pne(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vb=Symbol("implicit");function $P(){var e=new p2,t=[],n=[],r=Vb;function i(o){let s=e.get(o);if(s===void 0){if(r!==Vb)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new p2;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $P(t,n).unknown(r)},Ci.apply(i,arguments),i}function FP(){var e=$P().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,u=0,c=0,f=.5;delete e.unknown;function h(){var p=t().length,v=i<r,x=v?i:r,b=v?r:i;o=(b-x)/Math.max(1,p-u+c*2),l&&(o=Math.floor(o)),x+=(b-x-o*(p-u))*f,s=o*(1-u),l&&(x=Math.round(x),s=Math.round(s));var E=pne(p).map(function(P){return x+o*P});return n(v?E.reverse():E)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,c=+p),h()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),h()):u},e.paddingOuter=function(p){return arguments.length?(c=+p,h()):c},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return FP(t(),[r,i]).round(l).paddingInner(u).paddingOuter(c).align(f)},Ci.apply(h(),arguments)}function M3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return M3(t())},e}function mne(){return M3(FP.apply(null,arguments).paddingInner(1))}function BP(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function j3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cp(){}var bh=.7,Mv=1/bh,wc="\\s*([+-]?\\d+)\\s*",Eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gne=/^#([0-9a-f]{3,8})$/,vne=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),yne=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),_ne=new RegExp(`^rgba\\(${wc},${wc},${wc},${Eh}\\)$`),xne=new RegExp(`^rgba\\(${No},${No},${No},${Eh}\\)$`),wne=new RegExp(`^hsl\\(${Eh},${No},${No}\\)$`),bne=new RegExp(`^hsla\\(${Eh},${No},${No},${Eh}\\)$`),y2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BP(cp,Ph,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_2,formatHex:_2,formatHex8:Ene,formatHsl:Pne,formatRgb:x2,toString:x2});function _2(){return this.rgb().formatHex()}function Ene(){return this.rgb().formatHex8()}function Pne(){return D3(this).formatHsl()}function x2(){return this.rgb().formatRgb()}function Ph(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gne.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?w2(t):n===3?new Ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vne.exec(e))?new Ar(t[1],t[2],t[3],1):(t=yne.exec(e))?new Ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_ne.exec(e))?Nm(t[1],t[2],t[3],t[4]):(t=xne.exec(e))?Nm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wne.exec(e))?P2(t[1],t[2]/100,t[3]/100,1):(t=bne.exec(e))?P2(t[1],t[2]/100,t[3]/100,t[4]):y2.hasOwnProperty(e)?w2(y2[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function w2(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function Nm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ar(e,t,n,r)}function Sne(e){return e instanceof cp||(e=Ph(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function $b(e,t,n,r){return arguments.length===1?Sne(e):new Ar(e,t,n,r??1)}function Ar(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}BP(Ar,$b,j3(cp,{brighter(e){return e=e==null?Mv:Math.pow(Mv,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bh:Math.pow(bh,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(Dl(this.r),Dl(this.g),Dl(this.b),jv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b2,formatHex:b2,formatHex8:Tne,formatRgb:E2,toString:E2}));function b2(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}`}function Tne(){return`#${Cl(this.r)}${Cl(this.g)}${Cl(this.b)}${Cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function E2(){const e=jv(this.opacity);return`${e===1?"rgb(":"rgba("}${Dl(this.r)}, ${Dl(this.g)}, ${Dl(this.b)}${e===1?")":`, ${e})`}`}function jv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cl(e){return e=Dl(e),(e<16?"0":"")+e.toString(16)}function P2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fi(e,t,n,r)}function D3(e){if(e instanceof Fi)return new Fi(e.h,e.s,e.l,e.opacity);if(e instanceof cp||(e=Ph(e)),!e)return new Fi;if(e instanceof Fi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Fi(s,l,u,e.opacity)}function Ane(e,t,n,r){return arguments.length===1?D3(e):new Fi(e,t,n,r??1)}function Fi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}BP(Fi,Ane,j3(cp,{brighter(e){return e=e==null?Mv:Math.pow(Mv,e),new Fi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bh:Math.pow(bh,e),new Fi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ar(_x(e>=240?e-240:e+120,i,r),_x(e,i,r),_x(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Fi(S2(this.h),Rm(this.s),Rm(this.l),jv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jv(this.opacity);return`${e===1?"hsl(":"hsla("}${S2(this.h)}, ${Rm(this.s)*100}%, ${Rm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function S2(e){return e=(e||0)%360,e<0?e+360:e}function Rm(e){return Math.max(0,Math.min(1,e||0))}function _x(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const UP=e=>()=>e;function Cne(e,t){return function(n){return e+n*t}}function Ine(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function kne(e){return(e=+e)==1?L3:function(t,n){return n-t?Ine(t,n,e):UP(isNaN(t)?n:t)}}function L3(e,t){var n=t-e;return n?Cne(e,n):UP(isNaN(e)?t:e)}const T2=function e(t){var n=kne(t);function r(i,o){var s=n((i=$b(i)).r,(o=$b(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),c=L3(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=e,r}(1);function One(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Nne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rne(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ad(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function Mne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Dv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jne(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ad(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xx=new RegExp(Fb.source,"g");function Dne(e){return function(){return e}}function Lne(e){return function(t){return e(t)+""}}function zne(e,t){var n=Fb.lastIndex=xx.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Fb.exec(e))&&(i=xx.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Dv(r,i)})),n=xx.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?Lne(u[0].x):Dne(t):(t=u.length,function(c){for(var f=0,h;f<t;++f)l[(h=u[f]).i]=h.x(c);return l.join("")})}function ad(e,t){var n=typeof t,r;return t==null||n==="boolean"?UP(t):(n==="number"?Dv:n==="string"?(r=Ph(t))?(t=r,T2):zne:t instanceof Ph?T2:t instanceof Date?Mne:Nne(t)?One:Array.isArray(t)?Rne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jne:Dv)(e,t)}function WP(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Vne(e,t){t===void 0&&(t=e,e=ad);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function $ne(e){return function(){return e}}function Lv(e){return+e}var A2=[0,1];function ur(e){return e}function Bb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$ne(isNaN(t)?NaN:.5)}function Fne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Bne(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Bb(i,r),o=n(s,o)):(r=Bb(r,i),o=n(o,s)),function(l){return o(r(l))}}function Une(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Bb(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var u=up(e,l,1,r)-1;return o[u](i[u](l))}}function dp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function I0(){var e=A2,t=A2,n=ad,r,i,o,s=ur,l,u,c;function f(){var p=Math.min(e.length,t.length);return s!==ur&&(s=Fne(e[0],e[p-1])),l=p>2?Une:Bne,u=c=null,h}function h(p){return p==null||isNaN(p=+p)?o:(u||(u=l(e.map(r),t,n)))(r(s(p)))}return h.invert=function(p){return s(i((c||(c=l(t,e.map(r),Dv)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Lv),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=WP,f()},h.clamp=function(p){return arguments.length?(s=p?!0:ur,f()):s!==ur},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,v){return r=p,i=v,f()}}function HP(){return I0()(ur,ur)}function Wne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zv(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bc(e){return e=zv(Math.abs(e)),e?e[1]:NaN}function Hne(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Kne(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sh(e){if(!(t=qne.exec(e)))throw new Error("invalid format: "+e);var t;return new KP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sh.prototype=KP.prototype;function KP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gne(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Vv;function Zne(e,t){var n=zv(e,t);if(!n)return Vv=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Vv=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zv(e,Math.max(0,t+o-1))[0]}function C2(e,t){var n=zv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const I2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>C2(e*100,t),r:C2,s:Zne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function k2(e){return e}var O2=Array.prototype.map,N2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yne(e){var t=e.grouping===void 0||e.thousands===void 0?k2:Hne(O2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?k2:Kne(O2.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(h,p){h=Sh(h);var v=h.fill,x=h.align,b=h.sign,E=h.symbol,P=h.zero,T=h.width,C=h.comma,R=h.precision,j=h.trim,$=h.type;$==="n"?(C=!0,$="g"):I2[$]||(R===void 0&&(R=12),j=!0,$="g"),(P||v==="0"&&x==="=")&&(P=!0,v="0",x="=");var O=(p&&p.prefix!==void 0?p.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():""),I=(E==="$"?r:/[%p]/.test($)?s:"")+(p&&p.suffix!==void 0?p.suffix:""),N=I2[$],z=/[defgprs%]/.test($);R=R===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function D(F){var B=O,ne=I,xe,oe,ae;if($==="c")ne=N(F)+ne,F="";else{F=+F;var G=F<0||1/F<0;if(F=isNaN(F)?u:N(Math.abs(F),R),j&&(F=Gne(F)),G&&+F==0&&b!=="+"&&(G=!1),B=(G?b==="("?b:l:b==="-"||b==="("?"":b)+B,ne=($==="s"&&!isNaN(F)&&Vv!==void 0?N2[8+Vv/3]:"")+ne+(G&&b==="("?")":""),z){for(xe=-1,oe=F.length;++xe<oe;)if(ae=F.charCodeAt(xe),48>ae||ae>57){ne=(ae===46?i+F.slice(xe+1):F.slice(xe))+ne,F=F.slice(0,xe);break}}}C&&!P&&(F=t(F,1/0));var ie=B.length+F.length+ne.length,X=ie<T?new Array(T-ie+1).join(v):"";switch(C&&P&&(F=t(X+F,X.length?T-ne.length:1/0),X=""),x){case"<":F=B+F+ne+X;break;case"=":F=B+X+F+ne;break;case"^":F=X.slice(0,ie=X.length>>1)+B+F+ne+X.slice(ie);break;default:F=X+B+F+ne;break}return o(F)}return D.toString=function(){return h+""},D}function f(h,p){var v=Math.max(-8,Math.min(8,Math.floor(Bc(p)/3)))*3,x=Math.pow(10,-v),b=c((h=Sh(h),h.type="f",h),{suffix:N2[8+v/3]});return function(E){return b(x*E)}}return{format:c,formatPrefix:f}}var Mm,qP,z3;Xne({thousands:",",grouping:[3],currency:["$",""]});function Xne(e){return Mm=Yne(e),qP=Mm.format,z3=Mm.formatPrefix,Mm}function Qne(e){return Math.max(0,-Bc(Math.abs(e)))}function Jne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bc(t)/3)))*3-Bc(Math.abs(e)))}function ere(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bc(t)-Bc(e))+1}function V3(e,t,n,r){var i=zb(e,t,n),o;switch(r=Sh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Jne(i,s))&&(r.precision=o),z3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ere(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qne(i))&&(r.precision=o-(r.type==="%")*2);break}}return qP(r)}function Qa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Db(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return V3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],u,c,f=10;for(l<s&&(c=s,s=l,l=c,c=i,i=o,o=c);f-- >0;){if(c=Lb(s,l,n),c===u)return r[i]=s,r[o]=l,t(r);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function $3(){var e=HP();return e.copy=function(){return dp(e,$3())},Ci.apply(e,arguments),Qa(e)}function F3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Lv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return F3(e).unknown(t)},e=arguments.length?Array.from(e,Lv):[0,1],Qa(n)}function B3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function R2(e){return Math.log(e)}function M2(e){return Math.exp(e)}function tre(e){return-Math.log(-e)}function nre(e){return-Math.exp(-e)}function rre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ire(e){return e===10?rre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ore(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function j2(e){return(t,n)=>-e(-t,n)}function GP(e){const t=e(R2,M2),n=t.domain;let r=10,i,o;function s(){return i=ore(r),o=ire(r),n()[0]<0?(i=j2(i),o=j2(o),e(tre,nre)):e(R2,M2),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let c=u[0],f=u[u.length-1];const h=f<c;h&&([c,f]=[f,c]);let p=i(c),v=i(f),x,b;const E=l==null?10:+l;let P=[];if(!(r%1)&&v-p<E){if(p=Math.floor(p),v=Math.ceil(v),c>0){for(;p<=v;++p)for(x=1;x<r;++x)if(b=p<0?x/o(-p):x*o(p),!(b<c)){if(b>f)break;P.push(b)}}else for(;p<=v;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/o(-p):x*o(p),!(b<c)){if(b>f)break;P.push(b)}P.length*2<E&&(P=Db(c,f,E))}else P=Db(p,v,Math.min(v-p,E)).map(o);return h?P.reverse():P},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Sh(u)).precision==null&&(u.trim=!0),u=qP(u)),l===1/0)return u;const c=Math.max(1,r*l/t.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?u(f):""}},t.nice=()=>n(B3(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function U3(){const e=GP(I0()).domain([1,10]);return e.copy=()=>dp(e,U3()).base(e.base()),Ci.apply(e,arguments),e}function D2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function L2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ZP(e){var t=1,n=e(D2(t),L2(t));return n.constant=function(r){return arguments.length?e(D2(t=+r),L2(t)):t},Qa(n)}function W3(){var e=ZP(I0());return e.copy=function(){return dp(e,W3()).constant(e.constant())},Ci.apply(e,arguments)}function z2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function are(e){return e<0?-e*e:e*e}function YP(e){var t=e(ur,ur),n=1;function r(){return n===1?e(ur,ur):n===.5?e(sre,are):e(z2(n),z2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Qa(t)}function XP(){var e=YP(I0());return e.copy=function(){return dp(e,XP()).exponent(e.exponent())},Ci.apply(e,arguments),e}function lre(){return XP.apply(null,arguments).exponent(.5)}function V2(e){return Math.sign(e)*e*e}function ure(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function H3(){var e=HP(),t=[0,1],n=!1,r;function i(o){var s=ure(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(V2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Lv)).map(V2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return H3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ci.apply(i,arguments),Qa(i)}function K3(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=hne(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:t[up(n,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Oa),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return K3().domain(e).range(t).unknown(r)},Ci.apply(o,arguments)}function q3(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[up(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return q3().domain([e,t]).range(i).unknown(o)},Ci.apply(Qa(s),arguments)}function G3(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[up(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return G3().domain(e).range(t).unknown(n)},Ci.apply(i,arguments)}const wx=new Date,bx=new Date;function fn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let c;do u.push(c=new Date(+o)),t(o,l),e(o);while(c<o&&o<s);return u},i.filter=o=>fn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(wx.setTime(+o),bx.setTime(+s),e(wx),e(bx),Math.floor(n(wx,bx))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const $v=fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$v.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$v);$v.range;const ps=1e3,xi=ps*60,ms=xi*60,Os=ms*24,QP=Os*7,$2=Os*30,Ex=Os*365,Il=fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getUTCSeconds());Il.range;const JP=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ps)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getMinutes());JP.range;const eS=fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCMinutes());eS.range;const tS=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ps-e.getMinutes()*xi)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getHours());tS.range;const nS=fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getUTCHours());nS.range;const fp=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xi)/Os,e=>e.getDate()-1);fp.range;const k0=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>e.getUTCDate()-1);k0.range;const Z3=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>Math.floor(e/Os));Z3.range;function du(e){return fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xi)/QP)}const O0=du(0),Fv=du(1),cre=du(2),dre=du(3),Uc=du(4),fre=du(5),hre=du(6);O0.range;Fv.range;cre.range;dre.range;Uc.range;fre.range;hre.range;function fu(e){return fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/QP)}const N0=fu(0),Bv=fu(1),pre=fu(2),mre=fu(3),Wc=fu(4),gre=fu(5),vre=fu(6);N0.range;Bv.range;pre.range;mre.range;Wc.range;gre.range;vre.range;const rS=fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rS.range;const iS=fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iS.range;const Ns=fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ns.range;const Rs=fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rs.range;function Y3(e,t,n,r,i,o){const s=[[Il,1,ps],[Il,5,5*ps],[Il,15,15*ps],[Il,30,30*ps],[o,1,xi],[o,5,5*xi],[o,15,15*xi],[o,30,30*xi],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[r,1,Os],[r,2,2*Os],[n,1,QP],[t,1,$2],[t,3,3*$2],[e,1,Ex]];function l(c,f,h){const p=f<c;p&&([c,f]=[f,c]);const v=h&&typeof h.range=="function"?h:u(c,f,h),x=v?v.range(c,+f+1):[];return p?x.reverse():x}function u(c,f,h){const p=Math.abs(f-c)/h,v=VP(([,,E])=>E).right(s,p);if(v===s.length)return e.every(zb(c/Ex,f/Ex,h));if(v===0)return $v.every(Math.max(zb(c,f,h),1));const[x,b]=s[p/s[v-1][2]<s[v][2]/p?v-1:v];return x.every(b)}return[l,u]}const[yre,_re]=Y3(Rs,iS,N0,Z3,nS,eS),[xre,wre]=Y3(Ns,rS,O0,fp,tS,JP);function Px(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function bre(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,c=nf(i),f=rf(i),h=nf(o),p=rf(o),v=nf(s),x=rf(s),b=nf(l),E=rf(l),P=nf(u),T=rf(u),C={a:ae,A:G,b:ie,B:X,c:null,d:K2,e:K2,f:Hre,g:tie,G:rie,H:Bre,I:Ure,j:Wre,L:X3,m:Kre,M:qre,p:ue,q:we,Q:Z2,s:Y2,S:Gre,u:Zre,U:Yre,V:Xre,w:Qre,W:Jre,x:null,X:null,y:eie,Y:nie,Z:iie,"%":G2},R={a:je,A:Pe,b:ke,B:ve,c:null,d:q2,e:q2,f:lie,g:yie,G:xie,H:oie,I:sie,j:aie,L:J3,m:uie,M:cie,p:$e,q:rn,Q:Z2,s:Y2,S:die,u:fie,U:hie,V:pie,w:mie,W:gie,x:null,X:null,y:vie,Y:_ie,Z:wie,"%":G2},j={a:z,A:D,b:F,B,c:ne,d:W2,e:W2,f:zre,g:U2,G:B2,H:H2,I:H2,j:Mre,L:Lre,m:Rre,M:jre,p:N,q:Nre,Q:$re,s:Fre,S:Dre,u:Are,U:Cre,V:Ire,w:Tre,W:kre,x:xe,X:oe,y:U2,Y:B2,Z:Ore,"%":Vre};C.x=$(n,C),C.X=$(r,C),C.c=$(t,C),R.x=$(n,R),R.X=$(r,R),R.c=$(t,R);function $(ee,Ee){return function(Me){var J=[],gt=-1,De=0,At=ee.length,st,pn,Rr;for(Me instanceof Date||(Me=new Date(+Me));++gt<At;)ee.charCodeAt(gt)===37&&(J.push(ee.slice(De,gt)),(pn=F2[st=ee.charAt(++gt)])!=null?st=ee.charAt(++gt):pn=st==="e"?" ":"0",(Rr=Ee[st])&&(st=Rr(Me,pn)),J.push(st),De=gt+1);return J.push(ee.slice(De,gt)),J.join("")}}function O(ee,Ee){return function(Me){var J=tf(1900,void 0,1),gt=I(J,ee,Me+="",0),De,At;if(gt!=Me.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Ee&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(De=Sx(tf(J.y,0,1)),At=De.getUTCDay(),De=At>4||At===0?Bv.ceil(De):Bv(De),De=k0.offset(De,(J.V-1)*7),J.y=De.getUTCFullYear(),J.m=De.getUTCMonth(),J.d=De.getUTCDate()+(J.w+6)%7):(De=Px(tf(J.y,0,1)),At=De.getDay(),De=At>4||At===0?Fv.ceil(De):Fv(De),De=fp.offset(De,(J.V-1)*7),J.y=De.getFullYear(),J.m=De.getMonth(),J.d=De.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),At="Z"in J?Sx(tf(J.y,0,1)).getUTCDay():Px(tf(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(At+5)%7:J.w+J.U*7-(At+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,Sx(J)):Px(J)}}function I(ee,Ee,Me,J){for(var gt=0,De=Ee.length,At=Me.length,st,pn;gt<De;){if(J>=At)return-1;if(st=Ee.charCodeAt(gt++),st===37){if(st=Ee.charAt(gt++),pn=j[st in F2?Ee.charAt(gt++):st],!pn||(J=pn(ee,Me,J))<0)return-1}else if(st!=Me.charCodeAt(J++))return-1}return J}function N(ee,Ee,Me){var J=c.exec(Ee.slice(Me));return J?(ee.p=f.get(J[0].toLowerCase()),Me+J[0].length):-1}function z(ee,Ee,Me){var J=v.exec(Ee.slice(Me));return J?(ee.w=x.get(J[0].toLowerCase()),Me+J[0].length):-1}function D(ee,Ee,Me){var J=h.exec(Ee.slice(Me));return J?(ee.w=p.get(J[0].toLowerCase()),Me+J[0].length):-1}function F(ee,Ee,Me){var J=P.exec(Ee.slice(Me));return J?(ee.m=T.get(J[0].toLowerCase()),Me+J[0].length):-1}function B(ee,Ee,Me){var J=b.exec(Ee.slice(Me));return J?(ee.m=E.get(J[0].toLowerCase()),Me+J[0].length):-1}function ne(ee,Ee,Me){return I(ee,t,Ee,Me)}function xe(ee,Ee,Me){return I(ee,n,Ee,Me)}function oe(ee,Ee,Me){return I(ee,r,Ee,Me)}function ae(ee){return s[ee.getDay()]}function G(ee){return o[ee.getDay()]}function ie(ee){return u[ee.getMonth()]}function X(ee){return l[ee.getMonth()]}function ue(ee){return i[+(ee.getHours()>=12)]}function we(ee){return 1+~~(ee.getMonth()/3)}function je(ee){return s[ee.getUTCDay()]}function Pe(ee){return o[ee.getUTCDay()]}function ke(ee){return u[ee.getUTCMonth()]}function ve(ee){return l[ee.getUTCMonth()]}function $e(ee){return i[+(ee.getUTCHours()>=12)]}function rn(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var Ee=$(ee+="",C);return Ee.toString=function(){return ee},Ee},parse:function(ee){var Ee=O(ee+="",!1);return Ee.toString=function(){return ee},Ee},utcFormat:function(ee){var Ee=$(ee+="",R);return Ee.toString=function(){return ee},Ee},utcParse:function(ee){var Ee=O(ee+="",!0);return Ee.toString=function(){return ee},Ee}}}var F2={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,Ere=/^%/,Pre=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Sre(e){return e.replace(Pre,"\\$&")}function nf(e){return new RegExp("^(?:"+e.map(Sre).join("|")+")","i")}function rf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Tre(e,t,n){var r=Tn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Are(e,t,n){var r=Tn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Cre(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ire(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function kre(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function B2(e,t,n){var r=Tn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function U2(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ore(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nre(e,t,n){var r=Tn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Rre(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function W2(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Mre(e,t,n){var r=Tn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function H2(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jre(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Dre(e,t,n){var r=Tn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Lre(e,t,n){var r=Tn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zre(e,t,n){var r=Tn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vre(e,t,n){var r=Ere.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $re(e,t,n){var r=Tn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Fre(e,t,n){var r=Tn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function K2(e,t){return Xe(e.getDate(),t,2)}function Bre(e,t){return Xe(e.getHours(),t,2)}function Ure(e,t){return Xe(e.getHours()%12||12,t,2)}function Wre(e,t){return Xe(1+fp.count(Ns(e),e),t,3)}function X3(e,t){return Xe(e.getMilliseconds(),t,3)}function Hre(e,t){return X3(e,t)+"000"}function Kre(e,t){return Xe(e.getMonth()+1,t,2)}function qre(e,t){return Xe(e.getMinutes(),t,2)}function Gre(e,t){return Xe(e.getSeconds(),t,2)}function Zre(e){var t=e.getDay();return t===0?7:t}function Yre(e,t){return Xe(O0.count(Ns(e)-1,e),t,2)}function Q3(e){var t=e.getDay();return t>=4||t===0?Uc(e):Uc.ceil(e)}function Xre(e,t){return e=Q3(e),Xe(Uc.count(Ns(e),e)+(Ns(e).getDay()===4),t,2)}function Qre(e){return e.getDay()}function Jre(e,t){return Xe(Fv.count(Ns(e)-1,e),t,2)}function eie(e,t){return Xe(e.getFullYear()%100,t,2)}function tie(e,t){return e=Q3(e),Xe(e.getFullYear()%100,t,2)}function nie(e,t){return Xe(e.getFullYear()%1e4,t,4)}function rie(e,t){var n=e.getDay();return e=n>=4||n===0?Uc(e):Uc.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function iie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function q2(e,t){return Xe(e.getUTCDate(),t,2)}function oie(e,t){return Xe(e.getUTCHours(),t,2)}function sie(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function aie(e,t){return Xe(1+k0.count(Rs(e),e),t,3)}function J3(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function lie(e,t){return J3(e,t)+"000"}function uie(e,t){return Xe(e.getUTCMonth()+1,t,2)}function cie(e,t){return Xe(e.getUTCMinutes(),t,2)}function die(e,t){return Xe(e.getUTCSeconds(),t,2)}function fie(e){var t=e.getUTCDay();return t===0?7:t}function hie(e,t){return Xe(N0.count(Rs(e)-1,e),t,2)}function ez(e){var t=e.getUTCDay();return t>=4||t===0?Wc(e):Wc.ceil(e)}function pie(e,t){return e=ez(e),Xe(Wc.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function mie(e){return e.getUTCDay()}function gie(e,t){return Xe(Bv.count(Rs(e)-1,e),t,2)}function vie(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function yie(e,t){return e=ez(e),Xe(e.getUTCFullYear()%100,t,2)}function _ie(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function xie(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Wc(e):Wc.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function wie(){return"+0000"}function G2(){return"%"}function Z2(e){return+e}function Y2(e){return Math.floor(+e/1e3)}var Vu,tz,nz;bie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bie(e){return Vu=bre(e),tz=Vu.format,Vu.parse,nz=Vu.utcFormat,Vu.utcParse,Vu}function Eie(e){return new Date(e)}function Pie(e){return e instanceof Date?+e:+new Date(+e)}function oS(e,t,n,r,i,o,s,l,u,c){var f=HP(),h=f.invert,p=f.domain,v=c(".%L"),x=c(":%S"),b=c("%I:%M"),E=c("%I %p"),P=c("%a %d"),T=c("%b %d"),C=c("%B"),R=c("%Y");function j($){return(u($)<$?v:l($)<$?x:s($)<$?b:o($)<$?E:r($)<$?i($)<$?P:T:n($)<$?C:R)($)}return f.invert=function($){return new Date(h($))},f.domain=function($){return arguments.length?p(Array.from($,Pie)):p().map(Eie)},f.ticks=function($){var O=p();return e(O[0],O[O.length-1],$??10)},f.tickFormat=function($,O){return O==null?j:c(O)},f.nice=function($){var O=p();return(!$||typeof $.range!="function")&&($=t(O[0],O[O.length-1],$??10)),$?p(B3(O,$)):f},f.copy=function(){return dp(f,oS(e,t,n,r,i,o,s,l,u,c))},f}function Sie(){return Ci.apply(oS(xre,wre,Ns,rS,O0,fp,tS,JP,Il,tz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tie(){return Ci.apply(oS(yre,_re,Rs,iS,N0,k0,nS,eS,Il,nz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function R0(){var e=0,t=1,n,r,i,o,s=ur,l=!1,u;function c(h){return h==null||isNaN(h=+h)?u:s(i===0?.5:(h=(o(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(h){return arguments.length?(l=!!h,c):l},c.interpolator=function(h){return arguments.length?(s=h,c):s};function f(h){return function(p){var v,x;return arguments.length?([v,x]=p,s=h(v,x),c):[s(0),s(1)]}}return c.range=f(ad),c.rangeRound=f(WP),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return o=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),c}}function Ja(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rz(){var e=Qa(R0()(ur));return e.copy=function(){return Ja(e,rz())},Bs.apply(e,arguments)}function iz(){var e=GP(R0()).domain([1,10]);return e.copy=function(){return Ja(e,iz()).base(e.base())},Bs.apply(e,arguments)}function oz(){var e=ZP(R0());return e.copy=function(){return Ja(e,oz()).constant(e.constant())},Bs.apply(e,arguments)}function sS(){var e=YP(R0());return e.copy=function(){return Ja(e,sS()).exponent(e.exponent())},Bs.apply(e,arguments)}function Aie(){return sS.apply(null,arguments).exponent(.5)}function sz(){var e=[],t=ur;function n(r){if(r!=null&&!isNaN(r=+r))return t((up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Oa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>fne(e,o/r))},n.copy=function(){return sz(t).domain(e)},Bs.apply(n,arguments)}function M0(){var e=0,t=.5,n=1,r=1,i,o,s,l,u,c=ur,f,h=!1,p;function v(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-o)*(r*b<r*o?l:u),c(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,n]=b,i=f(e=+e),o=f(t=+t),s=f(n=+n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,v):[e,t,n]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(c=b,v):c};function x(b){return function(E){var P,T,C;return arguments.length?([P,T,C]=E,c=Vne(b,[P,T,C]),v):[c(0),c(.5),c(1)]}}return v.range=x(ad),v.rangeRound=x(WP),v.unknown=function(b){return arguments.length?(p=b,v):p},function(b){return f=b,i=b(e),o=b(t),s=b(n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,v}}function az(){var e=Qa(M0()(ur));return e.copy=function(){return Ja(e,az())},Bs.apply(e,arguments)}function lz(){var e=GP(M0()).domain([.1,1,10]);return e.copy=function(){return Ja(e,lz()).base(e.base())},Bs.apply(e,arguments)}function uz(){var e=ZP(M0());return e.copy=function(){return Ja(e,uz()).constant(e.constant())},Bs.apply(e,arguments)}function aS(){var e=YP(M0());return e.copy=function(){return Ja(e,aS()).exponent(e.exponent())},Bs.apply(e,arguments)}function Cie(){return aS.apply(null,arguments).exponent(.5)}const vf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FP,scaleDiverging:az,scaleDivergingLog:lz,scaleDivergingPow:aS,scaleDivergingSqrt:Cie,scaleDivergingSymlog:uz,scaleIdentity:F3,scaleImplicit:Vb,scaleLinear:$3,scaleLog:U3,scaleOrdinal:$P,scalePoint:mne,scalePow:XP,scaleQuantile:K3,scaleQuantize:q3,scaleRadial:H3,scaleSequential:rz,scaleSequentialLog:iz,scaleSequentialPow:sS,scaleSequentialQuantile:sz,scaleSequentialSqrt:Aie,scaleSequentialSymlog:oz,scaleSqrt:lre,scaleSymlog:W3,scaleThreshold:G3,scaleTime:Sie,scaleUtc:Tie,tickFormat:V3},Symbol.toStringTag,{value:"Module"}));var Us=e=>e.chartData,j0=K([Us],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cz=(e,t,n,r)=>r?j0(e):Us(e),Iie=(e,t,n)=>n?j0(e):Us(e);function Ms(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(We(t)&&We(n))return!0}return!1}function X2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(We(n))i=n;else if(typeof n=="function")return;if(We(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ms(s))return s}}function kie(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ms(r))return X2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ge(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&vk.test(i)){var u=vk.exec(i);if(u==null||u[1]==null||t==null)s=void 0;else{var c=+u[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(o==="auto")t!=null&&(l=Math.max(...t));else if(ge(o))l=o;else if(typeof o=="function")try{t!=null&&(l=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&yk.test(o)){var f=yk.exec(o);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[1]+h}}else l=t==null?void 0:t[1];var p=[s,l];if(Ms(p))return t==null?p:X2(p,t,n)}}}var ld=1e9,Oie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uS,Pt=!0,Ti="[DecimalError] ",Ll=Ti+"Invalid argument: ",lS=Ti+"Exponent out of range: ",ud=Math.floor,wl=Math.pow,Nie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,xn=1e7,yt=7,fz=9007199254740991,Uv=ud(fz/yt),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*yt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return _s(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return ut(_s(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return nn(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Fr))throw Error(Ti+"NaN");if(n.s<1)throw Error(Ti+(n.s?"NaN":"-Infinity"));return n.eq(Fr)?new r(0):(Pt=!1,t=_s(Th(n,o),Th(e,o),o),Pt=!0,ut(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mz(t,e):hz(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ti+"NaN");return n.s?(Pt=!1,t=_s(n,e,0,1).times(e),Pt=!0,n.minus(t)):ut(new r(n),i)};me.naturalExponential=me.exp=function(){return pz(this)};me.naturalLogarithm=me.ln=function(){return Th(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hz(t,e):mz(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ll+e);if(t=nn(i)+1,r=i.d.length-1,n=r*yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ti+"NaN")}for(e=nn(l),Pt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Po(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ud((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(o=r,r=o.plus(_s(l,o,s+2)).times(.5),Po(o.d).slice(0,s)===(t=Po(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(ut(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(t!="9999")break;s+=4}return Pt=!0,ut(r,n)};me.times=me.mul=function(e){var t,n,r,i,o,s,l,u,c,f=this,h=f.constructor,p=f.d,v=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,u=p.length,c=v.length,u<c&&(o=p,p=v,v=o,s=u,u=c,c=s),o=[],s=u+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)l=o[i]+v[r]*p[i-r-1]+t,o[i--]=l%xn|0,t=l/xn|0;o[i]=(o[i]+t)%xn|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Pt?ut(e,h.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Lo(e,0,ld),t===void 0?t=r.rounding:Lo(t,0,8),ut(n,e+nn(n)+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=nu(r,!0):(Lo(e,0,ld),t===void 0?t=i.rounding:Lo(t,0,8),r=ut(new i(r),e+1,t),n=nu(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?nu(i):(Lo(e,0,ld),t===void 0?t=o.rounding:Lo(t,0,8),r=ut(new o(i),e+nn(i)+1,t),n=nu(r.abs(),!1,e+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return ut(new t(e),nn(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,i,o,s,l=this,u=l.constructor,c=12,f=+(e=new u(e));if(!e.s)return new u(Fr);if(l=new u(l),!l.s){if(e.s<1)throw Error(Ti+"Infinity");return l}if(l.eq(Fr))return l;if(r=u.precision,e.eq(Fr))return ut(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=l.s,s){if((n=f<0?-f:f)<=fz){for(i=new u(Fr),t=Math.ceil(r/yt+4),Pt=!1;n%2&&(i=i.times(l),J2(i.d,t)),n=ud(n/2),n!==0;)l=l.times(l),J2(l.d,t);return Pt=!0,e.s<0?new u(Fr).div(i):ut(i,r)}}else if(o<0)throw Error(Ti+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Pt=!1,i=e.times(Th(l,r+c)),Pt=!0,i=pz(i),i.s=o,i};me.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=nn(i),r=nu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Lo(e,1,ld),t===void 0?t=o.rounding:Lo(t,0,8),i=ut(new o(i),e,t),n=nn(i),r=nu(i,e<=n||n<=o.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Lo(e,1,ld),t===void 0?t=r.rounding:Lo(t,0,8)),ut(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nn(e),n=e.constructor;return nu(e,t<=n.toExpNeg||t>=n.toExpPos)};function hz(e,t){var n,r,i,o,s,l,u,c,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Pt?ut(t,h):t;if(u=e.d,c=t.d,s=e.e,i=t.e,u=u.slice(),o=s-i,o){for(o<0?(r=u,o=-o,l=c.length):(r=c,i=s,l=u.length),s=Math.ceil(h/yt),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=c.length,l-o<0&&(o=l,r=c,c=u,u=r),n=0;o;)n=(u[--o]=u[o]+c[o]+n)/xn|0,u[o]%=xn;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Pt?ut(t,h):t}function Lo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ll+e)}function Po(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=yt-r.length,n&&(o+=oa(n)),o+=r;s=e[t],r=s+"",n=yt-r.length,n&&(o+=oa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var _s=function(){function e(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%xn|0,s=o/xn|0;return s&&r.unshift(s),r}function t(r,i,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*xn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,u,c,f,h,p,v,x,b,E,P,T,C,R,j,$,O,I,N=r.constructor,z=r.s==i.s?1:-1,D=r.d,F=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ti+"Division by zero");for(u=r.e-i.e,O=F.length,j=D.length,v=new N(z),x=v.d=[],c=0;F[c]==(D[c]||0);)++c;if(F[c]>(D[c]||0)&&--u,o==null?T=o=N.precision:s?T=o+(nn(r)-nn(i))+1:T=o,T<0)return new N(0);if(T=T/yt+2|0,c=0,O==1)for(f=0,F=F[0],T++;(c<j||f)&&T--;c++)C=f*xn+(D[c]||0),x[c]=C/F|0,f=C%F|0;else{for(f=xn/(F[0]+1)|0,f>1&&(F=e(F,f),D=e(D,f),O=F.length,j=D.length),R=O,b=D.slice(0,O),E=b.length;E<O;)b[E++]=0;I=F.slice(),I.unshift(0),$=F[0],F[1]>=xn/2&&++$;do f=0,l=t(F,b,O,E),l<0?(P=b[0],O!=E&&(P=P*xn+(b[1]||0)),f=P/$|0,f>1?(f>=xn&&(f=xn-1),h=e(F,f),p=h.length,E=b.length,l=t(h,b,p,E),l==1&&(f--,n(h,O<p?I:F,p))):(f==0&&(l=f=1),h=F.slice()),p=h.length,p<E&&h.unshift(0),n(b,h,E),l==-1&&(E=b.length,l=t(F,b,O,E),l<1&&(f++,n(b,O<E?I:F,E))),E=b.length):l===0&&(f++,b=[0]),x[c++]=f,l&&b[0]?b[E++]=D[R]||0:(b=[D[R]],E=1);while((R++<j||b[0]!==void 0)&&T--)}return x[0]||x.shift(),v.e=u,ut(v,s?o+nn(v)+1:o)}}();function pz(e,t){var n,r,i,o,s,l,u=0,c=0,f=e.constructor,h=f.precision;if(nn(e)>16)throw Error(lS+nn(e));if(!e.s)return new f(Fr);for(t==null?(Pt=!1,l=h):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(wl(2,c))/Math.LN10*2+5|0,l+=r,n=i=o=new f(Fr),f.precision=l;;){if(i=ut(i.times(e),l),n=n.times(++u),s=o.plus(_s(i,n,l)),Po(s.d).slice(0,l)===Po(o.d).slice(0,l)){for(;c--;)o=ut(o.times(o),l);return f.precision=h,t==null?(Pt=!0,ut(o,h)):o}o=s}}function nn(e){for(var t=e.e*yt,n=e.d[0];n>=10;n/=10)t++;return t}function Tx(e,t,n){if(t>e.LN10.sd())throw Pt=!0,n&&(e.precision=n),Error(Ti+"LN10 precision limit exceeded");return ut(new e(e.LN10),t)}function oa(e){for(var t="";e--;)t+="0";return t}function Th(e,t){var n,r,i,o,s,l,u,c,f,h=1,p=10,v=e,x=v.d,b=v.constructor,E=b.precision;if(v.s<1)throw Error(Ti+(v.s?"NaN":"-Infinity"));if(v.eq(Fr))return new b(0);if(t==null?(Pt=!1,c=E):c=t,v.eq(10))return t==null&&(Pt=!0),Tx(b,c);if(c+=p,b.precision=c,n=Po(x),r=n.charAt(0),o=nn(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=Po(v.d),r=n.charAt(0),h++;o=nn(v),r>1?(v=new b("0."+n),o++):v=new b(r+"."+n.slice(1))}else return u=Tx(b,c+2,E).times(o+""),v=Th(new b(r+"."+n.slice(1)),c-p).plus(u),b.precision=E,t==null?(Pt=!0,ut(v,E)):v;for(l=s=v=_s(v.minus(Fr),v.plus(Fr),c),f=ut(v.times(v),c),i=3;;){if(s=ut(s.times(f),c),u=l.plus(_s(s,new b(i),c)),Po(u.d).slice(0,c)===Po(l.d).slice(0,c))return l=l.times(2),o!==0&&(l=l.plus(Tx(b,c+2,E).times(o+""))),l=_s(l,new b(h),c),b.precision=E,t==null?(Pt=!0,ut(l,E)):l;l=u,i+=2}}function Q2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ud(n/yt),e.d=[],r=(n+1)%yt,n<0&&(r+=yt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=yt;r<i;)e.d.push(+t.slice(r,r+=yt));t=t.slice(r),r=yt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Pt&&(e.e>Uv||e.e<-Uv))throw Error(lS+n)}else e.s=0,e.e=0,e.d=[0];return e}function ut(e,t,n){var r,i,o,s,l,u,c,f,h=e.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=yt,i=t,c=h[f=0];else{if(f=Math.ceil((r+1)/yt),o=h.length,f>=o)return e;for(c=o=h[f],s=1;o>=10;o/=10)s++;r%=yt,i=r-yt+s}if(n!==void 0&&(o=wl(10,s-i-1),l=c/o%10|0,u=t<0||h[f+1]!==void 0||c%o,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?c/wl(10,s-i):0:h[f-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return u?(o=nn(e),h.length=1,t=t-o-1,h[0]=wl(10,(yt-t%yt)%yt),e.e=ud(-t/yt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=f,o=1,f--):(h.length=f+1,o=wl(10,yt-r),h[f]=i>0?(c/wl(10,s-i)%wl(10,i)|0)*o:0),u)for(;;)if(f==0){(h[0]+=o)==xn&&(h[0]=1,++e.e);break}else{if(h[f]+=o,h[f]!=xn)break;h[f--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Pt&&(e.e>Uv||e.e<-Uv))throw Error(lS+nn(e));return e}function mz(e,t){var n,r,i,o,s,l,u,c,f,h,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Pt?ut(t,v):t;if(u=e.d,h=t.d,r=t.e,c=e.e,u=u.slice(),s=c-r,s){for(f=s<0,f?(n=u,s=-s,l=h.length):(n=h,r=c,l=u.length),i=Math.max(Math.ceil(v/yt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=h[i]){f=u[i]<h[i];break}s=0}for(f&&(n=u,u=h,h=n,t.s=-t.s),l=u.length,i=h.length-l;i>0;--i)u[l++]=0;for(i=h.length;i>s;){if(u[--i]<h[i]){for(o=i;o&&u[--o]===0;)u[o]=xn-1;--u[o],u[i]+=xn}u[i]-=h[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Pt?ut(t,v):t):new p(0)}function nu(e,t,n){var r,i=nn(e),o=Po(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+oa(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+oa(-i-1)+o,n&&(r=n-s)>0&&(o+=oa(r))):i>=s?(o+=oa(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+oa(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=oa(r))),e.s<0?"-"+o:o}function J2(e,t){if(e.length>t)return e.length=t,!0}function gz(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ll+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Q2(s,o.toString())}else if(typeof o!="string")throw Error(Ll+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Nie.test(o))Q2(s,o);else throw Error(Ll+o)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gz,i.config=i.set=Rie,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Rie(e){if(!e||typeof e!="object")throw Error(Ti+"Object expected");var t,n,r,i=["precision",1,ld,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ud(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ll+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ll+n+": "+r);return this}var uS=gz(Oie);Fr=new uS(1);const it=uS;function vz(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function yz(e,t,n){for(var r=new it(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var _z=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},xz=(e,t,n)=>{if(e.lte(0))return new it(0);var r=vz(e.toNumber()),i=new it(10).pow(r),o=e.div(i),s=r!==1?.05:.1,l=new it(Math.ceil(o.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return t?new it(u.toNumber()):new it(Math.ceil(u.toNumber()))},Mie=(e,t,n)=>{var r=new it(1),i=new it(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new it(10).pow(vz(e)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new it(Math.floor(e)))}else e===0?i=new it(Math.floor((t-1)/2)):n||(i=new it(Math.floor(e)));for(var s=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new it(u-s).mul(r)).toNumber());return l},wz=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var s=xz(new it(n).sub(t).div(r-1),i,o),l;t<=0&&n>=0?l=new it(0):(l=new it(t).add(n).div(2),l=l.sub(new it(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),c=Math.ceil(new it(n).sub(l).div(s).toNumber()),f=u+c+1;return f>r?wz(t,n,r,i,o+1):(f<r&&(c=n>0?c+(r-f):c,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new it(u).mul(s)),tickMax:l.add(new it(c).mul(s))})},jie=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=_z([n,r]);if(l===-1/0||u===1/0){var c=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?c.reverse():c}if(l===u)return Mie(l,i,o);var{step:f,tickMin:h,tickMax:p}=wz(l,u,s,o,0),v=yz(h,p.add(new it(.1).mul(f)),f);return n>r?v.reverse():v},Die=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=_z([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),c=xz(new it(l).sub(s).div(u-1),o,0),f=[...yz(new it(s),new it(l),c),l];return o===!1&&(f=f.map(h=>Math.round(h))),r>i?f.reverse():f},Lie=e=>e.rootProps.barCategoryGap,hp=e=>e.rootProps.stackOffset,bz=e=>e.rootProps.reverseStackOrder,cS=e=>e.options.chartName,dS=e=>e.rootProps.syncId,Ez=e=>e.rootProps.syncMethod,fS=e=>e.options.eventEmitter,zie=e=>e.rootProps.baseValue,cn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ml={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:cn.axis},vo={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:cn.axis},D0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function L0(e,t,n){if(n!=="auto")return n;if(e!=null)return $o(e,t)?"category":"number"}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(r){Vie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vie(e,t,n){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=Fie(e,"string");return typeof t=="symbol"?t:t+""}function Fie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tO={allowDataOverflow:ml.allowDataOverflow,allowDecimals:ml.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:ml.reversed,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:ml.type,unit:void 0},nO={allowDataOverflow:vo.allowDataOverflow,allowDecimals:vo.allowDecimals,allowDuplicatedCategory:vo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vo.radiusAxisId,includeHidden:vo.includeHidden,name:void 0,reversed:vo.reversed,scale:vo.scale,tick:vo.tick,tickCount:vo.tickCount,ticks:void 0,type:vo.type,unit:void 0},Bie=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},hS=K([Bie,s3],(e,t)=>{var n;if(e!=null)return e;var r=(n=L0(t,"angleAxis",tO.type))!==null&&n!==void 0?n:"category";return Wv(Wv({},tO),{},{type:r})}),Uie=(e,t)=>e.polarAxis.radiusAxis[t],pS=K([Uie,s3],(e,t)=>{var n;if(e!=null)return e;var r=(n=L0(t,"radiusAxis",nO.type))!==null&&n!==void 0?n:"category";return Wv(Wv({},nO),{},{type:r})}),z0=e=>e.polarOptions,mS=K([$s,Fs,Sn],E3),Pz=K([z0,mS],(e,t)=>{if(e!=null)return Gr(e.innerRadius,t,0)}),Sz=K([z0,mS],(e,t)=>{if(e!=null)return Gr(e.outerRadius,t,t*.8)}),Wie=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Tz=K([z0],Wie);K([hS,Tz],D0);var Az=K([mS,Pz,Sz],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});K([pS,Az],D0);var Cz=K([ct,z0,Pz,Sz,$s,Fs],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:c}=t;return{cx:Gr(s,i,i/2),cy:Gr(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:c,clockWise:!1}}}),Nt=(e,t)=>t,pp=(e,t,n)=>n;function gS(e){return e==null?void 0:e.id}function Iz(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var f=gS(l);c.forEach((h,p)=>{var v=o==null||i?p:String(wt(h,o,null)),x=wt(h,l.dataKey,0),b;s.has(v)?b=s.get(v):b={},Object.assign(b,{[f]:x}),s.set(v,b)})}}),Array.from(s.values())}function vS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var V0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Hie(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var An=e=>{var t=ct(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cd=e=>e.tooltip.settings.axisId;function Kie(e){if(e in vf)return vf[e]();var t="scale".concat(np(e));if(t in vf)return vf[t]()}function rO(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],l=i[1];return s<=l?o>=s&&o<=l:o>=l&&o<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,s)=>{var l=e(o);if(l!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var u=e.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function iO(e,t,n){if(typeof e=="function")return rO(e.copy().domain(t).range(n));if(e!=null){var r=Kie(e);if(r!=null)return r.domain(t).range(n),rO(r)}}var kz=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ms(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];We(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(r){qie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qie(e,t,n){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ub=[0,"auto"],vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Oz=(e,t)=>e.cartesianAxis.xAxis[t],Ws=(e,t)=>{var n=Oz(e,t);return n??vn},yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ub,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:op},Nz=(e,t)=>e.cartesianAxis.yAxis[t],Hs=(e,t)=>{var n=Nz(e,t);return n??yn},Yie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Yie},Ft=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Hs(e,n);case"zAxis":return yS(e,n);case"angleAxis":return hS(e,n);case"radiusAxis":return pS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Xie=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Hs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dd=(e,t,n)=>{switch(t){case"xAxis":return Ws(e,n);case"yAxis":return Hs(e,n);case"angleAxis":return hS(e,n);case"radiusAxis":return pS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _S(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Mz=e=>e.graphicalItems.cartesianItems,Qie=K([Nt,pp],_S),xS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),mp=K([Mz,Ft,Qie],xS,{memoizeOptions:{resultEqualityCheck:$0}}),jz=K([mp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(vS)),Dz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Jie=K([mp],Dz),wS=e=>e.map(t=>t.data).filter(Boolean).flat(1),eoe=K([mp],wS,{memoizeOptions:{resultEqualityCheck:$0}}),bS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},ES=K([eoe,cz],bS),PS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:wt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:wt(i,r)}))):e.map(r=>({value:r})),F0=K([ES,Ft,mp],PS);function Lz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dg(e){if(jo(e)||e instanceof Date){var t=Number(e);if(We(t))return t}}function sO(e){if(Array.isArray(e)){var t=[dg(e[0]),dg(e[1])];return Ms(t)?t:void 0}var n=dg(e);if(n!=null)return[n,n]}function js(e){return e.map(dg).filter(Tr)}function toe(e,t,n){return!n||typeof t!="number"||Mo(t)?[]:n.length?js(n.flatMap(r=>{var i=wt(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!We(o)||!We(s)))return[t-o,t+s]})):[]}var hn=e=>{var t=An(e),n=cd(e);return dd(e,t,n)},gp=K([hn],e=>e==null?void 0:e.dataKey),noe=K([jz,cz,hn],Iz),zz=(e,t,n,r)=>{var i={},o=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[l,u]=s,c=r?[...u].reverse():u,f=c.map(gS);return[l,{stackedData:KJ(e,f,n),graphicalItems:c}]}))},Vz=K([noe,jz,hp,bz],zz),$z=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=YJ(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},roe=K([Ft],e=>e.allowDataOverflow),SS=e=>{var t;if(e==null||!("domain"in e))return Ub;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=js(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ub},TS=K([Ft],SS),AS=K([TS,roe],dz),ioe=K([Vz,Us,Nt,AS],$z,{memoizeOptions:{resultEqualityCheck:V0}}),B0=e=>e.errorBars,ooe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Lz(n,r)),Kv=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},CS=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var c,f,h=(c=r[u.id])===null||c===void 0?void 0:c.filter(P=>Lz(i,P)),p=wt(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),v=toe(l,p,h);if(v.length>=2){var x=Math.min(...v),b=Math.max(...v);(o==null||x<o)&&(o=x),(s==null||b>s)&&(s=b)}var E=sO(p);E!=null&&(o=o==null?E[0]:Math.min(o,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=sO(wt(l,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),We(o)&&We(s))return[o,s]},soe=K([ES,Ft,Jie,B0,Nt],CS,{memoizeOptions:{resultEqualityCheck:V0}});function aoe(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var loe=(e,t,n)=>{var r=e.map(aoe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&R5(r))?k3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Fz=e=>e.referenceElements.dots,fd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),uoe=K([Fz,Nt,pp],fd),Bz=e=>e.referenceElements.areas,coe=K([Bz,Nt,pp],fd),Uz=e=>e.referenceElements.lines,doe=K([Uz,Nt,pp],fd),Wz=(e,t)=>{if(e!=null){var n=js(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},foe=K(uoe,Nt,Wz),Hz=(e,t)=>{if(e!=null){var n=js(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},hoe=K([coe,Nt],Hz);function poe(e){var t;if(e.x!=null)return js([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:js(n)}function moe(e){var t;if(e.y!=null)return js([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:js(n)}var Kz=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?poe(r):moe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},goe=K([doe,Nt],Kz),voe=K(foe,goe,hoe,(e,t,n)=>Kv(e,n,t)),IS=(e,t,n,r,i,o,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",c=u?Kv(r,o,i):Kv(o,i);return kie(t,c,e.allowDataOverflow)},yoe=K([Ft,TS,AS,ioe,soe,voe,ct,Nt],IS,{memoizeOptions:{resultEqualityCheck:V0}}),_oe=[0,1],kS=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,c=$o(t,o);if(c&&l==null){var f;return k3(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?loe(r,e,c):i==="expand"?_oe:s}},OS=K([Ft,ct,ES,F0,hp,Nt,yoe],kS);function xoe(e){return e in vf}var qz=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(np(r));return xoe(o)?o:"point"}}},el=K([Ft,Rz,cS],qz);function NS(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?iO(e.scale,n,r):iO(t,n,r)}var RS=(e,t,n)=>{var r=SS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ms(e))return jie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ms(e))return Die(e,t.tickCount,t.allowDecimals)}},MS=K([OS,dd,el],RS),jS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ms(t)&&Array.isArray(n)&&n.length>0){var i,o,s=t[0],l=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],c=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,l),Math.max(u,c)]}return t},woe=K([Ft,OS,MS,Nt],jS),boe=K(F0,Ft,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(js(e.map(h=>h.value))).sort((h,p)=>h-p),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],c=r[l+1];if(!(u==null||c==null)){var f=c-u;n=Math.min(n,f)}}return n/s}}),Gz=K(boe,ct,Lie,Sn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!We(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=Gr(n,e*o),l=e*o/2;return l-s-(l-s)/o*s}return 0}),Eoe=(e,t,n)=>{var r=Ws(e,t);return r==null||typeof r.padding!="string"?0:Gz(e,"xAxis",t,n,r.padding)},Poe=(e,t,n)=>{var r=Hs(e,t);return r==null||typeof r.padding!="string"?0:Gz(e,"yAxis",t,n,r.padding)},Soe=K(Ws,Eoe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Toe=K(Hs,Poe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Aoe=K([Sn,Soe,b0,w0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Coe=K([Sn,ct,Toe,b0,w0,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),vp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Aoe(e,n,r);case"yAxis":return Coe(e,n,r);case"zAxis":return(i=yS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Tz(e);case"radiusAxis":return Az(e,n);default:return}},Zz=K([Ft,vp],D0),Ioe=K([el,woe],kz),U0=K([Ft,el,Ioe,Zz],NS);K([mp,B0,Nt],ooe);function Yz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var W0=(e,t)=>t,H0=(e,t,n)=>n,koe=K(_0,W0,H0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Yz)),Ooe=K(x0,W0,H0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Yz)),Xz=(e,t)=>({width:e.width,height:t.height}),Noe=(e,t)=>{var n=typeof t.width=="number"?t.width:op;return{width:n,height:e.height}},Roe=K(Sn,Ws,Xz),Moe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},joe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Doe=K(Fs,Sn,koe,W0,H0,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=Xz(t,l);s==null&&(s=Moe(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;o[l.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),o}),Loe=K($s,Sn,Ooe,W0,H0,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=Noe(t,l);s==null&&(s=joe(t,r,e));var c=r==="left"&&!i||r==="right"&&i;o[l.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),o}),zoe=(e,t)=>{var n=Ws(e,t);if(n!=null)return Doe(e,n.orientation,n.mirror)},Voe=K([Sn,Ws,zoe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),$oe=(e,t)=>{var n=Hs(e,t);if(n!=null)return Loe(e,n.orientation,n.mirror)},Foe=K([Sn,Hs,$oe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Boe=K(Sn,Hs,(e,t)=>{var n=typeof t.width=="number"?t.width:op;return{width:n,height:e.height}}),Qz=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,l=$o(e,r),u=t.map(c=>c.value);if(s&&l&&o==="category"&&i&&R5(u))return u}},DS=K([ct,F0,Ft,Nt],Qz),Jz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=$o(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(l=>l.value)}},LS=K([ct,F0,dd,Nt],Jz),aO=K([ct,Xie,el,U0,DS,LS,vp,MS,Nt],(e,t,n,r,i,o,s,l,u)=>{if(t!=null){var c=$o(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:l,range:s,realScaleType:n,scale:r}}}),Uoe=(e,t,n,r,i,o,s,l,u)=>{if(!(t==null||r==null)){var c=$o(e,u),{type:f,ticks:h,tickCount:p}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/v:0;x=u==="angleAxis"&&o!=null&&o.length>=2?er(o[0]-o[1])*2*x:x;var b=h||i;return b?b.map((E,P)=>{var T=s?s.indexOf(E):E,C=r.map(T);return We(C)?{index:P,coordinate:C+x,value:E,offset:x}:null}).filter(Tr):c&&l?l.map((E,P)=>{var T=r.map(E);return We(T)?{coordinate:T+x,value:E,index:P,offset:x}:null}).filter(Tr):r.ticks?r.ticks(p).map((E,P)=>{var T=r.map(E);return We(T)?{coordinate:T+x,value:E,index:P,offset:x}:null}).filter(Tr):r.domain().map((E,P)=>{var T=r.map(E);return We(T)?{coordinate:T+x,value:s?s[E]:E,index:P,offset:x}:null}).filter(Tr)}},e6=K([ct,dd,el,U0,MS,vp,DS,LS,Nt],Uoe),Woe=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=$o(e,s),{tickCount:u}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?er(r[0]-r[1])*2*c:c,l&&o?o.map((f,h)=>{var p=n.map(f);return We(p)?{coordinate:p+c,value:f,index:h,offset:c}:null}).filter(Tr):n.ticks?n.ticks(u).map((f,h)=>{var p=n.map(f);return We(p)?{coordinate:p+c,value:f,index:h,offset:c}:null}).filter(Tr):n.domain().map((f,h)=>{var p=n.map(f);return We(p)?{coordinate:p+c,value:i?i[f]:f,index:h,offset:c}:null}).filter(Tr)}},t6=K([ct,dd,U0,vp,DS,LS,Nt],Woe),n6=K(Ft,U0,(e,t)=>{if(!(e==null||t==null))return Hv(Hv({},e),{},{scale:t})}),Hoe=K([Ft,el,OS,Zz],NS);K((e,t,n)=>yS(e,n),Hoe,(e,t)=>{if(!(e==null||t==null))return Hv(Hv({},e),{},{scale:t})});var Koe=K([ct,_0,x0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),r6=e=>e.options.defaultTooltipEventType,i6=e=>e.options.validateTooltipEventTypes;function o6(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zS(e,t){var n=r6(e),r=i6(e);return o6(t,n,r)}function qoe(e){return ye(t=>zS(t,e))}var s6=(e,t)=>{var n,r=Number(t);if(!(Mo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Goe=e=>e.tooltip.settings,ha={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Zoe={itemInteraction:{click:ha,hover:ha},axisInteraction:{click:ha,hover:ha},keyboardInteraction:ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},a6=Or({name:"tooltip",initialState:Zoe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:bt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gi(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:bt()},removeTooltipEntrySettings:{reducer(e,t){var n=Gi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:bt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Yoe,replaceTooltipEntrySettings:Xoe,removeTooltipEntrySettings:Qoe,setTooltipSettingsState:Joe,setActiveMouseOverItemIndex:l6,mouseLeaveItem:ese,mouseLeaveChart:u6,setActiveClickItemIndex:tse,setMouseOverAxisIndex:c6,setMouseClickAxisIndex:nse,setSyncInteraction:Wb,setKeyboardInteraction:Hb}=a6.actions,rse=a6.reducer;function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(r){ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ise(e,t,n){return(t=ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ase(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function lse(e){return e.index!=null}var d6=(e,t,n,r)=>{if(t==null)return ha;var i=ase(e,t,n);if(i==null)return ha;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(lse(i)){if(o)return jm(jm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return jm(jm({},ha),{},{coordinate:i.coordinate})};function use(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function cse(e,t){var n=use(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function dse(e,t,n){if(n==null||t==null)return!0;var r=wt(e,t);return r==null||!Ms(n)?!0:cse(r,n)}var VS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!We(o))return i;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(o,l)),c=t[u];return c==null||dse(c,n,r)?String(u):null},f6=(e,t,n,r,i,o,s)=>{if(o!=null){var l=s[0],u=l==null?void 0:l.getPosition(o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},h6=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},p6=e=>e.options.tooltipPayloadSearcher,hd=e=>e.tooltip;function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fse(e,t,n){return(t=hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mse(e,t){return e??t}var m6=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:f}=n,h=[];return e.reduce((p,v)=>{var x,{dataDefinedOnItem:b,settings:E}=v,P=mse(b,l),T=Array.isArray(P)?U4(P,c,f):P,C=(x=E==null?void 0:E.dataKey)!==null&&x!==void 0?x:r,R=E==null?void 0:E.nameKey,j;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&s==="axis"?j=M5(T,r,i):j=o(T,t,u,R),Array.isArray(j))j.forEach(O=>{var I=cO(cO({},E),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});p.push(_k({tooltipEntrySettings:I,dataKey:O.dataKey,payload:O.payload,value:wt(O.payload,O.dataKey),name:O.name}))});else{var $;p.push(_k({tooltipEntrySettings:E,dataKey:C,payload:j,value:wt(j,C),name:($=wt(j,R))!==null&&$!==void 0?$:E==null?void 0:E.name}))}return p},h)}},$S=K([hn,Rz,cS],qz),gse=K([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vse=K([An,cd],_S),pd=K([gse,hn,vse],xS,{memoizeOptions:{resultEqualityCheck:$0}}),yse=K([pd],e=>e.filter(vS)),_se=K([pd],wS,{memoizeOptions:{resultEqualityCheck:$0}}),md=K([_se,Us],bS),xse=K([yse,Us,hn],Iz),FS=K([md,hn,pd],PS),g6=K([hn],SS),wse=K([hn],e=>e.allowDataOverflow),v6=K([g6,wse],dz),bse=K([pd],e=>e.filter(vS)),Ese=K([xse,bse,hp,bz],zz),Pse=K([Ese,Us,An,v6],$z),Sse=K([pd],Dz),Tse=K([md,hn,Sse,B0,An],CS,{memoizeOptions:{resultEqualityCheck:V0}}),Ase=K([Fz,An,cd],fd),Cse=K([Ase,An],Wz),Ise=K([Bz,An,cd],fd),kse=K([Ise,An],Hz),Ose=K([Uz,An,cd],fd),Nse=K([Ose,An],Kz),Rse=K([Cse,Nse,kse],Kv),Mse=K([hn,g6,v6,Pse,Tse,Rse,ct,An],IS),yp=K([hn,ct,md,FS,hp,An,Mse],kS),jse=K([yp,hn,$S],RS),Dse=K([hn,yp,jse,An],jS),y6=e=>{var t=An(e),n=cd(e),r=!1;return vp(e,t,n,r)},_6=K([hn,y6],D0),x6=K([hn,$S,Dse,_6],NS),Lse=K([ct,FS,hn,An],Qz),zse=K([ct,FS,hn,An],Jz),Vse=(e,t,n,r,i,o,s,l)=>{if(t){var{type:u}=t,c=$o(e,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?er(i[0]-i[1])*2*h:h,c&&s?s.map((p,v)=>{var x=r.map(p);return We(x)?{coordinate:x+h,value:p,index:v,offset:h}:null}).filter(Tr):r.domain().map((p,v)=>{var x=r.map(p);return We(x)?{coordinate:x+h,value:o?o[p]:p,index:v,offset:h}:null}).filter(Tr)}}},Ks=K([ct,hn,$S,x6,y6,Lse,zse,An],Vse),BS=K([r6,i6,Goe],(e,t,n)=>o6(n.shared,e,t)),w6=e=>e.tooltip.settings.trigger,US=e=>e.tooltip.settings.defaultIndex,_p=K([hd,BS,w6,US],d6),Hc=K([_p,md,gp,yp],VS),b6=K([Ks,Hc],s6),E6=K([_p],e=>{if(e)return e.dataKey}),$se=K([_p],e=>{if(e)return e.graphicalItemId}),P6=K([hd,BS,w6,US],h6),Fse=K([$s,Fs,ct,Sn,Ks,US,P6],f6),Bse=K([_p,Fse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Use=K([_p],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Wse=K([P6,Hc,Us,gp,b6,p6,BS],m6),Hse=K([Wse],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){Kse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kse(e,t,n){return(t=qse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zse=()=>ye(hn),Yse=()=>{var e=Zse(),t=ye(Ks),n=ye(x6);return Ev(!e||!n?void 0:fO(fO({},e),{},{scale:n}),t)};function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(r){Xse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xse(e,t,n){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qse(e){var t=Jse(e,"string");return typeof t=="symbol"?t:t+""}function Jse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eae=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},tae=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return $u($u($u({},r),tn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,{angle:u}=r;return $u($u($u({},r),tn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nae(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var S6=(e,t,n,r,i)=>{var o,s=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,c,f,h,p,v=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,b=l>=s-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(p=n[l+1])===null||p===void 0?void 0:p.coordinate,E=void 0;if(!(v==null||x==null||b==null))if(er(x-v)!==er(b-x)){var P=[];if(er(b-x)===er(i[1]-i[0])){E=b;var T=x+i[1]-i[0];P[0]=Math.min(T,(T+v)/2),P[1]=Math.max(T,(T+v)/2)}else{E=v;var C=b+i[1]-i[0];P[0]=Math.min(x,(C+x)/2),P[1]=Math.max(x,(C+x)/2)}var R=[Math.min(x,(E+x)/2),Math.max(x,(E+x)/2)];if(e>R[0]&&e<=R[1]||e>=P[0]&&e<=P[1]){var j;return(j=n[l])===null||j===void 0?void 0:j.index}}else{var $=Math.min(v,b),O=Math.max(v,b);if(e>($+x)/2&&e<=(O+x)/2){var I;return(I=n[l])===null||I===void 0?void 0:I.index}}}else if(t)for(var N=0;N<s;N++){var z=t[N];if(z!=null){var D=t[N+1],F=t[N-1];if(N===0&&D!=null&&e<=(z.coordinate+D.coordinate)/2||N===s-1&&F!=null&&e>(z.coordinate+F.coordinate)/2||N>0&&N<s-1&&F!=null&&D!=null&&e>(z.coordinate+F.coordinate)/2&&e<=(z.coordinate+D.coordinate)/2)return z.index}}return-1},T6=()=>ye(cS),WS=(e,t)=>t,A6=(e,t,n)=>n,HS=(e,t,n,r)=>r,rae=K(Ks,e=>l0(e,t=>t.coordinate)),KS=K([hd,WS,A6,HS],d6),qS=K([KS,md,gp,yp],VS),iae=(e,t,n)=>{if(t!=null){var r=hd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},C6=K([hd,WS,A6,HS],h6),qv=K([$s,Fs,ct,Sn,Ks,HS,C6],f6),oae=K([KS,qv],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),I6=K([Ks,qS],s6),sae=K([C6,qS,Us,gp,I6,p6,WS],m6),aae=K([KS,qS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),lae=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&nae(e,s)){var l=XJ(e,t),u=S6(l,o,i,n,r),c=eae(t,i,u,e);return{activeIndex:String(u),activeCoordinate:c}}},uae=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var l=Zte(e,n);if(l){var u=QJ(l,t),c=S6(u,s,o,r,i),f=tae(t,o,c,l);return{activeIndex:String(c),activeCoordinate:f}}}},cae=(e,t,n,r,i,o,s,l)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?lae(e,t,r,i,o,s,l):uae(e,t,n,r,i,o,s)},dae=K(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),fae=K(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(cn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Hie}});function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){hae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hae(e,t,n){return(t=pae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pae(e){var t=mae(e,"string");return typeof t=="symbol"?t:t+""}function mae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gae={},vae={zIndexMap:Object.values(cn).reduce((e,t)=>mO(mO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),gae)},yae=new Set(Object.values(cn));function _ae(e){return yae.has(e)}var k6=Or({name:"zIndex",initialState:vae,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:bt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!_ae(n)&&delete e.zIndexMap[n])},prepare:bt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:bt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:bt()}}}),{registerZIndexPortal:xae,unregisterZIndexPortal:wae,registerZIndexPortalElement:bae,unregisterZIndexPortalElement:Eae}=k6.actions,Pae=k6.reducer;function to(e){var{zIndex:t,children:n}=e,r=Pee(),i=r&&t!==void 0&&t!==0,o=Nr(),s=Tt();_.useLayoutEffect(()=>i?(s(xae({zIndex:t})),()=>{s(wae({zIndex:t}))}):od,[s,t,i]);var l=ye(u=>dae(u,t,o));return i?l?ds.createPortal(n,l):null:n}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){Sae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sae(e,t,n){return(t=Tae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tae(e){var t=Aae(e,"string");return typeof t=="symbol"?t:t+""}function Aae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cae(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return _.isValidElement(t)?_.cloneElement(t,r):_.createElement(n,r)}function Iae(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:c,chartName:f}=e,h=n,p=r,v=i;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var x,b,E;if(f==="ScatterChart")x=h,b=ute,E=cn.cursorLine;else if(f==="BarChart")x=cte(l,h,o,s),b=b3,E=cn.cursorRectangle;else if(l==="radial"&&L5(h)){var{cx:P,cy:T,radius:C,startAngle:R,endAngle:j}=P3(h);x={cx:P,cy:T,startAngle:R,endAngle:j,innerRadius:C,outerRadius:C},b=T3,E=cn.cursorLine}else x={points:Jte(l,h,o)},b=xc,E=cn.cursorLine;var $=typeof u=="object"&&"className"in u?u.className:void 0,O=Dm(Dm(Dm(Dm({stroke:"#ccc",pointerEvents:"none"},o),x),zc(u)),{},{payload:p,payloadIndex:v,className:nt("recharts-tooltip-cursor",$)});return _.createElement(to,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},_.createElement(Cae,{cursor:u,cursorComp:b,cursorProps:O}))}function kae(e){var t=Yse(),n=r3(),r=sd(),i=T6();return t==null||n==null||r==null||i==null?null:_.createElement(Iae,Kb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var O6=_.createContext(null),Oae=()=>_.useContext(O6),N6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function o(u,c,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||u,p),x=n?n+c:c;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)t.call(f,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=n?n+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,x=new Array(v);p<v;p++)x[p]=h[p].fn;return x},l.prototype.listenerCount=function(c){var f=n?n+c:c,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,f,h,p,v,x){var b=n?n+c:c;if(!this._events[b])return!1;var E=this._events[b],P=arguments.length,T,C;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),P){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,h),!0;case 4:return E.fn.call(E.context,f,h,p),!0;case 5:return E.fn.call(E.context,f,h,p,v),!0;case 6:return E.fn.call(E.context,f,h,p,v,x),!0}for(C=1,T=new Array(P-1);C<P;C++)T[C-1]=arguments[C];E.fn.apply(E.context,T)}else{var R=E.length,j;for(C=0;C<R;C++)switch(E[C].once&&this.removeListener(c,E[C].fn,void 0,!0),P){case 1:E[C].fn.call(E[C].context);break;case 2:E[C].fn.call(E[C].context,f);break;case 3:E[C].fn.call(E[C].context,f,h);break;case 4:E[C].fn.call(E[C].context,f,h,p);break;default:if(!T)for(j=1,T=new Array(P-1);j<P;j++)T[j-1]=arguments[j];E[C].fn.apply(E[C].context,T)}}return!0},l.prototype.on=function(c,f,h){return o(this,c,f,h,!1)},l.prototype.once=function(c,f,h){return o(this,c,f,h,!0)},l.prototype.removeListener=function(c,f,h,p){var v=n?n+c:c;if(!this._events[v])return this;if(!f)return s(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!h||x.context===h)&&s(this,v);else{for(var b=0,E=[],P=x.length;b<P;b++)(x[b].fn!==f||p&&!x[b].once||h&&x[b].context!==h)&&E.push(x[b]);E.length?this._events[v]=E.length===1?E[0]:E:s(this,v)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(N6);var Nae=N6.exports;const Rae=zo(Nae);var Ah=new Rae,qb="recharts.syncEvent.tooltip",vO="recharts.syncEvent.brush",R6=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Mo(n))return e[n]}},Mae={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},M6=Or({name:"options",initialState:Mae,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jae=M6.reducer,{createEventEmitter:Dae}=M6.actions;function Lae(e){return e.tooltip.syncInteraction}var zae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},j6=Or({name:"chartData",initialState:zae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:yO,setDataStartEndIndexes:Vae,setComputedData:kve}=j6.actions,$ae=j6.reducer,Fae=["x","y"];function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){Bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bae(e,t,n){return(t=Uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uae(e){var t=Wae(e,"string");return typeof t=="symbol"?t:t+""}function Wae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hae(e,t){if(e==null)return{};var n,r,i=Kae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qae(){var e=ye(dS),t=ye(fS),n=Tt(),r=ye(Ez),i=ye(Ks),o=sd(),s=E0(),l=ye(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return od;var u=(c,f,h)=>{if(t!==h&&e===c){if(r==="index"){var p;if(s&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x,y:b}=v,E=Hae(v,Fae),{x:P,y:T,width:C,height:R}=f.payload.sourceViewBox,j=Fu(Fu({},E),{},{x:s.x+(C?(x-P)/C:0)*s.width,y:s.y+(R?(b-T)/R:0)*s.height});n(Fu(Fu({},f),{},{payload:Fu(Fu({},f.payload),{},{coordinate:j})}))}else n(f);return}if(i!=null){var $;if(typeof r=="function"){var O={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},I=r(i,O);$=i[I]}else r==="value"&&($=i.find(oe=>String(oe.value)===f.payload.label));var{coordinate:N}=f.payload;if($==null||f.payload.active===!1||N==null||s==null){n(Wb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:D}=N,F=Math.min(z,s.x+s.width),B=Math.min(D,s.y+s.height),ne={x:o==="horizontal"?$.coordinate:F,y:o==="horizontal"?B:$.coordinate},xe=Wb({active:f.payload.active,coordinate:ne,dataKey:f.payload.dataKey,index:String($.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(xe)}}};return Ah.on(qb,u),()=>{Ah.off(qb,u)}},[l,n,t,e,r,i,o,s])}function Gae(){var e=ye(dS),t=ye(fS),n=Tt();_.useEffect(()=>{if(e==null)return od;var r=(i,o,s)=>{t!==s&&e===i&&n(Vae(o))};return Ah.on(vO,r),()=>{Ah.off(vO,r)}},[n,t,e])}function Zae(){var e=Tt();_.useEffect(()=>{e(Dae())},[e]),qae(),Gae()}function Yae(e,t,n,r,i,o){var s=ye(v=>iae(v,e,t)),l=ye(fS),u=ye(dS),c=ye(Ez),f=ye(Lae),h=f==null?void 0:f.active,p=E0();_.useEffect(()=>{if(!h&&u!=null&&l!=null){var v=Wb({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Ah.emit(qb,u,v,l)}},[h,n,s,i,r,l,u,c,o,p])}function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(r){Xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xae(e,t,n){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=Jae(e,"string");return typeof t=="symbol"?t:t+""}function Jae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ele(e){return e.dataKey}function tle(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(Bee,t)}var bO=[],nle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function D6(e){var t,n,r=Fn(e,nle),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:u,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:p,position:v,reverseDirection:x,useTranslate3d:b,wrapperStyle:E,cursor:P,shared:T,trigger:C,defaultIndex:R,portal:j,axisId:$}=r,O=Tt(),I=typeof R=="number"?String(R):R;_.useEffect(()=>{O(Joe({shared:T,trigger:C,axisId:$,active:i,defaultIndex:I}))},[O,T,C,$,i,I]);var N=E0(),z=v3(),D=qoe(T),{activeIndex:F,isActive:B}=(t=ye($e=>aae($e,D,C,I)))!==null&&t!==void 0?t:{},ne=ye($e=>sae($e,D,C,I)),xe=ye($e=>I6($e,D,C,I)),oe=ye($e=>oae($e,D,C,I)),ae=ne,G=Oae(),ie=(n=i??B)!==null&&n!==void 0?n:!1,[X,ue]=zQ([ae,ie]),we=D==="axis"?xe:void 0;Yae(D,C,oe,we,F,ie);var je=j??G;if(je==null||N==null||D==null)return null;var Pe=ae??bO;ie||(Pe=bO),c&&Pe.length&&(Pe=nQ(Pe.filter($e=>$e.value!=null&&($e.hide!==!0||r.includeHidden)),p,ele));var ke=Pe.length>0,ve=_.createElement(Zee,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:ie,coordinate:oe,hasPayload:ke,offset:h,position:v,reverseDirection:x,useTranslate3d:b,viewBox:N,wrapperStyle:E,lastBoundingBox:X,innerRef:ue,hasPortalFromProps:!!j},tle(u,wO(wO({},r),{},{payload:Pe,label:we,active:ie,activeIndex:F,coordinate:oe,accessibilityLayer:z})));return _.createElement(_.Fragment,null,ds.createPortal(ve,je),ie&&_.createElement(kae,{cursor:P,tooltipEventType:D,coordinate:oe,payload:Pe,index:F}))}var K0=e=>null;K0.displayName="Cell";function rle(e,t,n){return(t=ile(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ile(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sle{constructor(t){rle(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ale(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(r){lle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lle(e,t,n){return(t=ule(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ule(e){var t=cle(e,"string");return typeof t=="symbol"?t:t+""}function cle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dle={cacheSize:2e3,enableCache:!0},L6=ale({},dle),PO=new sle(L6.cacheSize),fle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SO="recharts_measurement_span";function hle(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(l)}var TO=(e,t)=>{try{var n=document.getElementById(SO);n||(n=document.createElement("span"),n.setAttribute("id",SO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,fle,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},jf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lp.isSsr)return{width:0,height:0};if(!L6.enableCache)return TO(t,n);var r=hle(t,n),i=PO.get(r);if(i)return i;var o=TO(t,n);return PO.set(r,o),o},z6;function ple(e,t,n){return(t=mle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mle(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_le={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xle=["cm","mm","pt","pc","in","Q","px"];function wle(e){return xle.includes(e)}var sc="NaN";function ble(e,t){return e*_le[t]}class Nn{static parse(t){var n,[,r,i]=(n=yle.exec(t))!==null&&n!==void 0?n:[];return r==null?Nn.NaN:new Nn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Mo(t)&&(this.unit=""),n!==""&&!vle.test(n)&&(this.num=NaN,this.unit=""),wle(n)&&(this.num=ble(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mo(this.num)}}z6=Nn;ple(Nn,"NaN",new z6(NaN,""));function V6(e){if(e==null||e.includes(sc))return sc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=AO.exec(t))!==null&&n!==void 0?n:[],s=Nn.parse(r??""),l=Nn.parse(o??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return sc;t=t.replace(AO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,f,h,p]=(c=CO.exec(t))!==null&&c!==void 0?c:[],v=Nn.parse(f??""),x=Nn.parse(p??""),b=h==="+"?v.add(x):v.subtract(x);if(b.isNaN())return sc;t=t.replace(CO,b.toString())}return t}var IO=/\(([^()]*)\)/;function Ele(e){for(var t=e,n;(n=IO.exec(t))!=null;){var[,r]=n;t=t.replace(IO,V6(r))}return t}function Ple(e){var t=e.replace(/\s+/g,"");return t=Ele(t),t=V6(t),t}function Sle(e){try{return Ple(e)}catch{return sc}}function Ax(e){var t=Sle(e.slice(5,-1));return t===sc?"":t}var Tle=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ale=["dx","dy","angle","className","breakAll"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function kO(e,t){if(e==null)return{};var n,r,i=Cle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $6=/[ \f\n\r\t\v\u2028\u2029]+/,F6=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];$n(t)||(n?i=t.toString().split(""):i=t.toString().split($6));var o=i.map(l=>({word:l,width:jf(l,r).width})),s=n?0:jf("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Ile(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var B6=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(s),u.width+=l+n;else{var c={words:[s],width:l};i.push(c)}return i},[]),U6=e=>e.reduce((t,n)=>t.width>n.width?t:n),kle="",OO=(e,t,n,r,i,o,s,l)=>{var u=e.slice(0,t),c=F6({breakAll:n,style:r,children:u+kle});if(!c)return[!1,[]];var f=B6(c.wordsWithComputedWidth,o,s,l),h=f.length>i||U6(f).width>Number(o);return[h,f]},Ole=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:l,breakAll:u}=e,c=ge(o),f=String(s),h=B6(t,r,n,i);if(!c||i)return h;var p=h.length>o||U6(h).width>Number(r);if(!p)return h;for(var v=0,x=f.length-1,b=0,E;v<=x&&b<=f.length-1;){var P=Math.floor((v+x)/2),T=P-1,[C,R]=OO(f,T,u,l,o,r,n,i),[j]=OO(f,P,u,l,o,r,n,i);if(!C&&!j&&(v=P+1),C&&j&&(x=P-1),!C&&j){E=R;break}b++}return E||h},NO=e=>{var t=$n(e)?[]:e.toString().split($6);return[{words:t,width:void 0}]},Nle=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!lp.isSsr){var l,u,c=F6({breakAll:o,children:r,style:i});if(c){var{wordsWithComputedWidth:f,spaceWidth:h}=c;l=f,u=h}else return NO(r);return Ole({breakAll:o,children:r,maxLines:s,style:i},l,u,t,!!n)}return NO(r)},W6="#808080",Rle={angle:0,breakAll:!1,capHeight:"0.71em",fill:W6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},q0=_.forwardRef((e,t)=>{var n=Fn(e,Rle),{x:r,y:i,lineHeight:o,capHeight:s,fill:l,scaleToFit:u,textAnchor:c,verticalAnchor:f}=n,h=kO(n,Tle),p=_.useMemo(()=>Nle({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:v,dy:x,angle:b,className:E,breakAll:P}=h,T=kO(h,Ale);if(!jo(r)||!jo(i)||p.length===0)return null;var C=Number(r)+(ge(v)?v:0),R=Number(i)+(ge(x)?x:0);if(!We(C)||!We(R))return null;var j;switch(f){case"start":j=Ax("calc(".concat(s,")"));break;case"middle":j=Ax("calc(".concat((p.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:j=Ax("calc(".concat(p.length-1," * -").concat(o,")"));break}var $=[],O=p[0];if(u&&O!=null){var I=O.width,{width:N}=h;$.push("scale(".concat(ge(N)&&ge(I)?N/I:1,")"))}return b&&$.push("rotate(".concat(b,", ").concat(C,", ").concat(R,")")),$.length&&(T.transform=$.join(" ")),_.createElement("text",Gb({},dr(T),{ref:t,x:C,y:R,className:nt("recharts-text",E),textAnchor:c,fill:l.includes("url")?W6:l}),p.map((z,D)=>{var F=z.words.join(P?"":" ");return _.createElement("tspan",{x:C,dy:D===0?j:o,key:"".concat(F,"-").concat(D)},F)}))});q0.displayName="Text";function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){Mle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mle(e,t,n){return(t=jle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jle(e){var t=Dle(e,"string");return typeof t=="symbol"?t:t+""}function Dle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lle=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i,clamp:o}=e,{x:s,y:l,height:u,upperWidth:c,lowerWidth:f}=jP(t),h=s,p=s+(c-f)/2,v=(h+p)/2,x=(c+f)/2,b=h+c/2,E=u>=0?1:-1,P=E*r,T=E>0?"end":"start",C=E>0?"start":"end",R=c>=0?1:-1,j=R*r,$=R>0?"end":"start",O=R>0?"start":"end",I=i;if(n==="top"){var N={x:h+c/2,y:l-P,horizontalAnchor:"middle",verticalAnchor:T};return o&&I&&(N.height=Math.max(l-I.y,0),N.width=c),N}if(n==="bottom"){var z={x:p+f/2,y:l+u+P,horizontalAnchor:"middle",verticalAnchor:C};return o&&I&&(z.height=Math.max(I.y+I.height-(l+u),0),z.width=f),z}if(n==="left"){var D={x:v-j,y:l+u/2,horizontalAnchor:$,verticalAnchor:"middle"};return o&&I&&(D.width=Math.max(D.x-I.x,0),D.height=u),D}if(n==="right"){var F={x:v+x+j,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return o&&I&&(F.width=Math.max(I.x+I.width-F.x,0),F.height=u),F}var B=o&&I?{width:x,height:u}:{};return n==="insideLeft"?yo({x:v+j,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"},B):n==="insideRight"?yo({x:v+x-j,y:l+u/2,horizontalAnchor:$,verticalAnchor:"middle"},B):n==="insideTop"?yo({x:h+c/2,y:l+P,horizontalAnchor:"middle",verticalAnchor:C},B):n==="insideBottom"?yo({x:p+f/2,y:l+u-P,horizontalAnchor:"middle",verticalAnchor:T},B):n==="insideTopLeft"?yo({x:h+j,y:l+P,horizontalAnchor:O,verticalAnchor:C},B):n==="insideTopRight"?yo({x:h+c-j,y:l+P,horizontalAnchor:$,verticalAnchor:C},B):n==="insideBottomLeft"?yo({x:p+j,y:l+u-P,horizontalAnchor:O,verticalAnchor:T},B):n==="insideBottomRight"?yo({x:p+f-j,y:l+u-P,horizontalAnchor:$,verticalAnchor:T},B):n&&typeof n=="object"&&(ge(n.x)||Ql(n.x))&&(ge(n.y)||Ql(n.y))?yo({x:s+Gr(n.x,x),y:l+Gr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},B):yo({x:b,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},B)},zle=["labelRef"],Vle=["content"];function MO(e,t){if(e==null)return{};var n,r,i=$le(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $le(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(r){Fle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fle(e,t,n){return(t=Ble(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ble(e){var t=Ule(e,"string");return typeof t=="symbol"?t:t+""}function Ule(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ls.apply(null,arguments)}var H6=_.createContext(null),Wle=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:l}=e,u=_.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return _.createElement(H6.Provider,{value:u},l)},K6=()=>{var e=_.useContext(H6),t=E0();return e||(t?jP(t):void 0)},Hle=_.createContext(null),Kle=()=>{var e=_.useContext(Hle),t=ye(Cz);return e||t},qle=e=>{var{value:t,formatter:n}=e,r=$n(e.children)?t:e.children;return typeof n=="function"?n(r):r},GS=e=>e!=null&&typeof e=="function",Gle=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Zle=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:l,cy:u,innerRadius:c,outerRadius:f,startAngle:h,endAngle:p,clockWise:v}=i,x=(c+f)/2,b=Gle(h,p),E=b>=0?1:-1,P,T;switch(t){case"insideStart":P=h+E*o,T=v;break;case"insideEnd":P=p-E*o,T=!v;break;case"end":P=p+E*o,T=v;break;default:throw new Error("Unsupported position ".concat(t))}T=b<=0?T:!T;var C=tn(l,u,x,P),R=tn(l,u,x,P+(T?1:-1)*359),j="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(R.x,",").concat(R.y),$=$n(e.id)?ph("recharts-radial-line-"):e.id;return _.createElement("text",ls({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",s)}),_.createElement("defs",null,_.createElement("path",{id:$,d:j})),_.createElement("textPath",{xlinkHref:"#".concat($)},n))},Yle=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(n==="outside"){var{x:f,y:h}=tn(r,i,s+t,c);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(o+s)/2,{x:v,y:x}=tn(r,i,p,c);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},fg=e=>e!=null&&"cx"in e&&ge(e.cx),Xle={angle:0,offset:5,zIndex:cn.label,position:"middle",textBreakAll:!1};function Qle(e){if(!fg(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function sa(e){var t=Fn(e,Xle),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:l,className:u="",textBreakAll:c,labelRef:f}=t,h=Kle(),p=K6(),v=i==="center"?p:h??p,x,b,E;n==null?x=v:fg(n)?x=n:x=jP(n);var P=Qle(x);if(!x||$n(o)&&$n(s)&&!_.isValidElement(l)&&typeof l!="function")return null;var T=yf(yf({},t),{},{viewBox:x});if(_.isValidElement(l)){var C=MO(T,zle);return _.cloneElement(l,C)}if(typeof l=="function"){var R=MO(T,Vle);if(b=_.createElement(l,R),_.isValidElement(b))return b}else b=qle(t);var j=dr(t);if(fg(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Zle(t,i,b,j,x);E=Yle(x,t.offset,t.position)}else{if(!P)return null;var $=Lle({viewBox:P,position:i,offset:t.offset,parentViewBox:fg(r)?void 0:r,clamp:!0});E=yf(yf({x:$.x,y:$.y,textAnchor:$.horizontalAnchor,verticalAnchor:$.verticalAnchor},$.width!==void 0?{width:$.width}:{}),$.height!==void 0?{height:$.height}:{})}return _.createElement(to,{zIndex:t.zIndex},_.createElement(q0,ls({ref:f,className:nt("recharts-label",u)},j,E,{textAnchor:Ile(j.textAnchor)?j.textAnchor:E.textAnchor,breakAll:c}),b))}sa.displayName="Label";var Jle=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(sa,ls({key:"label-implicit"},r)):jo(e)?_.createElement(sa,ls({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===sa?_.cloneElement(e,yf({key:"label-implicit"},r)):_.createElement(sa,ls({key:"label-implicit",content:e},r)):GS(e)?_.createElement(sa,ls({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(sa,ls({},e,{key:"label-implicit"},r)):null};function eue(e){var{label:t,labelRef:n}=e,r=K6();return Jle(t,r,n)||null}var q6={},G6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(G6);var Z6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Z6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G6,n=Z6,r=o0;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(q6);var tue=q6.last;const nue=zo(tue);var rue=["valueAccessor"],iue=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(null,arguments)}function DO(e,t){if(e==null)return{};var n,r,i=oue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sue=e=>Array.isArray(e.value)?nue(e.value):e.value,Y6=_.createContext(void 0),aue=Y6.Provider,X6=_.createContext(void 0),lue=X6.Provider;function uue(){return _.useContext(Y6)}function cue(){return _.useContext(X6)}function hg(e){var{valueAccessor:t=sue}=e,n=DO(e,rue),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:l}=n,u=DO(n,iue),c=uue(),f=cue(),h=c||f;return!h||!h.length?null:_.createElement(to,{zIndex:l??cn.label},_.createElement(Vn,{className:"recharts-label-list"},h.map((p,v)=>{var x,b=$n(r)?t(p,v):wt(p.payload,r),E=$n(o)?{}:{id:"".concat(o,"-").concat(v)};return _.createElement(sa,Gv({key:"label-".concat(v)},dr(p),u,E,{fill:(x=n.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:s,viewBox:p.viewBox,index:v,zIndex:0}))})))}hg.displayName="LabelList";function Q6(e){var{label:t}=e;return t?t===!0?_.createElement(hg,{key:"labelList-implicit"}):_.isValidElement(t)||GS(t)?_.createElement(hg,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(hg,Gv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}var J6=e=>{var{cx:t,cy:n,r,className:i}=e,o=nt("recharts-dot",i);return ge(t)&&ge(n)&&ge(r)?_.createElement("circle",Zb({},Xr(e),gP(e),{className:o,cx:t,cy:n,r})):null},eV=e=>e.graphicalItems.polarItems,due=K([Nt,pp],_S),G0=K([eV,Ft,due],xS),fue=K([G0],wS),Z0=K([fue,j0],bS),hue=K([Z0,Ft,G0],PS);K([Z0,Ft,G0],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,s=wt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:wt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var LO=()=>{},pue=K([Z0,Ft,G0,B0,Nt],CS),mue=K([Ft,TS,AS,LO,pue,LO,ct,Nt],IS),tV=K([Ft,ct,Z0,hue,hp,Nt,mue],kS),gue=K([tV,dd,el],RS),vue=K([Ft,tV,gue,Nt],jS);K([el,vue],kz);var yue={radiusAxis:{},angleAxis:{}},_ue=Or({name:"polarAxis",initialState:yue,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),xue=_ue.reducer;function nV(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){wue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wue(e,t,n){return(t=bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bue(e){var t=Eue(e,"string");return typeof t=="symbol"?t:t+""}function Eue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pue=(e,t)=>t,ZS=K([eV,Pue],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Sue=[],YS=(e,t,n)=>(n==null?void 0:n.length)===0?Sue:n,rV=K([j0,ZS,YS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>VO(VO({},t.presentationProps),o.props))),i!=null)return i}}),Tue=K([rV,ZS,YS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,s=wt(r,t.nameKey,t.name),l;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:y0(s,t.dataKey),color:l,payload:r,type:t.legendType}})}),Aue=K([rV,ZS,YS,Sn],(e,t,n,r)=>{if(!(t==null||e==null))return Nce({offset:r,pieSettings:t,displayedData:e,cells:n})}),iV={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.transitional.element"),QS=Symbol.for("react.portal"),Y0=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),J0=Symbol.for("react.consumer"),e_=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),r_=Symbol.for("react.suspense_list"),i_=Symbol.for("react.memo"),o_=Symbol.for("react.lazy"),Cue=Symbol.for("react.view_transition"),Iue=Symbol.for("react.client.reference");function Ii(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XS:switch(e=e.type,e){case Y0:case Q0:case X0:case n_:case r_:case Cue:return e;default:switch(e=e&&e.$$typeof,e){case e_:case t_:case o_:case i_:return e;case J0:return e;default:return t}}case QS:return t}}}dt.ContextConsumer=J0;dt.ContextProvider=e_;dt.Element=XS;dt.ForwardRef=t_;dt.Fragment=Y0;dt.Lazy=o_;dt.Memo=i_;dt.Portal=QS;dt.Profiler=Q0;dt.StrictMode=X0;dt.Suspense=n_;dt.SuspenseList=r_;dt.isContextConsumer=function(e){return Ii(e)===J0};dt.isContextProvider=function(e){return Ii(e)===e_};dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XS};dt.isForwardRef=function(e){return Ii(e)===t_};dt.isFragment=function(e){return Ii(e)===Y0};dt.isLazy=function(e){return Ii(e)===o_};dt.isMemo=function(e){return Ii(e)===i_};dt.isPortal=function(e){return Ii(e)===QS};dt.isProfiler=function(e){return Ii(e)===Q0};dt.isStrictMode=function(e){return Ii(e)===X0};dt.isSuspense=function(e){return Ii(e)===n_};dt.isSuspenseList=function(e){return Ii(e)===r_};dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Y0||e===Q0||e===X0||e===n_||e===r_||typeof e=="object"&&e!==null&&(e.$$typeof===o_||e.$$typeof===i_||e.$$typeof===e_||e.$$typeof===J0||e.$$typeof===t_||e.$$typeof===Iue||e.getModuleId!==void 0)};dt.typeOf=Ii;iV.exports=dt;var kue=iV.exports,$O=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",FO=null,Cx=null,oV=e=>{if(e===FO&&Array.isArray(Cx))return Cx;var t=[];return _.Children.forEach(e,n=>{$n(n)||(kue.isFragment(n)?t=t.concat(oV(n.props.children)):t.push(n))}),Cx=t,FO=e,t};function sV(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>$O(i)):r=[$O(t)],oV(e).forEach(i=>{var o=Xl(i,"type.displayName")||Xl(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var aV=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,lV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(lV);var Oue=lV.isPlainObject;const Nue=zo(Oue);var BO,UO,WO,HO,KO;function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(r){Rue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rue(e,t,n){return(t=Mue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mue(e){var t=jue(e,"string");return typeof t=="symbol"?t:t+""}function jue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(null,arguments)}function of(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZO=(e,t,n,r,i)=>{var o=n-r,s;return s=Dt(BO||(BO=of(["M ",",",""])),e,t),s+=Dt(UO||(UO=of(["L ",",",""])),e+n,t),s+=Dt(WO||(WO=of(["L ",",",""])),e+n-o/2,t+i),s+=Dt(HO||(HO=of(["L ",",",""])),e+n-o/2-r,t+i),s+=Dt(KO||(KO=of(["L ",","," Z"])),e,t),s},Due={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lue=e=>{var t=Fn(e,Due),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:l}=t,{animationEasing:u,animationDuration:c,animationBegin:f,isUpdateAnimationActive:h}=t,p=_.useRef(null),[v,x]=_.useState(-1),b=_.useRef(i),E=_.useRef(o),P=_.useRef(s),T=_.useRef(n),C=_.useRef(r),R=C0(e,"trapezoid-");if(_.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var ne=p.current.getTotalLength();ne&&x(ne)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var j=nt("recharts-trapezoid",l);if(!h)return _.createElement("g",null,_.createElement("path",Zv({},dr(t),{className:j,d:ZO(n,r,i,o,s)})));var $=b.current,O=E.current,I=P.current,N=T.current,z=C.current,D="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),B=y3(["strokeDasharray"],c,u);return _.createElement(A0,{animationId:R,key:R,canBegin:v>0,duration:c,easing:u,isActive:h,begin:f},ne=>{var xe=Mn($,i,ne),oe=Mn(O,o,ne),ae=Mn(I,s,ne),G=Mn(N,n,ne),ie=Mn(z,r,ne);p.current&&(b.current=xe,E.current=oe,P.current=ae,T.current=G,C.current=ie);var X=ne>0?{transition:B,strokeDasharray:F}:{strokeDasharray:D};return _.createElement("path",Zv({},dr(t),{className:j,d:ZO(G,ie,xe,oe,ae),ref:p,style:GO(GO({},X),t.style)}))})},zue=["option","shapeType","activeClassName"];function Vue(e,t){if(e==null)return{};var n,r,i=$ue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){Fue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fue(e,t,n){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bue(e){var t=Uue(e,"string");return typeof t=="symbol"?t:t+""}function Uue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wue(e,t){return Yv(Yv({},t),e)}function Hue(e,t){return e==="symbols"}function XO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return _.createElement(b3,n);case"trapezoid":return _.createElement(Lue,n);case"sector":return _.createElement(T3,n);case"symbols":if(Hue(t))return _.createElement(D5,n);break;case"curve":return _.createElement(xc,n);default:return null}}function Kue(e){return _.isValidElement(e)?e.props:e}function que(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Vue(e,zue),o;if(_.isValidElement(t))o=_.cloneElement(t,Yv(Yv({},i),Kue(t)));else if(typeof t=="function")o=t(i,i.index);else if(Nue(t)&&typeof t!="boolean"){var s=Wue(t,i);o=_.createElement(XO,{shapeType:n,elementProps:s})}else{var l=i;o=_.createElement(XO,{shapeType:n,elementProps:l})}return i.isActive?_.createElement(Vn,{className:r},o):o}var Gue=(e,t,n)=>{var r=Tt();return(i,o)=>s=>{e==null||e(i,o,s),r(l6({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Zue=e=>{var t=Tt();return(n,r)=>i=>{e==null||e(n,r,i),t(ese())}},Yue=(e,t,n)=>{var r=Tt();return(i,o)=>s=>{e==null||e(i,o,s),r(tse({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function uV(e){var{tooltipEntrySettings:t}=e,n=Tt(),r=Nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(Yoe(t)):i.current!==t&&n(Xoe({prev:i.current,next:t})),i.current=t)},[t,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(Qoe(i.current)),i.current=null)},[n]),null}function Xue(e){var{legendPayload:t}=e,n=Tt(),r=Nr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(p3(t)):i.current!==t&&n(m3({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(g3(i.current)),i.current=null)},[n]),null}function Que(e){var{legendPayload:t}=e,n=Tt(),r=ye(ct),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(p3(t)):i.current!==t&&n(m3({prev:i.current,next:t})),i.current=t)},[n,r,t]),_.useLayoutEffect(()=>()=>{i.current&&(n(g3(i.current)),i.current=null)},[n]),null}var Ix,Jue=()=>{var[e]=_.useState(()=>ph("uid-"));return e},ece=(Ix=vF.useId)!==null&&Ix!==void 0?Ix:Jue;function tce(e,t){var n=ece();return t||(e?"".concat(e,"-").concat(n):n)}var nce=_.createContext(void 0),cV=e=>{var{id:t,type:n,children:r}=e,i=tce("recharts-".concat(n),t);return _.createElement(nce.Provider,{value:i},r(i))},rce={cartesianItems:[],polarItems:[]},dV=Or({name:"graphicalItems",initialState:rce,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:bt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gi(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:bt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Gi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:bt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:bt()},removePolarGraphicalItem:{reducer(e,t){var n=Gi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:bt()}}}),{addCartesianGraphicalItem:ice,replaceCartesianGraphicalItem:oce,removeCartesianGraphicalItem:sce,addPolarGraphicalItem:ace,removePolarGraphicalItem:lce}=dV.actions,uce=dV.reducer,cce=e=>{var t=Tt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?t(ice(e)):n.current!==e&&t(oce({prev:n.current,next:e})),n.current=e},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(t(sce(n.current)),n.current=null)},[t]),null},dce=_.memo(cce);function fce(e){var t=Tt();return _.useLayoutEffect(()=>(t(ace(e)),()=>{t(lce(e))}),[t,e]),null}var hce=["key"],pce=["onMouseEnter","onClick","onMouseLeave"],mce=["id"],gce=["id"];function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(r){vce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vce(e,t,n){return(t=yce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(null,arguments)}function s_(e,t){if(e==null)return{};var n,r,i=xce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wce(e){var t=_.useMemo(()=>sV(e.children,K0),[e.children]),n=ye(r=>Tue(r,e.id,t));return n==null?null:_.createElement(Que,{legendPayload:n})}var bce=_.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:l,hide:u,tooltipType:c,id:f}=e,h={dataDefinedOnItem:r.map(p=>p.tooltipPayload),getPosition:p=>{var v;return(v=r[Number(p)])===null||v===void 0?void 0:v.tooltipPosition},settings:{stroke:i,strokeWidth:o,fill:s,dataKey:t,nameKey:n,name:y0(l,t),hide:u,type:c,color:s,unit:"",graphicalItemId:f}};return _.createElement(uV,{tooltipEntrySettings:h})}),Ece=(e,t)=>e>t?"start":e<t?"end":"middle",Pce=(e,t,n)=>Gr(typeof t=="function"?t(e):t,n,n*.8),Sce=(e,t,n)=>{var{top:r,left:i,width:o,height:s}=t,l=E3(o,s),u=i+Gr(e.cx,o,o/2),c=r+Gr(e.cy,s,s/2),f=Gr(e.innerRadius,l,0),h=Pce(n,e.outerRadius,l),p=e.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:p}},Tce=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Ace=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var n=nt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),r=s_(t,hce);return _.createElement(xc,Ua({},r,{type:"linear",className:n}))},Cce=(e,t,n)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),_.isValidElement(r)))return r;var i=nt("recharts-pie-label-text",nV(e));return _.createElement(q0,Ua({},t,{alignmentBaseline:"middle",className:i}),r)};function Ice(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!t)return null;var l=Xr(n),u=zc(i),c=zc(o),f=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=t.map((p,v)=>{var x=(p.startAngle+p.endAngle)/2,b=tn(p.cx,p.cy,p.outerRadius+f,x),E=zt(zt(zt(zt({},l),p),{},{stroke:"none"},u),{},{index:v,textAnchor:Ece(b.x,p.cx)},b),P=zt(zt(zt(zt({},l),p),{},{fill:"none",stroke:p.fill},c),{},{index:v,points:[tn(p.cx,p.cy,p.outerRadius,x),b],key:"line"});return _.createElement(to,{zIndex:cn.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},_.createElement(Vn,null,o&&Ace(o,P),Cce(i,E,wt(p,s))))});return _.createElement(Vn,{className:"recharts-pie-labels"},h)}function kce(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(Q6,{label:i}):_.createElement(Ice,{sectors:t,props:n,showLabels:r})}function Oce(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:s}=e,l=ye(Hc),u=ye(E6),c=ye($se),{onMouseEnter:f,onClick:h,onMouseLeave:p}=i,v=s_(i,pce),x=Gue(f,i.dataKey,s),b=Zue(p),E=Yue(h,i.dataKey,s);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((P,T)=>{if((P==null?void 0:P.startAngle)===0&&(P==null?void 0:P.endAngle)===0&&t.length!==1)return null;var C=c==null||c===s,R=String(T)===l&&(u==null||i.dataKey===u)&&C,j=l?r:null,$=n&&R?n:j,O=zt(zt({},P),{},{stroke:P.stroke,tabIndex:-1,[q4]:T,[G4]:s});return _.createElement(Vn,Ua({key:"sector-".concat(P==null?void 0:P.startAngle,"-").concat(P==null?void 0:P.endAngle,"-").concat(P.midAngle,"-").concat(T),tabIndex:-1,className:"recharts-pie-sector"},z5(v,P,T),{onMouseEnter:x(P,T),onMouseLeave:b(P,T),onClick:E(P,T)}),_.createElement(que,Ua({option:o??$,index:T,shapeType:"sector",isActive:R},O)))}))}function Nce(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:s,startAngle:l,endAngle:u,dataKey:c,nameKey:f,tooltipType:h}=n,p=Math.abs(n.minAngle),v=Tce(l,u),x=Math.abs(v),b=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,E=r.filter($=>wt($,c,0)!==0).length,P=(x>=360?E:E-1)*b,T=x-E*p-P,C=r.reduce(($,O)=>{var I=wt(O,c,0);return $+(ge(I)?I:0)},0),R;if(C>0){var j;R=r.map(($,O)=>{var I=wt($,c,0),N=wt($,f,O),z=Sce(n,o,$),D=(ge(I)?I:0)/C,F,B=zt(zt({},$),i&&i[O]&&i[O].props);O?F=j.endAngle+er(v)*b*(I!==0?1:0):F=l;var ne=F+er(v)*((I!==0?p:0)+D*T),xe=(F+ne)/2,oe=(z.innerRadius+z.outerRadius)/2,ae=[{name:N,value:I,payload:B,dataKey:c,type:h,graphicalItemId:n.id}],G=tn(z.cx,z.cy,oe,xe);return j=zt(zt(zt(zt({},n.presentationProps),{},{percent:D,cornerRadius:typeof s=="string"?parseFloat(s):s,name:N,tooltipPayload:ae,midAngle:xe,middleRadius:oe,tooltipPosition:G},B),z),{},{value:I,dataKey:c,startAngle:F,endAngle:ne,payload:B,paddingAngle:er(v)*b}),j})}return R}function Rce(e){var{showLabels:t,sectors:n,children:r}=e,i=_.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return _.createElement(lue,{value:t?i:void 0},r)}function Mce(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:u,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=t,v=C0(t,"recharts-pie-"),x=n.current,[b,E]=_.useState(!1),P=_.useCallback(()=>{typeof p=="function"&&p(),E(!1)},[p]),T=_.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return _.createElement(Rce,{showLabels:!b,sectors:i},_.createElement(A0,{animationId:v,begin:s,duration:l,isActive:o,easing:u,onAnimationStart:T,onAnimationEnd:P,key:v},C=>{var R,j=[],$=i&&i[0],O=(R=$==null?void 0:$.startAngle)!==null&&R!==void 0?R:0;return i==null||i.forEach((I,N)=>{var z=x&&x[N],D=N>0?Xl(I,"paddingAngle",0):0;if(z){var F=Mn(z.endAngle-z.startAngle,I.endAngle-I.startAngle,C),B=zt(zt({},I),{},{startAngle:O+D,endAngle:O+F+D});j.push(B),O=B.endAngle}else{var{endAngle:ne,startAngle:xe}=I,oe=Mn(0,ne-xe,C),ae=zt(zt({},I),{},{startAngle:O+D,endAngle:O+oe+D});j.push(ae),O=ae.endAngle}}),n.current=j,_.createElement(Vn,null,_.createElement(Oce,{sectors:j,activeShape:c,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:r}))}),_.createElement(kce,{showLabels:!b,sectors:i,props:t}),t.children)}var jce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:cn.area};function Dce(e){var{id:t}=e,n=s_(e,mce),{hide:r,className:i,rootTabIndex:o}=e,s=_.useMemo(()=>sV(e.children,K0),[e.children]),l=ye(f=>Aue(f,t,s)),u=_.useRef(null),c=nt("recharts-pie",i);return r||l==null?(u.current=null,_.createElement(Vn,{tabIndex:o,className:c})):_.createElement(to,{zIndex:e.zIndex},_.createElement(bce,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(Vn,{tabIndex:o,className:c},_.createElement(Mce,{props:zt(zt({},n),{},{sectors:l}),previousSectorsRef:u,id:t})))}function fV(e){var t=Fn(e,jce),{id:n}=t,r=s_(t,gce),i=Xr(r);return _.createElement(cV,{id:n,type:"pie"},o=>_.createElement(_.Fragment,null,_.createElement(fce,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(wce,Ua({},r,{id:o})),_.createElement(Dce,Ua({},r,{id:o}))))}fV.displayName="Pie";var Lce=["points"];function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){zce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zce(e,t,n){return(t=Vce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vce(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function Fce(e,t){if(e==null)return{};var n,r,i=Bce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uce(e){var{option:t,dotProps:n,className:r}=e;if(_.isValidElement(t))return _.cloneElement(t,n);if(typeof t=="function")return t(n);var i=nt(r,typeof t!="boolean"?t.className:""),o=n??{},s=Fce(o,Lce);return _.createElement(J6,Xv({},s,{className:i}))}function Wce(e,t){return e==null?!1:t?!0:e.length===1}function Hce(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:l,clipPathId:u,zIndex:c=cn.scatter}=e;if(!Wce(t,n))return null;var f=aV(n),h=YY(n),p=t.map((x,b)=>{var E,P,T=kx(kx(kx({r:3},s),h),{},{index:b,cx:(E=x.x)!==null&&E!==void 0?E:void 0,cy:(P=x.y)!==null&&P!==void 0?P:void 0,dataKey:o,value:x.value,payload:x.payload,points:t});return _.createElement(Uce,{key:"dot-".concat(b),option:n,dotProps:T,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),_.createElement(to,{zIndex:c},_.createElement(Vn,Xv({className:r},v),p))}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){Kce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kce(e,t,n){return(t=qce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qce(e){var t=Gce(e,"string");return typeof t=="symbol"?t:t+""}function Gce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hV=0,Zce={xAxis:{},yAxis:{},zAxis:{}},pV=Or({name:"cartesianAxis",initialState:Zce,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:bt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:bt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:bt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:bt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:bt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:bt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:bt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:bt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:bt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=tN(tN({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:Yce,replaceXAxis:Xce,removeXAxis:Qce,addYAxis:Jce,replaceYAxis:ede,removeYAxis:tde,addZAxis:Ove,replaceZAxis:Nve,removeZAxis:Rve,updateYAxisWidth:nde}=pV.actions,rde=pV.reducer,ide=K([Sn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ode=K([ide,$s,Fs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),JS=()=>ye(ode),sde=()=>ye(Hse);function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){ade(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ade(e,t,n){return(t=lde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lde(e){var t=ude(e,"string");return typeof t=="symbol"?t:t+""}function ude(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cde=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Ox(Ox(Ox({},l),zc(i)),gP(i)),c;return _.isValidElement(i)?c=_.cloneElement(i,u):typeof i=="function"?c=i(u):c=_.createElement(J6,u),_.createElement(Vn,{className:"recharts-active-dot",clipPath:s},c)};function rN(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=cn.activeDot}=e,l=ye(Hc),u=sde();if(t==null||u==null)return null;var c=t.find(f=>u.includes(f.payload));return $n(c)?null:_.createElement(to,{zIndex:s},_.createElement(cde,{point:c,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var mV=e=>{var{chartData:t}=e,n=Tt(),r=Nr();return _.useEffect(()=>r?()=>{}:(n(yO(t)),()=>{n(yO(void 0))}),[t,n,r]),null},iN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dde=Or({name:"brush",initialState:iN,reducers:{setBrushSettings(e,t){return t.payload==null?iN:t.payload}}}),fde=dde.reducer;function hde(e){return(e%180+180)%180}var pde=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=hde(i),s=o*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},mde={dots:[],areas:[],lines:[]},gde=Or({name:"referenceElements",initialState:mde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Gi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Gi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Gi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),vde=gde.reducer,yde=_.createContext(void 0),_de=e=>{var{children:t}=e,[n]=_.useState("".concat(ph("recharts"),"-clip")),r=JS();if(r==null)return null;var{x:i,y:o,width:s,height:l}=r;return _.createElement(yde.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:o,height:l,width:s}))),t)};function gV(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function xde(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return pde(r,n)}function wde(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:l}=e;return t===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function Ch(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function bde(e,t){return gV(e,t+1)}function Ede(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:l}=t,u=0,c=1,f=s,h=function(){var x=r==null?void 0:r[u];if(x===void 0)return{v:gV(r,c)};var b=u,E,P=()=>(E===void 0&&(E=n(x,b)),E),T=x.coordinate,C=u===0||Ch(e,T,P,f,l);C||(u=0,f=s,c+=1),C&&(f=T+e*(P()/2+i),u+=c)},p;c<=o.length;)if(p=h(),p)return p.v;return[]}function Pde(e,t,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:l,end:u}=t,c=1;c<=s;c++){for(var f=(s-1)%c,h=l,p=!0,v=function(){var R=r[b];if(R==null)return 0;var j=b,$,O=()=>($===void 0&&($=n(R,j)),$),I=R.coordinate,N=b===f||Ch(e,I,O,h,u);if(!N)return p=!1,1;N&&(h=I+e*(O()/2+i))},x,b=f;b<s&&(x=v(),!(x!==0&&x===1));b+=c);if(p){for(var E=[],P=f;P<s;P+=c){var T=r[P];T!=null&&E.push(T)}return E}}return[]}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){Sde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sde(e,t,n){return(t=Tde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tde(e){var t=Ade(e,"string");return typeof t=="symbol"?t:t+""}function Ade(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cde(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:l}=t,{end:u}=t,c=function(p){var v=o[p];if(v==null)return 1;var x=v,b,E=()=>(b===void 0&&(b=n(v,p)),b);if(p===s-1){var P=e*(x.coordinate+e*E()/2-u);o[p]=x=Zn(Zn({},x),{},{tickCoord:P>0?x.coordinate-P*e:x.coordinate})}else o[p]=x=Zn(Zn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=Ch(e,x.tickCoord,E,l,u);T&&(u=x.tickCoord-e*(E()/2+i),o[p]=Zn(Zn({},x),{},{isShow:!0}))}},f=s-1;f>=0;f--)c(f);return o}function Ide(e,t,n,r,i,o){var s=(r||[]).slice(),l=s.length,{start:u,end:c}=t;if(o){var f=r[l-1];if(f!=null){var h=n(f,l-1),p=e*(f.coordinate+e*h/2-c);if(s[l-1]=f=Zn(Zn({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate}),f.tickCoord!=null){var v=Ch(e,f.tickCoord,()=>h,u,c);v&&(c=f.tickCoord-e*(h/2+i),s[l-1]=Zn(Zn({},f),{},{isShow:!0}))}}}for(var x=o?l-1:l,b=function(T){var C=s[T];if(C==null)return 1;var R=C,j,$=()=>(j===void 0&&(j=n(C,T)),j);if(T===0){var O=e*(R.coordinate-e*$()/2-u);s[T]=R=Zn(Zn({},R),{},{tickCoord:O<0?R.coordinate-O*e:R.coordinate})}else s[T]=R=Zn(Zn({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var I=Ch(e,R.tickCoord,$,u,c);I&&(u=R.tickCoord+e*($()/2+i),s[T]=Zn(Zn({},R),{},{isShow:!0}))}},E=0;E<x;E++)b(E);return s}function eT(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:u,tickFormatter:c,unit:f,angle:h}=e;if(!i||!i.length||!r)return[];if(ge(u)||lp.isSsr){var p;return(p=bde(i,ge(u)?u:0))!==null&&p!==void 0?p:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",b=f&&x==="width"?jf(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(j,$)=>{var O=typeof c=="function"?c(j.value,$):j.value;return x==="width"?xde(jf(O,{fontSize:t,letterSpacing:n}),b,h):jf(O,{fontSize:t,letterSpacing:n})[x]},P=i[0],T=i[1],C=i.length>=2&&P!=null&&T!=null?er(T.coordinate-P.coordinate):1,R=wde(o,C,x);return u==="equidistantPreserveStart"?Ede(C,R,E,i,s):u==="equidistantPreserveEnd"?Pde(C,R,E,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Ide(C,R,E,i,s,u==="preserveStartEnd"):v=Cde(C,R,E,i,s),v.filter(j=>j.isShow))}var kde=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>s&&(s=h.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,c=s+u+l+(n?r:0);return Math.round(c)}return 0},Ode=["axisLine","width","height","className","hide","ticks","axisType"];function Nde(e,t){if(e==null)return{};var n,r,i=Rde(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(null,arguments)}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){Mde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mde(e,t,n){return(t=jde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jde(e){var t=Dde(e,"string");return typeof t=="symbol"?t:t+""}function Dde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cn.axis};function Lde(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=jt(jt(jt({},u),Xr(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!s||o==="bottom"&&s);c=jt(jt({},c),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var h=+(o==="left"&&!s||o==="right"&&s);c=jt(jt({},c),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+i})}return _.createElement("line",ru({},c,{className:nt("recharts-cartesian-axis-line",Xl(l,"className"))}))}function zde(e,t,n,r,i,o,s,l,u){var c,f,h,p,v,x,b=l?-1:1,E=e.tickSize||s,P=ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":c=f=e.coordinate,p=n+ +!l*i,h=p-b*E,x=h-b*u,v=P;break;case"left":h=p=e.coordinate,f=t+ +!l*r,c=f-b*E,v=c-b*u,x=P;break;case"right":h=p=e.coordinate,f=t+ +l*r,c=f+b*E,v=c+b*u,x=P;break;default:c=f=e.coordinate,p=n+ +l*i,h=p+b*E,x=h+b*u,v=P;break}return{line:{x1:c,y1:h,x2:f,y2:p},tick:{x:v,y:x}}}function Vde(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function $de(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Fde(e){var{option:t,tickProps:n,value:r}=e,i,o=nt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,jt(jt({},n),{},{className:o}));else if(typeof t=="function")i=t(jt(jt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=nt(s,nV(t))),i=_.createElement(q0,ru({},n,{className:s}),r)}return i}var Bde=_.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:l,padding:u,tickTextProps:c,orientation:f,mirror:h,x:p,y:v,width:x,height:b,tickSize:E,tickMargin:P,fontSize:T,letterSpacing:C,getTicksConfig:R,events:j,axisType:$}=e,O=eT(jt(jt({},R),{},{ticks:n}),T,C),I=Vde(f,h),N=$de(f,h),z=Xr(R),D=zc(r),F={};typeof i=="object"&&(F=i);var B=jt(jt({},z),{},{fill:"none"},F),ne=O.map(ae=>jt({entry:ae},zde(ae,p,v,x,b,f,E,h,P))),xe=ne.map(ae=>{var{entry:G,line:ie}=ae;return _.createElement(Vn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&_.createElement("line",ru({},B,ie,{className:nt("recharts-cartesian-axis-tick-line",Xl(i,"className"))})))}),oe=ne.map((ae,G)=>{var ie,X,{entry:ue,tick:we}=ae,je=jt(jt(jt(jt({verticalAnchor:N},z),{},{textAnchor:I,stroke:"none",fill:o},we),{},{index:G,payload:ue,visibleTicksCount:O.length,tickFormatter:s,padding:u},c),{},{angle:(ie=(X=c==null?void 0:c.angle)!==null&&X!==void 0?X:z.angle)!==null&&ie!==void 0?ie:0}),Pe=jt(jt({},je),D);return _.createElement(Vn,ru({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},z5(j,ue,G)),r&&_.createElement(Fde,{option:r,tickProps:Pe,value:"".concat(typeof s=="function"?s(ue.value,G):ue.value).concat(l||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},oe.length>0&&_.createElement(to,{zIndex:cn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:t},oe)),xe.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},xe))}),Ude=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:l,axisType:u}=e,c=Nde(e,Ode),[f,h]=_.useState(""),[p,v]=_.useState(""),x=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return kde({ticks:x.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=_.useCallback(E=>{if(E){var P=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=P;var T=P[0];if(T){var C=window.getComputedStyle(T),R=C.fontSize,j=C.letterSpacing;(R!==f||j!==p)&&(h(R),v(j))}}},[f,p]);return s||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(to,{zIndex:e.zIndex},_.createElement(Vn,{className:nt("recharts-cartesian-axis",o)},_.createElement(Lde,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Xr(e)}),_.createElement(Bde,{ref:b,axisType:u,events:c,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(Wle,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(eue,{label:e.label,labelRef:e.labelRef}),e.children)))}),tT=_.forwardRef((e,t)=>{var n=Fn(e,xs);return _.createElement(Ude,ru({},n,{ref:t}))});tT.displayName="CartesianAxis";var Wde=["x1","y1","x2","y2","key"],Hde=["offset"],Kde=["xAxisId","yAxisId"],qde=["xAxisId","yAxisId"];function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){Gde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gde(e,t,n){return(t=Zde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zde(e){var t=Yde(e,"string");return typeof t=="symbol"?t:t+""}function Yde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(null,arguments)}function Qv(e,t){if(e==null)return{};var n,r,i=Xde(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qde=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:l}=e;return _.createElement("rect",{x:r,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vV(e){var{option:t,lineItemProps:n}=e,r;if(_.isValidElement(t))r=_.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:l,y2:u,key:c}=n,f=Qv(n,Wde),h=(i=Xr(f))!==null&&i!==void 0?i:{},p=Qv(h,Hde);r=_.createElement("line",kl({},p,{x1:o,y1:s,x2:l,y2:u,fill:"none",key:c}))}return r}function Jde(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var o=Qv(e,Kde),s=i.map((l,u)=>{var c=Jn(Jn({},o),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(u),index:u});return _.createElement(vV,{key:"line-".concat(u),option:r,lineItemProps:c})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function efe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var o=Qv(e,qde),s=i.map((l,u)=>{var c=Jn(Jn({},o),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(u),index:u});return _.createElement(vV,{option:r,lineItemProps:c,key:"line-".concat(u)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function tfe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var c=l.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==c[0]&&c.unshift(0);var f=c.map((h,p)=>{var v=c[p+1],x=v==null,b=x?i+s-h:v-h;if(b<=0)return null;var E=p%t.length;return _.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:b,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nfe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var c=u.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==c[0]&&c.unshift(0);var f=c.map((h,p)=>{var v=c[p+1],x=v==null,b=x?i+s-h:v-h;if(b<=0)return null;var E=p%n.length;return _.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:l,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rfe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return W4(eT(Jn(Jn(Jn({},xs),n),{},{ticks:H4(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},ife=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return W4(eT(Jn(Jn(Jn({},xs),n),{},{ticks:H4(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},ofe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cn.grid};function yV(e){var t=i3(),n=o3(),r=r3(),i=Jn(Jn({},Fn(e,ofe)),{},{x:ge(e.x)?e.x:r.left,y:ge(e.y)?e.y:r.top,width:ge(e.width)?e.width:r.width,height:ge(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:l,y:u,width:c,height:f,syncWithTicks:h,horizontalValues:p,verticalValues:v}=i,x=Nr(),b=ye(N=>aO(N,"xAxis",o,x)),E=ye(N=>aO(N,"yAxis",s,x));if(!Do(c)||!Do(f)||!ge(l)||!ge(u))return null;var P=i.verticalCoordinatesGenerator||rfe,T=i.horizontalCoordinatesGenerator||ife,{horizontalPoints:C,verticalPoints:R}=i;if((!C||!C.length)&&typeof T=="function"){var j=p&&p.length,$=T({yAxis:E?Jn(Jn({},E),{},{ticks:j?p:E.ticks}):void 0,width:t??c,height:n??f,offset:r},j?!0:h);Pv(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(C=$)}if((!R||!R.length)&&typeof P=="function"){var O=v&&v.length,I=P({xAxis:b?Jn(Jn({},b),{},{ticks:O?v:b.ticks}):void 0,width:t??c,height:n??f,offset:r},O?!0:h);Pv(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(R=I)}return _.createElement(to,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Qde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(tfe,kl({},i,{horizontalPoints:C})),_.createElement(nfe,kl({},i,{verticalPoints:R})),_.createElement(Jde,kl({},i,{offset:r,horizontalPoints:C,xAxis:b,yAxis:E})),_.createElement(efe,kl({},i,{offset:r,verticalPoints:R,xAxis:b,yAxis:E}))))}yV.displayName="CartesianGrid";var sfe={},afe=Or({name:"errorBars",initialState:sfe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),lfe=afe.reducer;function _V(e,t){var n,r,i=ye(c=>Ws(c,e)),o=ye(c=>Hs(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vn.allowDataOverflow,l=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:yn.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function ufe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=JS(),{needClipX:o,needClipY:s,needClip:l}=_V(t,n);if(!l||!i)return null;var{x:u,y:c,width:f,height:h}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:o?u:u-f/2,y:s?c:c-h/2,width:o?f:f*2,height:s?h:h*2}))}function cfe(e){var t=zc(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),l=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var dfe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=_;function ffe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hfe=typeof Object.is=="function"?Object.is:ffe,pfe=xp.useSyncExternalStore,mfe=xp.useRef,gfe=xp.useEffect,vfe=xp.useMemo,yfe=xp.useDebugValue;dfe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=mfe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=vfe(function(){function u(v){if(!c){if(c=!0,f=v,v=r(v),i!==void 0&&s.hasValue){var x=s.value;if(i(x,v))return h=x}return h=v}if(x=h,hfe(f,v))return x;var b=r(v);return i!==void 0&&i(x,b)?(f=v,x):(f=v,h=b)}var c=!1,f,h,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,i]);var l=pfe(e,o[0],o[1]);return gfe(function(){s.hasValue=!0,s.value=l},[l]),yfe(l),l};function _fe(e){e()}function xfe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_fe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lN={notify(){},get:()=>[]};function wfe(e,t){let n,r=lN,i=0,o=!1;function s(b){f();const E=r.subscribe(b);let P=!1;return()=>{P||(P=!0,E(),h())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function c(){return o}function f(){i++,n||(n=e.subscribe(u),r=xfe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lN)}function p(){o||(o=!0,f())}function v(){o&&(o=!1,h())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:p,tryUnsubscribe:v,getListeners:()=>r};return x}var bfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Efe=bfe(),Pfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sfe=Pfe(),Tfe=()=>Efe||Sfe?_.useLayoutEffect:_.useEffect,Afe=Tfe();function uN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Cfe(e,t){if(uN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!uN(e[n[i]],t[n[i]]))return!1;return!0}var Nx=Symbol.for("react-redux-context"),Rx=typeof globalThis<"u"?globalThis:{};function Ife(){if(!_.createContext)return{};const e=Rx[Nx]??(Rx[Nx]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var kfe=Ife();function Ofe(e){const{children:t,context:n,serverState:r,store:i}=e,o=_.useMemo(()=>{const u=wfe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=_.useMemo(()=>i.getState(),[i]);Afe(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=n||kfe;return _.createElement(l.Provider,{value:o},t)}var Nfe=Ofe,Rfe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Mfe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function nT(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Rfe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Cfe(e[r],t[r]))return!1}else if(!Mfe(e[r],t[r]))return!1;return!0}function rT(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:hV}function iT(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:hV}var xV=(e,t,n)=>n6(e,"xAxis",rT(e,t),n),wV=(e,t,n)=>t6(e,"xAxis",rT(e,t),n),bV=(e,t,n)=>n6(e,"yAxis",iT(e,t),n),EV=(e,t,n)=>t6(e,"yAxis",iT(e,t),n),jfe=K([ct,xV,bV,wV,EV],(e,t,n,r,i)=>$o(e,"xAxis")?Ev(t,r,!1):Ev(n,i,!1)),Dfe=(e,t)=>t,PV=K([Mz,Dfe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),SV=e=>{var t=ct(e),n=$o(t,"xAxis");return n?"yAxis":"xAxis"},Lfe=(e,t)=>{var n=SV(e);return n==="yAxis"?iT(e,t):rT(e,t)},zfe=(e,t,n)=>Vz(e,SV(e),Lfe(e,t),n),Vfe=K([PV,zfe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=gS(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=o==null?void 0:o.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),$fe=K([ct,xV,bV,wV,EV,Vfe,Iie,jfe,PV,zie],(e,t,n,r,i,o,s,l,u,c)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:v}=u,x;if(v&&v.length>0?x=v:x=f==null?void 0:f.slice(h,p+1),x!=null)return ohe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:o,displayedData:x,chartBaseValue:c,bandSize:l})}}),Ffe=["id"],Bfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(null,arguments)}function TV(e,t){if(e==null)return{};var n,r,i=Ufe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ufe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){Wfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wfe(e,t,n){return(t=Hfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hfe(e){var t=Kfe(e,"string");return typeof t=="symbol"?t:t+""}function Kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jv(e,t){return e&&e!=="none"?e:t}var qfe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:s}=e;return[{inactive:s,dataKey:t,type:o,color:Jv(r,i),value:y0(n,t),payload:e}]},Gfe=_.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:l,unit:u,tooltipType:c,id:f}=e,h={dataDefinedOnItem:n,getPosition:od,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:y0(s,t),hide:l,type:c,color:Jv(r,o),unit:u,graphicalItemId:f}};return _.createElement(uV,{tooltipEntrySettings:h})});function Zfe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:s}=r,l=Xr(r);return _.createElement(Hce,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:t})}function Yfe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var s,l,u={x:(s=o.x)!==null&&s!==void 0?s:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ac(ac({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(aue,{value:t?i:void 0},n)}function dN(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:s,type:l,stroke:u,connectNulls:c,isRange:f}=o,{id:h}=o,p=TV(o,Ffe),v=Xr(p),x=dr(p);return _.createElement(_.Fragment,null,(t==null?void 0:t.length)>1&&_.createElement(Vn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(xc,zl({},x,{id:h,points:t,connectNulls:c,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(xc,zl({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:c,fill:"none",points:t})),u!=="none"&&f&&_.createElement(xc,zl({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:c,fill:"none",points:n}))),_.createElement(Zfe,{points:t,props:p,clipPathId:i}))}function Xfe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.y,u=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!We(l)||!We(u))return null;var c=r*Math.abs(l-u),f=Math.max(...o.map(h=>h.x||0));return ge(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(h=>h.x||0),f)),ge(f)?_.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}function Qfe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.x,u=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!We(l)||!We(u))return null;var c=r*Math.abs(l-u),f=Math.max(...o.map(h=>h.y||0));return ge(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(h=>h.y||0),f)),ge(f)?_.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Jfe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?_.createElement(Xfe,{alpha:t,points:r,baseLine:i,strokeWidth:o}):_.createElement(Qfe,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function ehe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:c,animationDuration:f,animationEasing:h,onAnimationStart:p,onAnimationEnd:v}=r,x=_.useMemo(()=>({points:s,baseLine:l}),[s,l]),b=C0(x,"recharts-area-"),E=DP(),[P,T]=_.useState(!1),C=!P,R=_.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),j=_.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]);if(E==null)return null;var $=i.current,O=o.current;return _.createElement(Yfe,{showLabels:C,points:s},r.children,_.createElement(A0,{animationId:b,begin:c,duration:f,isActive:u,easing:h,onAnimationEnd:R,onAnimationStart:j,key:b},I=>{if($){var N=$.length/s.length,z=I===1?s:s.map((F,B)=>{var ne=Math.floor(B*N);if($[ne]){var xe=$[ne];return ac(ac({},F),{},{x:Mn(xe.x,F.x,I),y:Mn(xe.y,F.y,I)})}return F}),D;return ge(l)?D=Mn(O,l,I):$n(l)||Mo(l)?D=Mn(O,0,I):D=l.map((F,B)=>{var ne=Math.floor(B*N);if(Array.isArray(O)&&O[ne]){var xe=O[ne];return ac(ac({},F),{},{x:Mn(xe.x,F.x,I),y:Mn(xe.y,F.y,I)})}return F}),I>0&&(i.current=z,o.current=D),_.createElement(dN,{points:z,baseLine:D,needClip:t,clipPathId:n,props:r})}return I>0&&(i.current=s,o.current=l),_.createElement(Vn,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(Jfe,{alpha:I,points:s,baseLine:l,layout:E,strokeWidth:r.strokeWidth}))),_.createElement(Vn,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(dN,{points:s,baseLine:l,needClip:t,clipPathId:n,props:r})))}),_.createElement(Q6,{label:r.label}))}function the(e){var{needClip:t,clipPathId:n,props:r}=e,i=_.useRef(null),o=_.useRef();return _.createElement(ehe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class nhe extends _.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:s,needClip:l,xAxisId:u,yAxisId:c,width:f,height:h,id:p,baseLine:v,zIndex:x}=this.props;if(t)return null;var b=nt("recharts-area",i),E=p,{r:P,strokeWidth:T}=cfe(n),C=aV(n),R=P*2+T,j=l?"url(#clipPath-".concat(C?"":"dots-").concat(E,")"):void 0;return _.createElement(to,{zIndex:x},_.createElement(Vn,{className:b},l&&_.createElement("defs",null,_.createElement(ufe,{clipPathId:E,xAxisId:u,yAxisId:c}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(E)},_.createElement("rect",{x:s-R/2,y:o-R/2,width:f+R,height:h+R}))),_.createElement(the,{needClip:l,clipPathId:E,props:this.props})),_.createElement(rN,{points:r,mainColor:Jv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(v)&&_.createElement(rN,{points:v,mainColor:Jv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var AV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:cn.area};function rhe(e){var t,n=Fn(e,AV),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:u,fill:c,fillOpacity:f,hide:h,isAnimationActive:p,legendType:v,stroke:x,xAxisId:b,yAxisId:E}=n,P=TV(n,Bfe),T=sd(),C=T6(),{needClip:R}=_V(b,E),j=Nr(),{points:$,isRange:O,baseLine:I}=(t=ye(ne=>$fe(ne,e.id,j)))!==null&&t!==void 0?t:{},N=JS();if(T!=="horizontal"&&T!=="vertical"||N==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:z,width:D,x:F,y:B}=N;return!$||!$.length?null:_.createElement(nhe,zl({},P,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:I,connectNulls:l,dot:u,fill:c,fillOpacity:f,height:z,hide:h,layout:T,isAnimationActive:p==="auto"?!lp.isSsr:p,isRange:O,legendType:v,needClip:R,points:$,stroke:x,width:D,left:F,top:B,xAxisId:b,yAxisId:E}))}var ihe=(e,t,n,r,i)=>{var o=n??t;if(ge(o))return o;var s=e==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),c=Math.min(l[0],l[1]);return o==="dataMin"?c:o==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function ohe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:c,dataStartIndex:f,xAxisTicks:h,yAxisTicks:p,bandSize:v}=e,x=i&&i.length,b=ihe(o,s,n,l,u),E=o==="horizontal",P=!1,T=c.map((R,j)=>{var $,O,I,N;if(x)N=i[f+j];else{var z=wt(R,r);Array.isArray(z)?(N=z,P=!0):N=[b,z]}var D=($=(O=N)===null||O===void 0?void 0:O[1])!==null&&$!==void 0?$:null,F=D==null||x&&!t&&wt(R,r)==null;if(E){var B;return{x:gk({axis:l,ticks:h,bandSize:v,entry:R,index:j}),y:F?null:(B=u.scale.map(D))!==null&&B!==void 0?B:null,value:N,payload:R}}return{x:F?null:(I=l.scale.map(D))!==null&&I!==void 0?I:null,y:gk({axis:u,ticks:p,bandSize:v,entry:R,index:j}),value:N,payload:R}}),C;return x||P?C=T.map(R=>{var j,$=Array.isArray(R.value)?R.value[0]:null;if(E){var O;return{x:R.x,y:$!=null&&R.y!=null&&(O=u.scale.map($))!==null&&O!==void 0?O:null,payload:R.payload}}return{x:$!=null&&(j=l.scale.map($))!==null&&j!==void 0?j:null,y:R.y,payload:R.payload}}):C=E?u.scale.map(b):l.scale.map(b),{points:T,baseLine:C??0,isRange:P}}function she(e){var t=Fn(e,AV),n=Nr();return _.createElement(cV,{id:t.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(Xue,{legendPayload:qfe(t)}),_.createElement(Gfe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),_.createElement(dce,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:qJ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),_.createElement(rhe,zl({},t,{id:r}))))}var Yb=_.memo(she,nT);Yb.displayName="Area";var ahe=["domain","range"],lhe=["domain","range"];function fN(e,t){if(e==null)return{};var n,r,i=uhe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function CV(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=fN(e,ahe),{domain:o,range:s}=t,l=fN(t,lhe);return!hN(n,o)||!hN(r,s)?!1:nT(i,l)}var che=["type"],dhe=["dangerouslySetInnerHTML","ticks","scale"],fhe=["id","scale"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){hhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hhe(e,t,n){return(t=phe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function phe(e){var t=mhe(e,"string");return typeof t=="symbol"?t:t+""}function mhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qb(e,t){if(e==null)return{};var n,r,i=ghe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ghe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vhe(e){var t=Tt(),n=_.useRef(null),r=DP(),{type:i}=e,o=Qb(e,che),s=L0(r,"xAxis",i),l=_.useMemo(()=>{if(s!=null)return mN(mN({},o),{},{type:s})},[o,s]);return _.useLayoutEffect(()=>{l!=null&&(n.current===null?t(Yce(l)):n.current!==l&&t(Xce({prev:n.current,next:l})),n.current=l)},[l,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(Qce(n.current)),n.current=null)},[t]),null}var yhe=e=>{var{xAxisId:t,className:n}=e,r=ye(Z4),i=Nr(),o="xAxis",s=ye(p=>e6(p,o,t,i)),l=ye(p=>Roe(p,t)),u=ye(p=>Voe(p,t)),c=ye(p=>Oz(p,t));if(l==null||u==null||c==null)return null;var f=Qb(e,dhe),h=Qb(c,fhe);return _.createElement(tT,Xb({},f,h,{x:u.x,y:u.y,width:l.width,height:l.height,className:nt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},_he={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,angle:vn.angle,axisLine:xs.axisLine,height:vn.height,hide:!1,includeHidden:vn.includeHidden,interval:vn.interval,label:!1,minTickGap:vn.minTickGap,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,tickLine:xs.tickLine,tickSize:xs.tickSize,type:vn.type,xAxisId:0},xhe=e=>{var t=Fn(e,_he);return _.createElement(_.Fragment,null,_.createElement(vhe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(yhe,t))},IV=_.memo(xhe,CV);IV.displayName="XAxis";var whe=["type"],bhe=["dangerouslySetInnerHTML","ticks","scale"],Ehe=["id","scale"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(null,arguments)}function gN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(n),!0).forEach(function(r){Phe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Phe(e,t,n){return(t=She(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function She(e){var t=The(e,"string");return typeof t=="symbol"?t:t+""}function The(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(e,t){if(e==null)return{};var n,r,i=Ahe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ahe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Che(e){var t=Tt(),n=_.useRef(null),r=DP(),{type:i}=e,o=e1(e,whe),s=L0(r,"yAxis",i),l=_.useMemo(()=>{if(s!=null)return vN(vN({},o),{},{type:s})},[s,o]);return _.useLayoutEffect(()=>{l!=null&&(n.current===null?t(Jce(l)):n.current!==l&&t(ede({prev:n.current,next:l})),n.current=l)},[l,t]),_.useLayoutEffect(()=>()=>{n.current&&(t(tde(n.current)),n.current=null)},[t]),null}function Ihe(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=_.useRef(null),s=_.useRef(null),l=ye(Z4),u=Nr(),c=Tt(),f="yAxis",h=ye(P=>Boe(P,t)),p=ye(P=>Foe(P,t)),v=ye(P=>e6(P,f,t,u)),x=ye(P=>Nz(P,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!h||GS(i)||_.isValidElement(i)||x==null)){var P=o.current;if(P){var T=P.getCalculatedWidth();Math.round(h.width)!==Math.round(T)&&c(nde({id:t,width:T}))}}},[v,h,c,i,t,r,x]),h==null||p==null||x==null)return null;var b=e1(e,bhe),E=e1(x,Ehe);return _.createElement(tT,Jb({},b,E,{ref:o,labelRef:s,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:nt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v,axisType:f}))}var khe={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,angle:yn.angle,axisLine:xs.axisLine,hide:!1,includeHidden:yn.includeHidden,interval:yn.interval,label:!1,minTickGap:yn.minTickGap,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,tickLine:xs.tickLine,tickSize:xs.tickSize,type:yn.type,width:yn.width,yAxisId:0},Ohe=e=>{var t=Fn(e,khe);return _.createElement(_.Fragment,null,_.createElement(Che,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(Ihe,t))},kV=_.memo(Ohe,CV);kV.displayName="YAxis";var Nhe=(e,t)=>t,oT=K([Nhe,ct,Cz,An,_6,Ks,rae,Sn],cae),sT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},OV=Si("mouseClick"),NV=ip();NV.startListening({actionCreator:OV,effect:(e,t)=>{var n=e.payload,r=oT(t.getState(),sT(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(nse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var t1=Si("mouseMove"),RV=ip(),Lm=null;RV.startListening({actionCreator:t1,effect:(e,t)=>{var n=e.payload;Lm!==null&&cancelAnimationFrame(Lm);var r=sT(n);Lm=requestAnimationFrame(()=>{var i=t.getState(),o=zS(i,i.tooltip.settings.shared);if(o==="axis"){var s=oT(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(c6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(u6())}Lm=null})}});function Rhe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var yN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},MV=Or({name:"rootProps",initialState:yN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:yN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Mhe=MV.reducer,{updateOptions:jhe}=MV.actions,Dhe=null,Lhe={updatePolarOptions:(e,t)=>t.payload},jV=Or({name:"polarOptions",initialState:Dhe,reducers:Lhe}),{updatePolarOptions:zhe}=jV.actions,Vhe=jV.reducer,DV=Si("keyDown"),LV=Si("focus"),aT=ip();aT.startListening({actionCreator:DV,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=VS(i,md(n),gp(n),yp(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=Ks(n);if(o==="Enter"){var c=qv(n,"axis","hover",String(i.index));t.dispatch(Hb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var f=Koe(n),h=f==="left-to-right"?1:-1,p=o==="ArrowRight"?1:-1,v=l+p*h;if(!(u==null||v>=u.length||v<0)){var x=qv(n,"axis","hover",String(v));t.dispatch(Hb({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});aT.startListening({actionCreator:LV,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=qv(n,"axis","hover",String(o));t.dispatch(Hb({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var pi=Si("externalEvent"),zV=ip(),Mx=new Map;zV.startListening({actionCreator:pi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=Mx.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:Bse(l),activeDataKey:E6(l),activeIndex:Hc(l),activeLabel:b6(l),activeTooltipIndex:Hc(l),isTooltipActive:Use(l)};n(u,r)}finally{Mx.delete(i)}});Mx.set(i,s)}}});var $he=K([hd],e=>e.tooltipItemPayloads),Fhe=K([$he,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),VV=Si("touchMove"),$V=ip();$V.startListening({actionCreator:VV,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=zS(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=oT(r,sT({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(c6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(q4),h=(l=c.getAttribute(G4))!==null&&l!==void 0?l:void 0,p=pd(r).find(b=>b.id===h);if(f==null||p==null||h==null)return;var{dataKey:v}=p,x=Fhe(r,f,h);t.dispatch(l6({activeDataKey:v,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:h}))}}}});var Bhe=m4({brush:fde,cartesianAxis:rde,chartData:$ae,errorBars:lfe,graphicalItems:uce,layout:zJ,legend:Lee,options:jae,polarAxis:xue,polarOptions:Vhe,referenceElements:vde,rootProps:Mhe,tooltip:rse,zIndex:Pae}),Uhe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return uJ({reducer:Bhe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([NV.middleware,RV.middleware,aT.middleware,zV.middleware,$V.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(k4({type:"raf"}))},devTools:{serialize:{replacer:Rhe},name:"recharts-".concat(n)}})};function FV(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Nr(),o=_.useRef(null);if(i)return n;o.current==null&&(o.current=Uhe(t,r));var s=SP;return _.createElement(Nfe,{context:s,store:o.current},n)}function Whe(e){var{layout:t,margin:n}=e,r=Tt(),i=Nr();return _.useEffect(()=>{i||(r(jJ(t)),r(MJ(n)))},[r,i,t,n]),null}var BV=_.memo(Whe,nT);function UV(e){var t=Tt();return _.useEffect(()=>{t(jhe(e))},[t,e]),null}function _N(e){var{zIndex:t,isPanorama:n}=e,r=_.useRef(null),i=Tt();return _.useLayoutEffect(()=>(r.current&&i(bae({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Eae({zIndex:t,isPanorama:n}))}),[i,t,n]),_.createElement("g",{tabIndex:-1,ref:r})}function xN(e){var{children:t,isPanorama:n}=e,r=ye(fae);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return _.createElement(_.Fragment,null,i.map(s=>_.createElement(_N,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>_.createElement(_N,{key:s,zIndex:s,isPanorama:n})))}var Hhe=["children"];function Khe(e,t){if(e==null)return{};var n,r,i=qhe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}var Ghe={width:"100%",height:"100%",display:"block"},Zhe=_.forwardRef((e,t)=>{var n=i3(),r=o3(),i=v3();if(!Do(n)||!Do(r))return null;var{children:o,otherAttributes:s,title:l,desc:u}=e,c,f;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),_.createElement(p5,ey({},s,{title:l,desc:u,role:f,tabIndex:c,width:n,height:r,style:Ghe,ref:t}),o)}),Yhe=e=>{var{children:t}=e,n=ye(b0);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return _.createElement(p5,{width:r,height:i,x:s,y:o},t)},wN=_.forwardRef((e,t)=>{var{children:n}=e,r=Khe(e,Hhe),i=Nr();return i?_.createElement(Yhe,null,_.createElement(xN,{isPanorama:!0},n)):_.createElement(Zhe,ey({ref:t},r),_.createElement(xN,{isPanorama:!1},n))});function Xhe(){var e=Tt(),[t,n]=_.useState(null),r=ye(JJ);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;We(o)&&o!==r&&e(LJ(o))}},[t,e,r]),n}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){Jhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jhe(e,t,n){return(t=epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function epe(e){var t=tpe(e,"string");return typeof t=="symbol"?t:t+""}function tpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(null,arguments)}var npe=()=>(Zae(),null);function ty(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var rpe=_.forwardRef((e,t)=>{var n,r,i=_.useRef(null),[o,s]=_.useState({containerWidth:ty((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:ty((r=e.style)===null||r===void 0?void 0:r.height)}),l=_.useCallback((c,f)=>{s(h=>{var p=Math.round(c),v=Math.round(f);return h.containerWidth===p&&h.containerHeight===v?h:{containerWidth:p,containerHeight:v}})},[]),u=_.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=c.getBoundingClientRect();l(f,h);var p=x=>{var b=x[0];if(b!=null){var{width:E,height:P}=b.contentRect;l(E,P)}},v=new ResizeObserver(p);v.observe(c),i.current=v}},[t,l]);return _.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[l]),_.createElement(_.Fragment,null,_.createElement(sp,{width:o.containerWidth,height:o.containerHeight}),_.createElement("div",Na({ref:u},e)))}),ipe=_.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=_.useState({containerWidth:ty(n),containerHeight:ty(r)}),s=_.useCallback((u,c)=>{o(f=>{var h=Math.round(u),p=Math.round(c);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:f}=u.getBoundingClientRect();s(c,f)}},[t,s]);return _.createElement(_.Fragment,null,_.createElement(sp,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Na({ref:l},e)))}),ope=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return _.createElement(_.Fragment,null,_.createElement(sp,{width:n,height:r}),_.createElement("div",Na({ref:t},e)))}),spe=_.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?_.createElement(ipe,Na({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?_.createElement(ope,Na({},e,{width:n,height:r,ref:t})):_.createElement(_.Fragment,null,_.createElement(sp,{width:n,height:r}),_.createElement("div",Na({ref:t},e)))});function ape(e){return e?rpe:spe}var lpe=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:f,onMouseMove:h,onMouseUp:p,onTouchEnd:v,onTouchMove:x,onTouchStart:b,style:E,width:P,responsive:T,dispatchTouchEvents:C=!0}=e,R=_.useRef(null),j=Tt(),[$,O]=_.useState(null),[I,N]=_.useState(null),z=Xhe(),D=MP(),F=(D==null?void 0:D.width)>0?D.width:P,B=(D==null?void 0:D.height)>0?D.height:i,ne=_.useCallback(ee=>{z(ee),typeof t=="function"&&t(ee),O(ee),N(ee),ee!=null&&(R.current=ee)},[z,t,O,N]),xe=_.useCallback(ee=>{j(OV(ee)),j(pi({handler:o,reactEvent:ee}))},[j,o]),oe=_.useCallback(ee=>{j(t1(ee)),j(pi({handler:c,reactEvent:ee}))},[j,c]),ae=_.useCallback(ee=>{j(u6()),j(pi({handler:f,reactEvent:ee}))},[j,f]),G=_.useCallback(ee=>{j(t1(ee)),j(pi({handler:h,reactEvent:ee}))},[j,h]),ie=_.useCallback(()=>{j(LV())},[j]),X=_.useCallback(ee=>{j(DV(ee.key))},[j]),ue=_.useCallback(ee=>{j(pi({handler:s,reactEvent:ee}))},[j,s]),we=_.useCallback(ee=>{j(pi({handler:l,reactEvent:ee}))},[j,l]),je=_.useCallback(ee=>{j(pi({handler:u,reactEvent:ee}))},[j,u]),Pe=_.useCallback(ee=>{j(pi({handler:p,reactEvent:ee}))},[j,p]),ke=_.useCallback(ee=>{j(pi({handler:b,reactEvent:ee}))},[j,b]),ve=_.useCallback(ee=>{C&&j(VV(ee)),j(pi({handler:x,reactEvent:ee}))},[j,C,x]),$e=_.useCallback(ee=>{j(pi({handler:v,reactEvent:ee}))},[j,v]),rn=ape(T);return _.createElement(O6.Provider,{value:$},_.createElement(rX.Provider,{value:I},_.createElement(rn,{width:F??(E==null?void 0:E.width),height:B??(E==null?void 0:E.height),className:nt("recharts-wrapper",r),style:Qhe({position:"relative",cursor:"default",width:F,height:B},E),onClick:xe,onContextMenu:ue,onDoubleClick:we,onFocus:ie,onKeyDown:X,onMouseDown:je,onMouseEnter:oe,onMouseLeave:ae,onMouseMove:G,onMouseUp:Pe,onTouchEnd:$e,onTouchMove:ve,onTouchStart:ke,ref:ne},_.createElement(npe,null),n)))}),upe=["width","height","responsive","children","className","style","compact","title","desc"];function cpe(e,t){if(e==null)return{};var n,r,i=dpe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WV=_.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:l,compact:u,title:c,desc:f}=e,h=cpe(e,upe),p=Xr(h);return u?_.createElement(_.Fragment,null,_.createElement(sp,{width:n,height:r}),_.createElement(wN,{otherAttributes:p,title:c,desc:f},o)):_.createElement(lpe,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(wN,{otherAttributes:p,title:c,desc:f,ref:t},_.createElement(_de,null,o)))});function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n1.apply(null,arguments)}var fpe={top:5,right:5,bottom:5,left:5},hpe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:fpe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ppe=_.forwardRef(function(t,n){var r,i=Fn(t.categoricalChartProps,hpe),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,f={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(FV,{preloadedState:{options:f},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:o},_.createElement(mV,{chartData:c.data}),_.createElement(BV,{layout:i.layout,margin:i.margin}),_.createElement(UV,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(WV,n1({},i,{ref:n})))});function mpe(e){var t=Tt();return _.useEffect(()=>{t(zhe(e))},[t,e]),null}var gpe=["layout"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r1.apply(null,arguments)}function vpe(e,t){if(e==null)return{};var n,r,i=ype(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ype(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _pe={top:5,right:5,bottom:5,left:5},HV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_pe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xpe=_.forwardRef(function(t,n){var r,i=Fn(t.categoricalChartProps,HV),{layout:o}=i,s=vpe(i,gpe),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f}=t,h={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(FV,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},_.createElement(mV,{chartData:i.data}),_.createElement(BV,{layout:o,margin:i.margin}),_.createElement(UV,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(mpe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(WV,r1({},s,{ref:n})))});function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wpe(e,t,n){return(t=bpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bpe(e){var t=Epe(e,"string");return typeof t=="symbol"?t:t+""}function Epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ppe=["item"],Spe=PN(PN({},HV),{},{layout:"centric",startAngle:0,endAngle:360}),Tpe=_.forwardRef((e,t)=>{var n=Fn(e,Spe);return _.createElement(xpe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ppe,tooltipPayloadSearcher:R6,categoricalChartProps:n,ref:t})}),Ape=["axis"],Cpe=_.forwardRef((e,t)=>_.createElement(ppe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ape,tooltipPayloadSearcher:R6,categoricalChartProps:e,ref:t}));function lT(e,t=[]){const{userData:n}=Vs(),r=n==null?void 0:n.agencyId,[i,o]=_.useState([]),[s,l]=_.useState(!0),[u,c]=_.useState(null);return _.useEffect(()=>{if(!r){o([]),l(!1);return}const f=En(et,e),h=wo(f,Gn("agencyId","==",r),...t),p=ia(h,v=>{const x=v.docs.map(b=>({...b.data(),id:b.id}));o(x),l(!1),c(null)},v=>{var x;(x=v.message)!=null&&x.includes("index")?console.error(`[useAgencyCollection] Missing Firestore index for "${e}".`,`
Click the link in the error below to create it:
`,v.message):console.error(`[useAgencyCollection] Error fetching ${e}:`,v),c(v),l(!1)});return()=>p()},[r,e,JSON.stringify(t)]),{data:i,loading:s,error:u}}const a_=()=>lT("deals"),Ipe=()=>lT("leads"),KV=()=>lT("users",[Gn("role","in",["admin","agent"])]);function kpe(){const{data:e,loading:t}=a_(),[n,r]=_.useState([]);return _.useEffect(()=>{if(!e.length){r([]);return}const i=["","","","","","","","","","","",""],o=new Date().getMonth(),s=Array.from({length:6}).map((l,u)=>{const c=new Date;return c.setMonth(o-(5-u)),{monthIndex:c.getMonth(),year:c.getFullYear(),month:i[c.getMonth()],revenue:0,expenses:0}});e.forEach(l=>{if(l.stage==="contract"&&l.updatedAt){const u=l.updatedAt.toDate(),c=u.getMonth(),f=u.getFullYear(),h=s.find(p=>p.monthIndex===c&&p.year===f);h&&(h.revenue+=l.projectedCommission||0,h.expenses=h.revenue*.2)}}),r(s)},[e]),{data:n,loading:t}}function Ope(){const{data:e,loading:t}=Ipe(),{data:n,loading:r}=a_(),[i,o]=_.useState([]);return _.useEffect(()=>{const s=[];e.forEach(l=>{if(l.createdAt){const u=l.createdAt.toDate();s.push({id:`lead_${l.id}`,type:"lead",message:`   (${l.source})`,detail:l.name,timestamp:u.getTime(),time:u.toLocaleDateString("he-IL")})}}),n.forEach(l=>{if(l.updatedAt){const u=l.updatedAt.toDate();let c=" ";l.stage==="offer"&&(c="  "),l.stage==="contract"&&(c="  !"),s.push({id:`deal_${l.id}`,type:l.stage==="contract"?"contract":"deal",message:c,detail:` : ${(l.projectedCommission||0).toLocaleString()}`,timestamp:u.getTime(),time:u.toLocaleDateString("he-IL")})}}),s.sort((l,u)=>u.timestamp-l.timestamp),o(s.slice(0,50))},[e,n]),{data:i,loading:t||r}}function qV(){const{data:e,loading:t}=KV(),{data:n,loading:r}=a_(),[i,o]=_.useState([]);return _.useEffect(()=>{if(!e.length){o([]);return}const s=["bg-blue-100 text-blue-600","bg-indigo-100 text-indigo-600","bg-violet-100 text-violet-600","bg-emerald-100 text-emerald-600","bg-cyan-100 text-cyan-600"],l=e.filter(u=>!!u.uid).map((u,c)=>{const f=n.filter(p=>p.agentId===u.uid&&p.stage==="contract"),h=f.reduce((p,v)=>p+(v.projectedCommission||0),0);return{id:u.uid,name:u.name,avatar:u.name.charAt(0),avatarColor:s[c%s.length],sales:h,deals:f.length,rating:(4.5+Math.random()*.5).toFixed(1),monthlyTarget:1e5,monthlyAchieved:h}}).sort((u,c)=>c.sales-u.sales);o(l)},[e,n]),{data:i,loading:t||r}}const Npe=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e}`,Rpe=({active:e,payload:t,label:n})=>e&&t&&t.length?y.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 shadow-xl border border-slate-100 text-right",dir:"rtl",children:[y.jsx("p",{className:"text-sm font-bold text-slate-800 mb-1",children:n}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:[": ",y.jsxs("span",{className:"font-bold",children:["",t[0].value.toLocaleString()]})]}),y.jsxs("p",{className:"text-xs text-slate-400",children:[": ",t[1].value.toLocaleString()]})]})]}):null;function Mpe(){const[e,t]=_.useState("6M"),{data:n,loading:r}=kpe();if(r)return y.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 lg:p-6 h-full flex flex-col justify-center items-center",children:y.jsx("div",{className:"animate-pulse flex gap-2",children:y.jsx("div",{className:"w-2 h-2 bg-slate-200 rounded-full"})})});const i=e==="3M"?n.slice(-3):n;return y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 lg:p-6 h-full flex flex-col",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"   ( )"})]}),y.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl self-start sm:self-auto",children:[{k:"3M",l:"3 "},{k:"6M",l:"6 "}].map(o=>y.jsx("button",{onClick:()=>t(o.k),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${e===o.k?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:o.l},o.k))})]}),y.jsx("div",{className:"flex-1 min-h-0",children:y.jsx(n3,{width:"100%",height:"100%",children:y.jsxs(Cpe,{data:i,margin:{top:5,right:0,left:-20,bottom:0},children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),y.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),y.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#f87171",stopOpacity:.15}),y.jsx("stop",{offset:"95%",stopColor:"#f87171",stopOpacity:0})]})]}),y.jsx(yV,{strokeDasharray:"3 3",stroke:"#f1f5f9",vertical:!1}),y.jsx(IV,{dataKey:"month",tick:{fontSize:12,fill:"#94a3b8",fontWeight:500},axisLine:!1,tickLine:!1,dy:10}),y.jsx(kV,{tickFormatter:Npe,tick:{fontSize:11,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),y.jsx(D6,{content:y.jsx(Rpe,{}),cursor:{stroke:"#e2e8f0",strokeWidth:1}}),y.jsx(Yb,{type:"monotone",dataKey:"revenue",name:"",stroke:"#10b981",strokeWidth:2.5,fill:"url(#colorRevenue)",dot:!1,activeDot:{r:5,fill:"#10b981",stroke:"white",strokeWidth:2}}),y.jsx(Yb,{type:"monotone",dataKey:"expenses",name:"",stroke:"#f87171",strokeWidth:2,fill:"url(#colorExpenses)",dot:!1,activeDot:{r:5,fill:"#f87171",stroke:"white",strokeWidth:2}})]})})})]})}const jpe="tasks";async function Dpe(e,t){const n=qr(et,jpe,e);await Jh(n,{isCompleted:t,completedAt:t?Qh():null})}const Lpe={high:{color:"text-red-600",bg:"bg-red-50",border:"border-red-100",dot:"bg-red-500"},medium:{color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",dot:"bg-amber-500"},low:{color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100",dot:"bg-blue-400"}};function zpe(){const{tasks:e,alerts:t}=Xa(),[n,r]=_.useState("tasks"),i=async(s,l)=>{try{await Dpe(s,!l)}catch(u){console.error("Failed to toggle task:",u)}},o=e.length>0?Math.round(e.filter(s=>s.isCompleted).length/e.length*100):0;return y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm flex flex-col overflow-hidden h-full min-h-[400px]",children:[y.jsxs("div",{className:"p-5 pb-0",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),n==="alerts"&&t.length>0&&y.jsx("span",{className:"text-xs font-bold bg-red-500 text-white rounded-full px-2 py-0.5",children:t.length})]}),y.jsx("div",{className:"flex gap-1 bg-slate-100 rounded-xl p-1 mb-4",children:["tasks","alerts"].map(s=>y.jsx("button",{onClick:()=>r(s),className:`flex-1 text-xs font-semibold py-2 rounded-lg transition-all ${n===s?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:s==="tasks"?` (${e.filter(l=>!l.isCompleted).length})`:` (${t.length})`},s))})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pt-0 space-y-2 scrollbar-hide max-h-[320px]",children:[n==="tasks"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[y.jsx("span",{children:" "}),y.jsxs("span",{className:"font-bold text-emerald-600",children:[o,"%"]})]}),y.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-500",style:{width:`${o}%`}})})]}),e.filter(s=>!s.isCompleted).sort((s,l)=>{var u,c;return(((u=s.dueDate)==null?void 0:u.toMillis())||0)-(((c=l.dueDate)==null?void 0:c.toMillis())||0)}).map(s=>y.jsxs("div",{onClick:()=>i(s.id,s.isCompleted),className:`flex items-start gap-3 p-3 rounded-xl cursor-pointer transition-all hover:bg-slate-50 ${s.isCompleted?"opacity-50":""}`,children:[s.isCompleted?y.jsx(sY,{size:18,className:"text-emerald-500 flex-shrink-0 mt-0.5"}):y.jsx(uY,{size:18,className:"text-slate-300 flex-shrink-0 mt-0.5"}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsx("p",{className:`text-sm font-medium leading-snug ${s.isCompleted?"line-through text-slate-400":"text-slate-700"}`,children:s.title})})]},s.id)),e.length===0&&y.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"  ."})]}),n==="alerts"&&y.jsxs(y.Fragment,{children:[t.map(s=>{var f;const l=s.type==="warning"?"high":"low",u=Lpe[l],c=((f=s.createdAt)==null?void 0:f.toDate().toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"}))||"";return y.jsxs("div",{className:`flex gap-3 p-3 rounded-xl border ${u.bg} ${u.border}`,children:[y.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 mt-1.5 ${u.dot}`}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:`text-xs font-bold ${u.color}`,children:s.type==="warning"?"":""}),y.jsx("p",{className:"text-xs text-slate-600 mt-0.5 leading-relaxed",children:s.message}),y.jsx("p",{className:"text-xs text-slate-400 mt-1",children:c})]})]},s.id)}),t.length===0&&y.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"  ."})]})]})]})}const l_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gd(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function uT(e){return"nodeType"in e}function mr(e){var t,n;return e?gd(e)?e:uT(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function cT(e){const{Document:t}=mr(e);return e instanceof t}function wp(e){return gd(e)?!1:e instanceof mr(e).HTMLElement}function GV(e){return e instanceof mr(e).SVGElement}function vd(e){return e?gd(e)?e.document:uT(e)?cT(e)?e:wp(e)||GV(e)?e.ownerDocument:document:document:document}const Ds=l_?_.useLayoutEffect:_.useEffect;function u_(e){const t=_.useRef(e);return Ds(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Vpe(){const e=_.useRef(null),t=_.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=_.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ih(e,t){t===void 0&&(t=[e]);const n=_.useRef(e);return Ds(()=>{n.current!==e&&(n.current=e)},t),n}function bp(e,t){const n=_.useRef();return _.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ny(e){const t=u_(e),n=_.useRef(null),r=_.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function ry(e){const t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}let jx={};function c_(e,t){return _.useMemo(()=>{if(t)return t;const n=jx[e]==null?0:jx[e]+1;return jx[e]=n,e+"-"+n},[e,t])}function ZV(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const l=Object.entries(s);for(const[u,c]of l){const f=o[u];f!=null&&(o[u]=f+e*c)}return o},{...t})}}const bc=ZV(1),iy=ZV(-1);function $pe(e){return"clientX"in e&&"clientY"in e}function dT(e){if(!e)return!1;const{KeyboardEvent:t}=mr(e.target);return t&&e instanceof t}function Fpe(e){if(!e)return!1;const{TouchEvent:t}=mr(e.target);return t&&e instanceof t}function oy(e){if(Fpe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return $pe(e)?{x:e.clientX,y:e.clientY}:null}const kh=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[kh.Translate.toString(e),kh.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),SN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Bpe(e){return e.matches(SN)?e:e.querySelector(SN)}const Upe={display:"none"};function Wpe(e){let{id:t,value:n}=e;return _t.createElement("div",{id:t,style:Upe},n)}function Hpe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _t.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Kpe(){const[e,t]=_.useState("");return{announce:_.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const YV=_.createContext(null);function qpe(e){const t=_.useContext(YV);_.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Gpe(){const[e]=_.useState(()=>new Set),t=_.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[_.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,o)})},[e]),t]}const Zpe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ype={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Xpe(e){let{announcements:t=Ype,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Zpe}=e;const{announce:o,announcement:s}=Kpe(),l=c_("DndLiveRegion"),[u,c]=_.useState(!1);if(_.useEffect(()=>{c(!0)},[]),qpe(_.useMemo(()=>({onDragStart(h){let{active:p}=h;o(t.onDragStart({active:p}))},onDragMove(h){let{active:p,over:v}=h;t.onDragMove&&o(t.onDragMove({active:p,over:v}))},onDragOver(h){let{active:p,over:v}=h;o(t.onDragOver({active:p,over:v}))},onDragEnd(h){let{active:p,over:v}=h;o(t.onDragEnd({active:p,over:v}))},onDragCancel(h){let{active:p,over:v}=h;o(t.onDragCancel({active:p,over:v}))}}),[o,t])),!u)return null;const f=_t.createElement(_t.Fragment,null,_t.createElement(Wpe,{id:r,value:i.draggable}),_t.createElement(Hpe,{id:l,announcement:s}));return n?ds.createPortal(f,n):f}var ln;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ln||(ln={}));function sy(){}function Qpe(e,t){return _.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Jpe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ji=Object.freeze({x:0,y:0});function eme(e,t){const n=oy(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function tme(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function nme(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function rme(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,l=o-n;if(r<i&&n<o){const u=t.width*t.height,c=e.width*e.height,f=s*l,h=f/(u+c-f);return Number(h.toFixed(4))}return 0}const ime=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,l=n.get(s);if(l){const u=rme(l,t);u>0&&i.push({id:s,data:{droppableContainer:o,value:u}})}}return i.sort(tme)};function ome(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function XV(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ji}function sme(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...n})}}const ame=sme(1);function QV(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function lme(e,t,n){const r=QV(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:l}=r,u=e.left-s-(1-i)*parseFloat(n),c=e.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?e.width/i:e.width,h=o?e.height/o:e.height;return{width:f,height:h,top:c,right:u+f,bottom:c+h,left:u}}const ume={ignoreTransform:!1};function Ep(e,t){t===void 0&&(t=ume);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:f}=mr(e).getComputedStyle(e);c&&(n=lme(n,c,f))}const{top:r,left:i,width:o,height:s,bottom:l,right:u}=n;return{top:r,left:i,width:o,height:s,bottom:l,right:u}}function TN(e){return Ep(e,{ignoreTransform:!0})}function cme(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function dme(e,t){return t===void 0&&(t=mr(e).getComputedStyle(e)),t.position==="fixed"}function fme(e,t){t===void 0&&(t=mr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function fT(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(cT(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!wp(i)||GV(i)||n.includes(i))return n;const o=mr(e).getComputedStyle(i);return i!==e&&fme(i,o)&&n.push(i),dme(i,o)?n:r(i.parentNode)}return e?r(e):n}function JV(e){const[t]=fT(e,1);return t??null}function Dx(e){return!l_||!e?null:gd(e)?e:uT(e)?cT(e)||e===vd(e).scrollingElement?window:wp(e)?e:null:null}function e$(e){return gd(e)?e.scrollX:e.scrollLeft}function t$(e){return gd(e)?e.scrollY:e.scrollTop}function i1(e){return{x:e$(e),y:t$(e)}}var bn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bn||(bn={}));function n$(e){return!l_||!e?!1:e===document.scrollingElement}function r$(e){const t={x:0,y:0},n=n$(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:l,maxScroll:r,minScroll:t}}const hme={x:.2,y:.2};function pme(e,t,n,r,i){let{top:o,left:s,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=hme);const{isTop:c,isBottom:f,isLeft:h,isRight:p}=r$(e),v={x:0,y:0},x={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!c&&o<=t.top+b.height?(v.y=bn.Backward,x.y=r*Math.abs((t.top+b.height-o)/b.height)):!f&&u>=t.bottom-b.height&&(v.y=bn.Forward,x.y=r*Math.abs((t.bottom-b.height-u)/b.height)),!p&&l>=t.right-b.width?(v.x=bn.Forward,x.x=r*Math.abs((t.right-b.width-l)/b.width)):!h&&s<=t.left+b.width&&(v.x=bn.Backward,x.x=r*Math.abs((t.left+b.width-s)/b.width)),{direction:v,speed:x}}function mme(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function i$(e){return e.reduce((t,n)=>bc(t,i1(n)),Ji)}function gme(e){return e.reduce((t,n)=>t+e$(n),0)}function vme(e){return e.reduce((t,n)=>t+t$(n),0)}function o$(e,t){if(t===void 0&&(t=Ep),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);JV(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const yme=[["x",["left","right"],gme],["y",["top","bottom"],vme]];class hT{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=fT(n),i=i$(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,l]of yme)for(const u of s)Object.defineProperty(this,u,{get:()=>{const c=l(r),f=i[o]-c;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Df{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function _me(e){const{EventTarget:t}=mr(e);return e instanceof t?e:vd(e)}function Lx(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var mi;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(mi||(mi={}));function AN(e){e.preventDefault()}function xme(e){e.stopPropagation()}var lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(lt||(lt={}));const s$={start:[lt.Space,lt.Enter],cancel:[lt.Esc],end:[lt.Space,lt.Enter,lt.Tab]},wme=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case lt.Right:return{...n,x:n.x+25};case lt.Left:return{...n,x:n.x-25};case lt.Down:return{...n,y:n.y+25};case lt.Up:return{...n,y:n.y-25}}};class a${constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Df(vd(n)),this.windowListeners=new Df(mr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mi.Resize,this.handleCancel),this.windowListeners.add(mi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&o$(r),n(Ji)}handleKeyDown(t){if(dT(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=s$,coordinateGetter:s=wme,scrollBehavior:l="smooth"}=i,{code:u}=t;if(o.end.includes(u)){this.handleEnd(t);return}if(o.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,f=c?{x:c.left,y:c.top}:Ji;this.referenceCoordinates||(this.referenceCoordinates=f);const h=s(t,{active:n,context:r.current,currentCoordinates:f});if(h){const p=iy(h,f),v={x:0,y:0},{scrollableAncestors:x}=r.current;for(const b of x){const E=t.code,{isTop:P,isRight:T,isLeft:C,isBottom:R,maxScroll:j,minScroll:$}=r$(b),O=mme(b),I={x:Math.min(E===lt.Right?O.right-O.width/2:O.right,Math.max(E===lt.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(E===lt.Down?O.bottom-O.height/2:O.bottom,Math.max(E===lt.Down?O.top:O.top+O.height/2,h.y))},N=E===lt.Right&&!T||E===lt.Left&&!C,z=E===lt.Down&&!R||E===lt.Up&&!P;if(N&&I.x!==h.x){const D=b.scrollLeft+p.x,F=E===lt.Right&&D<=j.x||E===lt.Left&&D>=$.x;if(F&&!p.y){b.scrollTo({left:D,behavior:l});return}F?v.x=b.scrollLeft-D:v.x=E===lt.Right?b.scrollLeft-j.x:b.scrollLeft-$.x,v.x&&b.scrollBy({left:-v.x,behavior:l});break}else if(z&&I.y!==h.y){const D=b.scrollTop+p.y,F=E===lt.Down&&D<=j.y||E===lt.Up&&D>=$.y;if(F&&!p.x){b.scrollTo({top:D,behavior:l});return}F?v.y=b.scrollTop-D:v.y=E===lt.Down?b.scrollTop-j.y:b.scrollTop-$.y,v.y&&b.scrollBy({top:-v.y,behavior:l});break}}this.handleMove(t,bc(iy(h,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}a$.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=s$,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function CN(e){return!!(e&&"distance"in e)}function IN(e){return!!(e&&"delay"in e)}class pT{constructor(t,n,r){var i;r===void 0&&(r=_me(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=vd(s),this.documentListeners=new Df(this.document),this.listeners=new Df(r),this.windowListeners=new Df(mr(s)),this.initialCoordinates=(i=oy(o))!=null?i:Ji,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(mi.Resize,this.handleCancel),this.windowListeners.add(mi.DragStart,AN),this.windowListeners.add(mi.VisibilityChange,this.handleCancel),this.windowListeners.add(mi.ContextMenu,AN),this.documentListeners.add(mi.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IN(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(CN(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(mi.Click,xme,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mi.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:l}}=o;if(!i)return;const u=(n=oy(t))!=null?n:Ji,c=iy(i,u);if(!r&&l){if(CN(l)){if(l.tolerance!=null&&Lx(c,l.tolerance))return this.handleCancel();if(Lx(c,l.distance))return this.handleStart()}if(IN(l)&&Lx(c,l.tolerance))return this.handleCancel();this.handlePending(l,c);return}t.cancelable&&t.preventDefault(),s(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===lt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const bme={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mT extends pT{constructor(t){const{event:n}=t,r=vd(n.target);super(t,bme,r)}}mT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Eme={move:{name:"mousemove"},end:{name:"mouseup"}};var o1;(function(e){e[e.RightClick=2]="RightClick"})(o1||(o1={}));class Pme extends pT{constructor(t){super(t,Eme,vd(t.event.target))}}Pme.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===o1.RightClick?!1:(r==null||r({event:n}),!0)}}];const zx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Sme extends pT{constructor(t){super(t,zx)}static setup(){return window.addEventListener(zx.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(zx.move.name,t)};function t(){}}}Sme.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Lf;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Lf||(Lf={}));var ay;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ay||(ay={}));function Tme(e){let{acceleration:t,activator:n=Lf.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:l=ay.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:f,delta:h,threshold:p}=e;const v=Cme({delta:h,disabled:!o}),[x,b]=Vpe(),E=_.useRef({x:0,y:0}),P=_.useRef({x:0,y:0}),T=_.useMemo(()=>{switch(n){case Lf.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Lf.DraggableRect:return i}},[n,i,u]),C=_.useRef(null),R=_.useCallback(()=>{const $=C.current;if(!$)return;const O=E.current.x*P.current.x,I=E.current.y*P.current.y;$.scrollBy(O,I)},[]),j=_.useMemo(()=>l===ay.TreeOrder?[...c].reverse():c,[l,c]);_.useEffect(()=>{if(!o||!c.length||!T){b();return}for(const $ of j){if((r==null?void 0:r($))===!1)continue;const O=c.indexOf($),I=f[O];if(!I)continue;const{direction:N,speed:z}=pme($,I,T,t,p);for(const D of["x","y"])v[D][N[D]]||(z[D]=0,N[D]=0);if(z.x>0||z.y>0){b(),C.current=$,x(R,s),E.current=z,P.current=N;return}}E.current={x:0,y:0},P.current={x:0,y:0},b()},[t,R,r,b,o,s,JSON.stringify(T),JSON.stringify(v),x,c,j,f,JSON.stringify(p)])}const Ame={x:{[bn.Backward]:!1,[bn.Forward]:!1},y:{[bn.Backward]:!1,[bn.Forward]:!1}};function Cme(e){let{delta:t,disabled:n}=e;const r=ry(t);return bp(i=>{if(n||!r||!i)return Ame;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[bn.Backward]:i.x[bn.Backward]||o.x===-1,[bn.Forward]:i.x[bn.Forward]||o.x===1},y:{[bn.Backward]:i.y[bn.Backward]||o.y===-1,[bn.Forward]:i.y[bn.Forward]||o.y===1}}},[n,t,r])}function Ime(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return bp(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function kme(e,t){return _.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var Oh;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Oh||(Oh={}));var s1;(function(e){e.Optimized="optimized"})(s1||(s1={}));const kN=new Map;function Ome(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=_.useState(null),{frequency:l,measure:u,strategy:c}=i,f=_.useRef(e),h=E(),p=Ih(h),v=_.useCallback(function(P){P===void 0&&(P=[]),!p.current&&s(T=>T===null?P:T.concat(P.filter(C=>!T.includes(C))))},[p]),x=_.useRef(null),b=bp(P=>{if(h&&!n)return kN;if(!P||P===kN||f.current!==e||o!=null){const T=new Map;for(let C of e){if(!C)continue;if(o&&o.length>0&&!o.includes(C.id)&&C.rect.current){T.set(C.id,C.rect.current);continue}const R=C.node.current,j=R?new hT(u(R),R):null;C.rect.current=j,j&&T.set(C.id,j)}return T}return P},[e,o,n,h,u]);return _.useEffect(()=>{f.current=e},[e]),_.useEffect(()=>{h||v()},[n,h]),_.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),_.useEffect(()=>{h||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{v(),x.current=null},l))},[l,h,v,...r]),{droppableRects:b,measureDroppableContainers:v,measuringScheduled:o!=null};function E(){switch(c){case Oh.Always:return!1;case Oh.BeforeDragging:return n;default:return!n}}}function gT(e,t){return bp(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Nme(e,t){return gT(e,t)}function Rme(e){let{callback:t,disabled:n}=e;const r=u_(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function d_(e){let{callback:t,disabled:n}=e;const r=u_(t),i=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return _.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Mme(e){return new hT(Ep(e),e)}function ON(e,t,n){t===void 0&&(t=Mme);const[r,i]=_.useState(null);function o(){i(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u??n)!=null?c:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const s=Rme({callback(u){if(e)for(const c of u){const{type:f,target:h}=c;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){o();break}}}}),l=d_({callback:o});return Ds(()=>{o(),e?(l==null||l.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[e]),r}function jme(e){const t=gT(e);return XV(e,t)}const NN=[];function Dme(e){const t=_.useRef(e),n=bp(r=>e?r&&r!==NN&&e&&t.current&&e.parentNode===t.current.parentNode?r:fT(e):NN,[e]);return _.useEffect(()=>{t.current=e},[e]),n}function Lme(e){const[t,n]=_.useState(null),r=_.useRef(e),i=_.useCallback(o=>{const s=Dx(o.target);s&&n(l=>l?(l.set(s,i1(s)),new Map(l)):null)},[]);return _.useEffect(()=>{const o=r.current;if(e!==o){s(o);const l=e.map(u=>{const c=Dx(u);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,i1(c)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=e}return()=>{s(e),s(o)};function s(l){l.forEach(u=>{const c=Dx(u);c==null||c.removeEventListener("scroll",i)})}},[i,e]),_.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>bc(o,s),Ji):i$(e):Ji,[e,t])}function RN(e,t){t===void 0&&(t=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},t),_.useEffect(()=>{const r=e!==Ji;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?iy(e,n.current):Ji}function zme(e){_.useEffect(()=>{if(!l_)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Vme(e,t){return _.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function l$(e){return _.useMemo(()=>e?cme(e):null,[e])}const MN=[];function $me(e,t){t===void 0&&(t=Ep);const[n]=e,r=l$(n?mr(n):null),[i,o]=_.useState(MN);function s(){o(()=>e.length?e.map(u=>n$(u)?r:new hT(t(u),u)):MN)}const l=d_({callback:s});return Ds(()=>{l==null||l.disconnect(),s(),e.forEach(u=>l==null?void 0:l.observe(u))},[e]),i}function u$(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wp(t)?t:e}function Fme(e){let{measure:t}=e;const[n,r]=_.useState(null),i=_.useCallback(c=>{for(const{target:f}of c)if(wp(f)){r(h=>{const p=t(f);return h?{...h,width:p.width,height:p.height}:p});break}},[t]),o=d_({callback:i}),s=_.useCallback(c=>{const f=u$(c);o==null||o.disconnect(),f&&(o==null||o.observe(f)),r(f?t(f):null)},[t,o]),[l,u]=ny(s);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const Bme=[{sensor:mT,options:{}},{sensor:a$,options:{}}],Ume={current:{}},pg={draggable:{measure:TN},droppable:{measure:TN,strategy:Oh.WhileDragging,frequency:s1.Optimized},dragOverlay:{measure:Ep}};class zf extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Wme={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:pg,measureDroppableContainers:sy,windowRect:null,measuringScheduled:!1},c$={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sy,draggableNodes:new Map,over:null,measureDroppableContainers:sy},Pp=_.createContext(c$),d$=_.createContext(Wme);function Hme(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zf}}}function Kme(e,t){switch(t.type){case ln.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ln.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ln.DragEnd:case ln.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ln.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new zf(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case ln.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new zf(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case ln.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new zf(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function qme(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=_.useContext(Pp),o=ry(r),s=ry(n==null?void 0:n.id);return _.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!dT(o)||document.activeElement===o.target)return;const l=i.get(s);if(!l)return;const{activatorNode:u,node:c}=l;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[u.current,c.current]){if(!f)continue;const h=Bpe(f);if(h){h.focus();break}}})}},[r,t,i,s,o]),null}function f$(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function Gme(e){return _.useMemo(()=>({draggable:{...pg.draggable,...e==null?void 0:e.draggable},droppable:{...pg.droppable,...e==null?void 0:e.droppable},dragOverlay:{...pg.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Zme(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=_.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Ds(()=>{if(!s&&!l||!t){o.current=!1;return}if(o.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const f=n(c),h=XV(f,r);if(s||(h.x=0),l||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=JV(c);p&&p.scrollBy({top:h.y,left:h.x})}},[t,s,l,r,n])}const f_=_.createContext({...Ji,scaleX:1,scaleY:1});var aa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(aa||(aa={}));const Yme=_.memo(function(t){var n,r,i,o;let{id:s,accessibility:l,autoScroll:u=!0,children:c,sensors:f=Bme,collisionDetection:h=ime,measuring:p,modifiers:v,...x}=t;const b=_.useReducer(Kme,void 0,Hme),[E,P]=b,[T,C]=Gpe(),[R,j]=_.useState(aa.Uninitialized),$=R===aa.Initialized,{draggable:{active:O,nodes:I,translate:N},droppable:{containers:z}}=E,D=O!=null?I.get(O):null,F=_.useRef({initial:null,translated:null}),B=_.useMemo(()=>{var He;return O!=null?{id:O,data:(He=D==null?void 0:D.data)!=null?He:Ume,rect:F}:null},[O,D]),ne=_.useRef(null),[xe,oe]=_.useState(null),[ae,G]=_.useState(null),ie=Ih(x,Object.values(x)),X=c_("DndDescribedBy",s),ue=_.useMemo(()=>z.getEnabled(),[z]),we=Gme(p),{droppableRects:je,measureDroppableContainers:Pe,measuringScheduled:ke}=Ome(ue,{dragging:$,dependencies:[N.x,N.y],config:we.droppable}),ve=Ime(I,O),$e=_.useMemo(()=>ae?oy(ae):null,[ae]),rn=rl(),ee=Nme(ve,we.draggable.measure);Zme({activeNode:O!=null?I.get(O):null,config:rn.layoutShiftCompensation,initialRect:ee,measure:we.draggable.measure});const Ee=ON(ve,we.draggable.measure,ee),Me=ON(ve?ve.parentElement:null),J=_.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:je,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),gt=z.getNodeFor((n=J.current.over)==null?void 0:n.id),De=Fme({measure:we.dragOverlay.measure}),At=(r=De.nodeRef.current)!=null?r:ve,st=$?(i=De.rect)!=null?i:Ee:null,pn=!!(De.nodeRef.current&&De.rect),Rr=jme(pn?null:Ee),Rt=l$(At?mr(At):null),at=Dme($?gt??ve:null),Mr=$me(at),Fo=f$(v,{transform:{x:N.x-Rr.x,y:N.y-Rr.y,scaleX:1,scaleY:1},activatorEvent:ae,active:B,activeNodeRect:Ee,containerNodeRect:Me,draggingNodeRect:st,over:J.current.over,overlayNodeRect:De.rect,scrollableAncestors:at,scrollableAncestorRects:Mr,windowRect:Rt}),qs=$e?bc($e,N):null,hu=Lme(at),Bo=RN(hu),Gs=RN(hu,[Ee]),ni=bc(Fo,Bo),jr=st?ame(st,Fo):null,Uo=B&&jr?h({active:B,collisionRect:jr,droppableRects:je,droppableContainers:ue,pointerCoordinates:qs}):null,tl=nme(Uo,"id"),[gr,nl]=_.useState(null),no=pn?Fo:bc(Fo,Gs),Wo=ome(no,(o=gr==null?void 0:gr.rect)!=null?o:null,Ee),ro=_.useRef(null),ri=_.useCallback((He,mn)=>{let{sensor:Bt,options:Bn}=mn;if(ne.current==null)return;const Un=I.get(ne.current);if(!Un)return;const Cn=He.nativeEvent,on=new Bt({active:ne.current,activeNode:Un,event:Cn,options:Bn,context:J,onAbort(Ut){if(!I.get(Ut))return;const{onDragAbort:ir}=ie.current,vr={id:Ut};ir==null||ir(vr),T({type:"onDragAbort",event:vr})},onPending(Ut,rr,ir,vr){if(!I.get(Ut))return;const{onDragPending:de}=ie.current,Dr={id:Ut,constraint:rr,initialCoordinates:ir,offset:vr};de==null||de(Dr),T({type:"onDragPending",event:Dr})},onStart(Ut){const rr=ne.current;if(rr==null)return;const ir=I.get(rr);if(!ir)return;const{onDragStart:vr}=ie.current,qt={activatorEvent:Cn,active:{id:rr,data:ir.data,rect:F}};ds.unstable_batchedUpdates(()=>{vr==null||vr(qt),j(aa.Initializing),P({type:ln.DragStart,initialCoordinates:Ut,active:rr}),T({type:"onDragStart",event:qt}),oe(ro.current),G(Cn)})},onMove(Ut){P({type:ln.DragMove,coordinates:Ut})},onEnd:ii(ln.DragEnd),onCancel:ii(ln.DragCancel)});ro.current=on;function ii(Ut){return async function(){const{active:ir,collisions:vr,over:qt,scrollAdjustedTranslate:de}=J.current;let Dr=null;if(ir&&de){const{cancelDrop:In}=ie.current;Dr={activatorEvent:Cn,active:ir,collisions:vr,delta:de,over:qt},Ut===ln.DragEnd&&typeof In=="function"&&await Promise.resolve(In(Dr))&&(Ut=ln.DragCancel)}ne.current=null,ds.unstable_batchedUpdates(()=>{P({type:Ut}),j(aa.Uninitialized),nl(null),oe(null),G(null),ro.current=null;const In=Ut===ln.DragEnd?"onDragEnd":"onDragCancel";if(Dr){const Ko=ie.current[In];Ko==null||Ko(Dr),T({type:In,event:Dr})}})}}},[I]),io=_.useCallback((He,mn)=>(Bt,Bn)=>{const Un=Bt.nativeEvent,Cn=I.get(Bn);if(ne.current!==null||!Cn||Un.dndKit||Un.defaultPrevented)return;const on={active:Cn};He(Bt,mn.options,on)===!0&&(Un.dndKit={capturedBy:mn.sensor},ne.current=Bn,ri(Bt,mn))},[I,ri]),Ho=kme(f,io);zme(f),Ds(()=>{Ee&&R===aa.Initializing&&j(aa.Initialized)},[Ee,R]),_.useEffect(()=>{const{onDragMove:He}=ie.current,{active:mn,activatorEvent:Bt,collisions:Bn,over:Un}=J.current;if(!mn||!Bt)return;const Cn={active:mn,activatorEvent:Bt,collisions:Bn,delta:{x:ni.x,y:ni.y},over:Un};ds.unstable_batchedUpdates(()=>{He==null||He(Cn),T({type:"onDragMove",event:Cn})})},[ni.x,ni.y]),_.useEffect(()=>{const{active:He,activatorEvent:mn,collisions:Bt,droppableContainers:Bn,scrollAdjustedTranslate:Un}=J.current;if(!He||ne.current==null||!mn||!Un)return;const{onDragOver:Cn}=ie.current,on=Bn.get(tl),ii=on&&on.rect.current?{id:on.id,rect:on.rect.current,data:on.data,disabled:on.disabled}:null,Ut={active:He,activatorEvent:mn,collisions:Bt,delta:{x:Un.x,y:Un.y},over:ii};ds.unstable_batchedUpdates(()=>{nl(ii),Cn==null||Cn(Ut),T({type:"onDragOver",event:Ut})})},[tl]),Ds(()=>{J.current={activatorEvent:ae,active:B,activeNode:ve,collisionRect:jr,collisions:Uo,droppableRects:je,draggableNodes:I,draggingNode:At,draggingNodeRect:st,droppableContainers:z,over:gr,scrollableAncestors:at,scrollAdjustedTranslate:ni},F.current={initial:st,translated:jr}},[B,ve,Uo,jr,I,At,st,je,z,gr,at,ni]),Tme({...rn,delta:N,draggingRect:jr,pointerCoordinates:qs,scrollableAncestors:at,scrollableAncestorRects:Mr});const pu=_.useMemo(()=>({active:B,activeNode:ve,activeNodeRect:Ee,activatorEvent:ae,collisions:Uo,containerNodeRect:Me,dragOverlay:De,draggableNodes:I,droppableContainers:z,droppableRects:je,over:gr,measureDroppableContainers:Pe,scrollableAncestors:at,scrollableAncestorRects:Mr,measuringConfiguration:we,measuringScheduled:ke,windowRect:Rt}),[B,ve,Ee,ae,Uo,Me,De,I,z,je,gr,Pe,at,Mr,we,ke,Rt]),oo=_.useMemo(()=>({activatorEvent:ae,activators:Ho,active:B,activeNodeRect:Ee,ariaDescribedById:{draggable:X},dispatch:P,draggableNodes:I,over:gr,measureDroppableContainers:Pe}),[ae,Ho,B,Ee,P,X,I,gr,Pe]);return _t.createElement(YV.Provider,{value:C},_t.createElement(Pp.Provider,{value:oo},_t.createElement(d$.Provider,{value:pu},_t.createElement(f_.Provider,{value:Wo},c)),_t.createElement(qme,{disabled:(l==null?void 0:l.restoreFocus)===!1})),_t.createElement(Xpe,{...l,hiddenTextDescribedById:X}));function rl(){const He=(xe==null?void 0:xe.autoScrollEnabled)===!1,mn=typeof u=="object"?u.enabled===!1:u===!1,Bt=$&&!He&&!mn;return typeof u=="object"?{...u,enabled:Bt}:{enabled:Bt}}}),Xme=_.createContext(null),jN="button",Qme="Draggable";function Jme(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=c_(Qme),{activators:s,activatorEvent:l,active:u,activeNodeRect:c,ariaDescribedById:f,draggableNodes:h,over:p}=_.useContext(Pp),{role:v=jN,roleDescription:x="draggable",tabIndex:b=0}=i??{},E=(u==null?void 0:u.id)===t,P=_.useContext(E?f_:Xme),[T,C]=ny(),[R,j]=ny(),$=Vme(s,t),O=Ih(n);Ds(()=>(h.set(t,{id:t,key:o,node:T,activatorNode:R,data:O}),()=>{const N=h.get(t);N&&N.key===o&&h.delete(t)}),[h,t]);const I=_.useMemo(()=>({role:v,tabIndex:b,"aria-disabled":r,"aria-pressed":E&&v===jN?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,v,b,E,x,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:c,attributes:I,isDragging:E,listeners:r?void 0:$,node:T,over:p,setNodeRef:C,setActivatorNodeRef:j,transform:P}}function ege(){return _.useContext(d$)}const tge="Droppable",nge={timeout:25};function rge(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=c_(tge),{active:s,dispatch:l,over:u,measureDroppableContainers:c}=_.useContext(Pp),f=_.useRef({disabled:n}),h=_.useRef(!1),p=_.useRef(null),v=_.useRef(null),{disabled:x,updateMeasurementsFor:b,timeout:E}={...nge,...i},P=Ih(b??r),T=_.useCallback(()=>{if(!h.current){h.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{c(Array.isArray(P.current)?P.current:[P.current]),v.current=null},E)},[E]),C=d_({callback:T,disabled:x||!s}),R=_.useCallback((I,N)=>{C&&(N&&(C.unobserve(N),h.current=!1),I&&C.observe(I))},[C]),[j,$]=ny(R),O=Ih(t);return _.useEffect(()=>{!C||!j.current||(C.disconnect(),h.current=!1,C.observe(j.current))},[j,C]),_.useEffect(()=>(l({type:ln.RegisterDroppable,element:{id:r,key:o,disabled:n,node:j,rect:p,data:O}}),()=>l({type:ln.UnregisterDroppable,key:o,id:r})),[r]),_.useEffect(()=>{n!==f.current.disabled&&(l({type:ln.SetDroppableDisabled,id:r,key:o,disabled:n}),f.current.disabled=n)},[r,o,n,l]),{active:s,rect:p,isOver:(u==null?void 0:u.id)===r,node:j,over:u,setNodeRef:$}}function ige(e){let{animation:t,children:n}=e;const[r,i]=_.useState(null),[o,s]=_.useState(null),l=ry(n);return!n&&!r&&l&&i(l),Ds(()=>{if(!o)return;const u=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(u==null||c==null){i(null);return}Promise.resolve(t(c,o)).then(()=>{i(null)})},[t,r,o]),_t.createElement(_t.Fragment,null,n,r?_.cloneElement(r,{ref:s}):null)}const oge={x:0,y:0,scaleX:1,scaleY:1};function sge(e){let{children:t}=e;return _t.createElement(Pp.Provider,{value:c$},_t.createElement(f_.Provider,{value:oge},t))}const age={position:"fixed",touchAction:"none"},lge=e=>dT(e)?"transform 250ms ease":void 0,uge=_.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:s,rect:l,style:u,transform:c,transition:f=lge}=e;if(!l)return null;const h=i?c:{...c,scaleX:1,scaleY:1},p={...age,width:l.width,height:l.height,top:l.top,left:l.left,transform:kh.Transform.toString(h),transformOrigin:i&&r?eme(r,l):void 0,transition:typeof f=="function"?f(r):f,...u};return _t.createElement(n,{className:s,style:p,ref:t},o)}),cge=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:o,className:s}=e;if(o!=null&&o.active)for(const[l,u]of Object.entries(o.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(o!=null&&o.dragOverlay)for(const[l,u]of Object.entries(o.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[u,c]of Object.entries(i))n.node.style.setProperty(u,c);s!=null&&s.active&&n.node.classList.remove(s.active)}},dge=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:kh.Transform.toString(t)},{transform:kh.Transform.toString(n)}]},fge={duration:250,easing:"ease",keyframes:dge,sideEffects:cge({styles:{active:{opacity:"0"}}})};function hge(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return u_((o,s)=>{if(t===null)return;const l=n.get(o);if(!l)return;const u=l.node.current;if(!u)return;const c=u$(s);if(!c)return;const{transform:f}=mr(s).getComputedStyle(s),h=QV(f);if(!h)return;const p=typeof t=="function"?t:pge(t);return o$(u,i.draggable.measure),p({active:{id:o,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:h})})}function pge(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...fge,...e};return o=>{let{active:s,dragOverlay:l,transform:u,...c}=o;if(!t)return;const f={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},h={scaleX:u.scaleX!==1?s.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?s.rect.height*u.scaleY/l.rect.height:1},p={x:u.x-f.x,y:u.y-f.y,...h},v=i({...c,active:s,dragOverlay:l,transform:{initial:u,final:p}}),[x]=v,b=v[v.length-1];if(JSON.stringify(x)===JSON.stringify(b))return;const E=r==null?void 0:r({active:s,dragOverlay:l,...c}),P=l.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(T=>{P.onfinish=()=>{E==null||E(),T()}})}}let DN=0;function mge(e){return _.useMemo(()=>{if(e!=null)return DN++,DN},[e])}const gge=_t.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:l="div",className:u,zIndex:c=999}=e;const{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:v,draggableNodes:x,droppableContainers:b,dragOverlay:E,over:P,measuringConfiguration:T,scrollableAncestors:C,scrollableAncestorRects:R,windowRect:j}=ege(),$=_.useContext(f_),O=mge(h==null?void 0:h.id),I=f$(s,{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:v,draggingNodeRect:E.rect,over:P,overlayNodeRect:E.rect,scrollableAncestors:C,scrollableAncestorRects:R,transform:$,windowRect:j}),N=gT(p),z=hge({config:r,draggableNodes:x,droppableContainers:b,measuringConfiguration:T}),D=N?E.setRef:void 0;return _t.createElement(sge,null,_t.createElement(ige,{animation:z},h&&O?_t.createElement(uge,{key:O,id:h.id,ref:D,as:l,activatorEvent:f,adjustScale:t,className:u,transition:o,rect:N,style:{zIndex:c,...i},transform:I},n):null))}),vge="deals";async function yge(e,t){const n=qr(et,vge,e);await Jh(n,{stage:t,updatedAt:Qh()})}function h$(e,t){const n=_.useRef(t);_.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const _ge=1;function xge(e){return Object.freeze({__version:_ge,map:e})}function wge(e,t){return Object.freeze({...e,...t})}const p$=_.createContext(null),m$=p$.Provider;function vT(){const e=_.useContext(p$);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function bge(e){function t(n,r){const{instance:i,context:o}=e(n).current;return _.useImperativeHandle(r,()=>i),n.children==null?null:_t.createElement(m$,{value:o},n.children)}return _.forwardRef(t)}function Ege(e){function t(n,r){const[i,o]=_.useState(!1),{instance:s}=e(n,o).current;_.useImperativeHandle(r,()=>s),_.useEffect(function(){i&&s.update()},[s,i,n.children]);const l=s._contentNode;return l?ds.createPortal(n.children,l):null}return _.forwardRef(t)}function Pge(e){function t(n,r){const{instance:i}=e(n).current;return _.useImperativeHandle(r,()=>i),null}return _.forwardRef(t)}function g$(e,t){const n=_.useRef();_.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function yT(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Sge(e,t){return function(r,i){const o=vT(),s=e(yT(r,o),o);return h$(o.map,r.attribution),g$(s.current,r.eventHandlers),t(s.current,o,r,i),s}}var a1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(tF,function(n){var r="1.9.4";function i(a){var d,g,w,A;for(g=1,w=arguments.length;g<w;g++){A=arguments[g];for(d in A)a[d]=A[d]}return a}var o=Object.create||function(){function a(){}return function(d){return a.prototype=d,new a}}();function s(a,d){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var w=g.call(arguments,2);return function(){return a.apply(d,w.length?w.concat(g.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function c(a,d,g){var w,A,M,U;return U=function(){w=!1,A&&(M.apply(g,A),A=!1)},M=function(){w?A=arguments:(a.apply(g,arguments),setTimeout(U,d),w=!0)},M}function f(a,d,g){var w=d[1],A=d[0],M=w-A;return a===w&&g?a:((a-A)%M+M)%M+A}function h(){return!1}function p(a,d){if(d===!1)return a;var g=Math.pow(10,d===void 0?6:d);return Math.round(a*g)/g}function v(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function x(a){return v(a).split(/\s+/)}function b(a,d){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var g in d)a.options[g]=d[g];return a.options}function E(a,d,g){var w=[];for(var A in a)w.push(encodeURIComponent(g?A.toUpperCase():A)+"="+encodeURIComponent(a[A]));return(!d||d.indexOf("?")===-1?"?":"&")+w.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function T(a,d){return a.replace(P,function(g,w){var A=d[w];if(A===void 0)throw new Error("No value provided for variable "+g);return typeof A=="function"&&(A=A(d)),A})}var C=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function R(a,d){for(var g=0;g<a.length;g++)if(a[g]===d)return g;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var O=0;function I(a){var d=+new Date,g=Math.max(0,16-(d-O));return O=d+g,window.setTimeout(a,g)}var N=window.requestAnimationFrame||$("RequestAnimationFrame")||I,z=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function D(a,d,g){if(g&&N===I)a.call(d);else return N.call(window,s(a,d))}function F(a){a&&z.call(window,a)}var B={__proto__:null,extend:i,create:o,bind:s,get lastId(){return l},stamp:u,throttle:c,wrapNum:f,falseFn:h,formatNum:p,trim:v,splitWords:x,setOptions:b,getParamString:E,template:T,isArray:C,indexOf:R,emptyImageUrl:j,requestFn:N,cancelFn:z,requestAnimFrame:D,cancelAnimFrame:F};function ne(){}ne.extend=function(a){var d=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,w=o(g);w.constructor=d,d.prototype=w;for(var A in this)Object.prototype.hasOwnProperty.call(this,A)&&A!=="prototype"&&A!=="__super__"&&(d[A]=this[A]);return a.statics&&i(d,a.statics),a.includes&&(xe(a.includes),i.apply(null,[w].concat(a.includes))),i(w,a),delete w.statics,delete w.includes,w.options&&(w.options=g.options?o(g.options):{},i(w.options,a.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,U=w._initHooks.length;M<U;M++)w._initHooks[M].call(this)}},d},ne.include=function(a){var d=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=d,this.mergeOptions(a.options)),this},ne.mergeOptions=function(a){return i(this.prototype.options,a),this},ne.addInitHook=function(a){var d=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function xe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=C(a)?a:[a];for(var d=0;d<a.length;d++)a[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(a,d,g){if(typeof a=="object")for(var w in a)this._on(w,a[w],d);else{a=x(a);for(var A=0,M=a.length;A<M;A++)this._on(a[A],d,g)}return this},off:function(a,d,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var w in a)this._off(w,a[w],d);else{a=x(a);for(var A=arguments.length===1,M=0,U=a.length;M<U;M++)A?this._off(a[M]):this._off(a[M],d,g)}return this},_on:function(a,d,g,w){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(a,d,g)===!1){g===this&&(g=void 0);var A={fn:d,ctx:g};w&&(A.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(A)}},_off:function(a,d,g){var w,A,M;if(this._events&&(w=this._events[a],!!w)){if(arguments.length===1){if(this._firingCount)for(A=0,M=w.length;A<M;A++)w[A].fn=h;delete this._events[a];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var U=this._listens(a,d,g);if(U!==!1){var H=w[U];this._firingCount&&(H.fn=h,this._events[a]=w=w.slice()),w.splice(U,1)}}},fire:function(a,d,g){if(!this.listens(a,g))return this;var w=i({},d,{type:a,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var A=this._events[a];if(A){this._firingCount=this._firingCount+1||1;for(var M=0,U=A.length;M<U;M++){var H=A[M],Z=H.fn;H.once&&this.off(a,Z,H.ctx),Z.call(H.ctx||this,w)}this._firingCount--}}return g&&this._propagateEvent(w),this},listens:function(a,d,g,w){typeof a!="string"&&console.warn('"string" type argument expected');var A=d;typeof d!="function"&&(w=!!d,A=void 0,g=void 0);var M=this._events&&this._events[a];if(M&&M.length&&this._listens(a,A,g)!==!1)return!0;if(w){for(var U in this._eventParents)if(this._eventParents[U].listens(a,d,g,w))return!0}return!1},_listens:function(a,d,g){if(!this._events)return!1;var w=this._events[a]||[];if(!d)return!!w.length;g===this&&(g=void 0);for(var A=0,M=w.length;A<M;A++)if(w[A].fn===d&&w[A].ctx===g)return A;return!1},once:function(a,d,g){if(typeof a=="object")for(var w in a)this._on(w,a[w],d,!0);else{a=x(a);for(var A=0,M=a.length;A<M;A++)this._on(a[A],d,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var d in this._eventParents)this._eventParents[d].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ae=ne.extend(oe);function G(a,d,g){this.x=g?Math.round(a):a,this.y=g?Math.round(d):d}var ie=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(a){return this.clone()._add(X(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(X(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new G(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new G(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(a){a=X(a);var d=a.x-this.x,g=a.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(a){return a=X(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=X(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function X(a,d,g){return a instanceof G?a:C(a)?new G(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new G(a.x,a.y):new G(a,d,g)}function ue(a,d){if(a)for(var g=d?[a,d]:a,w=0,A=g.length;w<A;w++)this.extend(g[w])}ue.prototype={extend:function(a){var d,g;if(!a)return this;if(a instanceof G||typeof a[0]=="number"||"x"in a)d=g=X(a);else if(a=we(a),d=a.min,g=a.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,g;return typeof a[0]=="number"||a instanceof G?a=X(a):a=we(a),a instanceof ue?(d=a.min,g=a.max):d=g=a,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=we(a);var d=this.min,g=this.max,w=a.min,A=a.max,M=A.x>=d.x&&w.x<=g.x,U=A.y>=d.y&&w.y<=g.y;return M&&U},overlaps:function(a){a=we(a);var d=this.min,g=this.max,w=a.min,A=a.max,M=A.x>d.x&&w.x<g.x,U=A.y>d.y&&w.y<g.y;return M&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var d=this.min,g=this.max,w=Math.abs(d.x-g.x)*a,A=Math.abs(d.y-g.y)*a;return we(X(d.x-w,d.y-A),X(g.x+w,g.y+A))},equals:function(a){return a?(a=we(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function we(a,d){return!a||a instanceof ue?a:new ue(a,d)}function je(a,d){if(a)for(var g=d?[a,d]:a,w=0,A=g.length;w<A;w++)this.extend(g[w])}je.prototype={extend:function(a){var d=this._southWest,g=this._northEast,w,A;if(a instanceof ke)w=a,A=a;else if(a instanceof je){if(w=a._southWest,A=a._northEast,!w||!A)return this}else return a?this.extend(ve(a)||Pe(a)):this;return!d&&!g?(this._southWest=new ke(w.lat,w.lng),this._northEast=new ke(A.lat,A.lng)):(d.lat=Math.min(w.lat,d.lat),d.lng=Math.min(w.lng,d.lng),g.lat=Math.max(A.lat,g.lat),g.lng=Math.max(A.lng,g.lng)),this},pad:function(a){var d=this._southWest,g=this._northEast,w=Math.abs(d.lat-g.lat)*a,A=Math.abs(d.lng-g.lng)*a;return new je(new ke(d.lat-w,d.lng-A),new ke(g.lat+w,g.lng+A))},getCenter:function(){return new ke((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ke(this.getNorth(),this.getWest())},getSouthEast:function(){return new ke(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ke||"lat"in a?a=ve(a):a=Pe(a);var d=this._southWest,g=this._northEast,w,A;return a instanceof je?(w=a.getSouthWest(),A=a.getNorthEast()):w=A=a,w.lat>=d.lat&&A.lat<=g.lat&&w.lng>=d.lng&&A.lng<=g.lng},intersects:function(a){a=Pe(a);var d=this._southWest,g=this._northEast,w=a.getSouthWest(),A=a.getNorthEast(),M=A.lat>=d.lat&&w.lat<=g.lat,U=A.lng>=d.lng&&w.lng<=g.lng;return M&&U},overlaps:function(a){a=Pe(a);var d=this._southWest,g=this._northEast,w=a.getSouthWest(),A=a.getNorthEast(),M=A.lat>d.lat&&w.lat<g.lat,U=A.lng>d.lng&&w.lng<g.lng;return M&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,d){return a?(a=Pe(a),this._southWest.equals(a.getSouthWest(),d)&&this._northEast.equals(a.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(a,d){return a instanceof je?a:new je(a,d)}function ke(a,d,g){if(isNaN(a)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+d+")");this.lat=+a,this.lng=+d,g!==void 0&&(this.alt=+g)}ke.prototype={equals:function(a,d){if(!a)return!1;a=ve(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(d===void 0?1e-9:d)},toString:function(a){return"LatLng("+p(this.lat,a)+", "+p(this.lng,a)+")"},distanceTo:function(a){return rn.distance(this,ve(a))},wrap:function(){return rn.wrapLatLng(this)},toBounds:function(a){var d=180*a/40075017,g=d/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new ke(this.lat,this.lng,this.alt)}};function ve(a,d,g){return a instanceof ke?a:C(a)&&typeof a[0]!="object"?a.length===3?new ke(a[0],a[1],a[2]):a.length===2?new ke(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ke(a.lat,"lng"in a?a.lng:a.lon,a.alt):d===void 0?null:new ke(a,d,g)}var $e={latLngToPoint:function(a,d){var g=this.projection.project(a),w=this.scale(d);return this.transformation._transform(g,w)},pointToLatLng:function(a,d){var g=this.scale(d),w=this.transformation.untransform(a,g);return this.projection.unproject(w)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(a),w=this.transformation.transform(d.min,g),A=this.transformation.transform(d.max,g);return new ue(w,A)},infinite:!1,wrapLatLng:function(a){var d=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,w=a.alt;return new ke(g,d,w)},wrapLatLngBounds:function(a){var d=a.getCenter(),g=this.wrapLatLng(d),w=d.lat-g.lat,A=d.lng-g.lng;if(w===0&&A===0)return a;var M=a.getSouthWest(),U=a.getNorthEast(),H=new ke(M.lat-w,M.lng-A),Z=new ke(U.lat-w,U.lng-A);return new je(H,Z)}},rn=i({},$e,{wrapLng:[-180,180],R:6371e3,distance:function(a,d){var g=Math.PI/180,w=a.lat*g,A=d.lat*g,M=Math.sin((d.lat-a.lat)*g/2),U=Math.sin((d.lng-a.lng)*g/2),H=M*M+Math.cos(w)*Math.cos(A)*U*U,Z=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*Z}}),ee=6378137,Ee={R:ee,MAX_LATITUDE:85.0511287798,project:function(a){var d=Math.PI/180,g=this.MAX_LATITUDE,w=Math.max(Math.min(g,a.lat),-g),A=Math.sin(w*d);return new G(this.R*a.lng*d,this.R*Math.log((1+A)/(1-A))/2)},unproject:function(a){var d=180/Math.PI;return new ke((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*d,a.x*d/this.R)},bounds:function(){var a=ee*Math.PI;return new ue([-a,-a],[a,a])}()};function Me(a,d,g,w){if(C(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=d,this._c=g,this._d=w}Me.prototype={transform:function(a,d){return this._transform(a.clone(),d)},_transform:function(a,d){return d=d||1,a.x=d*(this._a*a.x+this._b),a.y=d*(this._c*a.y+this._d),a},untransform:function(a,d){return d=d||1,new G((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};function J(a,d,g,w){return new Me(a,d,g,w)}var gt=i({},rn,{code:"EPSG:3857",projection:Ee,transformation:function(){var a=.5/(Math.PI*Ee.R);return J(a,.5,-a,.5)}()}),De=i({},gt,{code:"EPSG:900913"});function At(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function st(a,d){var g="",w,A,M,U,H,Z;for(w=0,M=a.length;w<M;w++){for(H=a[w],A=0,U=H.length;A<U;A++)Z=H[A],g+=(A?"L":"M")+Z.x+" "+Z.y;g+=d?de.svg?"z":"x":""}return g||"M0 0"}var pn=document.documentElement.style,Rr="ActiveXObject"in window,Rt=Rr&&!document.addEventListener,at="msLaunchUri"in navigator&&!("documentMode"in document),Mr=qt("webkit"),Fo=qt("android"),qs=qt("android 2")||qt("android 3"),hu=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bo=Fo&&qt("Google")&&hu<537&&!("AudioNode"in window),Gs=!!window.opera,ni=!at&&qt("chrome"),jr=qt("gecko")&&!Mr&&!Gs&&!Rr,Uo=!ni&&qt("safari"),tl=qt("phantom"),gr="OTransition"in pn,nl=navigator.platform.indexOf("Win")===0,no=Rr&&"transition"in pn,Wo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qs,ro="MozPerspective"in pn,ri=!window.L_DISABLE_3D&&(no||Wo||ro)&&!gr&&!tl,io=typeof orientation<"u"||qt("mobile"),Ho=io&&Mr,pu=io&&Wo,oo=!window.PointerEvent&&window.MSPointerEvent,rl=!!(window.PointerEvent||oo),He="ontouchstart"in window||!!window.TouchEvent,mn=!window.L_NO_TOUCH&&(He||rl),Bt=io&&Gs,Bn=io&&jr,Un=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cn=function(){var a=!1;try{var d=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",h,d),window.removeEventListener("testPassiveEventSupport",h,d)}catch{}return a}(),on=function(){return!!document.createElement("canvas").getContext}(),ii=!!(document.createElementNS&&At("svg").createSVGRect),Ut=!!ii&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rr=!ii&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var d=a.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),ir=navigator.platform.indexOf("Mac")===0,vr=navigator.platform.indexOf("Linux")===0;function qt(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var de={ie:Rr,ielt9:Rt,edge:at,webkit:Mr,android:Fo,android23:qs,androidStock:Bo,opera:Gs,chrome:ni,gecko:jr,safari:Uo,phantom:tl,opera12:gr,win:nl,ie3d:no,webkit3d:Wo,gecko3d:ro,any3d:ri,mobile:io,mobileWebkit:Ho,mobileWebkit3d:pu,msPointer:oo,pointer:rl,touch:mn,touchNative:He,mobileOpera:Bt,mobileGecko:Bn,retina:Un,passiveEvents:Cn,canvas:on,svg:ii,vml:rr,inlineSvg:Ut,mac:ir,linux:vr},Dr=de.msPointer?"MSPointerDown":"pointerdown",In=de.msPointer?"MSPointerMove":"pointermove",Ko=de.msPointer?"MSPointerUp":"pointerup",yd=de.msPointer?"MSPointerCancel":"pointercancel",il={touchstart:Dr,touchmove:In,touchend:Ko,touchcancel:yd},mu={touchstart:_d,touchmove:oi,touchend:oi,touchcancel:oi},qo={},Tp=!1;function Ap(a,d,g){return d==="touchstart"&&ol(),mu[d]?(g=mu[d].bind(this,g),a.addEventListener(il[d],g,!1),g):(console.warn("wrong event specified:",d),h)}function h_(a,d,g){if(!il[d]){console.warn("wrong event specified:",d);return}a.removeEventListener(il[d],g,!1)}function gu(a){qo[a.pointerId]=a}function Cp(a){qo[a.pointerId]&&(qo[a.pointerId]=a)}function vu(a){delete qo[a.pointerId]}function ol(){Tp||(document.addEventListener(Dr,gu,!0),document.addEventListener(In,Cp,!0),document.addEventListener(Ko,vu,!0),document.addEventListener(yd,vu,!0),Tp=!0)}function oi(a,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in qo)d.touches.push(qo[g]);d.changedTouches=[d],a(d)}}function _d(a,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Gt(d),oi(a,d)}function p_(a){var d={},g,w;for(w in a)g=a[w],d[w]=g&&g.bind?g.bind(a):g;return a=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Ip=200;function kp(a,d){a.addEventListener("dblclick",d);var g=0,w;function A(M){if(M.detail!==1){w=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var U=Pd(M);if(!(U.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!U.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var H=Date.now();H-g<=Ip?(w++,w===2&&d(p_(M))):w=1,g=H}}}return a.addEventListener("click",A),{dblclick:d,simDblclick:A}}function Op(a,d){a.removeEventListener("dblclick",d.dblclick),a.removeEventListener("click",d.simDblclick)}var sl=yu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Go=yu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xd=Go==="webkitTransition"||Go==="OTransition"?Go+"End":"transitionend";function wd(a){return typeof a=="string"?document.getElementById(a):a}function Zs(a,d){var g=a.style[d]||a.currentStyle&&a.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(a,null);g=w?w[d]:null}return g==="auto"?null:g}function Ke(a,d,g){var w=document.createElement(a);return w.className=d||"",g&&g.appendChild(w),w}function Ze(a){var d=a.parentNode;d&&d.removeChild(a)}function or(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function si(a){var d=a.parentNode;d&&d.lastChild!==a&&d.appendChild(a)}function ai(a){var d=a.parentNode;d&&d.firstChild!==a&&d.insertBefore(a,d.firstChild)}function al(a,d){if(a.classList!==void 0)return a.classList.contains(d);var g=so(a);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function he(a,d){if(a.classList!==void 0)for(var g=x(d),w=0,A=g.length;w<A;w++)a.classList.add(g[w]);else if(!al(a,d)){var M=so(a);Zo(a,(M?M+" ":"")+d)}}function ft(a,d){a.classList!==void 0?a.classList.remove(d):Zo(a,v((" "+so(a)+" ").replace(" "+d+" "," ")))}function Zo(a,d){a.className.baseVal===void 0?a.className=d:a.className.baseVal=d}function so(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function yr(a,d){"opacity"in a.style?a.style.opacity=d:"filter"in a.style&&Np(a,d)}function Np(a,d){var g=!1,w="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(w)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):a.style.filter+=" progid:"+w+"(opacity="+d+")"}function yu(a){for(var d=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in d)return a[g];return!1}function Yo(a,d,g){var w=d||new G(0,0);a.style[sl]=(de.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(g?" scale("+g+")":"")}function Mt(a,d){a._leaflet_pos=d,de.any3d?Yo(a,d):(a.style.left=d.x+"px",a.style.top=d.y+"px")}function Xo(a){return a._leaflet_pos||new G(0,0)}var ki,Lr,_u;if("onselectstart"in document)ki=function(){Ce(window,"selectstart",Gt)},Lr=function(){rt(window,"selectstart",Gt)};else{var Ys=yu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ki=function(){if(Ys){var a=document.documentElement.style;_u=a[Ys],a[Ys]="none"}},Lr=function(){Ys&&(document.documentElement.style[Ys]=_u,_u=void 0)}}function xu(){Ce(window,"dragstart",Gt)}function wu(){rt(window,"dragstart",Gt)}var ll,ao;function bd(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(bu(),ll=a,ao=a.style.outlineStyle,a.style.outlineStyle="none",Ce(window,"keydown",bu))}function bu(){ll&&(ll.style.outlineStyle=ao,ll=void 0,ao=void 0,rt(window,"keydown",bu))}function Rp(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function li(a){var d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}var m_={__proto__:null,TRANSFORM:sl,TRANSITION:Go,TRANSITION_END:xd,get:wd,getStyle:Zs,create:Ke,remove:Ze,empty:or,toFront:si,toBack:ai,hasClass:al,addClass:he,removeClass:ft,setClass:Zo,getClass:so,setOpacity:yr,testProp:yu,setTransform:Yo,setPosition:Mt,getPosition:Xo,get disableTextSelection(){return ki},get enableTextSelection(){return Lr},disableImageDrag:xu,enableImageDrag:wu,preventOutline:bd,restoreOutline:bu,getSizedParentNode:Rp,getScale:li};function Ce(a,d,g,w){if(d&&typeof d=="object")for(var A in d)Eu(a,A,d[A],g);else{d=x(d);for(var M=0,U=d.length;M<U;M++)Eu(a,d[M],g,w)}return this}var sr="_leaflet_events";function rt(a,d,g,w){if(arguments.length===1)Xs(a),delete a[sr];else if(d&&typeof d=="object")for(var A in d)ul(a,A,d[A],g);else if(d=x(d),arguments.length===2)Xs(a,function(H){return R(d,H)!==-1});else for(var M=0,U=d.length;M<U;M++)ul(a,d[M],g,w);return this}function Xs(a,d){for(var g in a[sr]){var w=g.split(/\d/)[0];(!d||d(w))&&ul(a,w,null,null,g)}}var Qo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Eu(a,d,g,w){var A=d+u(g)+(w?"_"+u(w):"");if(a[sr]&&a[sr][A])return this;var M=function(H){return g.call(w||a,H||window.event)},U=M;!de.touchNative&&de.pointer&&d.indexOf("touch")===0?M=Ap(a,d,M):de.touch&&d==="dblclick"?M=kp(a,M):"addEventListener"in a?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?a.addEventListener(Qo[d]||d,M,de.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(M=function(H){H=H||window.event,Td(a,H)&&U(H)},a.addEventListener(Qo[d],M,!1)):a.addEventListener(d,U,!1):a.attachEvent("on"+d,M),a[sr]=a[sr]||{},a[sr][A]=M}function ul(a,d,g,w,A){A=A||d+u(g)+(w?"_"+u(w):"");var M=a[sr]&&a[sr][A];if(!M)return this;!de.touchNative&&de.pointer&&d.indexOf("touch")===0?h_(a,d,M):de.touch&&d==="dblclick"?Op(a,M):"removeEventListener"in a?a.removeEventListener(Qo[d]||d,M,!1):a.detachEvent("on"+d,M),a[sr][A]=null}function Qe(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ed(a){return Eu(a,"wheel",Qe),this}function cl(a){return Ce(a,"mousedown touchstart dblclick contextmenu",Qe),a._leaflet_disable_click=!0,this}function Gt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function lo(a){return Gt(a),Qe(a),this}function Pd(a){if(a.composedPath)return a.composedPath();for(var d=[],g=a.target;g;)d.push(g),g=g.parentNode;return d}function dl(a,d){if(!d)return new G(a.clientX,a.clientY);var g=li(d),w=g.boundingClientRect;return new G((a.clientX-w.left)/g.x-d.clientLeft,(a.clientY-w.top)/g.y-d.clientTop)}var uo=de.linux&&de.chrome?window.devicePixelRatio:de.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sd(a){return de.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/uo:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Td(a,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var fl={__proto__:null,on:Ce,off:rt,stopPropagation:Qe,disableScrollPropagation:Ed,disableClickPropagation:cl,preventDefault:Gt,stop:lo,getPropagationPath:Pd,getMousePosition:dl,getWheelDelta:Sd,isExternalTarget:Td,addListener:Ce,removeListener:rt},Ad=ae.extend({run:function(a,d,g,w){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Xo(a),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(a){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,d){var g=this._startPos.add(this._offset.multiplyBy(a));d&&g._round(),Mt(this._el,g),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Le=ae.extend({options:{crs:gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,d){d=b(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ve(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Go&&de.any3d&&!de.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ce(this._proxy,xd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),a=this._limitCenter(ve(a),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var w=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,g.zoom):this._tryAnimatedPan(a,g.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(a,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,d){return this._loaded?this.setView(this.getCenter(),a,{zoom:d}):(this._zoom=a,this)},zoomIn:function(a,d){return a=a||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,d)},zoomOut:function(a,d){return a=a||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,d)},setZoomAround:function(a,d,g){var w=this.getZoomScale(d),A=this.getSize().divideBy(2),M=a instanceof G?a:this.latLngToContainerPoint(a),U=M.subtract(A).multiplyBy(1-1/w),H=this.containerPointToLatLng(A.add(U));return this.setView(H,d,{zoom:g})},_getBoundsCenterZoom:function(a,d){d=d||{},a=a.getBounds?a.getBounds():Pe(a);var g=X(d.paddingTopLeft||d.padding||[0,0]),w=X(d.paddingBottomRight||d.padding||[0,0]),A=this.getBoundsZoom(a,!1,g.add(w));if(A=typeof d.maxZoom=="number"?Math.min(d.maxZoom,A):A,A===1/0)return{center:a.getCenter(),zoom:A};var M=w.subtract(g).divideBy(2),U=this.project(a.getSouthWest(),A),H=this.project(a.getNorthEast(),A),Z=this.unproject(U.add(H).divideBy(2).add(M),A);return{center:Z,zoom:A}},fitBounds:function(a,d){if(a=Pe(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,d){return this.setView(a,this._zoom,{pan:d})},panBy:function(a,d){if(a=X(a).round(),d=d||{},!a.x&&!a.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ad,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){he(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,d,g){if(g=g||{},g.animate===!1||!de.any3d)return this.setView(a,d,g);this._stop();var w=this.project(this.getCenter()),A=this.project(a),M=this.getSize(),U=this._zoom;a=ve(a),d=d===void 0?U:d;var H=Math.max(M.x,M.y),Z=H*this.getZoomScale(U,d),te=A.distanceTo(w)||1,ce=1.42,Se=ce*ce;function ze(Zt){var Zp=Zt?-1:1,G$=Zt?Z:H,Z$=Z*Z-H*H+Zp*Se*Se*te*te,Y$=2*G$*Se*te,x_=Z$/Y$,UT=Math.sqrt(x_*x_+1)-x_,X$=UT<1e-9?-18:Math.log(UT);return X$}function ar(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function gn(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function di(Zt){return ar(Zt)/gn(Zt)}var xr=ze(0);function Du(Zt){return H*(gn(xr)/gn(xr+ce*Zt))}function W$(Zt){return H*(gn(xr)*di(xr+ce*Zt)-ar(xr))/Se}function H$(Zt){return 1-Math.pow(1-Zt,1.5)}var K$=Date.now(),FT=(ze(1)-xr)/ce,q$=g.duration?1e3*g.duration:1e3*FT*.8;function BT(){var Zt=(Date.now()-K$)/q$,Zp=H$(Zt)*FT;Zt<=1?(this._flyToFrame=D(BT,this),this._move(this.unproject(w.add(A.subtract(w).multiplyBy(W$(Zp)/te)),U),this.getScaleZoom(H/Du(Zp),U),{flyTo:!0})):this._move(a,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),BT.call(this),this},flyToBounds:function(a,d){var g=this._getBoundsCenterZoom(a,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(a){return a=Pe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var d=this.options.minZoom;return this.options.minZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var d=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,d){this._enforcingBounds=!0;var g=this.getCenter(),w=this._limitCenter(g,this._zoom,Pe(a));return g.equals(w)||this.panTo(w,d),this._enforcingBounds=!1,this},panInside:function(a,d){d=d||{};var g=X(d.paddingTopLeft||d.padding||[0,0]),w=X(d.paddingBottomRight||d.padding||[0,0]),A=this.project(this.getCenter()),M=this.project(a),U=this.getPixelBounds(),H=we([U.min.add(g),U.max.subtract(w)]),Z=H.getSize();if(!H.contains(M)){this._enforcingBounds=!0;var te=M.subtract(H.getCenter()),ce=H.extend(M).getSize().subtract(Z);A.x+=te.x<0?-ce.x:ce.x,A.y+=te.y<0?-ce.y:ce.y,this.panTo(this.unproject(A),d),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),w=d.divideBy(2).round(),A=g.divideBy(2).round(),M=w.subtract(A);return!M.x&&!M.y?this:(a.animate&&a.pan?this.panBy(M):(a.pan&&this._rawPanBy(M),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=s(this._handleGeolocationResponse,this),g=s(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,a):navigator.geolocation.getCurrentPosition(d,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var d=a.code,g=a.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var d=a.coords.latitude,g=a.coords.longitude,w=new ke(d,g),A=w.toBounds(a.coords.accuracy*2),M=this._locateOptions;if(M.setView){var U=this.getBoundsZoom(A);this.setView(w,M.maxZoom?Math.min(U,M.maxZoom):U)}var H={latlng:w,bounds:A,timestamp:a.timestamp};for(var Z in a.coords)typeof a.coords[Z]=="number"&&(H[Z]=a.coords[Z]);this.fire("locationfound",H)}},addHandler:function(a,d){if(!d)return this;var g=this[a]=new d(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Ze(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,d){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),w=Ke("div",g,d||this._mapPane);return a&&(this._panes[a]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new je(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,g){a=Pe(a),g=X(g||[0,0]);var w=this.getZoom()||0,A=this.getMinZoom(),M=this.getMaxZoom(),U=a.getNorthWest(),H=a.getSouthEast(),Z=this.getSize().subtract(g),te=we(this.project(H,w),this.project(U,w)).getSize(),ce=de.any3d?this.options.zoomSnap:1,Se=Z.x/te.x,ze=Z.y/te.y,ar=d?Math.max(Se,ze):Math.min(Se,ze);return w=this.getScaleZoom(ar,w),ce&&(w=Math.round(w/(ce/100))*(ce/100),w=d?Math.ceil(w/ce)*ce:Math.floor(w/ce)*ce),Math.max(A,Math.min(M,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,d){var g=this._getTopLeftPoint(a,d);return new ue(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(a)/g.scale(d)},getScaleZoom:function(a,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var w=g.zoom(a*g.scale(d));return isNaN(w)?1/0:w},project:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ve(a),d)},unproject:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(X(a),d)},layerPointToLatLng:function(a){var d=X(a).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(a){var d=this.project(ve(a))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ve(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Pe(a))},distance:function(a,d){return this.options.crs.distance(ve(a),ve(d))},containerPointToLayerPoint:function(a){return X(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return X(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var d=this.containerPointToLayerPoint(X(a));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(a)))},mouseEventToContainerPoint:function(a){return dl(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var d=this._container=wd(a);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ce(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&de.any3d,he(a,"leaflet-container"+(de.touch?" leaflet-touch":"")+(de.retina?" leaflet-retina":"")+(de.ielt9?" leaflet-oldie":"")+(de.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Zs(a,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mt(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(he(a.markerPane,"leaflet-zoom-hide"),he(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,d,g){Mt(this._mapPane,new G(0,0));var w=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var A=this._zoom!==d;this._moveStart(A,g)._move(a,d)._moveEnd(A),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(a,d){return a&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(a,d,g,w){d===void 0&&(d=this._zoom);var A=this._zoom!==d;return this._zoom=d,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),w?g&&g.pinch&&this.fire("zoom",g):((A||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Mt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var d=a?rt:Ce;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),de.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,d){for(var g=[],w,A=d==="mouseout"||d==="mouseover",M=a.target||a.srcElement,U=!1;M;){if(w=this._targets[u(M)],w&&(d==="click"||d==="preclick")&&this._draggableMoved(w)){U=!0;break}if(w&&w.listens(d,!0)&&(A&&!Td(M,a)||(g.push(w),A))||M===this._container)break;M=M.parentNode}return!g.length&&!U&&!A&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var d=a.target||a.srcElement;if(!(!this._loaded||d._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(d))){var g=a.type;g==="mousedown"&&bd(d),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,d,g){if(a.type==="click"){var w=i({},a);w.type="preclick",this._fireDOMEvent(w,w.type,g)}var A=this._findEventTargets(a,d);if(g){for(var M=[],U=0;U<g.length;U++)g[U].listens(d,!0)&&M.push(g[U]);A=M.concat(A)}if(A.length){d==="contextmenu"&&Gt(a);var H=A[0],Z={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var te=H.getLatLng&&(!H._radius||H._radius<=10);Z.containerPoint=te?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(a),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=te?H.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(U=0;U<A.length;U++)if(A[U].fire(d,Z,!0),Z.originalEvent._stopped||A[U].options.bubblingMouseEvents===!1&&R(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,d=this._handlers.length;a<d;a++)this._handlers[a].disable()},whenReady:function(a,d){return this._loaded?a.call(d||this,{target:this}):this.on("load",a,d),this},_getMapPanePos:function(){return Xo(this._mapPane)||new G(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,d){var g=a&&d!==void 0?this._getNewPixelOrigin(a,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,d){var g=this.getSize()._divideBy(2);return this.project(a,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,d,g){var w=this._getNewPixelOrigin(g,d);return this.project(a,d)._subtract(w)},_latLngBoundsToNewLayerBounds:function(a,d,g){var w=this._getNewPixelOrigin(g,d);return we([this.project(a.getSouthWest(),d)._subtract(w),this.project(a.getNorthWest(),d)._subtract(w),this.project(a.getSouthEast(),d)._subtract(w),this.project(a.getNorthEast(),d)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,g){if(!g)return a;var w=this.project(a,d),A=this.getSize().divideBy(2),M=new ue(w.subtract(A),w.add(A)),U=this._getBoundsOffset(M,g,d);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?a:this.unproject(w.add(U),d)},_limitOffset:function(a,d){if(!d)return a;var g=this.getPixelBounds(),w=new ue(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(w,d))},_getBoundsOffset:function(a,d,g){var w=we(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),A=w.min.subtract(a.min),M=w.max.subtract(a.max),U=this._rebound(A.x,-M.x),H=this._rebound(A.y,-M.y);return new G(U,H)},_rebound:function(a,d){return a+d>0?Math.round(a-d)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(d))},_limitZoom:function(a){var d=this.getMinZoom(),g=this.getMaxZoom(),w=de.any3d?this.options.zoomSnap:1;return w&&(a=Math.round(a/w)*w),Math.max(d,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ft(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,d){var g=this._getCenterOffset(a)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var a=this._proxy=Ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(d){var g=sl,w=this._proxy.style[g];Yo(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),w===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),d=this.getZoom();Yo(this._proxy,this.project(a,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(d),A=this._getCenterOffset(a)._divideBy(1-1/w);return g.animate!==!0&&!this.getSize().contains(A)?!1:(D(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,d,!0)},this),!0)},_animateZoom:function(a,d,g,w){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=d,he(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:d,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ft(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pu(a,d){return new Le(a,d)}var _r=ne.extend({options:{position:"topright"},initialize:function(a){b(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var d=this._map;return d&&d.removeControl(this),this.options.position=a,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var d=this._container=this.onAdd(a),g=this.getPosition(),w=a._controlCorners[g];return he(d,"leaflet-control"),g.indexOf("bottom")!==-1?w.insertBefore(d,w.firstChild):w.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),co=function(a){return new _r(a)};Le.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},d="leaflet-",g=this._controlContainer=Ke("div",d+"control-container",this._container);function w(A,M){var U=d+A+" "+d+M;a[A+M]=Ke("div",U,g)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Ze(this._controlCorners[a]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mp=_r.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,d,g,w){return g<w?-1:w<g?1:0}},initialize:function(a,d,g){b(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in a)this._addLayer(a[w],w);for(w in d)this._addLayer(d[w],w,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return _r.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,d){return this._addLayer(a,d),this._map?this._update():this},addOverlay:function(a,d){return this._addLayer(a,d,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(a));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){he(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(he(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ft(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ft(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",d=this._container=Ke("div",a),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),cl(d),Ed(d);var w=this._section=Ke("section",a+"-list");g&&(this._map.on("click",this.collapse,this),Ce(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var A=this._layersLink=Ke("a",a+"-toggle",d);A.href="#",A.title="Layers",A.setAttribute("role","button"),Ce(A,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Gt(M),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Ke("div",a+"-base",w),this._separator=Ke("div",a+"-separator",w),this._overlaysList=Ke("div",a+"-overlays",w),d.appendChild(w)},_getLayer:function(a){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===a)return this._layers[d]},_addLayer:function(a,d,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(s(function(w,A){return this.options.sortFunction(w.layer,A.layer,w.name,A.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;or(this._baseLayersList),or(this._overlaysList),this._layerControlInputs=[];var a,d,g,w,A=0;for(g=0;g<this._layers.length;g++)w=this._layers[g],this._addItem(w),d=d||w.overlay,a=a||!w.overlay,A+=w.overlay?0:1;return this.options.hideSingleBase&&(a=a&&A>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var d=this._getLayer(u(a.target)),g=d.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(a,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(d?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=g,w.firstChild},_addItem:function(a){var d=document.createElement("label"),g=this._map.hasLayer(a.layer),w;a.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=g):w=this._createRadioElement("leaflet-base-layers_"+u(this),g),this._layerControlInputs.push(w),w.layerId=u(a.layer),Ce(w,"click",this._onInputClick,this);var A=document.createElement("span");A.innerHTML=" "+a.name;var M=document.createElement("span");d.appendChild(M),M.appendChild(w),M.appendChild(A);var U=a.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,d,g,w=[],A=[];this._handlingClick=!0;for(var M=a.length-1;M>=0;M--)d=a[M],g=this._getLayer(d.layerId).layer,d.checked?w.push(g):d.checked||A.push(g);for(M=0;M<A.length;M++)this._map.hasLayer(A[M])&&this._map.removeLayer(A[M]);for(M=0;M<w.length;M++)this._map.hasLayer(w[M])||this._map.addLayer(w[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,d,g,w=this._map.getZoom(),A=a.length-1;A>=0;A--)d=a[A],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&w<g.options.minZoom||g.options.maxZoom!==void 0&&w>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ce(a,"click",Gt),this.expand();var d=this;setTimeout(function(){rt(a,"click",Gt),d._preventClick=!1})}}),jp=function(a,d,g){return new Mp(a,d,g)},Jo=_r.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var d="leaflet-control-zoom",g=Ke("div",d+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,d,g,w,A){var M=Ke("a",g,w);return M.innerHTML=a,M.href="#",M.title=d,M.setAttribute("role","button"),M.setAttribute("aria-label",d),cl(M),Ce(M,"click",lo),Ce(M,"click",A,this),Ce(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var a=this._map,d="leaflet-disabled";ft(this._zoomInButton,d),ft(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(he(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(he(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jo,this.addControl(this.zoomControl))});var Dp=function(a){return new Jo(a)},Cd=_r.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var d="leaflet-control-scale",g=Ke("div",d),w=this.options;return this._addScales(w,d+"-line",g),a.on(w.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,g){a.metric&&(this._mScale=Ke("div",d,g)),a.imperial&&(this._iScale=Ke("div",d,g))},_update:function(){var a=this._map,d=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,d]),a.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var d=this._getRoundNum(a),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/a)},_updateImperial:function(a){var d=a*3.2808399,g,w,A;d>5280?(g=d/5280,w=this._getRoundNum(g),this._updateScale(this._iScale,w+" mi",w/g)):(A=this._getRoundNum(d),this._updateScale(this._iScale,A+" ft",A/d))},_updateScale:function(a,d,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=d},_getRoundNum:function(a){var d=Math.pow(10,(Math.floor(a)+"").length-1),g=a/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),Id=function(a){return new Cd(a)},kd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Su=_r.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(de.inlineSvg?kd+" ":"")+"Leaflet</a>"},initialize:function(a){b(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ke("div","leaflet-control-attribution"),cl(this._container);for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var d in this._attributions)this._attributions[d]&&a.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&&new Su().addTo(this)});var Tu=function(a){return new Su(a)};_r.Layers=Mp,_r.Zoom=Jo,_r.Scale=Cd,_r.Attribution=Su,co.layers=jp,co.zoom=Dp,co.scale=Id,co.attribution=Tu;var zr=ne.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zr.addTo=function(a,d){return a.addHandler(d,this),this};var Lp={Events:oe},fo=de.touch?"touchstart mousedown":"mousedown",Oi=ae.extend({options:{clickTolerance:3},initialize:function(a,d,g,w){b(this,w),this._element=a,this._dragStartTarget=d||a,this._preventOutline=g},enable:function(){this._enabled||(Ce(this._dragStartTarget,fo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oi._dragging===this&&this.finishDrag(!0),rt(this._dragStartTarget,fo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!al(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Oi._dragging===this&&this.finishDrag();return}if(!(Oi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Oi._dragging=this,this._preventOutline&&bd(this._element),xu(),ki(),!this._moving)){this.fire("down");var d=a.touches?a.touches[0]:a,g=Rp(this._element);this._startPoint=new G(d.clientX,d.clientY),this._startPos=Xo(this._element),this._parentScale=li(g);var w=a.type==="mousedown";Ce(document,w?"mousemove":"touchmove",this._onMove,this),Ce(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var d=a.touches&&a.touches.length===1?a.touches[0]:a,g=new G(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Gt(a),this._moved||(this.fire("dragstart"),this._moved=!0,he(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Mt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ft(document.body,"leaflet-dragging"),this._lastTarget&&(ft(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rt(document,"mousemove touchmove",this._onMove,this),rt(document,"mouseup touchend touchcancel",this._onUp,this),wu(),Lr();var d=this._moved&&this._moving;this._moving=!1,Oi._dragging=!1,d&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Od(a,d,g){var w,A=[1,4,2,8],M,U,H,Z,te,ce,Se,ze;for(M=0,ce=a.length;M<ce;M++)a[M]._code=q(a[M],d);for(H=0;H<4;H++){for(Se=A[H],w=[],M=0,ce=a.length,U=ce-1;M<ce;U=M++)Z=a[M],te=a[U],Z._code&Se?te._code&Se||(ze=W(te,Z,Se,d,g),ze._code=q(ze,d),w.push(ze)):(te._code&Se&&(ze=W(te,Z,Se,d,g),ze._code=q(ze,d),w.push(ze)),w.push(Z));a=w}return a}function Nd(a,d){var g,w,A,M,U,H,Z,te,ce;if(!a||a.length===0)throw new Error("latlngs not passed");Ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Se=ve([0,0]),ze=Pe(a),ar=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());ar<1700&&(Se=Au(a));var gn=a.length,di=[];for(g=0;g<gn;g++){var xr=ve(a[g]);di.push(d.project(ve([xr.lat-Se.lat,xr.lng-Se.lng])))}for(H=Z=te=0,g=0,w=gn-1;g<gn;w=g++)A=di[g],M=di[w],U=A.y*M.x-M.y*A.x,Z+=(A.x+M.x)*U,te+=(A.y+M.y)*U,H+=U*3;H===0?ce=di[0]:ce=[Z/H,te/H];var Du=d.unproject(X(ce));return ve([Du.lat+Se.lat,Du.lng+Se.lng])}function Au(a){for(var d=0,g=0,w=0,A=0;A<a.length;A++){var M=ve(a[A]);d+=M.lat,g+=M.lng,w++}return ve([d/w,g/w])}var Cu={__proto__:null,clipPolygon:Od,polygonCenter:Nd,centroid:Au};function Wn(a,d){if(!d||!a.length)return a.slice();var g=d*d;return a=S(a,g),a=Qs(a,g),a}function Rd(a,d,g){return Math.sqrt(Ie(a,d,g,!0))}function zp(a,d,g){return Ie(a,d,g)}function Qs(a,d){var g=a.length,w=typeof Uint8Array<"u"?Uint8Array:Array,A=new w(g);A[0]=A[g-1]=1,m(a,A,d,0,g-1);var M,U=[];for(M=0;M<g;M++)A[M]&&U.push(a[M]);return U}function m(a,d,g,w,A){var M=0,U,H,Z;for(H=w+1;H<=A-1;H++)Z=Ie(a[H],a[w],a[A],!0),Z>M&&(U=H,M=Z);M>g&&(d[U]=1,m(a,d,g,w,U),m(a,d,g,U,A))}function S(a,d){for(var g=[a[0]],w=1,A=0,M=a.length;w<M;w++)se(a[w],a[A])>d&&(g.push(a[w]),A=w);return A<M-1&&g.push(a[M-1]),g}var k;function V(a,d,g,w,A){var M=w?k:q(a,g),U=q(d,g),H,Z,te;for(k=U;;){if(!(M|U))return[a,d];if(M&U)return!1;H=M||U,Z=W(a,d,H,g,A),te=q(Z,g),H===M?(a=Z,M=te):(d=Z,U=te)}}function W(a,d,g,w,A){var M=d.x-a.x,U=d.y-a.y,H=w.min,Z=w.max,te,ce;return g&8?(te=a.x+M*(Z.y-a.y)/U,ce=Z.y):g&4?(te=a.x+M*(H.y-a.y)/U,ce=H.y):g&2?(te=Z.x,ce=a.y+U*(Z.x-a.x)/M):g&1&&(te=H.x,ce=a.y+U*(H.x-a.x)/M),new G(te,ce,A)}function q(a,d){var g=0;return a.x<d.min.x?g|=1:a.x>d.max.x&&(g|=2),a.y<d.min.y?g|=4:a.y>d.max.y&&(g|=8),g}function se(a,d){var g=d.x-a.x,w=d.y-a.y;return g*g+w*w}function Ie(a,d,g,w){var A=d.x,M=d.y,U=g.x-A,H=g.y-M,Z=U*U+H*H,te;return Z>0&&(te=((a.x-A)*U+(a.y-M)*H)/Z,te>1?(A=g.x,M=g.y):te>0&&(A+=U*te,M+=H*te)),U=a.x-A,H=a.y-M,w?U*U+H*H:new G(A,M)}function Ye(a){return!C(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Je(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(a)}function Wt(a,d){var g,w,A,M,U,H,Z,te;if(!a||a.length===0)throw new Error("latlngs not passed");Ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ce=ve([0,0]),Se=Pe(a),ze=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());ze<1700&&(ce=Au(a));var ar=a.length,gn=[];for(g=0;g<ar;g++){var di=ve(a[g]);gn.push(d.project(ve([di.lat-ce.lat,di.lng-ce.lng])))}for(g=0,w=0;g<ar-1;g++)w+=gn[g].distanceTo(gn[g+1])/2;if(w===0)te=gn[0];else for(g=0,M=0;g<ar-1;g++)if(U=gn[g],H=gn[g+1],A=U.distanceTo(H),M+=A,M>w){Z=(M-w)/A,te=[H.x-Z*(H.x-U.x),H.y-Z*(H.y-U.y)];break}var xr=d.unproject(X(te));return ve([xr.lat+ce.lat,xr.lng+ce.lng])}var ui={__proto__:null,simplify:Wn,pointToSegmentDistance:Rd,closestPointOnSegment:zp,clipSegment:V,_getEdgeIntersection:W,_getBitCode:q,_sqClosestPointOnSegment:Ie,isFlat:Ye,_flat:Je,polylineCenter:Wt},Ni={project:function(a){return new G(a.lng,a.lat)},unproject:function(a){return new ke(a.y,a.x)},bounds:new ue([-180,-90],[180,90])},ci={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var d=Math.PI/180,g=this.R,w=a.lat*d,A=this.R_MINOR/g,M=Math.sqrt(1-A*A),U=M*Math.sin(w),H=Math.tan(Math.PI/4-w/2)/Math.pow((1-U)/(1+U),M/2);return w=-g*Math.log(Math.max(H,1e-10)),new G(a.lng*d*g,w)},unproject:function(a){for(var d=180/Math.PI,g=this.R,w=this.R_MINOR/g,A=Math.sqrt(1-w*w),M=Math.exp(-a.y/g),U=Math.PI/2-2*Math.atan(M),H=0,Z=.1,te;H<15&&Math.abs(Z)>1e-7;H++)te=A*Math.sin(U),te=Math.pow((1-te)/(1+te),A/2),Z=Math.PI/2-2*Math.atan(M*te)-U,U+=Z;return new ke(U*d,a.x*d/g)}},ho={__proto__:null,LonLat:Ni,Mercator:ci,SphericalMercator:Ee},Iu=i({},rn,{code:"EPSG:3395",projection:ci,transformation:function(){var a=.5/(Math.PI*ci.R);return J(a,.5,-a,.5)}()}),ku=i({},rn,{code:"EPSG:4326",projection:Ni,transformation:J(1/180,1,-1/180,.5)}),b$=i({},$e,{projection:Ni,transformation:J(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,d){var g=d.lng-a.lng,w=d.lat-a.lat;return Math.sqrt(g*g+w*w)},infinite:!0});$e.Earth=rn,$e.EPSG3395=Iu,$e.EPSG3857=gt,$e.EPSG900913=De,$e.EPSG4326=ku,$e.Simple=b$;var Ri=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var d=a.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Le.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=u(a);return this._layers[d]?(this._loaded&&a.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},_addLayers:function(a){a=a?C(a)?a:[a]:[];for(var d=0,g=a.length;d<g;d++)this.addLayer(a[d])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var d=u(a);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,d=-1/0,g=this._getZoomSpan();for(var w in this._zoomBoundLayers){var A=this._zoomBoundLayers[w].options;a=A.minZoom===void 0?a:Math.min(a,A.minZoom),d=A.maxZoom===void 0?d:Math.max(d,A.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ou=Ri.extend({initialize:function(a,d){b(this,d),this._layers={};var g,w;if(a)for(g=0,w=a.length;g<w;g++)this.addLayer(a[g])},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var d=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(a){var d=typeof a=="number"?a:this.getLayerId(a);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var d=Array.prototype.slice.call(arguments,1),g,w;for(g in this._layers)w=this._layers[g],w[a]&&w[a].apply(w,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),E$=function(a,d){return new Ou(a,d)},es=Ou.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ou.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ou.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new je;for(var d in this._layers){var g=this._layers[d];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),P$=function(a,d){return new es(a,d)},Nu=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){b(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(w,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(a,d){var g=this.options,w=g[d+"Size"];typeof w=="number"&&(w=[w,w]);var A=X(w),M=X(d==="shadow"&&g.shadowAnchor||g.iconAnchor||A&&A.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+(g.className||""),M&&(a.style.marginLeft=-M.x+"px",a.style.marginTop=-M.y+"px"),A&&(a.style.width=A.x+"px",a.style.height=A.y+"px")},_createImg:function(a,d){return d=d||document.createElement("img"),d.src=a,d},_getIconUrl:function(a){return de.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function S$(a){return new Nu(a)}var Md=Nu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Md.imagePath!="string"&&(Md.imagePath=this._detectIconPath()),(this.options.imagePath||Md.imagePath)+Nu.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var d=function(g,w,A){var M=w.exec(g);return M&&M[A]};return a=d(a,/^url\((['"])?(.+)\1\)$/,2),a&&d(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ke("div","leaflet-default-icon-path",document.body),d=Zs(a,"background-image")||Zs(a,"backgroundImage");if(document.body.removeChild(a),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),bT=zr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Oi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ft(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var d=this._marker,g=d._map,w=this._marker.options.autoPanSpeed,A=this._marker.options.autoPanPadding,M=Xo(d._icon),U=g.getPixelBounds(),H=g.getPixelOrigin(),Z=we(U.min._subtract(H).add(A),U.max._subtract(H).subtract(A));if(!Z.contains(M)){var te=X((Math.max(Z.max.x,M.x)-Z.max.x)/(U.max.x-Z.max.x)-(Math.min(Z.min.x,M.x)-Z.min.x)/(U.min.x-Z.min.x),(Math.max(Z.max.y,M.y)-Z.max.y)/(U.max.y-Z.max.y)-(Math.min(Z.min.y,M.y)-Z.min.y)/(U.min.y-Z.min.y)).multiplyBy(w);g.panBy(te,{animate:!1}),this._draggable._newPos._add(te),this._draggable._startPos._add(te),Mt(d._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=D(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,a)))},_onDrag:function(a){var d=this._marker,g=d._shadow,w=Xo(d._icon),A=d._map.layerPointToLatLng(w);g&&Mt(g,w),d._latlng=A,a.latlng=A,a.oldLatLng=this._oldLatLng,d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Vp=Ri.extend({options:{icon:new Md,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,d){b(this,d),this._latlng=ve(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=ve(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),w=!1;g!==this._icon&&(this._icon&&this._removeIcon(),w=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),he(g,d),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(g,"focus",this._panOnFocus,this);var A=a.icon.createShadow(this._shadow),M=!1;A!==this._shadow&&(this._removeShadow(),M=!0),A&&(he(A,d),A.alt=""),this._shadow=A,a.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),A&&M&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Mt(this._icon,a),this._shadow&&Mt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bT)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bT(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&yr(this._icon,a),this._shadow&&yr(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var d=this.options.icon.options,g=d.iconSize?X(d.iconSize):X(0,0),w=d.iconAnchor?X(d.iconAnchor):X(0,0);a.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:g.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function T$(a,d){return new Vp(a,d)}var Js=Ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return b(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$p=Js.extend({options:{fill:!0,radius:10},initialize:function(a,d){b(this,d),this._latlng=ve(a),this._radius=this.options.radius},setLatLng:function(a){var d=this._latlng;return this._latlng=ve(a),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return Js.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,g=this._clickTolerance(),w=[a+g,d+g];this._pxBounds=new ue(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function A$(a,d){return new $p(a,d)}var g_=$p.extend({initialize:function(a,d,g){if(typeof d=="number"&&(d=i({},g,{radius:d})),b(this,d),this._latlng=ve(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new je(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Js.prototype.setStyle,_project:function(){var a=this._latlng.lng,d=this._latlng.lat,g=this._map,w=g.options.crs;if(w.distance===rn.distance){var A=Math.PI/180,M=this._mRadius/rn.R/A,U=g.project([d+M,a]),H=g.project([d-M,a]),Z=U.add(H).divideBy(2),te=g.unproject(Z).lat,ce=Math.acos((Math.cos(M*A)-Math.sin(d*A)*Math.sin(te*A))/(Math.cos(d*A)*Math.cos(te*A)))/A;(isNaN(ce)||ce===0)&&(ce=M/Math.cos(Math.PI/180*d)),this._point=Z.subtract(g.getPixelOrigin()),this._radius=isNaN(ce)?0:Z.x-g.project([te,a-ce]).x,this._radiusY=Z.y-U.y}else{var Se=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Se).x}this._updateBounds()}});function C$(a,d,g){return new g_(a,d,g)}var ts=Js.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,d){b(this,d),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var d=1/0,g=null,w=Ie,A,M,U=0,H=this._parts.length;U<H;U++)for(var Z=this._parts[U],te=1,ce=Z.length;te<ce;te++){A=Z[te-1],M=Z[te];var Se=w(a,A,M,!0);Se<d&&(d=Se,g=w(a,A,M))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,d){return d=d||this._defaultShape(),a=ve(a),d.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new je,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],g=Ye(a),w=0,A=a.length;w<A;w++)g?(d[w]=ve(a[w]),this._bounds.extend(d[w])):d[w]=this._convertLatLngs(a[w]);return d},_project:function(){var a=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),d=new G(a,a);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(a,d,g){var w=a[0]instanceof ke,A=a.length,M,U;if(w){for(U=[],M=0;M<A;M++)U[M]=this._map.latLngToLayerPoint(a[M]),g.extend(U[M]);d.push(U)}else for(M=0;M<A;M++)this._projectLatlngs(a[M],d,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,w,A,M,U,H,Z;for(g=0,A=0,M=this._rings.length;g<M;g++)for(Z=this._rings[g],w=0,U=Z.length;w<U-1;w++)H=V(Z[w],Z[w+1],a,w,!0),H&&(d[A]=d[A]||[],d[A].push(H[0]),(H[1]!==Z[w+1]||w===U-2)&&(d[A].push(H[1]),A++))}},_simplifyPoints:function(){for(var a=this._parts,d=this.options.smoothFactor,g=0,w=a.length;g<w;g++)a[g]=Wn(a[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,d){var g,w,A,M,U,H,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,M=this._parts.length;g<M;g++)for(H=this._parts[g],w=0,U=H.length,A=U-1;w<U;A=w++)if(!(!d&&w===0)&&Rd(a,H[A],H[w])<=Z)return!0;return!1}});function I$(a,d){return new ts(a,d)}ts._flat=Je;var Ru=ts.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var d=ts.prototype._convertLatLngs.call(this,a),g=d.length;return g>=2&&d[0]instanceof ke&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(a){ts.prototype._setLatLngs.call(this,a),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,g=new G(d,d);if(a=new ue(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,A=this._rings.length,M;w<A;w++)M=Od(this._rings[w],a,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d=!1,g,w,A,M,U,H,Z,te;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(M=0,Z=this._parts.length;M<Z;M++)for(g=this._parts[M],U=0,te=g.length,H=te-1;U<te;H=U++)w=g[U],A=g[H],w.y>a.y!=A.y>a.y&&a.x<(A.x-w.x)*(a.y-w.y)/(A.y-w.y)+w.x&&(d=!d);return d||ts.prototype._containsPoint.call(this,a,!0)}});function k$(a,d){return new Ru(a,d)}var ns=es.extend({initialize:function(a,d){b(this,d),this._layers={},a&&this.addData(a)},addData:function(a){var d=C(a)?a:a.features,g,w,A;if(d){for(g=0,w=d.length;g<w;g++)A=d[g],(A.geometries||A.geometry||A.features||A.coordinates)&&this.addData(A);return this}var M=this.options;if(M.filter&&!M.filter(a))return this;var U=Fp(a,M);return U?(U.feature=Wp(a),U.defaultOptions=U.options,this.resetStyle(U),M.onEachFeature&&M.onEachFeature(a,U),this.addLayer(U)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,d){a.setStyle&&(typeof d=="function"&&(d=d(a.feature)),a.setStyle(d))}});function Fp(a,d){var g=a.type==="Feature"?a.geometry:a,w=g?g.coordinates:null,A=[],M=d&&d.pointToLayer,U=d&&d.coordsToLatLng||v_,H,Z,te,ce;if(!w&&!g)return null;switch(g.type){case"Point":return H=U(w),ET(M,a,H,d);case"MultiPoint":for(te=0,ce=w.length;te<ce;te++)H=U(w[te]),A.push(ET(M,a,H,d));return new es(A);case"LineString":case"MultiLineString":return Z=Bp(w,g.type==="LineString"?0:1,U),new ts(Z,d);case"Polygon":case"MultiPolygon":return Z=Bp(w,g.type==="Polygon"?1:2,U),new Ru(Z,d);case"GeometryCollection":for(te=0,ce=g.geometries.length;te<ce;te++){var Se=Fp({geometry:g.geometries[te],type:"Feature",properties:a.properties},d);Se&&A.push(Se)}return new es(A);case"FeatureCollection":for(te=0,ce=g.features.length;te<ce;te++){var ze=Fp(g.features[te],d);ze&&A.push(ze)}return new es(A);default:throw new Error("Invalid GeoJSON object.")}}function ET(a,d,g,w){return a?a(d,g):new Vp(g,w&&w.markersInheritOptions&&w)}function v_(a){return new ke(a[1],a[0],a[2])}function Bp(a,d,g){for(var w=[],A=0,M=a.length,U;A<M;A++)U=d?Bp(a[A],d-1,g):(g||v_)(a[A]),w.push(U);return w}function y_(a,d){return a=ve(a),a.alt!==void 0?[p(a.lng,d),p(a.lat,d),p(a.alt,d)]:[p(a.lng,d),p(a.lat,d)]}function Up(a,d,g,w){for(var A=[],M=0,U=a.length;M<U;M++)A.push(d?Up(a[M],Ye(a[M])?0:d-1,g,w):y_(a[M],w));return!d&&g&&A.length>0&&A.push(A[0].slice()),A}function Mu(a,d){return a.feature?i({},a.feature,{geometry:d}):Wp(d)}function Wp(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var __={toGeoJSON:function(a){return Mu(this,{type:"Point",coordinates:y_(this.getLatLng(),a)})}};Vp.include(__),g_.include(__),$p.include(__),ts.include({toGeoJSON:function(a){var d=!Ye(this._latlngs),g=Up(this._latlngs,d?1:0,!1,a);return Mu(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),Ru.include({toGeoJSON:function(a){var d=!Ye(this._latlngs),g=d&&!Ye(this._latlngs[0]),w=Up(this._latlngs,g?2:d?1:0,!0,a);return d||(w=[w]),Mu(this,{type:(g?"Multi":"")+"Polygon",coordinates:w})}}),Ou.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(a).geometry.coordinates)}),Mu(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(a);var g=d==="GeometryCollection",w=[];return this.eachLayer(function(A){if(A.toGeoJSON){var M=A.toGeoJSON(a);if(g)w.push(M.geometry);else{var U=Wp(M);U.type==="FeatureCollection"?w.push.apply(w,U.features):w.push(U)}}}),g?Mu(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function PT(a,d){return new ns(a,d)}var O$=PT,Hp=Ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,d,g){this._url=a,this._bounds=Pe(d),b(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&si(this._image),this},bringToBack:function(){return this._map&&ai(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Pe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",d=this._image=a?this._url:Ke("img");if(he(d,"leaflet-image-layer"),this._zoomAnimated&&he(d,"leaflet-zoom-animated"),this.options.className&&he(d,this.options.className),d.onselectstart=h,d.onmousemove=h,d.onload=s(this.fire,this,"load"),d.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Yo(this._image,g,d)},_reset:function(){var a=this._image,d=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();Mt(a,d.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){yr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),N$=function(a,d,g){return new Hp(a,d,g)},ST=Hp.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",d=this._image=a?this._url:Ke("video");if(he(d,"leaflet-image-layer"),this._zoomAnimated&&he(d,"leaflet-zoom-animated"),this.options.className&&he(d,this.options.className),d.onselectstart=h,d.onmousemove=h,d.onloadeddata=s(this.fire,this,"load"),a){for(var g=d.getElementsByTagName("source"),w=[],A=0;A<g.length;A++)w.push(g[A].src);this._url=g.length>0?w:[d.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var U=Ke("source");U.src=this._url[M],d.appendChild(U)}}});function R$(a,d,g){return new ST(a,d,g)}var TT=Hp.extend({_initImage:function(){var a=this._image=this._url;he(a,"leaflet-image-layer"),this._zoomAnimated&&he(a,"leaflet-zoom-animated"),this.options.className&&he(a,this.options.className),a.onselectstart=h,a.onmousemove=h}});function M$(a,d,g){return new TT(a,d,g)}var po=Ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,d){a&&(a instanceof ke||C(a))?(this._latlng=ve(a),b(this,d)):(b(this,a),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&yr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&yr(this._container,1),this.bringToFront(),this.options.interactive&&(he(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(yr(this._container,0),this._removeTimeout=setTimeout(s(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ve(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&si(this._container),this},bringToBack:function(){return this._map&&ai(this._container),this},_prepareOpen:function(a){var d=this._source;if(!d._map)return!1;if(d instanceof es){d=null;var g=this._source._layers;for(var w in g)if(g[w]._map){d=g[w];break}if(!d)return!1;this._source=d}if(!a)if(d.getCenter)a=d.getCenter();else if(d.getLatLng)a=d.getLatLng();else if(d.getBounds)a=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")a.innerHTML=d;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=X(this.options.offset),g=this._getAnchor();this._zoomAnimated?Mt(this._container,a.add(g)):d=d.add(a).add(g);var w=this._containerBottom=-d.y,A=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=w+"px",this._container.style.left=A+"px"}},_getAnchor:function(){return[0,0]}});Le.include({_initOverlay:function(a,d,g,w){var A=d;return A instanceof a||(A=new a(w).setContent(d)),g&&A.setLatLng(g),A}}),Ri.include({_initOverlay:function(a,d,g,w){var A=g;return A instanceof a?(b(A,w),A._source=this):(A=d&&!w?d:new a(w,this),A.setContent(g)),A}});var Kp=po.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,po.prototype.openOn.call(this,a)},onAdd:function(a){po.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Js||this._source.on("preclick",Qe))},onRemove:function(a){po.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Js||this._source.off("preclick",Qe))},getEvents:function(){var a=po.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",d=this._container=Ke("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Ke("div",a+"-content-wrapper",d);if(this._contentNode=Ke("div",a+"-content",g),cl(d),Ed(this._contentNode),Ce(d,"contextmenu",Qe),this._tipContainer=Ke("div",a+"-tip-container",d),this._tip=Ke("div",a+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Ke("a",a+"-close-button",d);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Ce(w,"click",function(A){Gt(A),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="",d.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var w=a.offsetHeight,A=this.options.maxHeight,M="leaflet-popup-scrolled";A&&w>A?(d.height=A+"px",he(a,M)):ft(a,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Mt(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,d=parseInt(Zs(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,w=this._containerWidth,A=new G(this._containerLeft,-g-this._containerBottom);A._add(Xo(this._container));var M=a.layerPointToContainerPoint(A),U=X(this.options.autoPanPadding),H=X(this.options.autoPanPaddingTopLeft||U),Z=X(this.options.autoPanPaddingBottomRight||U),te=a.getSize(),ce=0,Se=0;M.x+w+Z.x>te.x&&(ce=M.x+w-te.x+Z.x),M.x-ce-H.x<0&&(ce=M.x-H.x),M.y+g+Z.y>te.y&&(Se=M.y+g-te.y+Z.y),M.y-Se-H.y<0&&(Se=M.y-H.y),(ce||Se)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ce,Se]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),j$=function(a,d){return new Kp(a,d)};Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(a,d,g){return this._initOverlay(Kp,a,d,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ri.include({bindPopup:function(a,d){return this._popup=this._initOverlay(Kp,this._popup,a,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof es||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){lo(a);var d=a.layer||a.target;if(this._popup._source===d&&!(d instanceof Js)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=d,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var qp=po.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){po.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){po.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=po.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",d=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ke("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var d,g,w=this._map,A=this._container,M=w.latLngToContainerPoint(w.getCenter()),U=w.layerPointToContainerPoint(a),H=this.options.direction,Z=A.offsetWidth,te=A.offsetHeight,ce=X(this.options.offset),Se=this._getAnchor();H==="top"?(d=Z/2,g=te):H==="bottom"?(d=Z/2,g=0):H==="center"?(d=Z/2,g=te/2):H==="right"?(d=0,g=te/2):H==="left"?(d=Z,g=te/2):U.x<M.x?(H="right",d=0,g=te/2):(H="left",d=Z+(ce.x+Se.x)*2,g=te/2),a=a.subtract(X(d,g,!0)).add(ce).add(Se),ft(A,"leaflet-tooltip-right"),ft(A,"leaflet-tooltip-left"),ft(A,"leaflet-tooltip-top"),ft(A,"leaflet-tooltip-bottom"),he(A,"leaflet-tooltip-"+H),Mt(A,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&yr(this._container,a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(d)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),D$=function(a,d){return new qp(a,d)};Le.include({openTooltip:function(a,d,g){return this._initOverlay(qp,a,d,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ri.include({bindTooltip:function(a,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qp,this._tooltip,a,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var d=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof es||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&(Ce(d,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ce(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var d=a.latlng,g,w;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),w=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(d)}});var AT=Nu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var d=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(or(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var w=X(g.bgPos);d.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function L$(a){return new AT(a)}Nu.Default=Md;var jd=Ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:de.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){b(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Ze(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof G?a:new G(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var d=this.getPane().children,g=-a(-1/0,1/0),w=0,A=d.length,M;w<A;w++)M=d[w].style.zIndex,d[w]!==this._container&&M&&(g=a(g,+M));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!de.ielt9){yr(this._container,this.options.opacity);var a=+new Date,d=!1,g=!1;for(var w in this._tiles){var A=this._tiles[w];if(!(!A.current||!A.loaded)){var M=Math.min(1,(a-A.loaded)/200);yr(A.el,M),M<1?d=!0:(A.active?g=!0:this._onOpaqueTile(A),A.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(F(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,d=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=d-Math.abs(a-g),this._onUpdateLevel(g)):(Ze(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var w=this._levels[a],A=this._map;return w||(w=this._levels[a]={},w.el=Ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=d,w.origin=A.project(A.unproject(A.getPixelOrigin()),a).round(),w.zoom=a,this._setZoomTransform(w,A.getCenter(),A.getZoom()),h(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var a,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)d=this._tiles[a],d.retain=d.current;for(a in this._tiles)if(d=this._tiles[a],d.current&&!d.active){var w=d.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var d in this._tiles)this._tiles[d].coords.z===a&&this._removeTile(d)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Ze(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,d,g,w){var A=Math.floor(a/2),M=Math.floor(d/2),U=g-1,H=new G(+A,+M);H.z=+U;var Z=this._tileCoordsToKey(H),te=this._tiles[Z];return te&&te.active?(te.retain=!0,!0):(te&&te.loaded&&(te.retain=!0),U>w?this._retainParent(A,M,U,w):!1)},_retainChildren:function(a,d,g,w){for(var A=2*a;A<2*a+2;A++)for(var M=2*d;M<2*d+2;M++){var U=new G(A,M);U.z=g+1;var H=this._tileCoordsToKey(U),Z=this._tiles[H];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);g+1<w&&this._retainChildren(A,M,g+1,w)}},_resetView:function(a){var d=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var d=this.options;return d.minNativeZoom!==void 0&&a<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<a?d.maxNativeZoom:a},_setView:function(a,d,g,w){var A=Math.round(d);this.options.maxZoom!==void 0&&A>this.options.maxZoom||this.options.minZoom!==void 0&&A<this.options.minZoom?A=void 0:A=this._clampZoom(A);var M=this.options.updateWhenZooming&&A!==this._tileZoom;(!w||M)&&(this._tileZoom=A,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),A!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,d)},_setZoomTransforms:function(a,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,d)},_setZoomTransform:function(a,d,g){var w=this._map.getZoomScale(g,a.zoom),A=a.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(d,g)).round();de.any3d?Yo(a.el,A,w):Mt(a.el,A)},_resetGrid:function(){var a=this._map,d=a.options.crs,g=this._tileSize=this.getTileSize(),w=this._tileZoom,A=this._map.getPixelWorldBounds(this._tileZoom);A&&(this._globalTileRange=this._pxBoundsToTileRange(A)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,d.wrapLng[0]],w).x/g.x),Math.ceil(a.project([0,d.wrapLng[1]],w).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([d.wrapLat[0],0],w).y/g.x),Math.ceil(a.project([d.wrapLat[1],0],w).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),w=d.getZoomScale(g,this._tileZoom),A=d.project(a,this._tileZoom).floor(),M=d.getSize().divideBy(w*2);return new ue(A.subtract(M),A.add(M))},_update:function(a){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(a===void 0&&(a=d.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(a),A=this._pxBoundsToTileRange(w),M=A.getCenter(),U=[],H=this.options.keepBuffer,Z=new ue(A.getBottomLeft().subtract([H,-H]),A.getTopRight().add([H,-H]));if(!(isFinite(A.min.x)&&isFinite(A.min.y)&&isFinite(A.max.x)&&isFinite(A.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var te in this._tiles){var ce=this._tiles[te].coords;(ce.z!==this._tileZoom||!Z.contains(new G(ce.x,ce.y)))&&(this._tiles[te].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var Se=A.min.y;Se<=A.max.y;Se++)for(var ze=A.min.x;ze<=A.max.x;ze++){var ar=new G(ze,Se);if(ar.z=this._tileZoom,!!this._isValidTile(ar)){var gn=this._tiles[this._tileCoordsToKey(ar)];gn?gn.current=!0:U.push(ar)}}if(U.sort(function(xr,Du){return xr.distanceTo(M)-Du.distanceTo(M)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for(ze=0;ze<U.length;ze++)this._addTile(U[ze],di);this._level.el.appendChild(di)}}}},_isValidTile:function(a){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!d.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(a);return Pe(this.options.bounds).overlaps(w)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var d=this._map,g=this.getTileSize(),w=a.scaleBy(g),A=w.add(g),M=d.unproject(w,a.z),U=d.unproject(A,a.z);return[M,U]},_tileCoordsToBounds:function(a){var d=this._tileCoordsToNwSe(a),g=new je(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var d=a.split(":"),g=new G(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(a){var d=this._tiles[a];d&&(Ze(d.el),delete this._tiles[a],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){he(a,"leaflet-tile");var d=this.getTileSize();a.style.width=d.x+"px",a.style.height=d.y+"px",a.onselectstart=h,a.onmousemove=h,de.ielt9&&this.options.opacity<1&&yr(a,this.options.opacity)},_addTile:function(a,d){var g=this._getTilePos(a),w=this._tileCoordsToKey(a),A=this.createTile(this._wrapCoords(a),s(this._tileReady,this,a));this._initTile(A),this.createTile.length<2&&D(s(this._tileReady,this,a,null,A)),Mt(A,g),this._tiles[w]={el:A,coords:a,current:!0},d.appendChild(A),this.fire("tileloadstart",{tile:A,coords:a})},_tileReady:function(a,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:a});var w=this._tileCoordsToKey(a);g=this._tiles[w],g&&(g.loaded=+new Date,this._map._fadeAnimated?(yr(g.el,0),F(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(he(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),de.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var d=new G(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return d.z=a.z,d},_pxBoundsToTileRange:function(a){var d=this.getTileSize();return new ue(a.min.unscaleBy(d).floor(),a.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function z$(a){return new jd(a)}var ju=jd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,d){this._url=a,d=b(this,d),d.detectRetina&&de.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,d){return this._url===a&&d===void 0&&(d=!0),this._url=a,d||this.redraw(),this},createTile:function(a,d){var g=document.createElement("img");return Ce(g,"load",s(this._tileOnLoad,this,d,g)),Ce(g,"error",s(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var d={r:de.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(d.y=g),d["-y"]=g}return T(this._url,i(d,this.options))},_tileOnLoad:function(a,d){de.ielt9?setTimeout(s(a,this,null,d),0):a(null,d)},_tileOnError:function(a,d,g){var w=this.options.errorTileUrl;w&&d.getAttribute("src")!==w&&(d.src=w),a(g,d)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,w=this.options.zoomOffset;return g&&(a=d-a),a+w},_getSubdomain:function(a){var d=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var a,d;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(d=this._tiles[a].el,d.onload=h,d.onerror=h,!d.complete)){d.src=j;var g=this._tiles[a].coords;Ze(d),delete this._tiles[a],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(a){var d=this._tiles[a];if(d)return d.el.setAttribute("src",j),jd.prototype._removeTile.call(this,a)},_tileReady:function(a,d,g){if(!(!this._map||g&&g.getAttribute("src")===j))return jd.prototype._tileReady.call(this,a,d,g)}});function CT(a,d){return new ju(a,d)}var IT=ju.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var g=i({},this.defaultWmsParams);for(var w in d)w in this.options||(g[w]=d[w]);d=b(this,d);var A=d.detectRetina&&de.retina?2:1,M=this.getTileSize();g.width=M.x*A,g.height=M.y*A,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,ju.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._tileCoordsToNwSe(a),g=this._crs,w=we(g.project(d[0]),g.project(d[1])),A=w.min,M=w.max,U=(this._wmsVersion>=1.3&&this._crs===ku?[A.y,A.x,M.y,M.x]:[A.x,A.y,M.x,M.y]).join(","),H=ju.prototype.getTileUrl.call(this,a);return H+E(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(a,d){return i(this.wmsParams,a),d||this.redraw(),this}});function V$(a,d){return new IT(a,d)}ju.WMS=IT,CT.wms=V$;var rs=Ri.extend({options:{padding:.1},initialize:function(a){b(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),he(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,d){var g=this._map.getZoomScale(d,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),A=this._map.project(this._center,d),M=w.multiplyBy(-g).add(A).subtract(this._map._getNewPixelOrigin(a,d));de.any3d?Yo(this._container,M,g):Mt(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-a)).round();this._bounds=new ue(g,g.add(d.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),kT=rs.extend({options:{tolerance:0},getEvents:function(){var a=rs.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ce(a,"mousemove",this._onMouseMove,this),Ce(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ce(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,Ze(this._container),rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var d in this._layers)a=this._layers[d],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rs.prototype._update.call(this);var a=this._bounds,d=this._container,g=a.getSize(),w=de.retina?2:1;Mt(d,a.min),d.width=w*g.x,d.height=w*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",de.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){rs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var d=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,g=d.next,w=d.prev;g?g.prev=w:this._drawLast=w,w?w.next=g:this._drawFirst=g,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var d=a.options.dashArray.split(/[, ]+/),g=[],w,A;for(A=0;A<d.length;A++){if(w=Number(d[A]),isNaN(w))return;g.push(w)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var d=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(a._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(a._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var d=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)a=w.layer,(!d||a._pxBounds&&a._pxBounds.intersects(d))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,d){if(this._drawing){var g,w,A,M,U=a._parts,H=U.length,Z=this._ctx;if(H){for(Z.beginPath(),g=0;g<H;g++){for(w=0,A=U[g].length;w<A;w++)M=U[g][w],Z[w?"lineTo":"moveTo"](M.x,M.y);d&&Z.closePath()}this._fillStroke(Z,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var d=a._point,g=this._ctx,w=Math.max(Math.round(a._radius),1),A=(Math.max(Math.round(a._radiusY),1)||w)/w;A!==1&&(g.save(),g.scale(1,A)),g.beginPath(),g.arc(d.x,d.y/A,w,0,Math.PI*2,!1),A!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,d){var g=d.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(d.options&&d.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var d=this._map.mouseEventToLayerPoint(a),g,w,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(d)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(w=g);this._fireEvent(w?[w]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,d)}},_handleMouseOut:function(a){var d=this._hoveredLayer;d&&(ft(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,d){if(!this._mouseHoverThrottled){for(var g,w,A=this._drawFirst;A;A=A.next)g=A.layer,g.options.interactive&&g._containsPoint(d)&&(w=g);w!==this._hoveredLayer&&(this._handleMouseOut(a),w&&(he(this._container,"leaflet-interactive"),this._fireEvent([w],a,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,d,g){this._map._fireDOMEvent(d,g||d.type,a)},_bringToFront:function(a){var d=a._order;if(d){var g=d.next,w=d.prev;if(g)g.prev=w;else return;w?w.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(a)}},_bringToBack:function(a){var d=a._order;if(d){var g=d.next,w=d.prev;if(w)w.next=g;else return;g?g.prev=w:w&&(this._drawLast=w),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)}}});function OT(a){return de.canvas?new kT(a):null}var Dd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$$={_initContainer:function(){this._container=Ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rs.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var d=a._container=Dd("shape");he(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",a._path=Dd("path"),d.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var d=a._container;this._container.appendChild(d),a.options.interactive&&a.addInteractiveTarget(d)},_removePath:function(a){var d=a._container;Ze(d),a.removeInteractiveTarget(d),delete this._layers[u(a)]},_updateStyle:function(a){var d=a._stroke,g=a._fill,w=a.options,A=a._container;A.stroked=!!w.stroke,A.filled=!!w.fill,w.stroke?(d||(d=a._stroke=Dd("stroke")),A.appendChild(d),d.weight=w.weight+"px",d.color=w.color,d.opacity=w.opacity,w.dashArray?d.dashStyle=C(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=w.lineCap.replace("butt","flat"),d.joinstyle=w.lineJoin):d&&(A.removeChild(d),a._stroke=null),w.fill?(g||(g=a._fill=Dd("fill")),A.appendChild(g),g.color=w.fillColor||w.color,g.opacity=w.fillOpacity):g&&(A.removeChild(g),a._fill=null)},_updateCircle:function(a){var d=a._point.round(),g=Math.round(a._radius),w=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+w+" 0,"+65535*360)},_setPath:function(a,d){a._path.v=d},_bringToFront:function(a){si(a._container)},_bringToBack:function(a){ai(a._container)}},Gp=de.vml?Dd:At,Ld=rs.extend({_initContainer:function(){this._container=Gp("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gp("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rs.prototype._update.call(this);var a=this._bounds,d=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),Mt(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(a){var d=a._path=Gp("path");a.options.className&&he(d,a.options.className),a.options.interactive&&he(d,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Ze(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var d=a._path,g=a.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(a,d){this._setPath(a,st(a._parts,d))},_updateCircle:function(a){var d=a._point,g=Math.max(Math.round(a._radius),1),w=Math.max(Math.round(a._radiusY),1)||g,A="a"+g+","+w+" 0 1,0 ",M=a._empty()?"M0 0":"M"+(d.x-g)+","+d.y+A+g*2+",0 "+A+-g*2+",0 ";this._setPath(a,M)},_setPath:function(a,d){a._path.setAttribute("d",d)},_bringToFront:function(a){si(a._path)},_bringToBack:function(a){ai(a._path)}});de.vml&&Ld.include($$);function NT(a){return de.svg||de.vml?new Ld(a):null}Le.include({getRenderer:function(a){var d=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var d=this._paneRenderers[a];return d===void 0&&(d=this._createRenderer({pane:a}),this._paneRenderers[a]=d),d},_createRenderer:function(a){return this.options.preferCanvas&&OT(a)||NT(a)}});var RT=Ru.extend({initialize:function(a,d){Ru.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Pe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function F$(a,d){return new RT(a,d)}Ld.create=Gp,Ld.pointsToPath=st,ns.geometryToLayer=Fp,ns.coordsToLatLng=v_,ns.coordsToLatLngs=Bp,ns.latLngToCoords=y_,ns.latLngsToCoords=Up,ns.getFeature=Mu,ns.asFeature=Wp,Le.mergeOptions({boxZoom:!0});var MT=zr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ki(),xu(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ce(document,{contextmenu:lo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ke("div","leaflet-zoom-box",this._container),he(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var d=new ue(this._point,this._startPoint),g=d.getSize();Mt(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Ze(this._box),ft(this._container,"leaflet-crosshair")),Lr(),wu(),rt(document,{contextmenu:lo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var d=new je(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Le.addInitHook("addHandler","boxZoom",MT),Le.mergeOptions({doubleClickZoom:!0});var jT=zr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var d=this._map,g=d.getZoom(),w=d.options.zoomDelta,A=a.originalEvent.shiftKey?g-w:g+w;d.options.doubleClickZoom==="center"?d.setZoom(A):d.setZoomAround(a.containerPoint,A)}});Le.addInitHook("addHandler","doubleClickZoom",jT),Le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var DT=zr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Oi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}he(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ft(this._map._container,"leaflet-grab"),ft(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Pe(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,d){return a-(a-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;a.x<d.min.x&&(a.x=this._viscousLimit(a.x,d.min.x)),a.y<d.min.y&&(a.y=this._viscousLimit(a.y,d.min.y)),a.x>d.max.x&&(a.x=this._viscousLimit(a.x,d.max.x)),a.y>d.max.y&&(a.y=this._viscousLimit(a.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,d=Math.round(a/2),g=this._initialWorldOffset,w=this._draggable._newPos.x,A=(w-d+g)%a+d-g,M=(w+d+g)%a-d-g,U=Math.abs(A+g)<Math.abs(M+g)?A:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(a){var d=this._map,g=d.options,w=!g.inertia||a.noInertia||this._times.length<2;if(d.fire("dragend",a),w)d.fire("moveend");else{this._prunePositions(+new Date);var A=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,U=g.easeLinearity,H=A.multiplyBy(U/M),Z=H.distanceTo([0,0]),te=Math.min(g.inertiaMaxSpeed,Z),ce=H.multiplyBy(te/Z),Se=te/(g.inertiaDeceleration*U),ze=ce.multiplyBy(-Se/2).round();!ze.x&&!ze.y?d.fire("moveend"):(ze=d._limitOffset(ze,d.options.maxBounds),D(function(){d.panBy(ze,{duration:Se,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Le.addInitHook("addHandler","dragging",DT),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var LT=zr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ce(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,d=document.documentElement,g=a.scrollTop||d.scrollTop,w=a.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(w,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var d=this._panKeys={},g=this.keyCodes,w,A;for(w=0,A=g.left.length;w<A;w++)d[g.left[w]]=[-1*a,0];for(w=0,A=g.right.length;w<A;w++)d[g.right[w]]=[a,0];for(w=0,A=g.down.length;w<A;w++)d[g.down[w]]=[0,a];for(w=0,A=g.up.length;w<A;w++)d[g.up[w]]=[0,-1*a]},_setZoomDelta:function(a){var d=this._zoomKeys={},g=this.keyCodes,w,A;for(w=0,A=g.zoomIn.length;w<A;w++)d[g.zoomIn[w]]=a;for(w=0,A=g.zoomOut.length;w<A;w++)d[g.zoomOut[w]]=-a},_addHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var d=a.keyCode,g=this._map,w;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(w=this._panKeys[d],a.shiftKey&&(w=X(w).multiplyBy(3)),g.options.maxBounds&&(w=g._limitOffset(X(w),g.options.maxBounds)),g.options.worldCopyJump){var A=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(w)));g.panTo(A)}else g.panBy(w)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;lo(a)}}});Le.addInitHook("addHandler","keyboard",LT),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zT=zr.extend({addHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var d=Sd(a),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var w=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),w),lo(a)},_performZoom:function(){var a=this._map,d=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),A=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,M=g?Math.ceil(A/g)*g:A,U=a._limitZoom(d+(this._delta>0?M:-M))-d;this._delta=0,this._startTime=null,U&&(a.options.scrollWheelZoom==="center"?a.setZoom(d+U):a.setZoomAround(this._lastMousePos,d+U))}});Le.addInitHook("addHandler","scrollWheelZoom",zT);var B$=600;Le.mergeOptions({tapHold:de.touchNative&&de.safari&&de.mobile,tapTolerance:15});var VT=zr.extend({addHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var d=a.touches[0];this._startPos=this._newPos=new G(d.clientX,d.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Ce(document,"touchend",Gt),Ce(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),B$),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){rt(document,"touchend",Gt),rt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)},_onMove:function(a){var d=a.touches[0];this._newPos=new G(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,d){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});Le.addInitHook("addHandler","tapHold",VT),Le.mergeOptions({touchZoom:de.touch,bounceAtZoomLimits:!0});var $T=zr.extend({addHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(!(!a.touches||a.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(a.touches[0]),w=d.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(w)._divideBy(2))),this._startDist=g.distanceTo(w),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),Gt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(a.touches[0]),w=d.mouseEventToContainerPoint(a.touches[1]),A=g.distanceTo(w)/this._startDist;if(this._zoom=d.getScaleZoom(A,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&A<1||this._zoom>d.getMaxZoom()&&A>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,A===1)return}else{var M=g._add(w)._divideBy(2)._subtract(this._centerPoint);if(A===1&&M.x===0&&M.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var U=s(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(U,this,!0),Gt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Le.addInitHook("addHandler","touchZoom",$T),Le.BoxZoom=MT,Le.DoubleClickZoom=jT,Le.Drag=DT,Le.Keyboard=LT,Le.ScrollWheelZoom=zT,Le.TapHold=VT,Le.TouchZoom=$T,n.Bounds=ue,n.Browser=de,n.CRS=$e,n.Canvas=kT,n.Circle=g_,n.CircleMarker=$p,n.Class=ne,n.Control=_r,n.DivIcon=AT,n.DivOverlay=po,n.DomEvent=fl,n.DomUtil=m_,n.Draggable=Oi,n.Evented=ae,n.FeatureGroup=es,n.GeoJSON=ns,n.GridLayer=jd,n.Handler=zr,n.Icon=Nu,n.ImageOverlay=Hp,n.LatLng=ke,n.LatLngBounds=je,n.Layer=Ri,n.LayerGroup=Ou,n.LineUtil=ui,n.Map=Le,n.Marker=Vp,n.Mixin=Lp,n.Path=Js,n.Point=G,n.PolyUtil=Cu,n.Polygon=Ru,n.Polyline=ts,n.Popup=Kp,n.PosAnimation=Ad,n.Projection=ho,n.Rectangle=RT,n.Renderer=rs,n.SVG=Ld,n.SVGOverlay=TT,n.TileLayer=ju,n.Tooltip=qp,n.Transformation=Me,n.Util=B,n.VideoOverlay=ST,n.bind=s,n.bounds=we,n.canvas=OT,n.circle=C$,n.circleMarker=A$,n.control=co,n.divIcon=L$,n.extend=i,n.featureGroup=P$,n.geoJSON=PT,n.geoJson=O$,n.gridLayer=z$,n.icon=S$,n.imageOverlay=N$,n.latLng=ve,n.latLngBounds=Pe,n.layerGroup=E$,n.map=Pu,n.marker=T$,n.point=X,n.polygon=k$,n.polyline=I$,n.popup=j$,n.rectangle=F$,n.setOptions=b,n.stamp=u,n.svg=NT,n.svgOverlay=M$,n.tileLayer=CT,n.tooltip=D$,n.transformation=J,n.version=r,n.videoOverlay=R$;var U$=window.L;n.noConflict=function(){return window.L=U$,this},window.L=n})})(a1,a1.exports);var Sp=a1.exports;const _T=zo(Sp);function xT(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function wT(e,t){return t==null?function(r,i){const o=_.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=_.useRef();o.current||(o.current=e(r,i));const s=_.useRef(r),{instance:l}=o.current;return _.useEffect(function(){s.current!==r&&(t(l,r,s.current),s.current=r)},[l,r,i]),o}}function Tge(e,t){_.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function v$(e){return function(n){const r=vT(),i=e(yT(n,r),r);return h$(r.map,n.attribution),g$(i.current,n.eventHandlers),Tge(i.current,r),i}}function Age(e,t){const n=wT(e,t),r=v$(n);return bge(r)}function Cge(e,t){const n=wT(e),r=Sge(n,t);return Ege(r)}function Ige(e,t){const n=wT(e,t),r=v$(n);return Pge(r)}function kge(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Oge(){return vT().map}function l1(){return l1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l1.apply(this,arguments)}function Nge({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:s,style:l,whenReady:u,zoom:c,...f},h){const[p]=_.useState({className:i,id:o,style:l}),[v,x]=_.useState(null);_.useImperativeHandle(h,()=>(v==null?void 0:v.map)??null,[v]);const b=_.useCallback(P=>{if(P!==null&&v===null){const T=new Sp.Map(P,f);n!=null&&c!=null?T.setView(n,c):e!=null&&T.fitBounds(e,t),u!=null&&T.whenReady(u),x(xge(T))}},[]);_.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const E=v?_t.createElement(m$,{value:v},r):s??null;return _t.createElement("div",l1({},p,{ref:b}),E)}const Rge=_.forwardRef(Nge),Mge=Age(function({position:t,...n},r){const i=new Sp.Marker(t,n);return xT(i,wge(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),jge=Cge(function(t,n){const r=new Sp.Popup(t,n.overlayContainer);return xT(r,n)},function(t,n,{position:r},i){_.useEffect(function(){const{instance:s}=t;function l(c){c.popup===s&&(s.update(),i(!0))}function u(c){c.popup===s&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var f;n.map.off({popupopen:l,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(s)}},[t,n,i,r])}),Dge=Ige(function({url:t,...n},r){const i=new Sp.TileLayer(t,yT(n,r));return xT(i,r)},function(t,n,r){kge(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});delete _T.Icon.Default.prototype._getIconUrl;_T.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const Lge=[32.08,34.85];function zge(e){const t=e==="rent",i=`
    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="44" viewBox="0 0 36 44">
      <!-- Drop shadow -->
      <ellipse cx="18" cy="42" rx="8" ry="3" fill="rgba(0,0,0,0.2)"/>
      <!-- Pin body -->
      <path d="M18 0 C8.06 0 0 8.06 0 18 C0 29 18 44 18 44 C18 44 36 29 36 18 C36 8.06 27.94 0 18 0Z"
            fill="${t?"#10b981":"#3b82f6"}" stroke="${t?"#059669":"#1d4ed8"}" stroke-width="1.5"/>
      <!-- House icon (white) -->
      <g transform="translate(9, 8)" fill="white">
        <polygon points="9,2 0,9 2,9 2,16 7,16 7,11 11,11 11,16 16,16 16,9 18,9" opacity="0.95"/>
      </g>
    </svg>
  `;return _T.divIcon({html:i,className:"",iconSize:[36,44],iconAnchor:[18,44],popupAnchor:[0,-46]})}function Vge(){const e=Oge();return _.useEffect(()=>{setTimeout(()=>e.invalidateSize(),100)},[e]),null}function $ge({p:e}){const t=e.type==="rent",n=t?"text-emerald-600 bg-emerald-50 border-emerald-200":"text-blue-600 bg-blue-50 border-blue-200",r=t?"":"",i=t?`${e.price.toLocaleString()}/`:`${(e.price/1e6).toFixed(2)}M`;return y.jsxs("div",{className:"text-right min-w-[170px]",dir:"rtl",children:[y.jsx("p",{className:"font-bold text-slate-800 text-sm leading-snug mb-1",children:e.address}),y.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[y.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full border ${n}`,children:r}),y.jsx("span",{className:"text-sm font-bold text-slate-900",children:i})]}),e.exclusivityEndDate&&y.jsxs("p",{className:"text-[10px] text-amber-600 mt-1.5 font-medium",children:[" : ",e.exclusivityEndDate.toDate().toLocaleDateString("he-IL")]})]})}function Fge({height:e="320px"}){const{properties:t}=Xa(),[n,r]=_.useState(!1),i=t.filter(u=>u.lat&&u.lng),o=i.filter(u=>u.type==="sale").length,s=i.filter(u=>u.type==="rent").length,l=u=>y.jsxs("div",{className:`flex flex-col ${u?"h-full":""}`,style:u?{}:{height:e},children:[y.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0 flex-wrap gap-2",children:[y.jsx("span",{className:"text-xs font-semibold text-slate-500",children:"  :"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500 flex-shrink-0"}),y.jsxs("span",{className:"text-xs text-slate-600",children:[" (",o,")"]})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-3 h-3 rounded-full bg-emerald-500 flex-shrink-0"}),y.jsxs("span",{className:"text-xs text-slate-600",children:[" (",s,")"]})]}),y.jsx("button",{onClick:()=>r(c=>!c),className:"p-1.5 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-500 transition-colors",title:u?"":" ",children:u?y.jsx(EY,{size:14}):y.jsx(wY,{size:14})})]})]}),y.jsx("div",{className:"flex-1 rounded-xl overflow-hidden border border-slate-200 shadow-sm",style:u?{}:{height:`calc(${e} - 32px)`},children:y.jsxs(Rge,{center:Lge,zoom:9,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},zoomControl:!0,children:[y.jsx(Vge,{}),y.jsx(Dge,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map(c=>y.jsx(Mge,{position:[c.lat,c.lng],icon:zge(c.type),children:y.jsx(jge,{children:y.jsx($ge,{p:c})})},c.id))]})})]});return y.jsxs(y.Fragment,{children:[l(!1),n&&y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center p-6",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col p-5 relative",children:[y.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 left-4 z-10 p-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 transition-colors",children:y.jsx(tp,{size:18})}),y.jsx("h3",{className:"text-base font-bold text-slate-900 mb-4 text-right",children:"   "}),y.jsx("div",{className:"flex-1 min-h-0",children:l(!0)})]})})]})}const LN=[{id:"tour",label:"",color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-200"},{id:"offer",label:" ",color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200"},{id:"contract",label:"",color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-200"}];function y$({deal:e,isDragging:t=!1}){var l;const{attributes:n,listeners:r,setNodeRef:i,transform:o}=Jme({id:e.id}),s=o?{transform:`translate(${o.x}px, ${o.y}px)`}:void 0;return y.jsxs("div",{ref:i,style:s,className:`bg-white rounded-xl border border-slate-100 p-3 shadow-sm cursor-grab active:cursor-grabbing transition-all ${t?"opacity-40":"hover:shadow-md"}`,children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[y.jsx("p",{className:"text-xs font-semibold text-slate-800 leading-snug",children:e.propertyId}),y.jsx("div",{...n,...r,className:"text-slate-300 hover:text-slate-500 flex-shrink-0 mt-0.5",children:y.jsx(mY,{size:14})})]}),y.jsx("p",{className:"text-sm font-bold text-blue-600 mb-3",children:e.projectedCommission?`${e.projectedCommission.toLocaleString()}`:"0"}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:((l=e.agentId)==null?void 0:l.slice(0,1).toUpperCase())||"A"}),y.jsx("span",{className:"text-xs text-slate-500",children:"Owner"})]}),y.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[y.jsx(cY,{size:11}),y.jsxs("span",{className:"text-xs",children:[e.updatedAt?Math.floor((Date.now()-e.updatedAt.toMillis())/(1e3*60*60*24)):0,""]})]})]})]})}function Bge({column:e,deals:t}){const{setNodeRef:n,isOver:r}=rge({id:e.id}),i=t.reduce((o,s)=>o+(s.projectedCommission||0),0);return y.jsxs("div",{className:"flex-shrink-0 w-56",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`text-xs font-bold ${e.color}`,children:e.label}),y.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded-full ${e.bg} ${e.color}`,children:t.length})]}),y.jsxs("span",{className:"text-xs text-slate-400 font-medium",children:["",(i/1e6).toFixed(1),"M"]})]}),y.jsx("div",{ref:n,className:`min-h-32 rounded-xl p-2 space-y-2 transition-colors ${r?`${e.bg} border-2 border-dashed ${e.border}`:"bg-slate-50"}`,children:t.map(o=>y.jsx(y$,{deal:o},o.id))})]})}function Uge(){const{deals:e}=Xa(),[t,n]=_.useState([]),[r,i]=_.useState(null),[o,s]=_.useState(!0);_.useEffect(()=>{n(e)},[e]);const l=Jpe(Qpe(mT,{activationConstraint:{distance:5}})),u=h=>i(h.active.id),c=async h=>{const{active:p,over:v}=h;if(v&&p.id!==v.id){const x=v.id;if(LN.some(b=>b.id===x)){n(b=>b.map(E=>E.id===p.id?{...E,stage:x}:E));try{await yge(p.id,x)}catch(b){console.error("Failed to update deal stage:",b),n(e)}}}i(null)},f=t.find(h=>h.id===r);return y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-5",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:"   "})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:()=>s(h=>!h),className:`flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-full border transition-colors ${o?"bg-blue-50 text-blue-600 border-blue-200":"bg-slate-50 text-slate-500 border-slate-200 hover:bg-slate-100"}`,children:[y.jsx(xY,{size:13})," "]}),y.jsxs("span",{className:"text-xs font-semibold text-slate-500 bg-slate-100 px-3 py-1.5 rounded-full",children:[t.length,"  "]})]})]}),y.jsxs("div",{className:`flex gap-6 ${o?"flex-col xl:flex-row":""}`,children:[y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs(Yme,{sensors:l,onDragStart:u,onDragEnd:c,children:[y.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:LN.map(h=>y.jsx(Bge,{column:h,deals:t.filter(p=>p.stage===h.id)},h.id))}),y.jsx(gge,{children:f?y.jsx("div",{className:"opacity-90 rotate-2 shadow-2xl",children:y.jsx(y$,{deal:f})}):null})]})}),o&&y.jsx("div",{className:"xl:w-72 flex-shrink-0",children:y.jsx(Fge,{})})]})]})}const Wge=({active:e,payload:t})=>e&&t&&t.length?y.jsxs("div",{className:"bg-white rounded-xl px-3 py-2 shadow-xl border border-slate-100",children:[y.jsx("p",{className:"text-xs font-bold text-slate-800",children:t[0].name}),y.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[t[0].value," "]})]}):null;function Hge(e){const n=e.filter(i=>i.lat&&i.lng).map(i=>{const o=Math.max(0,Math.min(100,(33.3-i.lat)/3.799999999999997*100));return{x:Math.max(0,Math.min(100,(i.lng-34.2)/(35.9-34.2)*100)),y:o,type:i.type}}),r={};for(const i of n){const o=`${i.x.toFixed(1)},${i.y.toFixed(1)}`;r[o]||(r[o]={count:0,x:i.x,y:i.y,listingTypes:[]}),r[o].count++,r[o].listingTypes.includes(i.type)||r[o].listingTypes.push(i.type)}return Object.entries(r).map(([i,o])=>({key:i,city:"",...o,label:""}))}const Kge={" ":'"',:""," ":'"',:"-",:"",:""," ":'"'," ":'"',:""};function qge(){const{properties:e}=Xa(),[t,n]=_.useState(null),r=e.filter(l=>l.type==="sale").length,i=e.filter(l=>l.type==="rent").length,o=[{name:"",value:r,color:"#3b82f6"},{name:"",value:i,color:"#8b5cf6"}],s=Hge(e);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 flex flex-col gap-4",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:"  "})]})}),y.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 rounded-xl p-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center flex-shrink-0",children:y.jsx(ep,{size:20})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.length}),y.jsx("p",{className:"text-xs text-slate-500",children:'"  '})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{style:{width:100,height:100},children:y.jsx(n3,{width:"100%",height:"100%",children:y.jsxs(Tpe,{children:[y.jsx(fV,{data:o,cx:"50%",cy:"50%",innerRadius:28,outerRadius:46,paddingAngle:3,dataKey:"value",stroke:"none",children:o.map((l,u)=>y.jsx(K0,{fill:l.color},u))}),y.jsx(D6,{content:y.jsx(Wge,{})})]})})}),y.jsx("div",{className:"flex-1 space-y-2",children:o.map(l=>y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:l.color}}),y.jsx("span",{className:"text-xs text-slate-600 font-medium",children:l.name})]}),y.jsx("span",{className:"text-xs font-bold text-slate-800",children:l.value})]},l.name))})]}),y.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gradient-to-br from-slate-100 to-blue-50 border border-slate-200",style:{height:160},children:[y.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0 opacity-20",children:[y.jsx("defs",{children:y.jsx("pattern",{id:"inv-grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:y.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#94a3b8",strokeWidth:"0.5"})})}),y.jsx("rect",{width:"100%",height:"100%",fill:"url(#inv-grid)"})]}),y.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"absolute inset-0 opacity-15 overflow-visible",children:[y.jsx("path",{d:"M 35 5 Q 30 40 45 55 Q 50 65 48 85",fill:"none",stroke:"#3b82f6",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#64748b",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"100",stroke:"#64748b",strokeWidth:"1",vectorEffect:"non-scaling-stroke"})]}),s.map(l=>{const u=t===l.city,c=l.listingTypes.length>1,f=l.listingTypes.includes("sale")&&!l.listingTypes.includes("rent")?"#3b82f6":l.listingTypes.includes("rent")&&!l.listingTypes.includes("sale")?"#8b5cf6":"#1d4ed8";return y.jsxs("div",{className:"absolute flex flex-col items-center cursor-pointer group",style:{left:`${l.x}%`,top:`${l.y}%`,transform:"translate(-50%, -100%)",zIndex:u?10:1},onMouseEnter:()=>n(l.key),onMouseLeave:()=>n(null),children:[u&&y.jsxs("div",{className:"absolute bottom-full mb-1 bg-slate-900 text-white text-xs rounded-lg px-2 py-1.5 whitespace-nowrap shadow-xl z-20",children:[y.jsx("p",{className:"font-bold",children:" "}),y.jsxs("p",{className:"text-slate-300",children:[l.count," "]}),c&&y.jsx("p",{className:"text-slate-400 text-[10px]",children:" + "})]}),y.jsxs("div",{className:"text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-md whitespace-nowrap transition-transform group-hover:scale-110",style:{backgroundColor:f},children:[Kge[l.city]??l.city," (",l.count,")"]}),y.jsx("div",{className:"w-2 h-2 rotate-45 -mt-1 shadow-sm",style:{backgroundColor:f}})]},l.key)}),y.jsxs("div",{className:"absolute bottom-2 right-2 bg-white/90 backdrop-blur-sm rounded-lg px-2 py-1.5 flex flex-col gap-1",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),y.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:""})]}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-violet-500"}),y.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:""})]})]}),y.jsx("div",{className:"absolute bottom-2 left-2",children:y.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center gap-1",children:[y.jsx(Qy,{size:9}),"  pin "]})})]})]})})}const zN=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:`${(e/1e3).toFixed(0)}K`,Gge=["text-yellow-500","text-slate-400","text-amber-600"];function Zge(){const{data:e,loading:t}=qV();return t?y.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col justify-center items-center",children:y.jsx("div",{className:"animate-pulse flex gap-2",children:y.jsx("div",{className:"w-2 h-2 bg-slate-200 rounded-full"})})}):y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"   ( )"})]}),y.jsx("button",{className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:" "})]}),y.jsx("div",{className:"space-y-4 overflow-y-auto pr-1 custom-scrollbar",children:e.length>0?e.map((n,r)=>{const i=n.monthlyTarget||1e5,o=n.monthlyAchieved||0,s=Math.min(o/i*100,100);return y.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl hover:bg-slate-50 transition-colors group",children:[y.jsx("span",{className:`text-sm font-bold w-6 text-center flex-shrink-0 ${Gge[r]??"text-slate-400"}`,children:r+1}),y.jsx("div",{className:`w-10 h-10 rounded-full ${n.avatarColor} flex items-center justify-center font-bold flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform`,children:n.avatar}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:n.name}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[y.jsx("span",{className:"font-semibold",children:zN(o)}),y.jsx("span",{className:"text-slate-300",children:"/"}),y.jsx("span",{children:zN(i)})]})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${n.avatarColor.split(" ")[0]}`,style:{width:`${s}%`}})}),y.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(a5,{size:12,className:"text-amber-400 fill-amber-400"}),y.jsx("span",{className:"text-xs font-medium text-slate-600",children:n.rating})]}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[y.jsx(oY,{size:12}),y.jsxs("span",{children:[n.deals,"  "]})]})]})]})]},n.id)}):y.jsx("div",{className:"h-full w-full flex items-center justify-center text-slate-400 font-medium text-sm pt-8",children:"  "})})]})}const Yge={lead:id,deal:uP,campaign:bY,contract:pY},Xge={lead:"bg-blue-100 text-blue-600",deal:"bg-emerald-100 text-emerald-600",campaign:"bg-amber-100 text-amber-600",contract:"bg-violet-100 text-violet-600"};function Qge(){const{data:e,loading:t}=Ope();return t?y.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col justify-center items-center",children:y.jsx("div",{className:"animate-pulse flex gap-2",children:y.jsx("div",{className:"w-2 h-2 bg-slate-200 rounded-full"})})}):y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"   ( )"})]}),y.jsxs("button",{className:"text-sm font-semibold text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["",y.jsx(nY,{size:16})]})]}),y.jsx("div",{className:"space-y-6 overflow-y-auto max-h-[320px] pr-1 custom-scrollbar flex-1",children:e.length>0?e.map((n,r)=>{const i=Yge[n.type]||id,o=Xge[n.type]||"bg-slate-100 text-slate-600";return y.jsxs("div",{className:"flex gap-4 relative",children:[y.jsx("div",{className:"absolute top-10 bottom-[-24px] right-[19px] w-[2px] bg-slate-100 last:hidden"}),y.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 z-10 ${o}`,children:y.jsx(i,{size:20})}),y.jsxs("div",{className:"flex-1 pt-0.5",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("p",{className:"text-sm font-bold text-slate-900",children:n.message}),y.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:n.time})]}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:n.detail})]})]},`${n.id}-${r}`)}):y.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 font-medium text-sm pt-10",children:"  "})})]})}const Jge=[{id:1,icon:l5,iconBg:"bg-red-50",iconColor:"text-red-500",badge:"",badgeColor:"bg-red-50 text-red-600",title:"   45   ",text:"   ,       3%    .",action:"  "},{id:2,icon:kY,iconBg:"bg-violet-50",iconColor:"text-violet-500",badge:"",badgeColor:"bg-violet-50 text-violet-600",title:"  -8%  ",text:"  3    .         .",action:" "},{id:3,icon:rY,iconBg:"bg-orange-50",iconColor:"text-orange-500",badge:"",badgeColor:"bg-orange-50 text-orange-600",title:"  20%  ",text:"     (6%).         .",action:" "}];function eve(){const[e,t]=_.useState([]),n=r=>{t(i=>[...i,r])};return y.jsx("div",{className:"relative rounded-2xl overflow-hidden p-px ai-gradient-border",children:y.jsxs("div",{className:"bg-white rounded-[15px] p-5 lg:p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-5",children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center shadow-md shadow-indigo-200",children:y.jsx(cP,{size:18,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:"AI Co-Pilot   "}),y.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"    "})]})]}),y.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-semibold text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-full",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse"}),""]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Jge.map(r=>{const i=r.icon,o=e.includes(r.id);return y.jsxs("div",{className:`rounded-xl border p-4 flex flex-col gap-3 transition-all duration-300 ${o?"border-emerald-200 bg-emerald-50/40":"border-slate-100 bg-slate-50/60 hover:border-indigo-100 hover:bg-indigo-50/30"}`,children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-lg ${r.iconBg} flex items-center justify-center flex-shrink-0`,children:y.jsx(i,{size:16,className:r.iconColor})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${r.badgeColor}`,children:r.badge}),y.jsx("p",{className:"text-sm font-bold text-slate-900 mt-1.5 leading-snug",children:r.title})]})]}),y.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:r.text}),y.jsxs("button",{onClick:()=>n(r.id),disabled:o,className:`mt-auto flex items-center justify-between w-full text-xs font-semibold px-3 py-2 rounded-lg transition-all ${o?"text-emerald-600 bg-emerald-100 cursor-default":"text-indigo-600 bg-indigo-50 hover:bg-indigo-100"}`,children:[y.jsx("span",{children:o?" ":" "}),o?y.jsx(uP,{size:14,className:"text-emerald-500"}):y.jsx(lY,{size:14})]})]},r.id)})})]})})}function tve(){const{deals:e,tasks:t,leads:n,loading:r}=Xa();return r?y.jsx("div",{className:"h-full flex items-center justify-center min-h-[500px]",children:y.jsx(hh,{className:"w-8 h-8 animate-spin text-blue-600"})}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:" , .    ."})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[y.jsx(wm,{title:"  ",value:`${e.filter(i=>i.stage==="contract").reduce((i,o)=>i+(o.projectedCommission||0),0).toLocaleString()}`,rawValue:e.filter(i=>i.stage==="contract").reduce((i,o)=>i+(o.projectedCommission||0),0),target:4e5,change:"+5.0%",positive:!0,subtitle:"  ",icon:"Wallet",color:"blue"}),y.jsx(wm,{title:" ",value:e.length.toString(),rawValue:e.length,target:20,change:"+1",positive:!0,subtitle:"  ",icon:"Handshake",color:"amber"}),y.jsx(wm,{title:"  ",value:n.filter(i=>i.status==="Hot"||i.status==="Warm").length.toString(),rawValue:n.filter(i=>i.status==="Hot"||i.status==="Warm").length,target:50,change:"+10%",positive:!0,subtitle:" ",icon:"Users",color:"emerald"}),y.jsx(wm,{title:" ",value:t.filter(i=>!i.isCompleted).length.toString(),rawValue:t.filter(i=>!i.isCompleted).length,target:t.length||1,change:`${t.filter(i=>i.isCompleted).length}   `,positive:!0,subtitle:" ",icon:"CheckCircle2",color:"violet"})]}),y.jsx(eve,{}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2",children:y.jsx("div",{className:"h-[400px]",children:y.jsx(Mpe,{})})}),y.jsx("div",{className:"lg:col-span-1",children:y.jsx("div",{className:"h-[400px]",children:y.jsx(Qge,{})})})]}),y.jsx(Uge,{}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[y.jsx("div",{className:"xl:col-span-1",children:y.jsx(qge,{})}),y.jsx("div",{className:"xl:col-span-1",children:y.jsx(zpe,{})}),y.jsx("div",{className:"xl:col-span-2",children:y.jsx(Zge,{})})]})]})}const _$="shared_catalogs";async function nve(e,t,n,r){const i={agencyId:e,leadId:t,leadName:n,propertyIds:r,createdAt:Qh()};return(await Xt(En(et,_$),i)).id}async function rve(e){const t=qr(et,_$,e),n=await Mf(t);if(!n.exists())return null;const r={id:n.id,...n.data()};if(!r.propertyIds||r.propertyIds.length===0)return r.properties=[],r;const i=[];for(let s=0;s<r.propertyIds.length;s+=10)i.push(r.propertyIds.slice(s,s+10));const o=[];for(const s of i){const l=wo(En(et,"properties"),Gn("id","in",s));(await UL(l)).forEach(c=>{o.push({firestoreId:c.id,...c.data()})})}return r.properties=o,r}async function x$(e){const t="https://hook.us1.make.com/dummy";try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return n.ok?!0:(console.error("Webhook failed with status:",n.status),!1)}catch(n){return console.error("Error calling webhook:",n),!1}}function ive({lead:e,onClose:t,onSuccess:n}){const{properties:r,loading:i}=Xa(),[o,s]=_.useState(new Set),l=r.filter(v=>{const x=v.status==="active",b=!e.desiredCity||v.city===e.desiredCity,E=!e.maxBudget||v.price<=e.maxBudget,P=!e.minRooms||v.rooms&&v.rooms>=e.minRooms;return x&&b&&E&&P}),[u,c]=_.useState(!1),f=v=>{v.target.checked?s(new Set(l.map(x=>x.id))):s(new Set)},h=v=>{s(x=>{const b=new Set(x);return b.has(v)?b.delete(v):b.add(v),b})},p=async()=>{if(o.size!==0){c(!0);try{const v=await nve(e.agencyId,e.id,e.name,Array.from(o)),b=`${window.location.origin}/catalog/${v}`;await x$({action:"send_catalog",leadPhone:e.phone,leadName:e.name,catalogUrl:b})?n?n("    "):(alert(`  !
: ${b}`),t()):(alert(" ,     -."),t())}catch(v){console.error("Failed to generate catalog",v),alert("  .")}finally{c(!1)}}};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",dir:"rtl",children:y.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-3xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-in slide-in-from-bottom-8 duration-300",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 pl-8 border-b border-slate-100 shrink-0 bg-white",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600",children:y.jsx(cP,{size:24})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[" : ",e.name]}),y.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-sm text-slate-500",children:[e.desiredCity&&y.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-0.5 rounded",children:[y.jsx(Qy,{size:12})," ",e.desiredCity]}),e.maxBudget&&y.jsxs("span",{className:"font-medium",children:[" ",e.maxBudget.toLocaleString()]}),e.minRooms&&y.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-0.5 rounded",children:[y.jsx(ob,{size:12}),"  ",e.minRooms," "]})]})]})]}),y.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 rounded-full transition-colors",children:y.jsx(tp,{size:20})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:i?y.jsx("div",{className:"py-12 flex flex-col items-center justify-center text-slate-400",children:" ..."}):l.length===0?y.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-slate-400 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4 text-slate-300",children:y.jsx(eY,{size:32})}),y.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-1",children:"  "}),y.jsx("p",{className:"text-sm max-w-xs",children:"          ."})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-100 px-4 py-3 rounded-xl mb-6",children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-sm font-semibold text-blue-800",children:[y.jsx("input",{type:"checkbox",checked:o.size===l.length&&l.length>0,onChange:f,className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500 border-blue-300"}),"  (",l.length,"  )"]}),y.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[" ",o.size," "]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.map(v=>y.jsxs("div",{onClick:()=>h(v.id),className:`group relative bg-white border ${o.has(v.id)?"border-blue-500 ring-1 ring-blue-500 shadow-md":"border-slate-200 hover:border-slate-300 hover:shadow-sm"} rounded-2xl p-4 flex gap-4 cursor-pointer transition-all`,children:[y.jsx("div",{className:"absolute top-4 right-4 z-10",children:y.jsx("input",{type:"checkbox",checked:o.has(v.id),readOnly:!0,className:"w-4 h-4 rounded text-blue-600 border-slate-300"})}),y.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-xl flex-shrink-0 overflow-hidden relative border border-slate-100",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-200 to-slate-100"})}),y.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[y.jsx("h3",{className:"font-bold text-slate-800 leading-tight mb-1 pr-6",children:v.address}),y.jsxs("p",{className:"text-sm font-semibold text-blue-600 mb-2",children:["",v.price.toLocaleString()]}),y.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 font-medium",children:[v.rooms&&y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(ob,{size:12,className:"text-slate-400"}),v.rooms," "]}),v.type==="rent"?y.jsx("span",{className:"bg-emerald-50 text-emerald-600 px-1.5 py-0.5 rounded",children:""}):y.jsx("span",{className:"bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded",children:""})]})]})]},v.id))})]})}),y.jsxs("div",{className:"p-5 border-t border-slate-100 bg-white flex justify-between items-center shrink-0",children:[y.jsx("button",{onClick:t,className:"px-5 py-2.5 text-sm font-semibold text-slate-600 hover:text-slate-800 transition-colors",children:""}),y.jsxs("button",{onClick:p,disabled:o.size===0,className:`inline-flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${o.size>0?"bg-blue-600 hover:bg-blue-700 text-white shadow-md":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:[y.jsx(aY,{size:16}),"    (",o.size,")"]})]})]})})}function ove({show:e,message:t,type:n,onClose:r}){return _.useEffect(()=>{if(e){const i=setTimeout(()=>{r()},3e3);return()=>clearTimeout(i)}},[e,r]),e?y.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-5 fade-in duration-300",dir:"rtl",children:y.jsxs("div",{className:`flex items-center gap-3 px-5 py-3.5 rounded-2xl shadow-xl border ${n==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800 shadow-emerald-500/10":"bg-red-50 border-red-200 text-red-800 shadow-red-500/10"}`,children:[n==="success"?y.jsx(uP,{size:20,className:"text-emerald-600"}):y.jsx(NY,{size:20,className:"text-red-600"}),y.jsx("span",{className:"font-bold text-sm",children:t})]})}):null}const VN={Hot:"bg-red-50 text-red-600 border border-red-100",Warm:"bg-amber-50 text-amber-600 border border-amber-100",Cold:"bg-sky-50 text-sky-600 border border-sky-100"},$N={All:"",Hot:"",Warm:"",Cold:""};function sve(){const{leads:e=[],loading:t}=Xa(),[n,r]=_.useState(""),[i,o]=_.useState("All"),[s,l]=_.useState(new Set),[u,c]=_.useState(null),[f,h]=_.useState({show:!1,message:"",type:"success"}),p=e.filter(E=>{var C;const P=E.name.toLowerCase().includes(n.toLowerCase())||((C=E.phone)==null?void 0:C.includes(n))||"",T=i==="All"||E.status===i;return P&&T}),v=E=>{E.target.checked?l(new Set(p.map(P=>P.id))):l(new Set)},x=E=>{l(P=>{const T=new Set(P);return T.has(E)?T.delete(E):T.add(E),T})},b=async()=>{const E=e.filter(T=>s.has(T.id)).map(T=>({phone:T.phone,name:T.name})),P=await x$({action:"bulk_broadcast",message:"   ()",leads:E});h(P?{show:!0,message:"   ",type:"success"}:{show:!0,message:"   ",type:"error"}),l(new Set)};return y.jsxs("div",{className:"space-y-6",dir:"rtl",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:"  ()"}),y.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[e.length,"  "]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[s.size>0&&y.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 border border-emerald-200 text-sm font-semibold px-4 py-2 rounded-xl transition-colors shadow-sm animate-in fade-in zoom-in duration-200",children:[y.jsx(n5,{size:16}),y.jsxs("span",{children:["   (",s.size,")"]})]}),y.jsxs("button",{className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[y.jsx(r5,{size:16})," "]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[y.jsxs("div",{className:"relative flex-1 max-w-sm",children:[y.jsx(o5,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),y.jsx("input",{value:n,onChange:E=>r(E.target.value),placeholder:"    ...",className:"w-full bg-slate-50 border border-slate-200 rounded-lg pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all text-right placeholder-slate-400"})]}),y.jsx("div",{className:"flex gap-2 mr-auto sm:mr-0",children:["All","Hot","Warm","Cold"].map(E=>y.jsx("button",{onClick:()=>o(E),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors "+(i===E?"bg-blue-600 text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-slate-100 border border-slate-200"),children:$N[E]},E))})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-right border-collapse",children:[y.jsx("thead",{className:"bg-slate-50/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"text-right px-4 py-3 border-b border-slate-100 w-12",children:y.jsx("input",{type:"checkbox",checked:p.length>0&&s.size===p.length,onChange:v,className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),[" "," ..."," ","",""].map(E=>y.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100",children:E},E))]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:t?y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-slate-400 text-sm",children:" ..."})}):p.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-slate-400 text-sm",children:"     ."})}):p.map(E=>{var P;return y.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[y.jsx("td",{className:"px-4 py-4 w-12",children:y.jsx("input",{type:"checkbox",checked:s.has(E.id),onChange:()=>x(E.id),className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),y.jsx("td",{className:"px-4 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center text-sm font-bold text-blue-700 flex-shrink-0",children:E.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("span",{className:"block text-sm font-semibold text-slate-800",children:E.name}),y.jsx("span",{className:"block text-xs text-slate-500 mt-0.5",dir:"ltr",children:E.phone})]})]})}),y.jsx("td",{className:"px-4 py-4 align-top",children:y.jsxs("div",{className:"space-y-1",children:[E.desiredCity&&y.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-600 bg-slate-100 rounded px-2 py-0.5",children:[y.jsx(Qy,{size:10}),E.desiredCity]}),E.maxBudget&&y.jsxs("span",{className:"block text-xs font-medium text-slate-700",children:[" ",E.maxBudget.toLocaleString()]}),E.minRooms&&y.jsxs("span",{className:"block text-xs text-slate-500",children:[E.minRooms,"  "]}),!E.desiredCity&&!E.maxBudget&&y.jsx("span",{className:"text-xs text-slate-400 italic",children:" "})]})}),y.jsxs("td",{className:"px-4 py-4 align-top",children:[y.jsxs("div",{className:"text-sm font-medium text-slate-700",children:[(P=E.assignedTo)==null?void 0:P.slice(0,5),"..."]}),y.jsx("span",{className:"text-[10px] text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded mt-1 inline-block",children:E.source})]}),y.jsx("td",{className:"px-4 py-4 align-top",children:y.jsx("span",{className:"inline-flex text-xs font-semibold px-2.5 py-1 rounded-full "+(VN[E.status]||VN.Cold),children:$N[E.status]||E.status||" "})}),y.jsx("td",{className:"px-4 py-4 align-middle",children:y.jsxs("button",{onClick:T=>{T.stopPropagation(),c(E)},className:"bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 px-3 py-1.5 rounded-lg text-xs font-semibold flex items-center gap-1 transition-colors",children:[y.jsx(cP,{size:14})," "]})})]},E.id)})})]})}),y.jsx("div",{className:"px-4 py-3 border-t border-slate-100 flex items-center justify-between bg-slate-50/50",children:y.jsxs("p",{className:"text-xs text-slate-500",children:[" ",y.jsx("span",{className:"font-semibold text-slate-700",children:p.length})," "]})})]}),u&&y.jsx(ive,{lead:u,onClose:()=>c(null)}),y.jsx(ove,{show:f.show,message:f.message,type:f.type,onClose:()=>h(E=>({...E,show:!1}))})]})}const ave={contract:"bg-emerald-50 text-emerald-700 border border-emerald-100",offer:"bg-amber-50 text-amber-600 border border-amber-100",negotiation:"bg-sky-50 text-sky-600 border border-sky-100",showing:"bg-indigo-50 text-indigo-600 border border-indigo-100",lead:"bg-slate-50 text-slate-600 border border-slate-100"},lve={contract:" ()",offer:" ",negotiation:" ",showing:" ",lead:" "};function uve(){const{data:e,loading:t}=a_(),{data:n,loading:r}=KV(),i=_.useMemo(()=>e.filter(l=>l.stage==="contract"||l.stage==="offer").map(l=>{const u=n.find(c=>c.uid===l.agentId);return{id:l.id.slice(0,8).toUpperCase(),property:l.propertyId?` ${l.propertyId.slice(0,5)}`:" ",buyer:l.leadId?` ${l.leadId.slice(0,5)}`:"  ",agent:(u==null?void 0:u.name)||" ",amountRaw:0,amount:"-",commissionRaw:l.projectedCommission||0,commission:`${((l.projectedCommission||0)/1e3).toFixed(0)}K`,status:l.stage,date:l.updatedAt?l.updatedAt.toDate().toLocaleDateString("he-IL"):" ",timestamp:l.updatedAt?l.updatedAt.toMillis():0}}).sort((l,u)=>u.timestamp-l.timestamp),[e,n]);if(t||r)return y.jsx("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:y.jsx("div",{className:"animate-pulse flex gap-2",children:y.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})});const o=i.reduce((l,u)=>l+u.amountRaw,0),s=i.reduce((l,u)=>l+u.commissionRaw,0);return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-slate-900",children:""}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"     ( )"})]}),y.jsxs("button",{className:"inline-flex items-center gap-2 bg-slate-800 hover:bg-slate-900 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[y.jsx(hY,{size:15})," CSV"]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:" ",value:`${(o/1e6).toFixed(2)}M`,sub:`${i.length} `},{label:" ",value:`${(s/1e3).toFixed(0)}K`,sub:"  "},{label:" ",value:`${i.filter(l=>l.status==="contract").length}`,sub:`${i.filter(l=>l.status==="offer").length} `}].map(l=>y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[y.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide",children:l.label}),y.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-2",children:l.value}),y.jsx("p",{className:"text-xs text-slate-400 mt-1",children:l.sub})]},l.label))}),y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-4 border-b border-slate-100",children:y.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:" "})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-right",children:[y.jsx("thead",{children:y.jsx("tr",{className:"border-b border-slate-100",children:["","","","","  ()","",""," "].map(l=>y.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wide whitespace-nowrap",children:l},l))})}),y.jsx("tbody",{children:i.length>0?i.map((l,u)=>y.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${u<i.length-1?"border-b border-slate-50":""}`,children:[y.jsx("td",{className:"px-4 py-3.5 text-sm font-semibold text-blue-600 whitespace-nowrap",children:l.id}),y.jsx("td",{className:"px-4 py-3.5 text-sm text-slate-700 font-medium max-w-[200px] truncate",children:l.property}),y.jsx("td",{className:"px-4 py-3.5 text-sm text-slate-600 whitespace-nowrap",children:l.buyer}),y.jsx("td",{className:"px-4 py-3.5 text-sm text-slate-600 whitespace-nowrap",children:l.agent}),y.jsx("td",{className:"px-4 py-3.5 text-sm font-bold text-slate-900 whitespace-nowrap",children:l.amount}),y.jsx("td",{className:"px-4 py-3.5 text-sm font-semibold text-emerald-600 whitespace-nowrap",children:l.commission}),y.jsx("td",{className:"px-4 py-3.5 whitespace-nowrap",children:y.jsx("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full ${ave[l.status]||"bg-slate-50 text-slate-500"}`,children:lve[l.status]||l.status})}),y.jsx("td",{className:"px-4 py-3.5 text-sm text-slate-400 whitespace-nowrap",children:l.date})]},l.id)):y.jsx("tr",{children:y.jsx("td",{colSpan:8,className:"text-center py-8 text-slate-400 text-sm",children:"   "})})})]})})]})]})}function cve(e,t){const n=wo(En(et,"users"),Gn("agencyId","==",e));return ia(n,r=>{const i=r.docs.map(o=>({uid:o.id,...o.data()}));t(i)})}async function dve(e,t,n,r){await GL(ZL,"users-inviteAgent")({email:n,name:t,role:r})}async function fve(e,t){const n=qr(et,"users",e);await Jh(n,{role:t})}async function hve(e,t){const n=qr(et,"users",e);await Jh(n,{isActive:t})}function w$({onClose:e,onSuccess:t}){const{userData:n}=Vs(),[r,i]=_.useState(""),[o,s]=_.useState(""),[l,u]=_.useState("agent"),[c,f]=_.useState(!1),[h,p]=_.useState(""),v=async x=>{if(x.preventDefault(),p(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){p("   ");return}if(!(n!=null&&n.agencyId)){p("     ");return}try{f(!0),await dve(n.agencyId,r.trim(),o.trim().toLowerCase(),l),t()}catch(E){console.error("Failed to invite agent:",E),p("  .  .")}finally{f(!1)}};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:e}),y.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",dir:"rtl",children:[y.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-9 h-9 bg-blue-50 rounded-xl flex items-center justify-center",children:y.jsx(id,{size:18,className:"text-blue-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),y.jsx("p",{className:"text-xs text-slate-400",children:"    Google"})]})]}),y.jsx("button",{onClick:e,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:y.jsx(tp,{size:18})})]}),y.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:["  ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),required:!0,placeholder:" ",className:"w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:["  ",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"email",value:o,onChange:x=>s(x.target.value),required:!0,placeholder:"agent@example.com",className:"w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",dir:"ltr"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:""}),y.jsx("div",{className:"flex gap-3",children:["agent","admin"].map(x=>y.jsx("button",{type:"button",onClick:()=>u(x),className:`flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold border transition-all ${l===x?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:x==="agent"?"":""},x))})]}),h&&y.jsx("p",{className:"text-xs text-red-600 bg-red-50 border border-red-100 rounded-xl px-3 py-2.5",children:h}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),y.jsx("button",{type:"submit",disabled:c||!r||!o,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:c?"...":" "})]})]})]})]})}function pve(){const{data:e,loading:t}=qV(),[n,r]=_.useState(!1),[i,o]=_.useState("");if(t)return y.jsx("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:y.jsx("div",{className:"animate-pulse flex gap-2",children:y.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})});const s=l=>l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(0)}K`:`${l}`;return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-slate-900",children:""}),y.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[e.length,"   "]})]}),y.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[y.jsx(id,{size:15})," "]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.length>0?e.map(l=>y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 hover:shadow-md transition-all duration-200 cursor-pointer group",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center font-bold text-sm flex-shrink-0 ${l.avatarColor}`,children:l.avatar}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:l.name}),y.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:' "'})]})]}),y.jsxs("div",{className:"flex items-center gap-1 bg-amber-50 px-2 py-1 rounded-lg",children:[y.jsx(a5,{size:11,className:"text-amber-500 fill-amber-500"}),y.jsx("span",{className:"text-xs font-bold text-amber-600",children:l.rating})]})]}),y.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[{label:" ",value:s(l.sales)},{label:" ()",value:l.deals.toString()},{label:" ",value:s(l.monthlyTarget)},{label:"%  ",value:`${Math.round(l.sales/l.monthlyTarget*100)}%`}].map(u=>y.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[y.jsx("p",{className:"text-xs text-slate-400 font-medium",children:u.label}),y.jsx("p",{className:"text-sm font-bold text-slate-800 mt-0.5",children:u.value})]},u.label))}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-semibold text-emerald-700 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 inline-block"}),""]}),y.jsx("span",{className:"text-xs text-slate-400 font-medium",children:(l.id??"").slice(0,8).toUpperCase()})]})]},l.id)):y.jsx("div",{className:"col-span-full py-12 text-center text-slate-500 text-sm",children:"    "})}),n&&y.jsx(w$,{onClose:()=>r(!1),onSuccess:()=>{r(!1),o("  ! "),setTimeout(()=>o(""),3500)}}),i&&y.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-sm font-medium px-5 py-3 rounded-2xl shadow-xl z-50",children:i})]})}const mve=({role:e})=>e==="admin"?y.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-violet-50 text-violet-700 border border-violet-100",children:[y.jsx(s5,{size:11}),""]}):y.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-100",children:""}),gve=({isActive:e})=>e!==!1?y.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100",children:""}):y.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-slate-100 text-slate-500 border border-slate-200",children:""});function vve({member:e,isSelf:t,onRoleChange:n,onStatusToggle:r}){const[i,o]=_.useState(!1),s=e.isActive!==!1;return t?y.jsx("span",{className:"text-xs text-slate-300 italic",children:" "}):y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>o(l=>!l),className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors",children:y.jsx(PY,{size:16})}),i&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),y.jsxs("div",{className:"absolute left-0 top-8 z-20 bg-white rounded-xl shadow-xl border border-slate-100 py-1 min-w-[160px]",children:[y.jsxs("button",{onClick:()=>{n(e.uid,e.role),o(!1)},className:"flex items-center gap-2.5 w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[y.jsx(i5,{size:14,className:"text-slate-400"})," ",e.role==="admin"?"":""]}),y.jsxs("button",{onClick:()=>{r(e.uid,s),o(!1)},className:`flex items-center gap-2.5 w-full px-4 py-2.5 text-sm transition-colors ${s?"text-red-600 hover:bg-red-50":"text-emerald-600 hover:bg-emerald-50"}`,children:[s?y.jsx(CY,{size:14}):y.jsx(s5,{size:14}),s?"":" "]})]})]})]})}function yve(){const{userData:e,currentUser:t}=Vs(),[n,r]=_.useState([]),[i,o]=_.useState(!1),[s,l]=_.useState(""),[u,c]=_.useState(!0),f=v=>{l(v),setTimeout(()=>l(""),3500)};_.useEffect(()=>e!=null&&e.agencyId?cve(e.agencyId,x=>{r(x),c(!1)}):void 0,[e==null?void 0:e.agencyId]);const h=async(v,x)=>{try{await fve(v,x==="admin"?"agent":"admin"),f("  ")}catch{f("  ")}},p=async(v,x)=>{try{await hve(v,!x),f(x?" ":"  ")}catch{f("  ")}};return y.jsxs("div",{className:"space-y-5",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),y.jsxs("p",{className:"text-sm text-slate-400 mt-0.5",children:[n.length,"  "]})]}),y.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[y.jsx(id,{size:16})," "]})]}),y.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:u?y.jsx("div",{className:"py-16 text-center text-sm text-slate-400",children:"  ..."}):n.length===0?y.jsxs("div",{className:"py-16 text-center",children:[y.jsx("p",{className:"text-sm font-medium text-slate-600",children:"   "}),y.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"    "})]}):y.jsxs("table",{className:"w-full text-right",dir:"rtl",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b border-slate-100",children:[y.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),y.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),y.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),y.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),y.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-slate-50",children:n.map(v=>{var E;const x=v.uid===(t==null?void 0:t.uid)||v.email===(t==null?void 0:t.email),b=!!v.uid;return y.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[y.jsx("td",{className:"px-5 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-violet-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:((E=v.name)==null?void 0:E.charAt(0))||"?"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-slate-800",children:v.name}),!b&&y.jsx("p",{className:"text-[10px] text-amber-600 font-medium mt-0.5",children:" "})]})]})}),y.jsx("td",{className:"px-5 py-4 text-sm text-slate-500",dir:"ltr",children:v.email}),y.jsx("td",{className:"px-5 py-4",children:y.jsx(mve,{role:v.role})}),y.jsx("td",{className:"px-5 py-4",children:y.jsx(gve,{isActive:v.isActive})}),y.jsx("td",{className:"px-5 py-4",children:y.jsx(vve,{member:v,isSelf:x,onRoleChange:h,onStatusToggle:p})})]},v.uid||v.email)})})]})}),i&&y.jsx(w$,{onClose:()=>o(!1),onSuccess:()=>{o(!1),f("  ! ")}}),s&&y.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-sm font-medium px-5 py-3 rounded-2xl shadow-xl z-50 animate-fade-in",children:s})]})}const FN=[{id:"profile",label:"",icon:FI},{id:"team",label:" ",icon:FI},{id:"notifications",label:"",icon:XL},{id:"security",label:"",icon:IY},{id:"appearance",label:"",icon:SY},{id:"integrations",label:"",icon:e5},{id:"billing",label:"",icon:dY}];function _ve({defaultChecked:e=!1}){const[t,n]=_.useState(e);return y.jsx("button",{onClick:()=>n(!t),className:`relative w-10 h-5.5 rounded-full transition-colors duration-200 flex-shrink-0 ${t?"bg-blue-600":"bg-slate-200"}`,style:{height:"22px",width:"40px"},children:y.jsx("span",{className:`absolute top-0.5 left-0.5 w-4.5 h-4.5 rounded-full bg-white shadow transition-transform duration-200 ${t?"translate-x-[18px]":"translate-x-0"}`,style:{width:"18px",height:"18px"}})})}function xve(){const[e,t]=_.useState("profile");return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-slate-900",children:""}),y.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"    "})]}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[y.jsx("div",{className:"lg:w-56 flex-shrink-0",children:y.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-2",children:FN.map(({id:n,label:r,icon:i})=>y.jsxs("button",{onClick:()=>t(n),className:`flex items-center gap-3 w-full px-3 py-2.5 rounded-xl text-sm font-medium transition-all ${e===n?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-800 hover:bg-slate-50"}`,children:[y.jsx(i,{size:16}),r]},n))})}),y.jsxs("div",{className:"flex-1 space-y-4",children:[e==="profile"&&y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-6",children:[y.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-violet-600 flex items-center justify-center text-white text-xl font-bold",children:""}),y.jsxs("div",{children:[y.jsx("button",{className:"text-sm font-semibold text-blue-600 hover:text-blue-700",children:" "}),y.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"JPG, GIF  PNG.   2MB"})]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:" ",value:""},{label:" ",value:""},{label:" ",value:"omer@novacorp.co.il"},{label:" ",value:"050-0000000"},{label:"",value:" "},{label:"",value:"NovaCorp "}].map(n=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:n.label}),y.jsx("input",{defaultValue:n.value,className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50"})]},n.label))}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl transition-colors",children:" "})})]}),e==="notifications"&&y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[y.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-5",children:" "}),y.jsx("div",{className:"space-y-4",children:[{label:" ",sub:"    ",on:!0},{label:" ",sub:"    ",on:!0},{label:" ",sub:"   ",on:!1},{label:" ",sub:"     ",on:!0},{label:" ",sub:"    ",on:!1},{label:" ",sub:"     ",on:!0}].map(n=>y.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-50 last:border-0",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-slate-800",children:n.label}),y.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:n.sub})]}),y.jsx(_ve,{defaultChecked:n.on})]},n.label))})]}),e==="security"&&y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-5",children:[y.jsx("h2",{className:"text-base font-semibold text-slate-900",children:""}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:" "}),y.jsx("input",{type:"password",placeholder:"",className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all"})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:" "}),y.jsx("input",{type:"password",placeholder:"",className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"  "}),y.jsx("input",{type:"password",placeholder:"",className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all"})]})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl transition-colors",children:" "})})]}),e==="team"&&y.jsx(yve,{}),(e==="appearance"||e==="integrations"||e==="billing")&&y.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-12 text-center",children:[y.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(()=>{const n=FN.find(i=>i.id===e),r=n?n.icon:e5;return y.jsx(r,{size:22,className:"text-slate-400"})})()}),y.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:""}),y.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"       ."})]})]})]})]})}function wve(){const{token:e}=fU(),[t,n]=_.useState(null),[r,i]=_.useState(!0),[o,s]=_.useState(null);if(_.useEffect(()=>{async function p(){if(e)try{const v=await rve(e);v?n(v):s("      .")}catch(v){console.error(v),s("   .")}finally{i(!1)}}p()},[e]),r)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),y.jsx("p",{className:"text-slate-500 font-medium",children:" ..."})]});if(o||!t)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[y.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mb-6",children:y.jsx($I,{size:32})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"!"}),y.jsx("p",{className:"text-slate-600 mb-8 max-w-sm",children:o||" ."})]});const{leadName:l,properties:u=[]}=t,c="972501234567",f=encodeURIComponent(`,      (${window.location.href})   .`),h=`https://wa.me/${c}?text=${f}`;return y.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-white shadow-xl relative pb-24",children:[y.jsxs("header",{className:"bg-slate-900 text-white p-6 rounded-b-3xl shadow-lg relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center mb-4 border border-white/20",children:y.jsx($I,{size:28,className:"text-blue-300"})}),y.jsx("h1",{className:"text-2xl font-bold mb-1",children:l?`   ${l}`:"  "}),y.jsxs("p",{className:"text-blue-200 text-sm",children:[" ",u.length,"    "]})]})]}),y.jsx("div",{className:"p-4 space-y-6 mt-6",children:u.map((p,v)=>y.jsxs("div",{className:"bg-white border text-right border-slate-100 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"h-48 bg-slate-100 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"}),y.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:y.jsx("span",{className:`px-2.5 py-1 text-xs font-bold rounded-lg shadow-sm backdrop-blur-sm ${p.type==="rent"?"bg-emerald-500/90 text-white":"bg-blue-600/90 text-white"}`,children:p.type==="rent"?"":""})})]}),y.jsxs("div",{className:"p-5",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2 leading-tight",children:p.address}),y.jsxs("div",{className:"text-2xl font-black text-blue-600 mb-4",children:["",p.price.toLocaleString()]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-slate-600 bg-slate-50 p-3 rounded-2xl",children:[p.city&&y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(Qy,{size:16,className:"text-slate-400"}),y.jsx("span",{children:p.city})]}),p.rooms&&y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(ob,{size:16,className:"text-slate-400"}),y.jsxs("span",{children:[p.rooms," "]})]})]})]})]},p.id||v))}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto p-4 bg-gradient-to-t from-white via-white to-transparent pb-6 pt-12 z-50 pointer-events-none",children:y.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white flex items-center justify-center gap-3 py-4 rounded-2xl font-bold text-lg shadow-lg shadow-[#25D366]/30 transition-transform active:scale-95 pointer-events-auto",children:[y.jsx(n5,{size:24}),y.jsx("span",{children:"  "})]})})]})}function bve(){return y.jsx(XU,{children:y.jsxs(AU,{children:[y.jsx(ji,{path:"/login",element:y.jsx(WY,{})}),y.jsx(ji,{element:y.jsx(UY,{}),children:y.jsx(ji,{path:"/catalog/:token",element:y.jsx(wve,{})})}),y.jsx(ji,{path:"/onboarding",element:y.jsx(BI,{children:y.jsx(HY,{})})}),y.jsxs(ji,{path:"/",element:y.jsx(BI,{children:y.jsx(BY,{})}),children:[y.jsx(ji,{index:!0,element:y.jsx(Zd,{children:y.jsx(tve,{})})}),y.jsx(ji,{path:"leads",element:y.jsx(Zd,{children:y.jsx(sve,{})})}),y.jsx(ji,{path:"transactions",element:y.jsx(Zd,{children:y.jsx(uve,{})})}),y.jsx(ji,{path:"agents",element:y.jsx(Zd,{children:y.jsx(pve,{})})}),y.jsx(ji,{path:"settings",element:y.jsx(Zd,{children:y.jsx(xve,{})})})]})]})})}ej(document.getElementById("root")).render(y.jsx(_.StrictMode,{children:y.jsx(YZ,{children:y.jsx(bve,{})})}));
