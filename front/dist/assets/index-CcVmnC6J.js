var I9=Object.defineProperty;var k9=(e,t,n)=>t in e?I9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Im=(e,t,n)=>k9(e,typeof t!="symbol"?t+"":t,n);function N9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var O9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var SR={exports:{}},Zy={},PR={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=Symbol.for("react.element"),j9=Symbol.for("react.portal"),R9=Symbol.for("react.fragment"),M9=Symbol.for("react.strict_mode"),D9=Symbol.for("react.profiler"),L9=Symbol.for("react.provider"),z9=Symbol.for("react.context"),V9=Symbol.for("react.forward_ref"),F9=Symbol.for("react.suspense"),$9=Symbol.for("react.memo"),B9=Symbol.for("react.lazy"),cC=Symbol.iterator;function U9(e){return e===null||typeof e!="object"?null:(e=cC&&e[cC]||e["@@iterator"],typeof e=="function"?e:null)}var TR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AR=Object.assign,CR={};function Sd(e,t,n){this.props=e,this.context=t,this.refs=CR,this.updater=n||TR}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IR(){}IR.prototype=Sd.prototype;function cE(e,t,n){this.props=e,this.context=t,this.refs=CR,this.updater=n||TR}var dE=cE.prototype=new IR;dE.constructor=cE;AR(dE,Sd.prototype);dE.isPureReactComponent=!0;var dC=Array.isArray,kR=Object.prototype.hasOwnProperty,fE={current:null},NR={key:!0,ref:!0,__self:!0,__source:!0};function OR(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)kR.call(t,r)&&!NR.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hp,type:e,key:s,ref:o,props:i,_owner:fE.current}}function W9(e,t){return{$$typeof:hp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hE(e){return typeof e=="object"&&e!==null&&e.$$typeof===hp}function H9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fC=/\/+/g;function p_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H9(""+e.key):t.toString(36)}function Sg(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hp:case j9:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+p_(o,0):r,dC(i)?(n="",e!=null&&(n=e.replace(fC,"$&/")+"/"),Sg(i,t,n,"",function(c){return c})):i!=null&&(hE(i)&&(i=W9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fC,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",dC(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+p_(s,a);o+=Sg(s,t,n,u,i)}else if(u=U9(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+p_(s,a++),o+=Sg(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function km(e,t,n){if(e==null)return e;var r=[],i=0;return Sg(e,r,"","",function(s){return t.call(n,s,i++)}),r}function q9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sr={current:null},Pg={transition:null},K9={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:Pg,ReactCurrentOwner:fE};function jR(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:km,forEach:function(e,t,n){km(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return km(e,function(){t++}),t},toArray:function(e){return km(e,function(t){return t})||[]},only:function(e){if(!hE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=Sd;We.Fragment=R9;We.Profiler=D9;We.PureComponent=cE;We.StrictMode=M9;We.Suspense=F9;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K9;We.act=jR;We.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=AR({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=fE.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)kR.call(t,u)&&!NR.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hp,type:e.type,key:i,ref:s,props:r,_owner:o}};We.createContext=function(e){return e={$$typeof:z9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L9,_context:e},e.Consumer=e};We.createElement=OR;We.createFactory=function(e){var t=OR.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:V9,render:e}};We.isValidElement=hE;We.lazy=function(e){return{$$typeof:B9,_payload:{_status:-1,_result:e},_init:q9}};We.memo=function(e,t){return{$$typeof:$9,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=Pg.transition;Pg.transition={};try{e()}finally{Pg.transition=t}};We.unstable_act=jR;We.useCallback=function(e,t){return Sr.current.useCallback(e,t)};We.useContext=function(e){return Sr.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Sr.current.useDeferredValue(e)};We.useEffect=function(e,t){return Sr.current.useEffect(e,t)};We.useId=function(){return Sr.current.useId()};We.useImperativeHandle=function(e,t,n){return Sr.current.useImperativeHandle(e,t,n)};We.useInsertionEffect=function(e,t){return Sr.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Sr.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Sr.current.useMemo(e,t)};We.useReducer=function(e,t,n){return Sr.current.useReducer(e,t,n)};We.useRef=function(e){return Sr.current.useRef(e)};We.useState=function(e){return Sr.current.useState(e)};We.useSyncExternalStore=function(e,t,n){return Sr.current.useSyncExternalStore(e,t,n)};We.useTransition=function(){return Sr.current.useTransition()};We.version="18.3.1";PR.exports=We;var x=PR.exports;const vt=oo(x),G9=N9({__proto__:null,default:vt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z9=x,Y9=Symbol.for("react.element"),X9=Symbol.for("react.fragment"),Q9=Object.prototype.hasOwnProperty,J9=Z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eU={key:!0,ref:!0,__self:!0,__source:!0};function RR(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Q9.call(t,r)&&!eU.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Y9,type:e,key:s,ref:o,props:i,_owner:J9.current}}Zy.Fragment=X9;Zy.jsx=RR;Zy.jsxs=RR;SR.exports=Zy;var h=SR.exports,MR={exports:{}},hi={},DR={exports:{}},LR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,ne){var K=W.length;W.push(ne);e:for(;0<K;){var oe=K-1>>>1,ue=W[oe];if(0<i(ue,ne))W[oe]=ne,W[K]=ue,K=oe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],K=W.pop();if(K!==ne){W[0]=K;e:for(var oe=0,ue=W.length,Ae=ue>>>1;oe<Ae;){var be=2*(oe+1)-1,Ce=W[be],ge=be+1,$e=W[ge];if(0>i(Ce,K))ge<ue&&0>i($e,Ce)?(W[oe]=$e,W[ge]=K,oe=ge):(W[oe]=Ce,W[be]=K,oe=be);else if(ge<ue&&0>i($e,K))W[oe]=$e,W[ge]=K,oe=ge;else break e}}return ne}function i(W,ne){var K=W.sortIndex-ne.sortIndex;return K!==0?K:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,m=3,y=!1,_=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(W){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=W)r(c),ne.sortIndex=ne.expirationTime,t(u,ne);else break;ne=n(c)}}function O(W){if(E=!1,A(W),!_)if(n(u)!==null)_=!0,se(M);else{var ne=n(c);ne!==null&&ie(O,ne.startTime-W)}}function M(W,ne){_=!1,E&&(E=!1,S(C),C=-1),y=!0;var K=m;try{for(A(ne),p=n(u);p!==null&&(!(p.expirationTime>ne)||W&&!j());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,m=p.priorityLevel;var ue=oe(p.expirationTime<=ne);ne=e.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&r(u),A(ne)}else r(u);p=n(u)}if(p!==null)var Ae=!0;else{var be=n(c);be!==null&&ie(O,be.startTime-ne),Ae=!1}return Ae}finally{p=null,m=K,y=!1}}var z=!1,k=null,C=-1,R=5,$=-1;function j(){return!(e.unstable_now()-$<R)}function V(){if(k!==null){var W=e.unstable_now();$=W;var ne=!0;try{ne=k(!0,W)}finally{ne?F():(z=!1,k=null)}}else z=!1}var F;if(typeof P=="function")F=function(){P(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,fe=J.port2;J.port1.onmessage=V,F=function(){fe.postMessage(null)}}else F=function(){w(V,0)};function se(W){k=W,z||(z=!0,F())}function ie(W,ne){C=w(function(){W(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,se(M))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var K=m;m=ne;try{return W()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var K=m;m=W;try{return ne()}finally{m=K}},e.unstable_scheduleCallback=function(W,ne,K){var oe=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,W){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=K+ue,W={id:d++,callback:ne,priorityLevel:W,startTime:K,expirationTime:ue,sortIndex:-1},K>oe?(W.sortIndex=K,t(c,W),n(u)===null&&W===n(c)&&(E?(S(C),C=-1):E=!0,ie(O,K-oe))):(W.sortIndex=ue,t(u,W),_||y||(_=!0,se(M))),W},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(W){var ne=m;return function(){var K=m;m=ne;try{return W.apply(this,arguments)}finally{m=K}}}})(LR);DR.exports=LR;var tU=DR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nU=x,ci=tU;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zR=new Set,gh={};function Ou(e,t){td(e,t),td(e+"Capture",t)}function td(e,t){for(gh[e]=t,e=0;e<t.length;e++)zR.add(t[e])}var qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lb=Object.prototype.hasOwnProperty,rU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hC={},pC={};function iU(e){return Lb.call(pC,e)?!0:Lb.call(hC,e)?!1:rU.test(e)?pC[e]=!0:(hC[e]=!0,!1)}function sU(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oU(e,t,n,r){if(t===null||typeof t>"u"||sU(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var pE=/[\-:]([a-z])/g;function mE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pE,mE);Wn[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pE,mE);Wn[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pE,mE);Wn[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function gE(e,t,n,r){var i=Wn.hasOwnProperty(t)?Wn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oU(t,n,i,r)&&(n=null),r||i===null?iU(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var da=nU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nm=Symbol.for("react.element"),Sc=Symbol.for("react.portal"),Pc=Symbol.for("react.fragment"),vE=Symbol.for("react.strict_mode"),zb=Symbol.for("react.profiler"),VR=Symbol.for("react.provider"),FR=Symbol.for("react.context"),yE=Symbol.for("react.forward_ref"),Vb=Symbol.for("react.suspense"),Fb=Symbol.for("react.suspense_list"),xE=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),$R=Symbol.for("react.offscreen"),mC=Symbol.iterator;function vf(e){return e===null||typeof e!="object"?null:(e=mC&&e[mC]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,m_;function Lf(e){if(m_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);m_=t&&t[1]||""}return`
`+m_+e}var g_=!1;function v_(e,t){if(!e||g_)return"";g_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{g_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lf(e):""}function aU(e){switch(e.tag){case 5:return Lf(e.type);case 16:return Lf("Lazy");case 13:return Lf("Suspense");case 19:return Lf("SuspenseList");case 0:case 2:case 15:return e=v_(e.type,!1),e;case 11:return e=v_(e.type.render,!1),e;case 1:return e=v_(e.type,!0),e;default:return""}}function $b(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pc:return"Fragment";case Sc:return"Portal";case zb:return"Profiler";case vE:return"StrictMode";case Vb:return"Suspense";case Fb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FR:return(e.displayName||"Context")+".Consumer";case VR:return(e._context.displayName||"Context")+".Provider";case yE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xE:return t=e.displayName||null,t!==null?t:$b(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return $b(e(t))}catch{}}return null}function lU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $b(t);case 8:return t===vE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uU(e){var t=BR(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Om(e){e._valueTracker||(e._valueTracker=uU(e))}function UR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=BR(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bb(e,t){var n=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WR(e,t){t=t.checked,t!=null&&gE(e,"checked",t,!1)}function Ub(e,t){WR(e,t);var n=sl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wb(e,t.type,sl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wb(e,t,n){(t!=="number"||tv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zf=Array.isArray;function Vc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(zf(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sl(n)}}function HR(e,t){var n=sl(t.value),r=sl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jm,KR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jm=jm||document.createElement("div"),jm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cU=["Webkit","ms","Moz","O"];Object.keys(Yf).forEach(function(e){cU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yf[t]=Yf[e]})});function GR(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yf.hasOwnProperty(e)&&Yf[e]?(""+t).trim():t+"px"}function ZR(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GR(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var dU=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kb(e,t){if(t){if(dU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Gb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=null;function _E(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yb=null,Fc=null,$c=null;function _C(e){if(e=gp(e)){if(typeof Yb!="function")throw Error(le(280));var t=e.stateNode;t&&(t=e0(t),Yb(e.stateNode,e.type,t))}}function YR(e){Fc?$c?$c.push(e):$c=[e]:Fc=e}function XR(){if(Fc){var e=Fc,t=$c;if($c=Fc=null,_C(e),t)for(e=0;e<t.length;e++)_C(t[e])}}function QR(e,t){return e(t)}function JR(){}var y_=!1;function eM(e,t,n){if(y_)return e(t,n);y_=!0;try{return QR(e,t,n)}finally{y_=!1,(Fc!==null||$c!==null)&&(JR(),XR())}}function yh(e,t){var n=e.stateNode;if(n===null)return null;var r=e0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var Xb=!1;if(qo)try{var yf={};Object.defineProperty(yf,"passive",{get:function(){Xb=!0}}),window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{Xb=!1}function fU(e,t,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Xf=!1,nv=null,rv=!1,Qb=null,hU={onError:function(e){Xf=!0,nv=e}};function pU(e,t,n,r,i,s,o,a,u){Xf=!1,nv=null,fU.apply(hU,arguments)}function mU(e,t,n,r,i,s,o,a,u){if(pU.apply(this,arguments),Xf){if(Xf){var c=nv;Xf=!1,nv=null}else throw Error(le(198));rv||(rv=!0,Qb=c)}}function ju(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bC(e){if(ju(e)!==e)throw Error(le(188))}function gU(e){var t=e.alternate;if(!t){if(t=ju(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bC(i),e;if(s===r)return bC(i),t;s=s.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function nM(e){return e=gU(e),e!==null?rM(e):null}function rM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rM(e);if(t!==null)return t;e=e.sibling}return null}var iM=ci.unstable_scheduleCallback,wC=ci.unstable_cancelCallback,vU=ci.unstable_shouldYield,yU=ci.unstable_requestPaint,tn=ci.unstable_now,xU=ci.unstable_getCurrentPriorityLevel,bE=ci.unstable_ImmediatePriority,sM=ci.unstable_UserBlockingPriority,iv=ci.unstable_NormalPriority,_U=ci.unstable_LowPriority,oM=ci.unstable_IdlePriority,Yy=null,Ks=null;function bU(e){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(Yy,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:SU,wU=Math.log,EU=Math.LN2;function SU(e){return e>>>=0,e===0?32:31-(wU(e)/EU|0)|0}var Rm=64,Mm=4194304;function Vf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Vf(a):(s&=o,s!==0&&(r=Vf(s)))}else o=n&~i,o!==0?r=Vf(o):s!==0&&(r=Vf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ss(t),i=1<<n,r|=e[n],t&=~i;return r}function PU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TU(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ss(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=PU(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Jb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aM(){var e=Rm;return Rm<<=1,!(Rm&4194240)&&(Rm=64),e}function x_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=n}function AU(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ss(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function wE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function lM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uM,EE,cM,dM,fM,ew=!1,Dm=[],Wa=null,Ha=null,qa=null,xh=new Map,_h=new Map,ja=[],CU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EC(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":xh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(t.pointerId)}}function xf(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=gp(t),t!==null&&EE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IU(e,t,n,r,i){switch(t){case"focusin":return Wa=xf(Wa,e,t,n,r,i),!0;case"dragenter":return Ha=xf(Ha,e,t,n,r,i),!0;case"mouseover":return qa=xf(qa,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return xh.set(s,xf(xh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_h.set(s,xf(_h.get(s)||null,e,t,n,r,i)),!0}return!1}function hM(e){var t=Zl(e.target);if(t!==null){var n=ju(t);if(n!==null){if(t=n.tag,t===13){if(t=tM(n),t!==null){e.blockedOn=t,fM(e.priority,function(){cM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zb=r,n.target.dispatchEvent(r),Zb=null}else return t=gp(n),t!==null&&EE(t),e.blockedOn=n,!1;t.shift()}return!0}function SC(e,t,n){Tg(e)&&n.delete(t)}function kU(){ew=!1,Wa!==null&&Tg(Wa)&&(Wa=null),Ha!==null&&Tg(Ha)&&(Ha=null),qa!==null&&Tg(qa)&&(qa=null),xh.forEach(SC),_h.forEach(SC)}function _f(e,t){e.blockedOn===t&&(e.blockedOn=null,ew||(ew=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,kU)))}function bh(e){function t(i){return _f(i,e)}if(0<Dm.length){_f(Dm[0],e);for(var n=1;n<Dm.length;n++){var r=Dm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wa!==null&&_f(Wa,e),Ha!==null&&_f(Ha,e),qa!==null&&_f(qa,e),xh.forEach(t),_h.forEach(t),n=0;n<ja.length;n++)r=ja[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ja.length&&(n=ja[0],n.blockedOn===null);)hM(n),n.blockedOn===null&&ja.shift()}var Bc=da.ReactCurrentBatchConfig,ov=!0;function NU(e,t,n,r){var i=gt,s=Bc.transition;Bc.transition=null;try{gt=1,SE(e,t,n,r)}finally{gt=i,Bc.transition=s}}function OU(e,t,n,r){var i=gt,s=Bc.transition;Bc.transition=null;try{gt=4,SE(e,t,n,r)}finally{gt=i,Bc.transition=s}}function SE(e,t,n,r){if(ov){var i=tw(e,t,n,r);if(i===null)I_(e,t,r,av,n),EC(e,r);else if(IU(i,e,t,n,r))r.stopPropagation();else if(EC(e,r),t&4&&-1<CU.indexOf(e)){for(;i!==null;){var s=gp(i);if(s!==null&&uM(s),s=tw(e,t,n,r),s===null&&I_(e,t,r,av,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else I_(e,t,r,null,n)}}var av=null;function tw(e,t,n,r){if(av=null,e=_E(r),e=Zl(e),e!==null)if(t=ju(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tM(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return av=e,null}function pM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xU()){case bE:return 1;case sM:return 4;case iv:case _U:return 16;case oM:return 536870912;default:return 16}default:return 16}}var Fa=null,PE=null,Ag=null;function mM(){if(Ag)return Ag;var e,t=PE,n=t.length,r,i="value"in Fa?Fa.value:Fa.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ag=i.slice(e,1<r?1-r:void 0)}function Cg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lm(){return!0}function PC(){return!1}function pi(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lm:PC,this.isPropagationStopped=PC,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lm)},persist:function(){},isPersistent:Lm}),t}var Pd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TE=pi(Pd),mp=zt({},Pd,{view:0,detail:0}),jU=pi(mp),__,b_,bf,Xy=zt({},mp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bf&&(bf&&e.type==="mousemove"?(__=e.screenX-bf.screenX,b_=e.screenY-bf.screenY):b_=__=0,bf=e),__)},movementY:function(e){return"movementY"in e?e.movementY:b_}}),TC=pi(Xy),RU=zt({},Xy,{dataTransfer:0}),MU=pi(RU),DU=zt({},mp,{relatedTarget:0}),w_=pi(DU),LU=zt({},Pd,{animationName:0,elapsedTime:0,pseudoElement:0}),zU=pi(LU),VU=zt({},Pd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FU=pi(VU),$U=zt({},Pd,{data:0}),AC=pi($U),BU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WU[e])?!!t[e]:!1}function AE(){return HU}var qU=zt({},mp,{key:function(e){if(e.key){var t=BU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AE,charCode:function(e){return e.type==="keypress"?Cg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KU=pi(qU),GU=zt({},Xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CC=pi(GU),ZU=zt({},mp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AE}),YU=pi(ZU),XU=zt({},Pd,{propertyName:0,elapsedTime:0,pseudoElement:0}),QU=pi(XU),JU=zt({},Xy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e8=pi(JU),t8=[9,13,27,32],CE=qo&&"CompositionEvent"in window,Qf=null;qo&&"documentMode"in document&&(Qf=document.documentMode);var n8=qo&&"TextEvent"in window&&!Qf,gM=qo&&(!CE||Qf&&8<Qf&&11>=Qf),IC=" ",kC=!1;function vM(e,t){switch(e){case"keyup":return t8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tc=!1;function r8(e,t){switch(e){case"compositionend":return yM(t);case"keypress":return t.which!==32?null:(kC=!0,IC);case"textInput":return e=t.data,e===IC&&kC?null:e;default:return null}}function i8(e,t){if(Tc)return e==="compositionend"||!CE&&vM(e,t)?(e=mM(),Ag=PE=Fa=null,Tc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gM&&t.locale!=="ko"?null:t.data;default:return null}}var s8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s8[e.type]:t==="textarea"}function xM(e,t,n,r){YR(r),t=lv(t,"onChange"),0<t.length&&(n=new TE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jf=null,wh=null;function o8(e){kM(e,0)}function Qy(e){var t=Ic(e);if(UR(t))return e}function a8(e,t){if(e==="change")return t}var _M=!1;if(qo){var E_;if(qo){var S_="oninput"in document;if(!S_){var OC=document.createElement("div");OC.setAttribute("oninput","return;"),S_=typeof OC.oninput=="function"}E_=S_}else E_=!1;_M=E_&&(!document.documentMode||9<document.documentMode)}function jC(){Jf&&(Jf.detachEvent("onpropertychange",bM),wh=Jf=null)}function bM(e){if(e.propertyName==="value"&&Qy(wh)){var t=[];xM(t,wh,e,_E(e)),eM(o8,t)}}function l8(e,t,n){e==="focusin"?(jC(),Jf=t,wh=n,Jf.attachEvent("onpropertychange",bM)):e==="focusout"&&jC()}function u8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qy(wh)}function c8(e,t){if(e==="click")return Qy(t)}function d8(e,t){if(e==="input"||e==="change")return Qy(t)}function f8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ds=typeof Object.is=="function"?Object.is:f8;function Eh(e,t){if(ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lb.call(t,i)||!ds(e[i],t[i]))return!1}return!0}function RC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MC(e,t){var n=RC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RC(n)}}function wM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EM(){for(var e=window,t=tv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tv(e.document)}return t}function IE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h8(e){var t=EM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wM(n.ownerDocument.documentElement,n)){if(r!==null&&IE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=MC(n,s);var o=MC(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p8=qo&&"documentMode"in document&&11>=document.documentMode,Ac=null,nw=null,eh=null,rw=!1;function DC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rw||Ac==null||Ac!==tv(r)||(r=Ac,"selectionStart"in r&&IE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eh&&Eh(eh,r)||(eh=r,r=lv(nw,"onSelect"),0<r.length&&(t=new TE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ac)))}function zm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cc={animationend:zm("Animation","AnimationEnd"),animationiteration:zm("Animation","AnimationIteration"),animationstart:zm("Animation","AnimationStart"),transitionend:zm("Transition","TransitionEnd")},P_={},SM={};qo&&(SM=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function Jy(e){if(P_[e])return P_[e];if(!Cc[e])return e;var t=Cc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in SM)return P_[e]=t[n];return e}var PM=Jy("animationend"),TM=Jy("animationiteration"),AM=Jy("animationstart"),CM=Jy("transitionend"),IM=new Map,LC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(e,t){IM.set(e,t),Ou(t,[e])}for(var T_=0;T_<LC.length;T_++){var A_=LC[T_],m8=A_.toLowerCase(),g8=A_[0].toUpperCase()+A_.slice(1);yl(m8,"on"+g8)}yl(PM,"onAnimationEnd");yl(TM,"onAnimationIteration");yl(AM,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(CM,"onTransitionEnd");td("onMouseEnter",["mouseout","mouseover"]);td("onMouseLeave",["mouseout","mouseover"]);td("onPointerEnter",["pointerout","pointerover"]);td("onPointerLeave",["pointerout","pointerover"]);Ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ff));function zC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mU(r,t,void 0,e),e.currentTarget=null}function kM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;zC(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;zC(i,a,c),s=u}}}if(rv)throw e=Qb,rv=!1,Qb=null,e}function Tt(e,t){var n=t[lw];n===void 0&&(n=t[lw]=new Set);var r=e+"__bubble";n.has(r)||(NM(t,e,2,!1),n.add(r))}function C_(e,t,n){var r=0;t&&(r|=4),NM(n,e,r,t)}var Vm="_reactListening"+Math.random().toString(36).slice(2);function Sh(e){if(!e[Vm]){e[Vm]=!0,zR.forEach(function(n){n!=="selectionchange"&&(v8.has(n)||C_(n,!1,e),C_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vm]||(t[Vm]=!0,C_("selectionchange",!1,t))}}function NM(e,t,n,r){switch(pM(t)){case 1:var i=NU;break;case 4:i=OU;break;default:i=SE}n=i.bind(null,t,n,e),i=void 0,!Xb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function I_(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zl(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}eM(function(){var c=s,d=_E(n),p=[];e:{var m=IM.get(e);if(m!==void 0){var y=TE,_=e;switch(e){case"keypress":if(Cg(n)===0)break e;case"keydown":case"keyup":y=KU;break;case"focusin":_="focus",y=w_;break;case"focusout":_="blur",y=w_;break;case"beforeblur":case"afterblur":y=w_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=TC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=MU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=YU;break;case PM:case TM:case AM:y=zU;break;case CM:y=QU;break;case"scroll":y=jU;break;case"wheel":y=e8;break;case"copy":case"cut":case"paste":y=FU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=CC}var E=(t&4)!==0,w=!E&&e==="scroll",S=E?m!==null?m+"Capture":null:m;E=[];for(var P=c,A;P!==null;){A=P;var O=A.stateNode;if(A.tag===5&&O!==null&&(A=O,S!==null&&(O=yh(P,S),O!=null&&E.push(Ph(P,O,A)))),w)break;P=P.return}0<E.length&&(m=new y(m,_,null,n,d),p.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Zb&&(_=n.relatedTarget||n.fromElement)&&(Zl(_)||_[Ko]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?Zl(_):null,_!==null&&(w=ju(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(E=TC,O="onMouseLeave",S="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(E=CC,O="onPointerLeave",S="onPointerEnter",P="pointer"),w=y==null?m:Ic(y),A=_==null?m:Ic(_),m=new E(O,P+"leave",y,n,d),m.target=w,m.relatedTarget=A,O=null,Zl(d)===c&&(E=new E(S,P+"enter",_,n,d),E.target=A,E.relatedTarget=w,O=E),w=O,y&&_)t:{for(E=y,S=_,P=0,A=E;A;A=fc(A))P++;for(A=0,O=S;O;O=fc(O))A++;for(;0<P-A;)E=fc(E),P--;for(;0<A-P;)S=fc(S),A--;for(;P--;){if(E===S||S!==null&&E===S.alternate)break t;E=fc(E),S=fc(S)}E=null}else E=null;y!==null&&VC(p,m,y,E,!1),_!==null&&w!==null&&VC(p,w,_,E,!0)}}e:{if(m=c?Ic(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var M=a8;else if(NC(m))if(_M)M=d8;else{M=u8;var z=l8}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=c8);if(M&&(M=M(e,c))){xM(p,M,n,d);break e}z&&z(e,m,c),e==="focusout"&&(z=m._wrapperState)&&z.controlled&&m.type==="number"&&Wb(m,"number",m.value)}switch(z=c?Ic(c):window,e){case"focusin":(NC(z)||z.contentEditable==="true")&&(Ac=z,nw=c,eh=null);break;case"focusout":eh=nw=Ac=null;break;case"mousedown":rw=!0;break;case"contextmenu":case"mouseup":case"dragend":rw=!1,DC(p,n,d);break;case"selectionchange":if(p8)break;case"keydown":case"keyup":DC(p,n,d)}var k;if(CE)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tc?vM(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(gM&&n.locale!=="ko"&&(Tc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tc&&(k=mM()):(Fa=d,PE="value"in Fa?Fa.value:Fa.textContent,Tc=!0)),z=lv(c,C),0<z.length&&(C=new AC(C,e,null,n,d),p.push({event:C,listeners:z}),k?C.data=k:(k=yM(n),k!==null&&(C.data=k)))),(k=n8?r8(e,n):i8(e,n))&&(c=lv(c,"onBeforeInput"),0<c.length&&(d=new AC("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=k))}kM(p,t)})}function Ph(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yh(e,n),s!=null&&r.unshift(Ph(e,s,i)),s=yh(e,t),s!=null&&r.push(Ph(e,s,i))),e=e.return}return r}function fc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function VC(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=yh(n,s),u!=null&&o.unshift(Ph(n,u,a))):i||(u=yh(n,s),u!=null&&o.push(Ph(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var y8=/\r\n?/g,x8=/\u0000|\uFFFD/g;function FC(e){return(typeof e=="string"?e:""+e).replace(y8,`
`).replace(x8,"")}function Fm(e,t,n){if(t=FC(t),FC(e)!==t&&n)throw Error(le(425))}function uv(){}var iw=null,sw=null;function ow(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var aw=typeof setTimeout=="function"?setTimeout:void 0,_8=typeof clearTimeout=="function"?clearTimeout:void 0,$C=typeof Promise=="function"?Promise:void 0,b8=typeof queueMicrotask=="function"?queueMicrotask:typeof $C<"u"?function(e){return $C.resolve(null).then(e).catch(w8)}:aw;function w8(e){setTimeout(function(){throw e})}function k_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),bh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bh(t)}function Ka(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function BC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Td=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Td,Th="__reactProps$"+Td,Ko="__reactContainer$"+Td,lw="__reactEvents$"+Td,E8="__reactListeners$"+Td,S8="__reactHandles$"+Td;function Zl(e){var t=e[Fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ko]||n[Fs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=BC(e);e!==null;){if(n=e[Fs])return n;e=BC(e)}return t}e=n,n=e.parentNode}return null}function gp(e){return e=e[Fs]||e[Ko],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ic(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function e0(e){return e[Th]||null}var uw=[],kc=-1;function xl(e){return{current:e}}function Ct(e){0>kc||(e.current=uw[kc],uw[kc]=null,kc--)}function St(e,t){kc++,uw[kc]=e.current,e.current=t}var ol={},cr=xl(ol),Br=xl(!1),hu=ol;function nd(e,t){var n=e.type.contextTypes;if(!n)return ol;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ur(e){return e=e.childContextTypes,e!=null}function cv(){Ct(Br),Ct(cr)}function UC(e,t,n){if(cr.current!==ol)throw Error(le(168));St(cr,t),St(Br,n)}function OM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(le(108,lU(e)||"Unknown",i));return zt({},n,r)}function dv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ol,hu=cr.current,St(cr,e),St(Br,Br.current),!0}function WC(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=OM(e,t,hu),r.__reactInternalMemoizedMergedChildContext=e,Ct(Br),Ct(cr),St(cr,e)):Ct(Br),St(Br,n)}var Io=null,t0=!1,N_=!1;function jM(e){Io===null?Io=[e]:Io.push(e)}function P8(e){t0=!0,jM(e)}function _l(){if(!N_&&Io!==null){N_=!0;var e=0,t=gt;try{var n=Io;for(gt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Io=null,t0=!1}catch(i){throw Io!==null&&(Io=Io.slice(e+1)),iM(bE,_l),i}finally{gt=t,N_=!1}}return null}var Nc=[],Oc=0,fv=null,hv=0,ki=[],Ni=0,pu=null,Ro=1,Mo="";function Bl(e,t){Nc[Oc++]=hv,Nc[Oc++]=fv,fv=e,hv=t}function RM(e,t,n){ki[Ni++]=Ro,ki[Ni++]=Mo,ki[Ni++]=pu,pu=e;var r=Ro;e=Mo;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var s=32-ss(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ro=1<<32-ss(t)+i|n<<i|r,Mo=s+e}else Ro=1<<s|n<<i|r,Mo=e}function kE(e){e.return!==null&&(Bl(e,1),RM(e,1,0))}function NE(e){for(;e===fv;)fv=Nc[--Oc],Nc[Oc]=null,hv=Nc[--Oc],Nc[Oc]=null;for(;e===pu;)pu=ki[--Ni],ki[Ni]=null,Mo=ki[--Ni],ki[Ni]=null,Ro=ki[--Ni],ki[Ni]=null}var ai=null,ri=null,Ot=!1,es=null;function MM(e,t){var n=ji(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function HC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ai=e,ri=Ka(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ai=e,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pu!==null?{id:Ro,overflow:Mo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ji(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ai=e,ri=null,!0):!1;default:return!1}}function cw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dw(e){if(Ot){var t=ri;if(t){var n=t;if(!HC(e,t)){if(cw(e))throw Error(le(418));t=Ka(n.nextSibling);var r=ai;t&&HC(e,t)?MM(r,n):(e.flags=e.flags&-4097|2,Ot=!1,ai=e)}}else{if(cw(e))throw Error(le(418));e.flags=e.flags&-4097|2,Ot=!1,ai=e}}}function qC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ai=e}function $m(e){if(e!==ai)return!1;if(!Ot)return qC(e),Ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ow(e.type,e.memoizedProps)),t&&(t=ri)){if(cw(e))throw DM(),Error(le(418));for(;t;)MM(e,t),t=Ka(t.nextSibling)}if(qC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ri=Ka(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ri=null}}else ri=ai?Ka(e.stateNode.nextSibling):null;return!0}function DM(){for(var e=ri;e;)e=Ka(e.nextSibling)}function rd(){ri=ai=null,Ot=!1}function OE(e){es===null?es=[e]:es.push(e)}var T8=da.ReactCurrentBatchConfig;function wf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function Bm(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KC(e){var t=e._init;return t(e._payload)}function LM(e){function t(S,P){if(e){var A=S.deletions;A===null?(S.deletions=[P],S.flags|=16):A.push(P)}}function n(S,P){if(!e)return null;for(;P!==null;)t(S,P),P=P.sibling;return null}function r(S,P){for(S=new Map;P!==null;)P.key!==null?S.set(P.key,P):S.set(P.index,P),P=P.sibling;return S}function i(S,P){return S=Xa(S,P),S.index=0,S.sibling=null,S}function s(S,P,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<P?(S.flags|=2,P):A):(S.flags|=2,P)):(S.flags|=1048576,P)}function o(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,P,A,O){return P===null||P.tag!==6?(P=z_(A,S.mode,O),P.return=S,P):(P=i(P,A),P.return=S,P)}function u(S,P,A,O){var M=A.type;return M===Pc?d(S,P,A.props.children,O,A.key):P!==null&&(P.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ca&&KC(M)===P.type)?(O=i(P,A.props),O.ref=wf(S,P,A),O.return=S,O):(O=Mg(A.type,A.key,A.props,null,S.mode,O),O.ref=wf(S,P,A),O.return=S,O)}function c(S,P,A,O){return P===null||P.tag!==4||P.stateNode.containerInfo!==A.containerInfo||P.stateNode.implementation!==A.implementation?(P=V_(A,S.mode,O),P.return=S,P):(P=i(P,A.children||[]),P.return=S,P)}function d(S,P,A,O,M){return P===null||P.tag!==7?(P=su(A,S.mode,O,M),P.return=S,P):(P=i(P,A),P.return=S,P)}function p(S,P,A){if(typeof P=="string"&&P!==""||typeof P=="number")return P=z_(""+P,S.mode,A),P.return=S,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Nm:return A=Mg(P.type,P.key,P.props,null,S.mode,A),A.ref=wf(S,null,P),A.return=S,A;case Sc:return P=V_(P,S.mode,A),P.return=S,P;case Ca:var O=P._init;return p(S,O(P._payload),A)}if(zf(P)||vf(P))return P=su(P,S.mode,A,null),P.return=S,P;Bm(S,P)}return null}function m(S,P,A,O){var M=P!==null?P.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return M!==null?null:a(S,P,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Nm:return A.key===M?u(S,P,A,O):null;case Sc:return A.key===M?c(S,P,A,O):null;case Ca:return M=A._init,m(S,P,M(A._payload),O)}if(zf(A)||vf(A))return M!==null?null:d(S,P,A,O,null);Bm(S,A)}return null}function y(S,P,A,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(A)||null,a(P,S,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Nm:return S=S.get(O.key===null?A:O.key)||null,u(P,S,O,M);case Sc:return S=S.get(O.key===null?A:O.key)||null,c(P,S,O,M);case Ca:var z=O._init;return y(S,P,A,z(O._payload),M)}if(zf(O)||vf(O))return S=S.get(A)||null,d(P,S,O,M,null);Bm(P,O)}return null}function _(S,P,A,O){for(var M=null,z=null,k=P,C=P=0,R=null;k!==null&&C<A.length;C++){k.index>C?(R=k,k=null):R=k.sibling;var $=m(S,k,A[C],O);if($===null){k===null&&(k=R);break}e&&k&&$.alternate===null&&t(S,k),P=s($,P,C),z===null?M=$:z.sibling=$,z=$,k=R}if(C===A.length)return n(S,k),Ot&&Bl(S,C),M;if(k===null){for(;C<A.length;C++)k=p(S,A[C],O),k!==null&&(P=s(k,P,C),z===null?M=k:z.sibling=k,z=k);return Ot&&Bl(S,C),M}for(k=r(S,k);C<A.length;C++)R=y(k,S,C,A[C],O),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?C:R.key),P=s(R,P,C),z===null?M=R:z.sibling=R,z=R);return e&&k.forEach(function(j){return t(S,j)}),Ot&&Bl(S,C),M}function E(S,P,A,O){var M=vf(A);if(typeof M!="function")throw Error(le(150));if(A=M.call(A),A==null)throw Error(le(151));for(var z=M=null,k=P,C=P=0,R=null,$=A.next();k!==null&&!$.done;C++,$=A.next()){k.index>C?(R=k,k=null):R=k.sibling;var j=m(S,k,$.value,O);if(j===null){k===null&&(k=R);break}e&&k&&j.alternate===null&&t(S,k),P=s(j,P,C),z===null?M=j:z.sibling=j,z=j,k=R}if($.done)return n(S,k),Ot&&Bl(S,C),M;if(k===null){for(;!$.done;C++,$=A.next())$=p(S,$.value,O),$!==null&&(P=s($,P,C),z===null?M=$:z.sibling=$,z=$);return Ot&&Bl(S,C),M}for(k=r(S,k);!$.done;C++,$=A.next())$=y(k,S,C,$.value,O),$!==null&&(e&&$.alternate!==null&&k.delete($.key===null?C:$.key),P=s($,P,C),z===null?M=$:z.sibling=$,z=$);return e&&k.forEach(function(V){return t(S,V)}),Ot&&Bl(S,C),M}function w(S,P,A,O){if(typeof A=="object"&&A!==null&&A.type===Pc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Nm:e:{for(var M=A.key,z=P;z!==null;){if(z.key===M){if(M=A.type,M===Pc){if(z.tag===7){n(S,z.sibling),P=i(z,A.props.children),P.return=S,S=P;break e}}else if(z.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ca&&KC(M)===z.type){n(S,z.sibling),P=i(z,A.props),P.ref=wf(S,z,A),P.return=S,S=P;break e}n(S,z);break}else t(S,z);z=z.sibling}A.type===Pc?(P=su(A.props.children,S.mode,O,A.key),P.return=S,S=P):(O=Mg(A.type,A.key,A.props,null,S.mode,O),O.ref=wf(S,P,A),O.return=S,S=O)}return o(S);case Sc:e:{for(z=A.key;P!==null;){if(P.key===z)if(P.tag===4&&P.stateNode.containerInfo===A.containerInfo&&P.stateNode.implementation===A.implementation){n(S,P.sibling),P=i(P,A.children||[]),P.return=S,S=P;break e}else{n(S,P);break}else t(S,P);P=P.sibling}P=V_(A,S.mode,O),P.return=S,S=P}return o(S);case Ca:return z=A._init,w(S,P,z(A._payload),O)}if(zf(A))return _(S,P,A,O);if(vf(A))return E(S,P,A,O);Bm(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,P!==null&&P.tag===6?(n(S,P.sibling),P=i(P,A),P.return=S,S=P):(n(S,P),P=z_(A,S.mode,O),P.return=S,S=P),o(S)):n(S,P)}return w}var id=LM(!0),zM=LM(!1),pv=xl(null),mv=null,jc=null,jE=null;function RE(){jE=jc=mv=null}function ME(e){var t=pv.current;Ct(pv),e._currentValue=t}function fw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uc(e,t){mv=e,jE=jc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function zi(e){var t=e._currentValue;if(jE!==e)if(e={context:e,memoizedValue:t,next:null},jc===null){if(mv===null)throw Error(le(308));jc=e,mv.dependencies={lanes:0,firstContext:e}}else jc=jc.next=e;return t}var Yl=null;function DE(e){Yl===null?Yl=[e]:Yl.push(e)}function VM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,DE(t)):(n.next=i.next,i.next=n),t.interleaved=n,Go(e,r)}function Go(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ia=!1;function LE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ga(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Go(e,n)}return i=r.interleaved,i===null?(t.next=t,DE(r)):(t.next=i.next,i.next=t),r.interleaved=t,Go(e,n)}function Ig(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wE(e,n)}}function GC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gv(e,t,n,r){var i=e.updateQueue;Ia=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,E=a;switch(m=t,y=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){p=_.call(y,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,m=typeof _=="function"?_.call(y,p,m):_,m==null)break e;p=zt({},p,m);break e;case 2:Ia=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=p):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gu|=o,e.lanes=o,e.memoizedState=p}}function ZC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var vp={},Gs=xl(vp),Ah=xl(vp),Ch=xl(vp);function Xl(e){if(e===vp)throw Error(le(174));return e}function zE(e,t){switch(St(Ch,t),St(Ah,e),St(Gs,vp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qb(t,e)}Ct(Gs),St(Gs,t)}function sd(){Ct(Gs),Ct(Ah),Ct(Ch)}function $M(e){Xl(Ch.current);var t=Xl(Gs.current),n=qb(t,e.type);t!==n&&(St(Ah,e),St(Gs,n))}function VE(e){Ah.current===e&&(Ct(Gs),Ct(Ah))}var Dt=xl(0);function vv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O_=[];function FE(){for(var e=0;e<O_.length;e++)O_[e]._workInProgressVersionPrimary=null;O_.length=0}var kg=da.ReactCurrentDispatcher,j_=da.ReactCurrentBatchConfig,mu=0,Lt=null,hn=null,An=null,yv=!1,th=!1,Ih=0,A8=0;function Jn(){throw Error(le(321))}function $E(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ds(e[n],t[n]))return!1;return!0}function BE(e,t,n,r,i,s){if(mu=s,Lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kg.current=e===null||e.memoizedState===null?N8:O8,e=n(r,i),th){s=0;do{if(th=!1,Ih=0,25<=s)throw Error(le(301));s+=1,An=hn=null,t.updateQueue=null,kg.current=j8,e=n(r,i)}while(th)}if(kg.current=xv,t=hn!==null&&hn.next!==null,mu=0,An=hn=Lt=null,yv=!1,t)throw Error(le(300));return e}function UE(){var e=Ih!==0;return Ih=0,e}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Lt.memoizedState=An=e:An=An.next=e,An}function Vi(){if(hn===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=hn.next;var t=An===null?Lt.memoizedState:An.next;if(t!==null)An=t,hn=e;else{if(e===null)throw Error(le(310));hn=e,e={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},An===null?Lt.memoizedState=An=e:An=An.next=e}return An}function kh(e,t){return typeof t=="function"?t(e):t}function R_(e){var t=Vi(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=hn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((mu&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Lt.lanes|=d,gu|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,ds(r,t.memoizedState)||(zr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Lt.lanes|=s,gu|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function M_(e){var t=Vi(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ds(s,t.memoizedState)||(zr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function BM(){}function UM(e,t){var n=Lt,r=Vi(),i=t(),s=!ds(r.memoizedState,i);if(s&&(r.memoizedState=i,zr=!0),r=r.queue,WE(qM.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,Nh(9,HM.bind(null,n,r,i,t),void 0,null),kn===null)throw Error(le(349));mu&30||WM(n,t,i)}return i}function WM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function HM(e,t,n,r){t.value=n,t.getSnapshot=r,KM(t)&&GM(e)}function qM(e,t,n){return n(function(){KM(t)&&GM(e)})}function KM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ds(e,n)}catch{return!0}}function GM(e){var t=Go(e,1);t!==null&&os(t,e,1,-1)}function YC(e){var t=zs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:e},t.queue=e,e=e.dispatch=k8.bind(null,Lt,e),[t.memoizedState,e]}function Nh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZM(){return Vi().memoizedState}function Ng(e,t,n,r){var i=zs();Lt.flags|=e,i.memoizedState=Nh(1|t,n,void 0,r===void 0?null:r)}function n0(e,t,n,r){var i=Vi();r=r===void 0?null:r;var s=void 0;if(hn!==null){var o=hn.memoizedState;if(s=o.destroy,r!==null&&$E(r,o.deps)){i.memoizedState=Nh(t,n,s,r);return}}Lt.flags|=e,i.memoizedState=Nh(1|t,n,s,r)}function XC(e,t){return Ng(8390656,8,e,t)}function WE(e,t){return n0(2048,8,e,t)}function YM(e,t){return n0(4,2,e,t)}function XM(e,t){return n0(4,4,e,t)}function QM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JM(e,t,n){return n=n!=null?n.concat([e]):null,n0(4,4,QM.bind(null,t,e),n)}function HE(){}function eD(e,t){var n=Vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$E(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tD(e,t){var n=Vi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$E(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nD(e,t,n){return mu&21?(ds(n,t)||(n=aM(),Lt.lanes|=n,gu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=n)}function C8(e,t){var n=gt;gt=n!==0&&4>n?n:4,e(!0);var r=j_.transition;j_.transition={};try{e(!1),t()}finally{gt=n,j_.transition=r}}function rD(){return Vi().memoizedState}function I8(e,t,n){var r=Ya(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iD(e))sD(t,n);else if(n=VM(e,t,n,r),n!==null){var i=br();os(n,e,r,i),oD(n,t,r)}}function k8(e,t,n){var r=Ya(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iD(e))sD(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ds(a,o)){var u=t.interleaved;u===null?(i.next=i,DE(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=VM(e,t,i,r),n!==null&&(i=br(),os(n,e,r,i),oD(n,t,r))}}function iD(e){var t=e.alternate;return e===Lt||t!==null&&t===Lt}function sD(e,t){th=yv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wE(e,n)}}var xv={readContext:zi,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},N8={readContext:zi,useCallback:function(e,t){return zs().memoizedState=[e,t===void 0?null:t],e},useContext:zi,useEffect:XC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ng(4194308,4,QM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var n=zs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=I8.bind(null,Lt,e),[r.memoizedState,e]},useRef:function(e){var t=zs();return e={current:e},t.memoizedState=e},useState:YC,useDebugValue:HE,useDeferredValue:function(e){return zs().memoizedState=e},useTransition:function(){var e=YC(!1),t=e[0];return e=C8.bind(null,e[1]),zs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Lt,i=zs();if(Ot){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),kn===null)throw Error(le(349));mu&30||WM(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,XC(qM.bind(null,r,s,e),[e]),r.flags|=2048,Nh(9,HM.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=zs(),t=kn.identifierPrefix;if(Ot){var n=Mo,r=Ro;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ih++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=A8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O8={readContext:zi,useCallback:eD,useContext:zi,useEffect:WE,useImperativeHandle:JM,useInsertionEffect:YM,useLayoutEffect:XM,useMemo:tD,useReducer:R_,useRef:ZM,useState:function(){return R_(kh)},useDebugValue:HE,useDeferredValue:function(e){var t=Vi();return nD(t,hn.memoizedState,e)},useTransition:function(){var e=R_(kh)[0],t=Vi().memoizedState;return[e,t]},useMutableSource:BM,useSyncExternalStore:UM,useId:rD,unstable_isNewReconciler:!1},j8={readContext:zi,useCallback:eD,useContext:zi,useEffect:WE,useImperativeHandle:JM,useInsertionEffect:YM,useLayoutEffect:XM,useMemo:tD,useReducer:M_,useRef:ZM,useState:function(){return M_(kh)},useDebugValue:HE,useDeferredValue:function(e){var t=Vi();return hn===null?t.memoizedState=e:nD(t,hn.memoizedState,e)},useTransition:function(){var e=M_(kh)[0],t=Vi().memoizedState;return[e,t]},useMutableSource:BM,useSyncExternalStore:UM,useId:rD,unstable_isNewReconciler:!1};function Qi(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var r0={isMounted:function(e){return(e=e._reactInternals)?ju(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=br(),i=Ya(e),s=$o(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ga(e,s,i),t!==null&&(os(t,e,i,r),Ig(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=br(),i=Ya(e),s=$o(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ga(e,s,i),t!==null&&(os(t,e,i,r),Ig(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=br(),r=Ya(e),i=$o(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ga(e,i,r),t!==null&&(os(t,e,r,n),Ig(t,e,r))}};function QC(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Eh(n,r)||!Eh(i,s):!0}function aD(e,t,n){var r=!1,i=ol,s=t.contextType;return typeof s=="object"&&s!==null?s=zi(s):(i=Ur(t)?hu:cr.current,r=t.contextTypes,s=(r=r!=null)?nd(e,i):ol),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=r0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function JC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&r0.enqueueReplaceState(t,t.state,null)}function pw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},LE(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zi(s):(s=Ur(t)?hu:cr.current,i.context=nd(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hw(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&r0.enqueueReplaceState(i,i.state,null),gv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function od(e,t){try{var n="",r=t;do n+=aU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function D_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var R8=typeof WeakMap=="function"?WeakMap:Map;function lD(e,t,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bv||(bv=!0,Pw=r),mw(e,t)},n}function uD(e,t,n){n=$o(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mw(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mw(e,t),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function eI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new R8;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=G8.bind(null,e,t,n),t.then(e,e))}function tI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$o(-1,1),t.tag=2,Ga(n,t,1))),n.lanes|=1),e)}var M8=da.ReactCurrentOwner,zr=!1;function xr(e,t,n,r){t.child=e===null?zM(t,null,n,r):id(t,e.child,n,r)}function rI(e,t,n,r,i){n=n.render;var s=t.ref;return Uc(t,i),r=BE(e,t,n,r,s,i),n=UE(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i)):(Ot&&n&&kE(t),t.flags|=1,xr(e,t,r,i),t.child)}function iI(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!JE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,cD(e,t,s,r,i)):(e=Mg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eh,n(o,r)&&e.ref===t.ref)return Zo(e,t,i)}return t.flags|=1,e=Xa(s,r),e.ref=t.ref,e.return=t,t.child=e}function cD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Eh(s,r)&&e.ref===t.ref)if(zr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Zo(e,t,i)}return gw(e,t,n,r,i)}function dD(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Mc,ti),ti|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(Mc,ti),ti|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,St(Mc,ti),ti|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,St(Mc,ti),ti|=r;return xr(e,t,i,n),t.child}function fD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gw(e,t,n,r,i){var s=Ur(n)?hu:cr.current;return s=nd(t,s),Uc(t,i),n=BE(e,t,n,r,s,i),r=UE(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zo(e,t,i)):(Ot&&r&&kE(t),t.flags|=1,xr(e,t,n,i),t.child)}function sI(e,t,n,r,i){if(Ur(n)){var s=!0;dv(t)}else s=!1;if(Uc(t,i),t.stateNode===null)Og(e,t),aD(t,n,r),pw(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zi(c):(c=Ur(n)?hu:cr.current,c=nd(t,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&JC(t,o,r,c),Ia=!1;var m=t.memoizedState;o.state=m,gv(t,r,o,i),u=t.memoizedState,a!==r||m!==u||Br.current||Ia?(typeof d=="function"&&(hw(t,n,d,r),u=t.memoizedState),(a=Ia||QC(t,n,a,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,FM(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Qi(t.type,a),o.props=c,p=t.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=zi(u):(u=Ur(n)?hu:cr.current,u=nd(t,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==u)&&JC(t,o,r,u),Ia=!1,m=t.memoizedState,o.state=m,gv(t,r,o,i);var _=t.memoizedState;a!==p||m!==_||Br.current||Ia?(typeof y=="function"&&(hw(t,n,y,r),_=t.memoizedState),(c=Ia||QC(t,n,c,r,m,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return vw(e,t,n,r,s,i)}function vw(e,t,n,r,i,s){fD(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&WC(t,n,!1),Zo(e,t,s);r=t.stateNode,M8.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=id(t,e.child,null,s),t.child=id(t,null,a,s)):xr(e,t,a,s),t.memoizedState=r.state,i&&WC(t,n,!0),t.child}function hD(e){var t=e.stateNode;t.pendingContext?UC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UC(e,t.context,!1),zE(e,t.containerInfo)}function oI(e,t,n,r,i){return rd(),OE(i),t.flags|=256,xr(e,t,n,r),t.child}var yw={dehydrated:null,treeContext:null,retryLane:0};function xw(e){return{baseLanes:e,cachePool:null,transitions:null}}function pD(e,t,n){var r=t.pendingProps,i=Dt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),St(Dt,i&1),e===null)return dw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=o0(o,r,0,null),e=su(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=xw(n),t.memoizedState=yw,e):qE(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return D8(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Xa(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xa(a,s):(s=su(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?xw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=yw,r}return s=e.child,e=s.sibling,r=Xa(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qE(e,t){return t=o0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Um(e,t,n,r){return r!==null&&OE(r),id(t,e.child,null,n),e=qE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D8(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=D_(Error(le(422))),Um(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=o0({mode:"visible",children:r.children},i,0,null),s=su(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&id(t,e.child,null,o),t.child.memoizedState=xw(o),t.memoizedState=yw,s);if(!(t.mode&1))return Um(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(le(419)),r=D_(s,r,void 0),Um(e,t,o,r)}if(a=(o&e.childLanes)!==0,zr||a){if(r=kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Go(e,i),os(r,e,i,-1))}return QE(),r=D_(Error(le(421))),Um(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Z8.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ri=Ka(i.nextSibling),ai=t,Ot=!0,es=null,e!==null&&(ki[Ni++]=Ro,ki[Ni++]=Mo,ki[Ni++]=pu,Ro=e.id,Mo=e.overflow,pu=t),t=qE(t,r.children),t.flags|=4096,t)}function aI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fw(e.return,t,n)}function L_(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xr(e,t,r.children,n),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aI(e,n,t);else if(e.tag===19)aI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(St(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),L_(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}L_(t,!0,n,null,s);break;case"together":L_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Og(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=Xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function L8(e,t,n){switch(t.tag){case 3:hD(t),rd();break;case 5:$M(t);break;case 1:Ur(t.type)&&dv(t);break;case 4:zE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;St(pv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(St(Dt,Dt.current&1),t.flags|=128,null):n&t.child.childLanes?pD(e,t,n):(St(Dt,Dt.current&1),e=Zo(e,t,n),e!==null?e.sibling:null);St(Dt,Dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,dD(e,t,n)}return Zo(e,t,n)}var gD,_w,vD,yD;gD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_w=function(){};vD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xl(Gs.current);var s=null;switch(n){case"input":i=Bb(e,i),r=Bb(e,r),s=[];break;case"select":i=zt({},i,{value:void 0}),r=zt({},r,{value:void 0}),s=[];break;case"textarea":i=Hb(e,i),r=Hb(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uv)}Kb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gh.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Tt("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};yD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ef(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function z8(e,t,n){var r=t.pendingProps;switch(NE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return Ur(t.type)&&cv(),er(t),null;case 3:return r=t.stateNode,sd(),Ct(Br),Ct(cr),FE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($m(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,es!==null&&(Cw(es),es=null))),_w(e,t),er(t),null;case 5:VE(t);var i=Xl(Ch.current);if(n=t.type,e!==null&&t.stateNode!=null)vD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return er(t),null}if(e=Xl(Gs.current),$m(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Fs]=t,r[Th]=s,e=(t.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<Ff.length;i++)Tt(Ff[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":gC(r,s),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tt("invalid",r);break;case"textarea":yC(r,s),Tt("invalid",r)}Kb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fm(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fm(r.textContent,a,e),i=["children",""+a]):gh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Tt("scroll",r)}switch(n){case"input":Om(r),vC(r,s,!0);break;case"textarea":Om(r),xC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qR(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Fs]=t,e[Th]=r,gD(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gb(n,r),n){case"dialog":Tt("cancel",e),Tt("close",e),i=r;break;case"iframe":case"object":case"embed":Tt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ff.length;i++)Tt(Ff[i],e);i=r;break;case"source":Tt("error",e),i=r;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),i=r;break;case"details":Tt("toggle",e),i=r;break;case"input":gC(e,r),i=Bb(e,r),Tt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=zt({},r,{value:void 0}),Tt("invalid",e);break;case"textarea":yC(e,r),i=Hb(e,r),Tt("invalid",e);break;default:i=r}Kb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ZR(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&KR(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&vh(e,u):typeof u=="number"&&vh(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gh.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Tt("scroll",e):u!=null&&gE(e,s,u,o))}switch(n){case"input":Om(e),vC(e,r,!1);break;case"textarea":Om(e),xC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sl(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vc(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)yD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=Xl(Ch.current),Xl(Gs.current),$m(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fs]=t,(s=r.nodeValue!==n)&&(e=ai,e!==null))switch(e.tag){case 3:Fm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fm(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fs]=t,t.stateNode=r}return er(t),null;case 13:if(Ct(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&ri!==null&&t.mode&1&&!(t.flags&128))DM(),rd(),t.flags|=98560,s=!1;else if(s=$m(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[Fs]=t}else rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),s=!1}else es!==null&&(Cw(es),es=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?gn===0&&(gn=3):QE())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return sd(),_w(e,t),e===null&&Sh(t.stateNode.containerInfo),er(t),null;case 10:return ME(t.type._context),er(t),null;case 17:return Ur(t.type)&&cv(),er(t),null;case 19:if(Ct(Dt),s=t.memoizedState,s===null)return er(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ef(s,!1);else{if(gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vv(e),o!==null){for(t.flags|=128,Ef(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return St(Dt,Dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&tn()>ad&&(t.flags|=128,r=!0,Ef(s,!1),t.lanes=4194304)}else{if(!r)if(e=vv(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ef(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ot)return er(t),null}else 2*tn()-s.renderingStartTime>ad&&n!==1073741824&&(t.flags|=128,r=!0,Ef(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=tn(),t.sibling=null,n=Dt.current,St(Dt,r?n&1|2:n&1),t):(er(t),null);case 22:case 23:return XE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ti&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function V8(e,t){switch(NE(t),t.tag){case 1:return Ur(t.type)&&cv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sd(),Ct(Br),Ct(cr),FE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return VE(t),null;case 13:if(Ct(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Dt),null;case 4:return sd(),null;case 10:return ME(t.type._context),null;case 22:case 23:return XE(),null;case 24:return null;default:return null}}var Wm=!1,or=!1,F8=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Rc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(e,t,r)}else n.current=null}function bw(e,t,n){try{n()}catch(r){Wt(e,t,r)}}var lI=!1;function $8(e,t){if(iw=ov,e=EM(),IE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=e,m=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===e)break t;if(m===n&&++c===i&&(a=o),m===s&&++d===r&&(u=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sw={focusedElem:e,selectionRange:n},ov=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,w=_.memoizedState,S=t.stateNode,P=S.getSnapshotBeforeUpdate(t.elementType===t.type?E:Qi(t.type,E),w);S.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(O){Wt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return _=lI,lI=!1,_}function nh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&bw(t,n,s)}i=i.next}while(i!==r)}}function i0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ww(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xD(e){var t=e.alternate;t!==null&&(e.alternate=null,xD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fs],delete t[Th],delete t[lw],delete t[E8],delete t[S8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _D(e){return e.tag===5||e.tag===3||e.tag===4}function uI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_D(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ew(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uv));else if(r!==4&&(e=e.child,e!==null))for(Ew(e,t,n),e=e.sibling;e!==null;)Ew(e,t,n),e=e.sibling}function Sw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sw(e,t,n),e=e.sibling;e!==null;)Sw(e,t,n),e=e.sibling}var Ln=null,Ji=!1;function Sa(e,t,n){for(n=n.child;n!==null;)bD(e,t,n),n=n.sibling}function bD(e,t,n){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(Yy,n)}catch{}switch(n.tag){case 5:or||Rc(n,t);case 6:var r=Ln,i=Ji;Ln=null,Sa(e,t,n),Ln=r,Ji=i,Ln!==null&&(Ji?(e=Ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(Ji?(e=Ln,n=n.stateNode,e.nodeType===8?k_(e.parentNode,n):e.nodeType===1&&k_(e,n),bh(e)):k_(Ln,n.stateNode));break;case 4:r=Ln,i=Ji,Ln=n.stateNode.containerInfo,Ji=!0,Sa(e,t,n),Ln=r,Ji=i;break;case 0:case 11:case 14:case 15:if(!or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bw(n,t,o),i=i.next}while(i!==r)}Sa(e,t,n);break;case 1:if(!or&&(Rc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wt(n,t,a)}Sa(e,t,n);break;case 21:Sa(e,t,n);break;case 22:n.mode&1?(or=(r=or)||n.memoizedState!==null,Sa(e,t,n),or=r):Sa(e,t,n);break;default:Sa(e,t,n)}}function cI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new F8),t.forEach(function(r){var i=Y8.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ln=a.stateNode,Ji=!1;break e;case 3:Ln=a.stateNode.containerInfo,Ji=!0;break e;case 4:Ln=a.stateNode.containerInfo,Ji=!0;break e}a=a.return}if(Ln===null)throw Error(le(160));bD(s,o,i),Ln=null,Ji=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Wt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wD(t,e),t=t.sibling}function wD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xi(t,e),js(e),r&4){try{nh(3,e,e.return),i0(3,e)}catch(E){Wt(e,e.return,E)}try{nh(5,e,e.return)}catch(E){Wt(e,e.return,E)}}break;case 1:Xi(t,e),js(e),r&512&&n!==null&&Rc(n,n.return);break;case 5:if(Xi(t,e),js(e),r&512&&n!==null&&Rc(n,n.return),e.flags&32){var i=e.stateNode;try{vh(i,"")}catch(E){Wt(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&WR(i,s),Gb(a,o);var c=Gb(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?ZR(i,p):d==="dangerouslySetInnerHTML"?KR(i,p):d==="children"?vh(i,p):gE(i,d,p,c)}switch(a){case"input":Ub(i,s);break;case"textarea":HR(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Vc(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Vc(i,!!s.multiple,s.defaultValue,!0):Vc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Th]=s}catch(E){Wt(e,e.return,E)}}break;case 6:if(Xi(t,e),js(e),r&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){Wt(e,e.return,E)}}break;case 3:if(Xi(t,e),js(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bh(t.containerInfo)}catch(E){Wt(e,e.return,E)}break;case 4:Xi(t,e),js(e);break;case 13:Xi(t,e),js(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ZE=tn())),r&4&&cI(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(or=(c=or)||d,Xi(t,e),or=c):Xi(t,e),js(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(p=Ee=d;Ee!==null;){switch(m=Ee,y=m.child,m.tag){case 0:case 11:case 14:case 15:nh(4,m,m.return);break;case 1:Rc(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){Wt(r,n,E)}}break;case 5:Rc(m,m.return);break;case 22:if(m.memoizedState!==null){fI(p);continue}}y!==null?(y.return=m,Ee=y):fI(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=GR("display",o))}catch(E){Wt(e,e.return,E)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(E){Wt(e,e.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xi(t,e),js(e),r&4&&cI(e);break;case 21:break;default:Xi(t,e),js(e)}}function js(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_D(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vh(i,""),r.flags&=-33);var s=uI(e);Sw(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uI(e);Ew(e,a,o);break;default:throw Error(le(161))}}catch(u){Wt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B8(e,t,n){Ee=e,ED(e)}function ED(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wm;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||or;a=Wm;var c=or;if(Wm=o,(or=u)&&!c)for(Ee=i;Ee!==null;)o=Ee,u=o.child,o.tag===22&&o.memoizedState!==null?hI(i):u!==null?(u.return=o,Ee=u):hI(i);for(;s!==null;)Ee=s,ED(s),s=s.sibling;Ee=i,Wm=a,or=c}dI(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):dI(e)}}function dI(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||i0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!or)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ZC(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ZC(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&bh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}or||t.flags&512&&ww(t)}catch(m){Wt(t,t.return,m)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function fI(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function hI(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{i0(4,t)}catch(u){Wt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Wt(t,i,u)}}var s=t.return;try{ww(t)}catch(u){Wt(t,s,u)}break;case 5:var o=t.return;try{ww(t)}catch(u){Wt(t,o,u)}}}catch(u){Wt(t,t.return,u)}if(t===e){Ee=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ee=a;break}Ee=t.return}}var U8=Math.ceil,_v=da.ReactCurrentDispatcher,KE=da.ReactCurrentOwner,Mi=da.ReactCurrentBatchConfig,rt=0,kn=null,an=null,Un=0,ti=0,Mc=xl(0),gn=0,Oh=null,gu=0,s0=0,GE=0,rh=null,Mr=null,ZE=0,ad=1/0,Co=null,bv=!1,Pw=null,Za=null,Hm=!1,$a=null,wv=0,ih=0,Tw=null,jg=-1,Rg=0;function br(){return rt&6?tn():jg!==-1?jg:jg=tn()}function Ya(e){return e.mode&1?rt&2&&Un!==0?Un&-Un:T8.transition!==null?(Rg===0&&(Rg=aM()),Rg):(e=gt,e!==0||(e=window.event,e=e===void 0?16:pM(e.type)),e):1}function os(e,t,n,r){if(50<ih)throw ih=0,Tw=null,Error(le(185));pp(e,n,r),(!(rt&2)||e!==kn)&&(e===kn&&(!(rt&2)&&(s0|=n),gn===4&&Ra(e,Un)),Wr(e,r),n===1&&rt===0&&!(t.mode&1)&&(ad=tn()+500,t0&&_l()))}function Wr(e,t){var n=e.callbackNode;TU(e,t);var r=sv(e,e===kn?Un:0);if(r===0)n!==null&&wC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wC(n),t===1)e.tag===0?P8(pI.bind(null,e)):jM(pI.bind(null,e)),b8(function(){!(rt&6)&&_l()}),n=null;else{switch(lM(r)){case 1:n=bE;break;case 4:n=sM;break;case 16:n=iv;break;case 536870912:n=oM;break;default:n=iv}n=ND(n,SD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function SD(e,t){if(jg=-1,Rg=0,rt&6)throw Error(le(327));var n=e.callbackNode;if(Wc()&&e.callbackNode!==n)return null;var r=sv(e,e===kn?Un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ev(e,r);else{t=r;var i=rt;rt|=2;var s=TD();(kn!==e||Un!==t)&&(Co=null,ad=tn()+500,iu(e,t));do try{q8();break}catch(a){PD(e,a)}while(!0);RE(),_v.current=s,rt=i,an!==null?t=0:(kn=null,Un=0,t=gn)}if(t!==0){if(t===2&&(i=Jb(e),i!==0&&(r=i,t=Aw(e,i))),t===1)throw n=Oh,iu(e,0),Ra(e,r),Wr(e,tn()),n;if(t===6)Ra(e,r);else{if(i=e.current.alternate,!(r&30)&&!W8(i)&&(t=Ev(e,r),t===2&&(s=Jb(e),s!==0&&(r=s,t=Aw(e,s))),t===1))throw n=Oh,iu(e,0),Ra(e,r),Wr(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:Ul(e,Mr,Co);break;case 3:if(Ra(e,r),(r&130023424)===r&&(t=ZE+500-tn(),10<t)){if(sv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){br(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=aw(Ul.bind(null,e,Mr,Co),t);break}Ul(e,Mr,Co);break;case 4:if(Ra(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ss(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U8(r/1960))-r,10<r){e.timeoutHandle=aw(Ul.bind(null,e,Mr,Co),r);break}Ul(e,Mr,Co);break;case 5:Ul(e,Mr,Co);break;default:throw Error(le(329))}}}return Wr(e,tn()),e.callbackNode===n?SD.bind(null,e):null}function Aw(e,t){var n=rh;return e.current.memoizedState.isDehydrated&&(iu(e,t).flags|=256),e=Ev(e,t),e!==2&&(t=Mr,Mr=n,t!==null&&Cw(t)),e}function Cw(e){Mr===null?Mr=e:Mr.push.apply(Mr,e)}function W8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ds(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ra(e,t){for(t&=~GE,t&=~s0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ss(t),r=1<<n;e[n]=-1,t&=~r}}function pI(e){if(rt&6)throw Error(le(327));Wc();var t=sv(e,0);if(!(t&1))return Wr(e,tn()),null;var n=Ev(e,t);if(e.tag!==0&&n===2){var r=Jb(e);r!==0&&(t=r,n=Aw(e,r))}if(n===1)throw n=Oh,iu(e,0),Ra(e,t),Wr(e,tn()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ul(e,Mr,Co),Wr(e,tn()),null}function YE(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(ad=tn()+500,t0&&_l())}}function vu(e){$a!==null&&$a.tag===0&&!(rt&6)&&Wc();var t=rt;rt|=1;var n=Mi.transition,r=gt;try{if(Mi.transition=null,gt=1,e)return e()}finally{gt=r,Mi.transition=n,rt=t,!(rt&6)&&_l()}}function XE(){ti=Mc.current,Ct(Mc)}function iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_8(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(NE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cv();break;case 3:sd(),Ct(Br),Ct(cr),FE();break;case 5:VE(r);break;case 4:sd();break;case 13:Ct(Dt);break;case 19:Ct(Dt);break;case 10:ME(r.type._context);break;case 22:case 23:XE()}n=n.return}if(kn=e,an=e=Xa(e.current,null),Un=ti=t,gn=0,Oh=null,GE=s0=gu=0,Mr=rh=null,Yl!==null){for(t=0;t<Yl.length;t++)if(n=Yl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yl=null}return e}function PD(e,t){do{var n=an;try{if(RE(),kg.current=xv,yv){for(var r=Lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yv=!1}if(mu=0,An=hn=Lt=null,th=!1,Ih=0,KE.current=null,n===null||n.return===null){gn=1,Oh=t,an=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Un,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=tI(o);if(y!==null){y.flags&=-257,nI(y,o,a,s,t),y.mode&1&&eI(s,c,t),t=y,u=c;var _=t.updateQueue;if(_===null){var E=new Set;E.add(u),t.updateQueue=E}else _.add(u);break e}else{if(!(t&1)){eI(s,c,t),QE();break e}u=Error(le(426))}}else if(Ot&&a.mode&1){var w=tI(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nI(w,o,a,s,t),OE(od(u,a));break e}}s=u=od(u,a),gn!==4&&(gn=2),rh===null?rh=[s]:rh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=lD(s,u,t);GC(s,S);break e;case 1:a=u;var P=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof P.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Za===null||!Za.has(A)))){s.flags|=65536,t&=-t,s.lanes|=t;var O=uD(s,a,t);GC(s,O);break e}}s=s.return}while(s!==null)}CD(n)}catch(M){t=M,an===n&&n!==null&&(an=n=n.return);continue}break}while(!0)}function TD(){var e=_v.current;return _v.current=xv,e===null?xv:e}function QE(){(gn===0||gn===3||gn===2)&&(gn=4),kn===null||!(gu&268435455)&&!(s0&268435455)||Ra(kn,Un)}function Ev(e,t){var n=rt;rt|=2;var r=TD();(kn!==e||Un!==t)&&(Co=null,iu(e,t));do try{H8();break}catch(i){PD(e,i)}while(!0);if(RE(),rt=n,_v.current=r,an!==null)throw Error(le(261));return kn=null,Un=0,gn}function H8(){for(;an!==null;)AD(an)}function q8(){for(;an!==null&&!vU();)AD(an)}function AD(e){var t=kD(e.alternate,e,ti);e.memoizedProps=e.pendingProps,t===null?CD(e):an=t,KE.current=null}function CD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=V8(n,t),n!==null){n.flags&=32767,an=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gn=6,an=null;return}}else if(n=z8(n,t,ti),n!==null){an=n;return}if(t=t.sibling,t!==null){an=t;return}an=t=e}while(t!==null);gn===0&&(gn=5)}function Ul(e,t,n){var r=gt,i=Mi.transition;try{Mi.transition=null,gt=1,K8(e,t,n,r)}finally{Mi.transition=i,gt=r}return null}function K8(e,t,n,r){do Wc();while($a!==null);if(rt&6)throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(AU(e,s),e===kn&&(an=kn=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hm||(Hm=!0,ND(iv,function(){return Wc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mi.transition,Mi.transition=null;var o=gt;gt=1;var a=rt;rt|=4,KE.current=null,$8(e,n),wD(n,e),h8(sw),ov=!!iw,sw=iw=null,e.current=n,B8(n),yU(),rt=a,gt=o,Mi.transition=s}else e.current=n;if(Hm&&(Hm=!1,$a=e,wv=i),s=e.pendingLanes,s===0&&(Za=null),bU(n.stateNode),Wr(e,tn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bv)throw bv=!1,e=Pw,Pw=null,e;return wv&1&&e.tag!==0&&Wc(),s=e.pendingLanes,s&1?e===Tw?ih++:(ih=0,Tw=e):ih=0,_l(),null}function Wc(){if($a!==null){var e=lM(wv),t=Mi.transition,n=gt;try{if(Mi.transition=null,gt=16>e?16:e,$a===null)var r=!1;else{if(e=$a,$a=null,wv=0,rt&6)throw Error(le(331));var i=rt;for(rt|=4,Ee=e.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Ee=c;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:nh(8,d,s)}var p=d.child;if(p!==null)p.return=d,Ee=p;else for(;Ee!==null;){d=Ee;var m=d.sibling,y=d.return;if(xD(d),d===c){Ee=null;break}if(m!==null){m.return=y,Ee=m;break}Ee=y}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Ee=S;break e}Ee=s.return}}var P=e.current;for(Ee=P;Ee!==null;){o=Ee;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Ee=A;else e:for(o=P;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:i0(9,a)}}catch(M){Wt(a,a.return,M)}if(a===o){Ee=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,Ee=O;break e}Ee=a.return}}if(rt=i,_l(),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(Yy,e)}catch{}r=!0}return r}finally{gt=n,Mi.transition=t}}return!1}function mI(e,t,n){t=od(n,t),t=lD(e,t,1),e=Ga(e,t,1),t=br(),e!==null&&(pp(e,1,t),Wr(e,t))}function Wt(e,t,n){if(e.tag===3)mI(e,e,n);else for(;t!==null;){if(t.tag===3){mI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){e=od(n,e),e=uD(t,e,1),t=Ga(t,e,1),e=br(),t!==null&&(pp(t,1,e),Wr(t,e));break}}t=t.return}}function G8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&n,kn===e&&(Un&n)===n&&(gn===4||gn===3&&(Un&130023424)===Un&&500>tn()-ZE?iu(e,0):GE|=n),Wr(e,t)}function ID(e,t){t===0&&(e.mode&1?(t=Mm,Mm<<=1,!(Mm&130023424)&&(Mm=4194304)):t=1);var n=br();e=Go(e,t),e!==null&&(pp(e,t,n),Wr(e,n))}function Z8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ID(e,n)}function Y8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),ID(e,n)}var kD;kD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)zr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zr=!1,L8(e,t,n);zr=!!(e.flags&131072)}else zr=!1,Ot&&t.flags&1048576&&RM(t,hv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Og(e,t),e=t.pendingProps;var i=nd(t,cr.current);Uc(t,n),i=BE(null,t,r,e,i,n);var s=UE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(r)?(s=!0,dv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LE(t),i.updater=r0,t.stateNode=i,i._reactInternals=t,pw(t,r,e,n),t=vw(null,t,r,!0,s,n)):(t.tag=0,Ot&&s&&kE(t),xr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Og(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Q8(r),e=Qi(r,e),i){case 0:t=gw(null,t,r,e,n);break e;case 1:t=sI(null,t,r,e,n);break e;case 11:t=rI(null,t,r,e,n);break e;case 14:t=iI(null,t,r,Qi(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),gw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),sI(e,t,r,i,n);case 3:e:{if(hD(t),e===null)throw Error(le(387));r=t.pendingProps,s=t.memoizedState,i=s.element,FM(e,t),gv(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=od(Error(le(423)),t),t=oI(e,t,r,n,i);break e}else if(r!==i){i=od(Error(le(424)),t),t=oI(e,t,r,n,i);break e}else for(ri=Ka(t.stateNode.containerInfo.firstChild),ai=t,Ot=!0,es=null,n=zM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rd(),r===i){t=Zo(e,t,n);break e}xr(e,t,r,n)}t=t.child}return t;case 5:return $M(t),e===null&&dw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ow(r,i)?o=null:s!==null&&ow(r,s)&&(t.flags|=32),fD(e,t),xr(e,t,o,n),t.child;case 6:return e===null&&dw(t),null;case 13:return pD(e,t,n);case 4:return zE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=id(t,null,r,n):xr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),rI(e,t,r,i,n);case 7:return xr(e,t,t.pendingProps,n),t.child;case 8:return xr(e,t,t.pendingProps.children,n),t.child;case 12:return xr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,St(pv,r._currentValue),r._currentValue=o,s!==null)if(ds(s.value,o)){if(s.children===i.children&&!Br.current){t=Zo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=$o(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),fw(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fw(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uc(t,n),i=zi(i),r=r(i),t.flags|=1,xr(e,t,r,n),t.child;case 14:return r=t.type,i=Qi(r,t.pendingProps),i=Qi(r.type,i),iI(e,t,r,i,n);case 15:return cD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),Og(e,t),t.tag=1,Ur(r)?(e=!0,dv(t)):e=!1,Uc(t,n),aD(t,r,i),pw(t,r,i,n),vw(null,t,r,!0,e,n);case 19:return mD(e,t,n);case 22:return dD(e,t,n)}throw Error(le(156,t.tag))};function ND(e,t){return iM(e,t)}function X8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(e,t,n,r){return new X8(e,t,n,r)}function JE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q8(e){if(typeof e=="function")return JE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yE)return 11;if(e===xE)return 14}return 2}function Xa(e,t){var n=e.alternate;return n===null?(n=ji(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mg(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")JE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pc:return su(n.children,i,s,t);case vE:o=8,i|=8;break;case zb:return e=ji(12,n,t,i|2),e.elementType=zb,e.lanes=s,e;case Vb:return e=ji(13,n,t,i),e.elementType=Vb,e.lanes=s,e;case Fb:return e=ji(19,n,t,i),e.elementType=Fb,e.lanes=s,e;case $R:return o0(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VR:o=10;break e;case FR:o=9;break e;case yE:o=11;break e;case xE:o=14;break e;case Ca:o=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=ji(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function su(e,t,n,r){return e=ji(7,e,r,t),e.lanes=n,e}function o0(e,t,n,r){return e=ji(22,e,r,t),e.elementType=$R,e.lanes=n,e.stateNode={isHidden:!1},e}function z_(e,t,n){return e=ji(6,e,null,t),e.lanes=n,e}function V_(e,t,n){return t=ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J8(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x_(0),this.expirationTimes=x_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eS(e,t,n,r,i,s,o,a,u){return e=new J8(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ji(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},LE(s),e}function e7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function OD(e){if(!e)return ol;e=e._reactInternals;e:{if(ju(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(Ur(n))return OM(e,n,t)}return t}function jD(e,t,n,r,i,s,o,a,u){return e=eS(n,r,!0,e,i,s,o,a,u),e.context=OD(null),n=e.current,r=br(),i=Ya(n),s=$o(r,i),s.callback=t??null,Ga(n,s,i),e.current.lanes=i,pp(e,i,r),Wr(e,r),e}function a0(e,t,n,r){var i=t.current,s=br(),o=Ya(i);return n=OD(n),t.context===null?t.context=n:t.pendingContext=n,t=$o(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ga(i,t,o),e!==null&&(os(e,i,o,s),Ig(e,i,o)),o}function Sv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tS(e,t){gI(e,t),(e=e.alternate)&&gI(e,t)}function t7(){return null}var RD=typeof reportError=="function"?reportError:function(e){console.error(e)};function nS(e){this._internalRoot=e}l0.prototype.render=nS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));a0(e,t,null,null)};l0.prototype.unmount=nS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vu(function(){a0(null,e,null,null)}),t[Ko]=null}};function l0(e){this._internalRoot=e}l0.prototype.unstable_scheduleHydration=function(e){if(e){var t=dM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ja.length&&t!==0&&t<ja[n].priority;n++);ja.splice(n,0,e),n===0&&hM(e)}};function rS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vI(){}function n7(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sv(o);s.call(c)}}var o=jD(t,r,e,0,null,!1,!1,"",vI);return e._reactRootContainer=o,e[Ko]=o.current,Sh(e.nodeType===8?e.parentNode:e),vu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sv(u);a.call(c)}}var u=eS(e,0,!1,null,null,!1,!1,"",vI);return e._reactRootContainer=u,e[Ko]=u.current,Sh(e.nodeType===8?e.parentNode:e),vu(function(){a0(t,u,n,r)}),u}function c0(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Sv(o);a.call(u)}}a0(t,o,e,i)}else o=n7(n,t,e,i,r);return Sv(o)}uM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vf(t.pendingLanes);n!==0&&(wE(t,n|1),Wr(t,tn()),!(rt&6)&&(ad=tn()+500,_l()))}break;case 13:vu(function(){var r=Go(e,1);if(r!==null){var i=br();os(r,e,1,i)}}),tS(e,1)}};EE=function(e){if(e.tag===13){var t=Go(e,134217728);if(t!==null){var n=br();os(t,e,134217728,n)}tS(e,134217728)}};cM=function(e){if(e.tag===13){var t=Ya(e),n=Go(e,t);if(n!==null){var r=br();os(n,e,t,r)}tS(e,t)}};dM=function(){return gt};fM=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}};Yb=function(e,t,n){switch(t){case"input":if(Ub(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=e0(r);if(!i)throw Error(le(90));UR(r),Ub(r,i)}}}break;case"textarea":HR(e,n);break;case"select":t=n.value,t!=null&&Vc(e,!!n.multiple,t,!1)}};QR=YE;JR=vu;var r7={usingClientEntryPoint:!1,Events:[gp,Ic,e0,YR,XR,YE]},Sf={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i7={bundleType:Sf.bundleType,version:Sf.version,rendererPackageName:Sf.rendererPackageName,rendererConfig:Sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nM(e),e===null?null:e.stateNode},findFiberByHostInstance:Sf.findFiberByHostInstance||t7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qm.isDisabled&&qm.supportsFiber)try{Yy=qm.inject(i7),Ks=qm}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r7;hi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rS(t))throw Error(le(200));return e7(e,t,null,n)};hi.createRoot=function(e,t){if(!rS(e))throw Error(le(299));var n=!1,r="",i=RD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=eS(e,1,!1,null,null,n,!1,r,i),e[Ko]=t.current,Sh(e.nodeType===8?e.parentNode:e),new nS(t)};hi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=nM(t),e=e===null?null:e.stateNode,e};hi.flushSync=function(e){return vu(e)};hi.hydrate=function(e,t,n){if(!u0(t))throw Error(le(200));return c0(null,e,t,!0,n)};hi.hydrateRoot=function(e,t,n){if(!rS(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jD(t,null,e,1,n??null,i,!1,s,o),e[Ko]=t.current,Sh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new l0(t)};hi.render=function(e,t,n){if(!u0(t))throw Error(le(200));return c0(null,e,t,!1,n)};hi.unmountComponentAtNode=function(e){if(!u0(e))throw Error(le(40));return e._reactRootContainer?(vu(function(){c0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ko]=null})}),!0):!1};hi.unstable_batchedUpdates=YE;hi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!u0(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return c0(e,t,n,!1,r)};hi.version="18.3.1-next-f1338f8080-20240426";function MD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MD)}catch(e){console.error(e)}}MD(),MR.exports=hi;var Do=MR.exports,DD,yI=Do;DD=yI.createRoot,yI.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xI="popstate";function s7(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Iw("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jh(i)}return a7(t,n,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o7(){return Math.random().toString(36).substring(2,10)}function _I(e,t){return{usr:e.state,key:e.key,idx:t}}function Iw(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ad(t):t,state:n,key:t&&t.key||r||o7()}}function jh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ad(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function a7(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=d(),S=w==null?null:w-c;c=w,u&&u({action:a,location:E.location,delta:S})}function m(w,S){a="PUSH";let P=Iw(E.location,w,S);c=d()+1;let A=_I(P,c),O=E.createHref(P);try{o.pushState(A,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}s&&u&&u({action:a,location:E.location,delta:1})}function y(w,S){a="REPLACE";let P=Iw(E.location,w,S);c=d();let A=_I(P,c),O=E.createHref(P);o.replaceState(A,"",O),s&&u&&u({action:a,location:E.location,delta:0})}function _(w){return l7(w)}let E={get action(){return a},get location(){return e(i,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xI,p),u=w,()=>{i.removeEventListener(xI,p),u=null}},createHref(w){return t(i,w)},createURL:_,encodeLocation(w){let S=_(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(w){return o.go(w)}};return E}function l7(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:jh(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function LD(e,t,n="/"){return u7(e,t,n,!1)}function u7(e,t,n,r){let i=typeof t=="string"?Ad(t):t,s=Yo(i.pathname||"/",n);if(s==null)return null;let o=zD(e);c7(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=b7(s);a=x7(o[u],c,r)}return a}function zD(e,t=[],n=[],r="",i=!1){let s=(o,a,u=i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;Rt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=Bo([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),zD(o.children,t,m,p,u)),!(o.path==null&&!o.index)&&t.push({path:p,score:v7(p,o.index),routesMeta:m})};return e.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of VD(o.path))s(o,a,!0,c)}),t}function VD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=VD(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function c7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:y7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var d7=/^:[\w-]+$/,f7=3,h7=2,p7=1,m7=10,g7=-2,bI=e=>e==="*";function v7(e,t){let n=e.split("/"),r=n.length;return n.some(bI)&&(r+=g7),t&&(r+=h7),n.filter(i=>!bI(i)).reduce((i,s)=>i+(d7.test(s)?f7:s===""?p7:m7),r)}function y7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function x7(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",p=Pv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Pv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Bo([s,p.pathname]),pathnameBase:P7(Bo([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Bo([s,p.pathnameBase]))}return o}function Pv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},m)=>{if(d==="*"){let _=a[m]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function _7(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function b7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function E7(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ad(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=wI(n.substring(1),"/"):s=wI(n,t)):s=t,{pathname:s,search:T7(r),hash:A7(i)}}function wI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function F_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iS(e){let t=S7(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function sS(e,t,n,r=!1){let i;typeof e=="string"?i=Ad(e):(i={...e},Rt(!i.pathname||!i.pathname.includes("?"),F_("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),F_("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),F_("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?t[p]:"/"}let u=E7(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Bo=e=>e.join("/").replace(/\/\/+/g,"/"),P7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,C7=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function I7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function k7(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $D(e,t){let n=e;if(typeof n!="string"||!w7.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(FD)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=Yo(o.pathname,t);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{Fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BD=["POST","PUT","PATCH","DELETE"];new Set(BD);var N7=["GET",...BD];new Set(N7);var Cd=x.createContext(null);Cd.displayName="DataRouter";var d0=x.createContext(null);d0.displayName="DataRouterState";var O7=x.createContext(!1),UD=x.createContext({isTransitioning:!1});UD.displayName="ViewTransition";var j7=x.createContext(new Map);j7.displayName="Fetchers";var R7=x.createContext(null);R7.displayName="Await";var mi=x.createContext(null);mi.displayName="Navigation";var yp=x.createContext(null);yp.displayName="Location";var Wi=x.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var oS=x.createContext(null);oS.displayName="RouteError";var WD="REACT_ROUTER_ERROR",M7="REDIRECT",D7="ROUTE_ERROR_RESPONSE";function L7(e){if(e.startsWith(`${WD}:${M7}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function z7(e){if(e.startsWith(`${WD}:${D7}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new C7(t.status,t.statusText,t.data)}catch{}}function V7(e,{relative:t}={}){Rt(Id(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(mi),{hash:i,pathname:s,search:o}=xp(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Bo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Id(){return x.useContext(yp)!=null}function ao(){return Rt(Id(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(yp).location}var HD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qD(e){x.useContext(mi).static||x.useLayoutEffect(e)}function bl(){let{isDataRoute:e}=x.useContext(Wi);return e?tW():F7()}function F7(){Rt(Id(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Cd),{basename:t,navigator:n}=x.useContext(mi),{matches:r}=x.useContext(Wi),{pathname:i}=ao(),s=JSON.stringify(iS(r)),o=x.useRef(!1);return qD(()=>{o.current=!0}),x.useCallback((u,c={})=>{if(Fi(o.current,HD),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=sS(u,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Bo([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}var $7=x.createContext(null);function B7(e){let t=x.useContext(Wi).outlet;return x.useMemo(()=>t&&x.createElement($7.Provider,{value:e},t),[t,e])}function U7(){let{matches:e}=x.useContext(Wi),t=e[e.length-1];return t?t.params:{}}function xp(e,{relative:t}={}){let{matches:n}=x.useContext(Wi),{pathname:r}=ao(),i=JSON.stringify(iS(n));return x.useMemo(()=>sS(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function W7(e,t){return KD(e,t)}function KD(e,t,n,r,i){var P;Rt(Id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(mi),{matches:o}=x.useContext(Wi),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let A=p&&p.path||"";ZD(c,!p||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=ao(),y;if(t){let A=typeof t=="string"?Ad(t):t;Rt(d==="/"||((P=A.pathname)==null?void 0:P.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=m;let _=y.pathname||"/",E=_;if(d!=="/"){let A=d.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=LD(e,{pathname:E});Fi(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Fi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Z7(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Bo([d,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:Bo([d,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,n,r,i);return t&&S?x.createElement(yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function H7(){let e=eW(),t=I7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,o)}var q7=x.createElement(H7,null),GD=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=z7(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(Wi.Provider,{value:this.props.routeContext},x.createElement(oS.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(K7,{error:e},t):t}};GD.contextType=O7;var $_=new WeakMap;function K7({children:e,error:t}){let{basename:n}=x.useContext(mi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=L7(t.digest);if(r){let i=$_.get(t);if(i)throw i;let s=$D(r.location,n);if(FD&&!$_.get(t))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw $_.set(t,o),o}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function G7({routeContext:e,match:t,children:n}){let r=x.useContext(Cd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Wi.Provider,{value:e},n)}function Z7(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Rt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:m,errors:y}=n,_=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&r?(d,p)=>{var m,y;r(d,{location:n.location,params:((y=(m=n.matches)==null?void 0:m[0])==null?void 0:y.params)??{},unstable_pattern:k7(n.matches),errorInfo:p})}:void 0;return s.reduceRight((d,p,m)=>{let y,_=!1,E=null,w=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||q7,a&&(u<0&&m===0?(ZD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):u===m&&(_=!0,w=p.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,m+1)),P=()=>{let A;return y?A=E:_?A=w:p.route.Component?A=x.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,x.createElement(G7,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?x.createElement(GD,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):P()},null)}function aS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y7(e){let t=x.useContext(Cd);return Rt(t,aS(e)),t}function X7(e){let t=x.useContext(d0);return Rt(t,aS(e)),t}function Q7(e){let t=x.useContext(Wi);return Rt(t,aS(e)),t}function lS(e){let t=Q7(e),n=t.matches[t.matches.length-1];return Rt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function J7(){return lS("useRouteId")}function eW(){var r;let e=x.useContext(oS),t=X7("useRouteError"),n=lS("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function tW(){let{router:e}=Y7("useNavigate"),t=lS("useNavigate"),n=x.useRef(!1);return qD(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{Fi(n.current,HD),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var EI={};function ZD(e,t,n){!t&&!EI[e]&&(EI[e]=!0,Fi(!1,n))}x.memo(nW);function nW({routes:e,future:t,state:n,onError:r}){return KD(e,void 0,n,r,t)}function B_({to:e,replace:t,state:n,relative:r}){Rt(Id(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(mi);Fi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(Wi),{pathname:o}=ao(),a=bl(),u=sS(e,iS(s),o,r==="path"),c=JSON.stringify(u);return x.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function YD(e){return B7(e.context)}function jr(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rW({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Rt(!Id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=Ad(n));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:y="default"}=n,_=x.useMemo(()=>{let E=Yo(c,a);return E==null?null:{location:{pathname:E,search:d,hash:p,state:m,key:y},navigationType:r}},[a,c,d,p,m,y,r]);return Fi(_!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:x.createElement(mi.Provider,{value:u},x.createElement(yp.Provider,{children:t,value:_}))}function iW({children:e,location:t}){return W7(kw(e),t)}function kw(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,kw(r.props.children,s));return}Rt(r.type===jr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kw(r.props.children,s)),n.push(o)}),n}var Dg="get",Lg="application/x-www-form-urlencoded";function f0(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function sW(e){return f0(e)&&e.tagName.toLowerCase()==="button"}function oW(e){return f0(e)&&e.tagName.toLowerCase()==="form"}function aW(e){return f0(e)&&e.tagName.toLowerCase()==="input"}function lW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uW(e,t){return e.button===0&&(!t||t==="_self")&&!lW(e)}function Nw(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function cW(e,t){let n=Nw(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Km=null;function dW(){if(Km===null)try{new FormData(document.createElement("form"),0),Km=!1}catch{Km=!0}return Km}var fW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U_(e){return e!=null&&!fW.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lg}"`),null):e}function hW(e,t){let n,r,i,s,o;if(oW(e)){let a=e.getAttribute("action");r=a?Yo(a,t):null,n=e.getAttribute("method")||Dg,i=U_(e.getAttribute("enctype"))||Lg,s=new FormData(e)}else if(sW(e)||aW(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(r=u?Yo(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Dg,i=U_(e.getAttribute("formenctype"))||U_(a.getAttribute("enctype"))||Lg,s=new FormData(a,e),!dW()){let{name:c,type:d,value:p}=e;if(d==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,p)}}else{if(f0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dg,r=null,i=Lg,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uS(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pW(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&Yo(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function mW(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gW(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vW(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await mW(s,n);return o.links?o.links():[]}return[]}));return bW(r.flat(1).filter(gW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function SI(e,t,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?t.filter((u,c)=>{var p;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function yW(e,t,{includeHydrateFallback:n}={}){return xW(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function xW(e){return[...new Set(e)]}function _W(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function bW(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(_W(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function XD(){let e=x.useContext(Cd);return uS(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wW(){let e=x.useContext(d0);return uS(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cS=x.createContext(void 0);cS.displayName="FrameworkContext";function QD(){let e=x.useContext(cS);return uS(e,"You must render this element inside a <HydratedRouter> element"),e}function EW(e,t){let n=x.useContext(cS),[r,i]=x.useState(!1),[s,o]=x.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=t,m=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let E=S=>{S.forEach(P=>{o(P.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Pf(a,y),onBlur:Pf(u,_),onMouseEnter:Pf(c,y),onMouseLeave:Pf(d,_),onTouchStart:Pf(p,y)}]:[!1,m,{}]}function Pf(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SW({page:e,...t}){let{router:n}=XD(),r=x.useMemo(()=>LD(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(TW,{page:e,matches:r,...t}):null}function PW(e){let{manifest:t,routeModules:n}=QD(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return vW(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function TW({page:e,matches:t,...n}){let r=ao(),{future:i,manifest:s,routeModules:o}=QD(),{basename:a}=XD(),{loaderData:u,matches:c}=wW(),d=x.useMemo(()=>SI(e,t,c,s,r,"data"),[e,t,c,s,r]),p=x.useMemo(()=>SI(e,t,c,s,r,"assets"),[e,t,c,s,r]),m=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,w=!1;if(t.forEach(P=>{var O;let A=s.routes[P.route.id];!A||!A.hasLoader||(!d.some(M=>M.route.id===P.route.id)&&P.route.id in u&&((O=o[P.route.id])!=null&&O.shouldRevalidate)||A.hasClientLoader?w=!0:E.add(P.route.id))}),E.size===0)return[];let S=pW(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return w&&E.size>0&&S.searchParams.set("_routes",t.filter(P=>E.has(P.route.id)).map(P=>P.route.id).join(",")),[S.pathname+S.search]},[a,i.unstable_trailingSlashAwareDataRequests,u,r,s,d,t,e,o]),y=x.useMemo(()=>yW(p,s),[p,s]),_=PW(p);return x.createElement(x.Fragment,null,m.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:w})=>x.createElement("link",{key:E,nonce:n.nonce,...w,crossOrigin:w.crossOrigin??n.crossOrigin})))}function AW(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var CW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CW&&(window.__reactRouterVersion="7.13.0")}catch{}function IW({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current==null&&(i.current=s7({window:r,v5Compat:!0}));let s=i.current,[o,a]=x.useState({action:s.action,location:s.location}),u=x.useCallback(c=>{n===!1?a(c):x.startTransition(()=>a(c))},[n]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(rW,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n})}var JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eL=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},_){let{basename:E,unstable_useTransitions:w}=x.useContext(mi),S=typeof c=="string"&&JD.test(c),P=$D(c,E);c=P.to;let A=V7(c,{relative:i}),[O,M,z]=EW(r,y),k=OW(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:w});function C($){t&&t($),$.defaultPrevented||k($)}let R=x.createElement("a",{...y,...z,href:P.absoluteURL||A,onClick:P.isExternal||s?t:C,ref:AW(_,M),target:u,"data-discover":!S&&n==="render"?"true":void 0});return O&&!S?x.createElement(x.Fragment,null,R,x.createElement(SW,{page:A})):R});eL.displayName="Link";var tL=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},d){let p=xp(o,{relative:c.relative}),m=ao(),y=x.useContext(d0),{navigator:_,basename:E}=x.useContext(mi),w=y!=null&&LW(p)&&a===!0,S=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,P=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&E&&(A=Yo(A,E)||A);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=P===S||!i&&P.startsWith(S)&&P.charAt(O)==="/",z=A!=null&&(A===S||!i&&A.startsWith(S)&&A.charAt(S.length)==="/"),k={isActive:M,isPending:z,isTransitioning:w},C=M?t:void 0,R;typeof r=="function"?R=r(k):R=[r,M?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(k):s;return x.createElement(eL,{...c,"aria-current":C,className:R,ref:d,style:$,to:o,viewTransition:a},typeof u=="function"?u(k):u)});tL.displayName="NavLink";var kW=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Dg,action:a,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:m,...y},_)=>{let{unstable_useTransitions:E}=x.useContext(mi),w=MW(),S=DW(a,{relative:c}),P=o.toLowerCase()==="get"?"get":"post",A=typeof a=="string"&&JD.test(a),O=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,k=(z==null?void 0:z.getAttribute("formmethod"))||o,C=()=>w(z||M.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:m});E&&n!==!1?x.startTransition(()=>C()):C()};return x.createElement("form",{ref:_,method:P,action:S,onSubmit:r?u:O,...y,"data-discover":!A&&e==="render"?"true":void 0})});kW.displayName="Form";function NW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nL(e){let t=x.useContext(Cd);return Rt(t,NW(e)),t}function OW(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:u}={}){let c=bl(),d=ao(),p=xp(e,{relative:s});return x.useCallback(m=>{if(uW(m,t)){m.preventDefault();let y=n!==void 0?n:jh(d)===jh(p),_=()=>c(e,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});u?x.startTransition(()=>_()):_()}},[d,c,p,n,r,t,e,i,s,o,a,u])}function rL(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Nw(e)),n=x.useRef(!1),r=ao(),i=x.useMemo(()=>cW(r.search,n.current?null:t.current),[r.search]),s=bl(),o=x.useCallback((a,u)=>{const c=Nw(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}var jW=0,RW=()=>`__${String(++jW)}__`;function MW(){let{router:e}=nL("useSubmit"),{basename:t}=x.useContext(mi),n=J7(),r=e.fetch,i=e.navigate;return x.useCallback(async(s,o={})=>{let{action:a,method:u,encType:c,formData:d,body:p}=hW(s,t);if(o.navigate===!1){let m=o.fetcherKey||RW();await r(m,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function DW(e,{relative:t}={}){let{basename:n}=x.useContext(mi),r=x.useContext(Wi);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...xp(e||".",{relative:t})},o=ao();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Bo([n,s.pathname])),jh(s)}function LW(e,{relative:t}={}){let n=x.useContext(UD);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nL("useViewTransitionState"),i=xp(e,{relative:t});if(!n.isTransitioning)return!1;let s=Yo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pv(i.pathname,o)!=null||Pv(i.pathname,s)!=null}const zW=()=>{};var PI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},VW=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},sL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[d],n[p],n[m],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(iL(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):VW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const p=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new FW;const m=s<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const _=c<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class FW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $W=function(e){const t=iL(e);return sL.encodeByteArray(t,!0)},Tv=function(e){return $W(e).replace(/\./g,"")},oL=function(e){try{return sL.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=()=>BW().__FIREBASE_DEFAULTS__,WW=()=>{if(typeof process>"u"||typeof PI>"u")return;const e=PI.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},HW=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&oL(e[1]);return t&&JSON.parse(t)},h0=()=>{try{return zW()||UW()||WW()||HW()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aL=e=>{var t,n;return(n=(t=h0())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},dS=e=>{const t=aL(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},lL=()=>{var e;return(e=h0())==null?void 0:e.config},uL=e=>{var t;return(t=h0())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p0(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Tv(JSON.stringify(n)),Tv(JSON.stringify(o)),""].join(".")}const sh={};function KW(){const e={prod:[],emulator:[]};for(const t of Object.keys(sh))sh[t]?e.emulator.push(t):e.prod.push(t);return e}function GW(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let TI=!1;function m0(e,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||sh[e]===t||sh[e]||TI)return;sh[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=KW().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{TI=!0,o()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=GW(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),w=document.getElementById(E)||document.createElement("a"),S=n("preprendIcon"),P=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;a(A),d(w,E);const O=c();u(P,S),A.append(P,_,w,O),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dr())}function YW(){var t;const e=(t=h0())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function JW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eH(){const e=dr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tH(){return!YW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nH(){try{return typeof indexedDB=="object"}catch{return!1}}function rH(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="FirebaseError";class vs extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=iH,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_p.prototype.create)}}class _p{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?sH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vs(i,a,r)}}function sH(e,t){return e.replace(oH,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const oH=/\{\$([^}]+)}/g;function aH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(AI(s)&&AI(o)){if(!yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AI(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $f(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Bf(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function lH(e,t){const n=new uH(e,t);return n.subscribe.bind(n)}class uH{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cH(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=W_),i.error===void 0&&(i.error=W_),i.complete===void 0&&(i.complete=W_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cH(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function W_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e){return e&&e._delegate?e._delegate:e}class Xo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dH=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new qW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hH(t))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Wl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wl){return this.instances.has(t)}getOptions(t=Wl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fH(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wl){return this.component?this.component.multipleInstances?t:Wl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fH(e){return e===Wl?void 0:e}function hH(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dH(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(He||(He={}));const mH={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},gH=He.INFO,vH={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},yH=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=vH[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fS{constructor(t){this.name=t,this._logLevel=gH,this._logHandler=yH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in He))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...t),this._logHandler(this,He.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...t),this._logHandler(this,He.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,He.INFO,...t),this._logHandler(this,He.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,He.WARN,...t),this._logHandler(this,He.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...t),this._logHandler(this,He.ERROR,...t)}}const xH=(e,t)=>t.some(n=>e instanceof n);let CI,II;function _H(){return CI||(CI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bH(){return II||(II=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dL=new WeakMap,Ow=new WeakMap,fL=new WeakMap,H_=new WeakMap,hS=new WeakMap;function wH(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qa(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&dL.set(n,e)}).catch(()=>{}),hS.set(t,e),t}function EH(e){if(Ow.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ow.set(e,t)}let jw={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ow.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fL.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function SH(e){jw=e(jw)}function PH(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(q_(this),t,...n);return fL.set(r,t.sort?t.sort():[t]),Qa(r)}:bH().includes(e)?function(...t){return e.apply(q_(this),t),Qa(dL.get(this))}:function(...t){return Qa(e.apply(q_(this),t))}}function TH(e){return typeof e=="function"?PH(e):(e instanceof IDBTransaction&&EH(e),xH(e,_H())?new Proxy(e,jw):e)}function Qa(e){if(e instanceof IDBRequest)return wH(e);if(H_.has(e))return H_.get(e);const t=TH(e);return t!==e&&(H_.set(e,t),hS.set(t,e)),t}const q_=e=>hS.get(e);function AH(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Qa(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qa(o.result),u.oldVersion,u.newVersion,Qa(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const CH=["get","getKey","getAll","getAllKeys","count"],IH=["put","add","delete","clear"],K_=new Map;function kI(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(K_.get(t))return K_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=IH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CH.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return K_.set(t,s),s}SH(e=>({...e,get:(t,n,r)=>kI(t,n)||e.get(t,n,r),has:(t,n)=>!!kI(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NH(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rw="@firebase/app",NI="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new fS("@firebase/app"),OH="@firebase/app-compat",jH="@firebase/analytics-compat",RH="@firebase/analytics",MH="@firebase/app-check-compat",DH="@firebase/app-check",LH="@firebase/auth",zH="@firebase/auth-compat",VH="@firebase/database",FH="@firebase/data-connect",$H="@firebase/database-compat",BH="@firebase/functions",UH="@firebase/functions-compat",WH="@firebase/installations",HH="@firebase/installations-compat",qH="@firebase/messaging",KH="@firebase/messaging-compat",GH="@firebase/performance",ZH="@firebase/performance-compat",YH="@firebase/remote-config",XH="@firebase/remote-config-compat",QH="@firebase/storage",JH="@firebase/storage-compat",eq="@firebase/firestore",tq="@firebase/ai",nq="@firebase/firestore-compat",rq="firebase",iq="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="[DEFAULT]",sq={[Rw]:"fire-core",[OH]:"fire-core-compat",[RH]:"fire-analytics",[jH]:"fire-analytics-compat",[DH]:"fire-app-check",[MH]:"fire-app-check-compat",[LH]:"fire-auth",[zH]:"fire-auth-compat",[VH]:"fire-rtdb",[FH]:"fire-data-connect",[$H]:"fire-rtdb-compat",[BH]:"fire-fn",[UH]:"fire-fn-compat",[WH]:"fire-iid",[HH]:"fire-iid-compat",[qH]:"fire-fcm",[KH]:"fire-fcm-compat",[GH]:"fire-perf",[ZH]:"fire-perf-compat",[YH]:"fire-rc",[XH]:"fire-rc-compat",[QH]:"fire-gcs",[JH]:"fire-gcs-compat",[eq]:"fire-fst",[nq]:"fire-fst-compat",[tq]:"fire-vertex","fire-js":"fire-js",[rq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map,oq=new Map,Dw=new Map;function OI(e,t){try{e.container.addComponent(t)}catch(n){Qo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function al(e){const t=e.name;if(Dw.has(t))return Qo.debug(`There were multiple attempts to register component ${t}.`),!1;Dw.set(t,e);for(const n of Av.values())OI(n,e);for(const n of oq.values())OI(n,e);return!0}function wp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Dr(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new _p("app","Firebase",aq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=iq;function hL(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Mw,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=lL()),!n)throw Ja.create("no-options");const s=Av.get(i);if(s){if(yu(n,s.options)&&yu(r,s.config))return s;throw Ja.create("duplicate-app",{appName:i})}const o=new pH(i);for(const u of Dw.values())o.addComponent(u);const a=new lq(n,r,o);return Av.set(i,a),a}function g0(e=Mw){const t=Av.get(e);if(!t&&e===Mw&&lL())return hL();if(!t)throw Ja.create("no-app",{appName:e});return t}function Di(e,t,n){let r=sq[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qo.warn(o.join(" "));return}al(new Xo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="firebase-heartbeat-database",cq=1,Rh="firebase-heartbeat-store";let G_=null;function pL(){return G_||(G_=AH(uq,cq,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ja.create("idb-open",{originalErrorMessage:e.message})})),G_}async function dq(e){try{const n=(await pL()).transaction(Rh),r=await n.objectStore(Rh).get(mL(e));return await n.done,r}catch(t){if(t instanceof vs)Qo.warn(t.message);else{const n=Ja.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Qo.warn(n.message)}}}async function jI(e,t){try{const r=(await pL()).transaction(Rh,"readwrite");await r.objectStore(Rh).put(t,mL(e)),await r.done}catch(n){if(n instanceof vs)Qo.warn(n.message);else{const r=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function mL(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=1024,hq=30;class pq{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RI();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hq){const o=vq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qo.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RI(),{heartbeatsToSend:r,unsentEntries:i}=mq(this._heartbeatsCache.heartbeats),s=Tv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qo.warn(n),""}}}function RI(){return new Date().toISOString().substring(0,10)}function mq(e,t=fq){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MI(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MI(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gq{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nH()?rH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return jI(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return jI(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function MI(e){return Tv(JSON.stringify({version:2,heartbeats:e})).length}function vq(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(e){al(new Xo("platform-logger",t=>new kH(t),"PRIVATE")),al(new Xo("heartbeat",t=>new pq(t),"PRIVATE")),Di(Rw,NI,e),Di(Rw,NI,"esm2020"),Di("fire-js","")}yq("");function gL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xq=gL,vL=new _p("auth","Firebase",gL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new fS("@firebase/auth");function _q(e,...t){Cv.logLevel<=He.WARN&&Cv.warn(`Auth (${Ru}): ${e}`,...t)}function zg(e,...t){Cv.logLevel<=He.ERROR&&Cv.error(`Auth (${Ru}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(e,...t){throw mS(e,...t)}function as(e,...t){return mS(e,...t)}function pS(e,t,n){const r={...xq(),[t]:n};return new _p("auth","Firebase",r).create(t,{appName:e.name})}function el(e){return pS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bq(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&$i(e,"argument-error"),pS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mS(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return vL.create(e,...t)}function je(e,t,...n){if(!e)throw mS(t,...n)}function Lo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zg(t),new Error(t)}function Jo(e,t){e||Lo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function wq(){return DI()==="http:"||DI()==="https:"}function DI(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wq()||QW()||"connection"in navigator)?navigator.onLine:!0}function Sq(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jo(n>t,"Short delay should be less than long delay!"),this.isMobile=ZW()||JW()}get(){return Eq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e,t){Jo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aq=new Ep(3e4,6e4);function Mu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function wl(e,t,n,r,i={}){return xL(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=bp({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...s};return XW()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&lo(e.emulatorConfig.host)&&(c.credentials="include"),yL.fetch()(await _L(e,e.config.apiHost,n,a),c)})}async function xL(e,t,n){e._canInitEmulator=!1;const r={...Pq,...t};try{const i=new Iq(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gm(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Gm(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw Gm(e,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pS(e,d,c);$i(e,d)}}catch(i){if(i instanceof vs)throw i;$i(e,"network-request-failed",{message:String(i)})}}async function v0(e,t,n,r,i={}){const s=await wl(e,t,n,r,i);return"mfaPendingCredential"in s&&$i(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function _L(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?gS(e.config,i):`${e.config.apiScheme}://${i}`;return Tq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Cq(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(as(this.auth,"network-request-failed")),Aq.get())})}}function Gm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=as(e,t,r);return i.customData._tokenResponse=n,i}function LI(e){return e!==void 0&&e.enterprise!==void 0}class kq{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Cq(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nq(e,t){return wl(e,"GET","/v2/recaptchaConfig",Mu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(e,t){return wl(e,"POST","/v1/accounts:delete",t)}async function Iv(e,t){return wl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jq(e,t=!1){const n=Pt(e),r=await n.getIdToken(t),i=vS(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:oh(Z_(i.auth_time)),issuedAtTime:oh(Z_(i.iat)),expirationTime:oh(Z_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Z_(e){return Number(e)*1e3}function vS(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=oL(n);return i?JSON.parse(i):(zg("Failed to decode base64 JWT payload"),null)}catch(i){return zg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zI(e){const t=vS(e);return je(t,"internal-error"),je(typeof t.exp<"u","internal-error"),je(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof vs&&Rq(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Rq({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(e){var p;const t=e.auth,n=await e.getIdToken(),r=await Mh(e,Iv(t,{idToken:n}));je(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?bL(i.providerUserInfo):[],o=Lq(e.providerData,s),a=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zw(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Dq(e){const t=Pt(e);await kv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Lq(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function bL(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zq(e,t){const n=await xL(e,{},async()=>{const r=bp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await _L(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return e.emulatorConfig&&lo(e.emulatorConfig.host)&&(u.credentials="include"),yL.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vq(e,t){return wl(e,"POST","/v2/accounts:revokeToken",Mu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){je(t.idToken,"internal-error"),je(typeof t.idToken<"u","internal-error"),je(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zI(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){je(t.length!==0,"internal-error");const n=zI(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zq(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hc;return r&&(je(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(je(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Hc,this.toJSON())}_performRefresh(){return Lo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(e,t){je(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class is{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Mq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Mh(this,this.stsTokenManager.getToken(this.auth,t));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return jq(this,t)}reload(){return Dq(this)}_assign(t){this!==t&&(je(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new is({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await kv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(el(this.auth));const t=await this.getIdToken();return await Mh(this,Oq(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:_,stsTokenManager:E}=n;je(p&&E,t,"internal-error");const w=Hc.fromJSON(this.name,E);je(typeof p=="string",t,"internal-error"),Pa(r,t.name),Pa(i,t.name),je(typeof m=="boolean",t,"internal-error"),je(typeof y=="boolean",t,"internal-error"),Pa(s,t.name),Pa(o,t.name),Pa(a,t.name),Pa(u,t.name),Pa(c,t.name),Pa(d,t.name);const S=new is({uid:p,auth:t,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:w,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(S.providerData=_.map(P=>({...P}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(t,n,r=!1){const i=new Hc;i.updateFromServerResponse(n);const s=new is({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await kv(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?bL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Hc;a.updateFromIdToken(r);const u=new is({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Map;function zo(e){Jo(e instanceof Function,"Expected a class definition");let t=VI.get(e);return t?(Jo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,VI.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wL.type="NONE";const FI=wL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(e,t,n){return`firebase:${e}:${t}:${n}`}class qc{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Iv(this.auth,{idToken:t}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,t):null}return is._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new qc(zo(FI),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zo(FI);const o=Vg(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let p;if(typeof d=="string"){const m=await Iv(t,{idToken:d}).catch(()=>{});if(!m)break;p=await is._fromGetAccountInfoResponse(t,m,d)}else p=is._fromJSON(t,d);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new qc(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new qc(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TL(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CL(t))return"Blackberry";if(IL(t))return"Webos";if(SL(t))return"Safari";if((t.includes("chrome/")||PL(t))&&!t.includes("edge/"))return"Chrome";if(AL(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EL(e=dr()){return/firefox\//i.test(e)}function SL(e=dr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PL(e=dr()){return/crios\//i.test(e)}function TL(e=dr()){return/iemobile/i.test(e)}function AL(e=dr()){return/android/i.test(e)}function CL(e=dr()){return/blackberry/i.test(e)}function IL(e=dr()){return/webos/i.test(e)}function yS(e=dr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fq(e=dr()){var t;return yS(e)&&!!((t=window.navigator)!=null&&t.standalone)}function $q(){return eH()&&document.documentMode===10}function kL(e=dr()){return yS(e)||AL(e)||IL(e)||CL(e)||/windows phone/i.test(e)||TL(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e,t=[]){let n;switch(e){case"Browser":n=$I(dr());break;case"Worker":n=`${$I(dr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ru}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(e,t={}){return wl(e,"GET","/v2/passwordPolicy",Mu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=6;class Hq{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Wq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BI(this),this.idTokenSubscription=new BI(this),this.beforeStateQueue=new Bq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await qc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Iv(this,{idToken:t}),r=await is._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Dr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kv(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Sq()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Dr(this.app))return Promise.reject(el(this));const n=t?Pt(t):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&je(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Dr(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Uq(this),n=new Hq(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _p("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vq(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zo(t)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await qc.create(this,[zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=NL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&_q(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Du(e){return Pt(e)}class BI{constructor(t){this.auth=t,this.observer=null,this.addObserver=lH(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kq(e){y0=e}function OL(e){return y0.loadJS(e)}function Gq(){return y0.recaptchaEnterpriseScript}function Zq(){return y0.gapiScript}function Yq(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Xq{constructor(){this.enterprise=new Qq}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Qq{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Jq="recaptcha-enterprise",jL="NO_RECAPTCHA";class eK{constructor(t){this.type=Jq,this.auth=Du(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Nq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new kq(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;LI(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(jL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xq().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&LI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Gq();u.length!==0&&(u+=a),OL(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function UI(e,t,n,r=!1,i=!1){const s=new eK(e);let o;if(i)o=jL;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function WI(e,t,n,r,i){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await UI(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await UI(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(e,t){const n=wp(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yu(s,t??{}))return i;$i(i,"already-initialized")}return n.initialize({options:t})}function nK(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function rK(e,t,n){const r=Du(e);je(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=RL(t),{host:o,port:a}=iK(t),u=a===null?"":`:${a}`,c={url:`${s}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(yu(c,r.config.emulator)&&yu(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,lo(o)?(p0(`${s}//${o}${u}`),m0("Auth",!0)):sK()}function RL(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function iK(e){const t=RL(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:HI(o)}}}function HI(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function sK(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Lo("not implemented")}_getIdTokenResponse(t){return Lo("not implemented")}_linkToIdToken(t,n){return Lo("not implemented")}_getReauthenticationResolver(t){return Lo("not implemented")}}async function oK(e,t){return wl(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aK(e,t){return v0(e,"POST","/v1/accounts:signInWithPassword",Mu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lK(e,t){return v0(e,"POST","/v1/accounts:signInWithEmailLink",Mu(e,t))}async function uK(e,t){return v0(e,"POST","/v1/accounts:signInWithEmailLink",Mu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends xS{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Dh(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Dh(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return WI(t,n,"signInWithPassword",aK);case"emailLink":return lK(t,{email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return WI(t,r,"signUpPassword",oK);case"emailLink":return uK(t,{idToken:n,email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(e,t){return v0(e,"POST","/v1/accounts:signInWithIdp",Mu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="http://localhost";class xu extends xS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new xu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Kc(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Kc(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Kc(t,n)}buildRequest(){const t={requestUri:cK,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bp(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fK(e){const t=$f(Bf(e)).link,n=t?$f(Bf(t)).deep_link_id:null,r=$f(Bf(e)).deep_link_id;return(r?$f(Bf(r)).link:null)||r||n||t||e}class _S{constructor(t){const n=$f(Bf(t)),r=n.apiKey??null,i=n.oobCode??null,s=dK(n.mode??null);je(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=fK(t);try{return new _S(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.providerId=kd.PROVIDER_ID}static credential(t,n){return Dh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=_S.parseLink(n);return je(r,"argument-error"),Dh._fromEmailAndCode(t,r.code,r.tenantId)}}kd.PROVIDER_ID="password";kd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends bS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Sp{constructor(){super("facebook.com")}static credential(t){return xu._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ma.credential(t.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xu._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Sp{constructor(){super("github.com")}static credential(t){return xu._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Da.credential(t.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Sp{constructor(){super("twitter.com")}static credential(t,n){return xu._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return La.credential(n,r)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await is._fromIdTokenResponse(t,r,i),o=qI(r);return new ld({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=qI(r);return new ld({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function qI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends vs{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nv.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Nv(t,n,r,i)}}function ML(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nv._fromErrorAndOperation(e,s,t,r):s})}async function hK(e,t,n=!1){const r=await Mh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ld._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(e,t,n=!1){const{auth:r}=e;if(Dr(r.app))return Promise.reject(el(r));const i="reauthenticate";try{const s=await Mh(e,ML(r,i,t,e),n);je(s.idToken,r,"internal-error");const o=vS(s.idToken);je(o,r,"internal-error");const{sub:a}=o;return je(e.uid===a,r,"user-mismatch"),ld._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$i(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(e,t,n=!1){if(Dr(e.app))return Promise.reject(el(e));const r="signIn",i=await ML(e,r,t),s=await ld._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function mK(e,t){return DL(Du(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK(e){const t=Du(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function vK(e,t,n){return Dr(e.app)?Promise.reject(el(e)):mK(Pt(e),kd.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gK(e),r})}function yK(e,t,n,r){return Pt(e).onIdTokenChanged(t,n,r)}function xK(e,t,n){return Pt(e).beforeAuthStateChanged(t,n)}function _K(e,t,n,r){return Pt(e).onAuthStateChanged(t,n,r)}function bK(e){return Pt(e).signOut()}const Ov="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ov,"1"),this.storage.removeItem(Ov),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK=1e3,EK=10;class zL extends LL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$q()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,EK):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},wK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zL.type="LOCAL";const SK=zL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL extends LL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VL.type="SESSION";const FL=VL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new x0(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await PK(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}x0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=wS("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function AK(e){Zs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function CK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IK(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function kK(){return $L()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="firebaseLocalStorageDb",NK=1,jv="firebaseLocalStorage",UL="fbase_key";class Pp{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _0(e,t){return e.transaction([jv],t?"readwrite":"readonly").objectStore(jv)}function OK(){const e=indexedDB.deleteDatabase(BL);return new Pp(e).toPromise()}function Vw(){const e=indexedDB.open(BL,NK);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(jv,{keyPath:UL})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(jv)?t(r):(r.close(),await OK(),t(await Vw()))})})}async function KI(e,t,n){const r=_0(e,!0).put({[UL]:t,value:n});return new Pp(r).toPromise()}async function jK(e,t){const n=_0(e,!1).get(t),r=await new Pp(n).toPromise();return r===void 0?null:r.value}function GI(e,t){const n=_0(e,!0).delete(t);return new Pp(n).toPromise()}const RK=800,MK=3;class WL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vw(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>MK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $L()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x0._getInstance(kK()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await CK(),!this.activeServiceWorker)return;this.sender=new TK(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vw();return await KI(t,Ov,"1"),await GI(t,Ov),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KI(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>jK(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>GI(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=_0(i,!1).getAll();return new Pp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WL.type="LOCAL";const DK=WL;new Ep(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e,t){return t?zo(t):(je(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends xS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Kc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Kc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function LK(e){return DL(e.auth,new ES(e),e.bypassAuthState)}function zK(e){const{auth:t,user:n}=e;return je(n,t,"internal-error"),pK(n,new ES(e),e.bypassAuthState)}async function VK(e){const{auth:t,user:n}=e;return je(n,t,"internal-error"),hK(n,new ES(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return LK;case"linkViaPopup":case"linkViaRedirect":return VK;case"reauthViaPopup":case"reauthViaRedirect":return zK;default:$i(this.auth,"internal-error")}}resolve(t){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=new Ep(2e3,1e4);async function KL(e,t,n){if(Dr(e.app))return Promise.reject(as(e,"operation-not-supported-in-this-environment"));const r=Du(e);bq(e,t,bS);const i=HL(r,n);return new Ql(r,"signInViaPopup",t,i).executeNotNull()}class Ql extends qL{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return je(t,this.auth,"internal-error"),t}async onExecution(){Jo(this.filter.length===1,"Popup operations only handle one event");const t=wS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(as(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(as(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(as(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FK.get())};t()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K="pendingRedirect",Fg=new Map;class BK extends qL{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Fg.get(this.auth._key());if(!t){try{const r=await UK(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Fg.set(this.auth._key(),t)}return this.bypassAuthState||Fg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UK(e,t){const n=qK(t),r=HK(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WK(e,t){Fg.set(e._key(),t)}function HK(e){return zo(e._redirectPersistence)}function qK(e){return Vg($K,e.config.apiKey,e.name)}async function KK(e,t,n=!1){if(Dr(e.app))return Promise.reject(el(e));const r=Du(e),i=HL(r,t),o=await new BK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=10*60*1e3;class ZK{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YK(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!GL(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(as(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=GK&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZI(t))}saveEventToCache(t){this.cachedEventUids.add(ZI(t)),this.lastProcessedEventTime=Date.now()}}function ZI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function GL({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function YK(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GL(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XK(e,t={}){return wl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JK=/^https?/;async function eG(e){if(e.config.emulator)return;const{authorizedDomains:t}=await XK(e);for(const n of t)try{if(tG(n))return}catch{}$i(e,"unauthorized-domain")}function tG(e){const t=Lw(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JK.test(n))return!1;if(QK.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=new Ep(3e4,6e4);function YI(){const e=Zs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function rG(e){return new Promise((t,n)=>{var i,s,o;function r(){YI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{YI(),n(as(e,"network-request-failed"))},timeout:nG.get()})}if((s=(i=Zs().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((o=Zs().gapi)!=null&&o.load)r();else{const a=Yq("iframefcb");return Zs()[a]=()=>{gapi.load?r():n(as(e,"network-request-failed"))},OL(`${Zq()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw $g=null,t})}let $g=null;function iG(e){return $g=$g||rG(e),$g}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new Ep(5e3,15e3),oG="__/auth/iframe",aG="emulator/auth/iframe",lG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cG(e){const t=e.config;je(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?gS(t,aG):`https://${e.config.authDomain}/${oG}`,r={apiKey:t.apiKey,appName:e.name,v:Ru},i=uG.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bp(r).slice(1)}`}async function dG(e){const t=await iG(e),n=Zs().gapi;return je(n,e,"internal-error"),t.open({where:document.body,url:cG(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=as(e,"network-request-failed"),a=Zs().setTimeout(()=>{s(o)},sG.get());function u(){Zs().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hG=500,pG=600,mG="_blank",gG="http://localhost";class XI{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vG(e,t,n,r=hG,i=pG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...fG,width:r.toString(),height:i.toString(),top:s,left:o},c=dr().toLowerCase();n&&(a=PL(c)?mG:n),EL(c)&&(t=t||gG,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[y,_])=>`${m}${y}=${_},`,"");if(Fq(c)&&a!=="_self")return yG(t||"",a),new XI(null);const p=window.open(t||"",a,d);je(p,e,"popup-blocked");try{p.focus()}catch{}return new XI(p)}function yG(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="__/auth/handler",_G="emulator/auth/handler",bG=encodeURIComponent("fac");async function QI(e,t,n,r,i,s){je(e.config.authDomain,e,"auth-domain-config-required"),je(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ru,eventId:i};if(t instanceof bS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",aH(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(t instanceof Sp){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await e._getAppCheckToken(),c=u?`#${bG}=${encodeURIComponent(u)}`:"";return`${wG(e)}?${bp(a).slice(1)}${c}`}function wG({config:e}){return e.emulator?gS(e,_G):`https://${e.authDomain}/${xG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="webStorageSupport";class EG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FL,this._completeRedirectFn=KK,this._overrideRedirectResult=WK}async _openPopup(t,n,r,i){var o;Jo((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await QI(t,n,r,Lw(),i);return vG(t,s,wS())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await QI(t,n,r,Lw(),i);return AK(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await dG(t),r=new ZK(t);return n.register("authEvent",i=>(je(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Y_,{type:Y_},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Y_];s!==void 0&&n(!!s),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eG(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return kL()||SL()||yS()}}const SG=EG;var JI="@firebase/auth",e2="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AG(e){al(new Xo("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NL(e)},c=new qq(r,i,s,u);return nK(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),al(new Xo("auth-internal",t=>{const n=Du(t.getProvider("auth").getImmediate());return(r=>new PG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(JI,e2,TG(e)),Di(JI,e2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=5*60,IG=uL("authIdTokenMaxAge")||CG;let t2=null;const kG=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IG)return;const i=n==null?void 0:n.token;t2!==i&&(t2=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NG(e=g0()){const t=wp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=tK(e,{popupRedirectResolver:SG,persistence:[DK,SK,FL]}),r=uL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kG(s.toString());xK(n,o,()=>o(n.currentUser)),yK(n,a=>o(a))}}const i=aL("auth");return i&&rK(n,`http://${i}`),n}function OG(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}Kq({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=as("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AG("Browser");var n2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tl,ZL;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,C){function R(){}R.prototype=C.prototype,k.F=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function($,j,V){for(var F=Array(arguments.length-2),J=2;J<arguments.length;J++)F[J-2]=arguments[J];return C.prototype[j].apply($,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,R){R||(R=0);const $=Array(16);if(typeof C=="string")for(var j=0;j<16;++j)$[j]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(j=0;j<16;++j)$[j]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],j=k.g[2];let V=k.g[3],F;F=C+(V^R&(j^V))+$[0]+3614090360&4294967295,C=R+(F<<7&4294967295|F>>>25),F=V+(j^C&(R^j))+$[1]+3905402710&4294967295,V=C+(F<<12&4294967295|F>>>20),F=j+(R^V&(C^R))+$[2]+606105819&4294967295,j=V+(F<<17&4294967295|F>>>15),F=R+(C^j&(V^C))+$[3]+3250441966&4294967295,R=j+(F<<22&4294967295|F>>>10),F=C+(V^R&(j^V))+$[4]+4118548399&4294967295,C=R+(F<<7&4294967295|F>>>25),F=V+(j^C&(R^j))+$[5]+1200080426&4294967295,V=C+(F<<12&4294967295|F>>>20),F=j+(R^V&(C^R))+$[6]+2821735955&4294967295,j=V+(F<<17&4294967295|F>>>15),F=R+(C^j&(V^C))+$[7]+4249261313&4294967295,R=j+(F<<22&4294967295|F>>>10),F=C+(V^R&(j^V))+$[8]+1770035416&4294967295,C=R+(F<<7&4294967295|F>>>25),F=V+(j^C&(R^j))+$[9]+2336552879&4294967295,V=C+(F<<12&4294967295|F>>>20),F=j+(R^V&(C^R))+$[10]+4294925233&4294967295,j=V+(F<<17&4294967295|F>>>15),F=R+(C^j&(V^C))+$[11]+2304563134&4294967295,R=j+(F<<22&4294967295|F>>>10),F=C+(V^R&(j^V))+$[12]+1804603682&4294967295,C=R+(F<<7&4294967295|F>>>25),F=V+(j^C&(R^j))+$[13]+4254626195&4294967295,V=C+(F<<12&4294967295|F>>>20),F=j+(R^V&(C^R))+$[14]+2792965006&4294967295,j=V+(F<<17&4294967295|F>>>15),F=R+(C^j&(V^C))+$[15]+1236535329&4294967295,R=j+(F<<22&4294967295|F>>>10),F=C+(j^V&(R^j))+$[1]+4129170786&4294967295,C=R+(F<<5&4294967295|F>>>27),F=V+(R^j&(C^R))+$[6]+3225465664&4294967295,V=C+(F<<9&4294967295|F>>>23),F=j+(C^R&(V^C))+$[11]+643717713&4294967295,j=V+(F<<14&4294967295|F>>>18),F=R+(V^C&(j^V))+$[0]+3921069994&4294967295,R=j+(F<<20&4294967295|F>>>12),F=C+(j^V&(R^j))+$[5]+3593408605&4294967295,C=R+(F<<5&4294967295|F>>>27),F=V+(R^j&(C^R))+$[10]+38016083&4294967295,V=C+(F<<9&4294967295|F>>>23),F=j+(C^R&(V^C))+$[15]+3634488961&4294967295,j=V+(F<<14&4294967295|F>>>18),F=R+(V^C&(j^V))+$[4]+3889429448&4294967295,R=j+(F<<20&4294967295|F>>>12),F=C+(j^V&(R^j))+$[9]+568446438&4294967295,C=R+(F<<5&4294967295|F>>>27),F=V+(R^j&(C^R))+$[14]+3275163606&4294967295,V=C+(F<<9&4294967295|F>>>23),F=j+(C^R&(V^C))+$[3]+4107603335&4294967295,j=V+(F<<14&4294967295|F>>>18),F=R+(V^C&(j^V))+$[8]+1163531501&4294967295,R=j+(F<<20&4294967295|F>>>12),F=C+(j^V&(R^j))+$[13]+2850285829&4294967295,C=R+(F<<5&4294967295|F>>>27),F=V+(R^j&(C^R))+$[2]+4243563512&4294967295,V=C+(F<<9&4294967295|F>>>23),F=j+(C^R&(V^C))+$[7]+1735328473&4294967295,j=V+(F<<14&4294967295|F>>>18),F=R+(V^C&(j^V))+$[12]+2368359562&4294967295,R=j+(F<<20&4294967295|F>>>12),F=C+(R^j^V)+$[5]+4294588738&4294967295,C=R+(F<<4&4294967295|F>>>28),F=V+(C^R^j)+$[8]+2272392833&4294967295,V=C+(F<<11&4294967295|F>>>21),F=j+(V^C^R)+$[11]+1839030562&4294967295,j=V+(F<<16&4294967295|F>>>16),F=R+(j^V^C)+$[14]+4259657740&4294967295,R=j+(F<<23&4294967295|F>>>9),F=C+(R^j^V)+$[1]+2763975236&4294967295,C=R+(F<<4&4294967295|F>>>28),F=V+(C^R^j)+$[4]+1272893353&4294967295,V=C+(F<<11&4294967295|F>>>21),F=j+(V^C^R)+$[7]+4139469664&4294967295,j=V+(F<<16&4294967295|F>>>16),F=R+(j^V^C)+$[10]+3200236656&4294967295,R=j+(F<<23&4294967295|F>>>9),F=C+(R^j^V)+$[13]+681279174&4294967295,C=R+(F<<4&4294967295|F>>>28),F=V+(C^R^j)+$[0]+3936430074&4294967295,V=C+(F<<11&4294967295|F>>>21),F=j+(V^C^R)+$[3]+3572445317&4294967295,j=V+(F<<16&4294967295|F>>>16),F=R+(j^V^C)+$[6]+76029189&4294967295,R=j+(F<<23&4294967295|F>>>9),F=C+(R^j^V)+$[9]+3654602809&4294967295,C=R+(F<<4&4294967295|F>>>28),F=V+(C^R^j)+$[12]+3873151461&4294967295,V=C+(F<<11&4294967295|F>>>21),F=j+(V^C^R)+$[15]+530742520&4294967295,j=V+(F<<16&4294967295|F>>>16),F=R+(j^V^C)+$[2]+3299628645&4294967295,R=j+(F<<23&4294967295|F>>>9),F=C+(j^(R|~V))+$[0]+4096336452&4294967295,C=R+(F<<6&4294967295|F>>>26),F=V+(R^(C|~j))+$[7]+1126891415&4294967295,V=C+(F<<10&4294967295|F>>>22),F=j+(C^(V|~R))+$[14]+2878612391&4294967295,j=V+(F<<15&4294967295|F>>>17),F=R+(V^(j|~C))+$[5]+4237533241&4294967295,R=j+(F<<21&4294967295|F>>>11),F=C+(j^(R|~V))+$[12]+1700485571&4294967295,C=R+(F<<6&4294967295|F>>>26),F=V+(R^(C|~j))+$[3]+2399980690&4294967295,V=C+(F<<10&4294967295|F>>>22),F=j+(C^(V|~R))+$[10]+4293915773&4294967295,j=V+(F<<15&4294967295|F>>>17),F=R+(V^(j|~C))+$[1]+2240044497&4294967295,R=j+(F<<21&4294967295|F>>>11),F=C+(j^(R|~V))+$[8]+1873313359&4294967295,C=R+(F<<6&4294967295|F>>>26),F=V+(R^(C|~j))+$[15]+4264355552&4294967295,V=C+(F<<10&4294967295|F>>>22),F=j+(C^(V|~R))+$[6]+2734768916&4294967295,j=V+(F<<15&4294967295|F>>>17),F=R+(V^(j|~C))+$[13]+1309151649&4294967295,R=j+(F<<21&4294967295|F>>>11),F=C+(j^(R|~V))+$[4]+4149444226&4294967295,C=R+(F<<6&4294967295|F>>>26),F=V+(R^(C|~j))+$[11]+3174756917&4294967295,V=C+(F<<10&4294967295|F>>>22),F=j+(C^(V|~R))+$[2]+718787259&4294967295,j=V+(F<<15&4294967295|F>>>17),F=R+(V^(j|~C))+$[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(j+(F<<21&4294967295|F>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+V&4294967295}r.prototype.v=function(k,C){C===void 0&&(C=k.length);const R=C-this.blockSize,$=this.C;let j=this.h,V=0;for(;V<C;){if(j==0)for(;V<=R;)i(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<C;)if($[j++]=k.charCodeAt(V++),j==this.blockSize){i(this,$),j=0;break}}else for(;V<C;)if($[j++]=k[V++],j==this.blockSize){i(this,$),j=0;break}}this.h=j,this.o+=C},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,R=0;R<4;++R)for(let $=0;$<32;$+=8)k[C++]=this.g[R]>>>$&255;return k};function s(k,C){var R=a;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function o(k,C){this.h=C;const R=[];let $=!0;for(let j=k.length-1;j>=0;j--){const V=k[j]|0;$&&V==C||(R[j]=V,$=!1)}this.g=R}var a={};function u(k){return-128<=k&&k<128?s(k,function(C){return new o([C|0],C<0?-1:0)}):new o([k|0],k<0?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return p;if(k<0)return w(c(-k));const C=[];let R=1;for(let $=0;k>=R;$++)C[$]=k/R|0,R*=4294967296;return new o(C,0)}function d(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return w(d(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(C,8));let $=p;for(let V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V);const F=parseInt(k.substring(V,V+j),C);j<8?(j=c(Math.pow(C,j)),$=$.j(j).add(c(F))):($=$.j(R),$=$.add(c(F)))}return $}var p=u(0),m=u(1),y=u(16777216);e=o.prototype,e.m=function(){if(E(this))return-w(this).m();let k=0,C=1;for(let R=0;R<this.g.length;R++){const $=this.i(R);k+=($>=0?$:4294967296+$)*C,C*=4294967296}return k},e.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(E(this))return"-"+w(this).toString(k);const C=c(Math.pow(k,6));var R=this;let $="";for(;;){const j=O(R,C).g;R=S(R,j.j(C));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=j,_(R))return V+$;for(;V.length<6;)V="0"+V;$=V+$}},e.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function E(k){return k.h==-1}e.l=function(k){return k=S(this,k),E(k)?-1:_(k)?0:1};function w(k){const C=k.g.length,R=[];for(let $=0;$<C;$++)R[$]=~k.g[$];return new o(R,~k.h).add(m)}e.abs=function(){return E(this)?w(this):this},e.add=function(k){const C=Math.max(this.g.length,k.g.length),R=[];let $=0;for(let j=0;j<=C;j++){let V=$+(this.i(j)&65535)+(k.i(j)&65535),F=(V>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);$=F>>>16,V&=65535,F&=65535,R[j]=F<<16|V}return new o(R,R[R.length-1]&-2147483648?-1:0)};function S(k,C){return k.add(w(C))}e.j=function(k){if(_(this)||_(k))return p;if(E(this))return E(k)?w(this).j(w(k)):w(w(this).j(k));if(E(k))return w(this.j(w(k)));if(this.l(y)<0&&k.l(y)<0)return c(this.m()*k.m());const C=this.g.length+k.g.length,R=[];for(var $=0;$<2*C;$++)R[$]=0;for($=0;$<this.g.length;$++)for(let j=0;j<k.g.length;j++){const V=this.i($)>>>16,F=this.i($)&65535,J=k.i(j)>>>16,fe=k.i(j)&65535;R[2*$+2*j]+=F*fe,P(R,2*$+2*j),R[2*$+2*j+1]+=V*fe,P(R,2*$+2*j+1),R[2*$+2*j+1]+=F*J,P(R,2*$+2*j+1),R[2*$+2*j+2]+=V*J,P(R,2*$+2*j+2)}for(k=0;k<C;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=C;k<2*C;k++)R[k]=0;return new o(R,0)};function P(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function A(k,C){this.g=k,this.h=C}function O(k,C){if(_(C))throw Error("division by zero");if(_(k))return new A(p,p);if(E(k))return C=O(w(k),C),new A(w(C.g),w(C.h));if(E(C))return C=O(k,w(C)),new A(w(C.g),C.h);if(k.g.length>30){if(E(k)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var R=m,$=C;$.l(k)<=0;)R=M(R),$=M($);var j=z(R,1),V=z($,1);for($=z($,2),R=z(R,2);!_($);){var F=V.add($);F.l(k)<=0&&(j=j.add(R),V=F),$=z($,1),R=z(R,1)}return C=S(k,j.j(C)),new A(j,C)}for(j=p;k.l(C)>=0;){for(R=Math.max(1,Math.floor(k.m()/C.m())),$=Math.ceil(Math.log(R)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),V=c(R),F=V.j(C);E(F)||F.l(k)>0;)R-=$,V=c(R),F=V.j(C);_(V)&&(V=m),j=j.add(V),k=S(k,F)}return new A(j,k)}e.B=function(k){return O(this,k).h},e.and=function(k){const C=Math.max(this.g.length,k.g.length),R=[];for(let $=0;$<C;$++)R[$]=this.i($)&k.i($);return new o(R,this.h&k.h)},e.or=function(k){const C=Math.max(this.g.length,k.g.length),R=[];for(let $=0;$<C;$++)R[$]=this.i($)|k.i($);return new o(R,this.h|k.h)},e.xor=function(k){const C=Math.max(this.g.length,k.g.length),R=[];for(let $=0;$<C;$++)R[$]=this.i($)^k.i($);return new o(R,this.h^k.h)};function M(k){const C=k.g.length+1,R=[];for(let $=0;$<C;$++)R[$]=k.i($)<<1|k.i($-1)>>>31;return new o(R,k.h)}function z(k,C){const R=C>>5;C%=32;const $=k.g.length-R,j=[];for(let V=0;V<$;V++)j[V]=C>0?k.i(V+R)>>>C|k.i(V+R+1)<<32-C:k.i(V+R);return new o(j,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,tl=o}).apply(typeof n2<"u"?n2:typeof self<"u"?self:typeof window<"u"?window:{});var Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YL,Uf,XL,Bg,Fw,QL,JL,e4;(function(){var e,t=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zm=="object"&&Zm];for(var T=0;T<g.length;++T){var N=g[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var N=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var H=g[B];if(!(H in N))break e;N=N[H]}g=g[g.length-1],B=N[g],T=T(B),T!=B&&T!=null&&t(N,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var N=[],B;for(B in T)Object.prototype.hasOwnProperty.call(T,B)&&N.push([B,T[B]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function u(g,T,N){return g.call.apply(g.bind,arguments)}function c(g,T,N){return c=u,c.apply(null,arguments)}function d(g,T){var N=Array.prototype.slice.call(arguments,1);return function(){var B=N.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,T){function N(){}N.prototype=T.prototype,g.Z=T.prototype,g.prototype=new N,g.prototype.constructor=g,g.Ob=function(B,H,Z){for(var ce=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ce[Le-2]=arguments[Le];return T.prototype[H].apply(B,ce)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function y(g){const T=g.length;if(T>0){const N=Array(T);for(let B=0;B<T;B++)N[B]=g[B];return N}return[]}function _(g,T){for(let B=1;B<arguments.length;B++){const H=arguments[B];var N=typeof H;if(N=N!="object"?N:H?Array.isArray(H)?"array":N:"null",N=="array"||N=="object"&&typeof H.length=="number"){N=g.length||0;const Z=H.length||0;g.length=N+Z;for(let ce=0;ce<Z;ce++)g[N+ce]=H[ce]}else g.push(H)}}class E{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(g){o.setTimeout(()=>{throw g},0)}function S(){var g=k;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class P{constructor(){this.h=this.g=null}add(T,N){const B=A.get();B.set(T,N),this.h?this.h.next=B:this.g=B,this.h=B}}var A=new E(()=>new O,g=>g.reset());class O{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,k=new P,C=()=>{const g=Promise.resolve(void 0);M=()=>{g.then(R)}};function R(){for(var g;g=S();){try{g.h.call(g.g)}catch(N){w(N)}var T=A;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}z=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};o.addEventListener("test",N,T),o.removeEventListener("test",N,T)}catch{}return g}();function F(g){return/^[\s\xa0]*$/.test(g)}function J(g,T){j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}p(J,j),J.prototype.init=function(g,T){const N=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(N=="mouseover"?T=g.fromElement:N=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),se=0;function ie(g,T,N,B,H){this.listener=g,this.proxy=null,this.src=T,this.type=N,this.capture=!!B,this.ha=H,this.key=++se,this.da=this.fa=!1}function W(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ne(g,T,N){for(const B in g)T.call(N,g[B],B,g)}function K(g,T){for(const N in g)T.call(void 0,g[N],N,g)}function oe(g){const T={};for(const N in g)T[N]=g[N];return T}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(g,T){let N,B;for(let H=1;H<arguments.length;H++){B=arguments[H];for(N in B)g[N]=B[N];for(let Z=0;Z<ue.length;Z++)N=ue[Z],Object.prototype.hasOwnProperty.call(B,N)&&(g[N]=B[N])}}function be(g){this.src=g,this.g={},this.h=0}be.prototype.add=function(g,T,N,B,H){const Z=g.toString();g=this.g[Z],g||(g=this.g[Z]=[],this.h++);const ce=ge(g,T,B,H);return ce>-1?(T=g[ce],N||(T.fa=!1)):(T=new ie(T,this.src,Z,!!B,H),T.fa=N,g.push(T)),T};function Ce(g,T){const N=T.type;if(N in g.g){var B=g.g[N],H=Array.prototype.indexOf.call(B,T,void 0),Z;(Z=H>=0)&&Array.prototype.splice.call(B,H,1),Z&&(W(T),g.g[N].length==0&&(delete g.g[N],g.h--))}}function ge(g,T,N,B){for(let H=0;H<g.length;++H){const Z=g[H];if(!Z.da&&Z.listener==T&&Z.capture==!!N&&Z.ha==B)return H}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),at={};function X(g,T,N,B,H){if(Array.isArray(T)){for(let Z=0;Z<T.length;Z++)X(g,T[Z],N,B,H);return null}return N=lt(N),g&&g[fe]?g.J(T,N,a(B)?!!B.capture:!1,H):me(g,T,N,!1,B,H)}function me(g,T,N,B,H,Z){if(!T)throw Error("Invalid event type");const ce=a(H)?!!H.capture:!!H;let Le=pe(g);if(Le||(g[$e]=Le=new be(g)),N=Le.add(T,N,B,ce,Z),N.proxy)return N;if(B=Ne(),N.proxy=B,B.src=g,B.listener=N,g.addEventListener)V||(H=ce),H===void 0&&(H=!1),g.addEventListener(T.toString(),B,H);else if(g.attachEvent)g.attachEvent(Me(T.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ne(){function g(N){return T.call(g.src,g.listener,N)}const T=de;return g}function Q(g,T,N,B,H){if(Array.isArray(T))for(var Z=0;Z<T.length;Z++)Q(g,T[Z],N,B,H);else B=a(B)?!!B.capture:!!B,N=lt(N),g&&g[fe]?(g=g.i,Z=String(T).toString(),Z in g.g&&(T=g.g[Z],N=ge(T,N,B,H),N>-1&&(W(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete g.g[Z],g.h--)))):g&&(g=pe(g))&&(T=g.g[T.toString()],g=-1,T&&(g=ge(T,N,B,H)),(N=g>-1?T[g]:null)&&Xe(N))}function Xe(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[fe])Ce(T.i,g);else{var N=g.type,B=g.proxy;T.removeEventListener?T.removeEventListener(N,B,g.capture):T.detachEvent?T.detachEvent(Me(N),B):T.addListener&&T.removeListener&&T.removeListener(B),(N=pe(T))?(Ce(N,g),N.h==0&&(N.src=null,T[$e]=null)):W(g)}}}function Me(g){return g in at?at[g]:at[g]="on"+g}function de(g,T){if(g.da)g=!0;else{T=new J(T,this);const N=g.listener,B=g.ha||g.src;g.fa&&Xe(g),g=N.call(B,T)}return g}function pe(g){return g=g[$e],g instanceof be?g:null}var Te="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(g){return typeof g=="function"?g:(g[Te]||(g[Te]=function(T){return g.handleEvent(T)}),g[Te])}function et(){$.call(this),this.i=new be(this),this.M=this,this.G=null}p(et,$),et.prototype[fe]=!0,et.prototype.removeEventListener=function(g,T,N,B){Q(this,g,T,N,B)};function tt(g,T){var N,B=g.G;if(B)for(N=[];B;B=B.G)N.push(B);if(g=g.M,B=T.type||T,typeof T=="string")T=new j(T,g);else if(T instanceof j)T.target=T.target||g;else{var H=T;T=new j(B,g),Ae(T,H)}H=!0;let Z,ce;if(N)for(ce=N.length-1;ce>=0;ce--)Z=T.g=N[ce],H=Zn(Z,B,!0,T)&&H;if(Z=T.g=g,H=Zn(Z,B,!0,T)&&H,H=Zn(Z,B,!1,T)&&H,N)for(ce=0;ce<N.length;ce++)Z=T.g=N[ce],H=Zn(Z,B,!1,T)&&H}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const N=g.g[T];for(let B=0;B<N.length;B++)W(N[B]);delete g.g[T],g.h--}}this.G=null},et.prototype.J=function(g,T,N,B){return this.i.add(String(g),T,!1,N,B)},et.prototype.K=function(g,T,N,B){return this.i.add(String(g),T,!0,N,B)};function Zn(g,T,N,B){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let H=!0;for(let Z=0;Z<T.length;++Z){const ce=T[Z];if(ce&&!ce.da&&ce.capture==N){const Le=ce.listener,st=ce.ha||ce.src;ce.fa&&Ce(g.i,ce),H=Le.call(st,B)!==!1&&H}}return H&&!B.defaultPrevented}function _n(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=c(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(g,T||0)}function ae(g){g.g=_n(()=>{g.g=null,g.i&&(g.i=!1,ae(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class kt extends ${constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(g){$.call(this),this.h=g,this.g={}}p(Zr,$);var _s=[];function gi(g){ne(g.g,function(T,N){this.g.hasOwnProperty(N)&&Xe(T)},g),g.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),gi(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yr=o.JSON.stringify,fo=o.JSON.parse,Cl=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function Cr(){}function Il(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ho(){j.call(this,"d")}p(ho,j);function ws(){j.call(this,"c")}p(ws,j);var vi={},Es=null;function po(){return Es=Es||new et}vi.Ia="serverreachability";function Uu(g){j.call(this,vi.Ia,g)}p(Uu,j);function Ss(g){const T=po();tt(T,new Uu(T))}vi.STAT_EVENT="statevent";function kl(g,T){j.call(this,vi.STAT_EVENT,g),this.stat=T}p(kl,j);function Ze(g){const T=po();tt(T,new kl(T,g))}vi.Ja="timingevent";function bn(g,T){j.call(this,vi.Ja,g),this.size=T}p(bn,j);function Yt(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},T)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Xn(g,T,N,B,H,Z){g.info(function(){if(g.g)if(Z){var ce="",Le=Z.split("&");for(let ct=0;ct<Le.length;ct++){var st=Le[ct].split("=");if(st.length>1){const Qt=st[0];st=st[1];const Ei=Qt.split("_");ce=Ei.length>=2&&Ei[1]=="type"?ce+(Qt+"="+st+"&"):ce+(Qt+"=redacted&")}}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+B+") [attempt "+H+"]: "+T+`
`+N+`
`+ce})}function Rn(g,T,N,B,H,Z,ce){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+H+"]: "+T+`
`+N+`
`+Z+" "+ce})}function fn(g,T,N,B){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+Xt(g,N)+(B?" "+B:"")})}function yi(g,T){g.info(function(){return"TIMEOUT: "+T})}Yn.prototype.info=function(){};function Xt(g,T){if(!g.g)return T;if(!T)return null;try{const Z=JSON.parse(T);if(Z){for(g=0;g<Z.length;g++)if(Array.isArray(Z[g])){var N=Z[g];if(!(N.length<2)){var B=N[1];if(Array.isArray(B)&&!(B.length<1)){var H=B[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<B.length;ce++)B[ce]=""}}}}return Yr(Z)}catch{return T}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ir;function nn(){}p(nn,Cr),nn.prototype.g=function(){return new XMLHttpRequest},Ir=new nn;function xe(g){return encodeURIComponent(String(g))}function Xr(g){var T=1;g=g.split(":");const N=[];for(;T>0&&g.length;)N.push(g.shift()),T--;return g.length&&N.push(g.join(":")),N}function Mn(g,T,N,B){this.j=g,this.i=T,this.l=N,this.S=B||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var Yd={},Nl={};function Wu(g,T,N){g.M=1,g.A=bt(mr(T)),g.u=N,g.R=!0,go(g,null)}function go(g,T){g.F=Date.now(),Hu(g),g.B=mr(g.A);var N=g.B,B=g.S;Array.isArray(B)||(B=[String(B)]),Yu(N.i,"t",B),g.C=0,N=g.j.L,g.h=new mo,g.g=df(g.j,N?T:null,!g.u),g.P>0&&(g.O=new kt(c(g.Y,g,g.g),g.P)),T=g.V,N=g.g,B=g.ba;var H="readystatechange";Array.isArray(H)||(H&&(_s[0]=H.toString()),H=_s);for(let Z=0;Z<H.length;Z++){const ce=X(N,H[Z],B||T.handleEvent,!1,T.h||T);if(!ce)break;T.g[ce.key]=ce}T=g.J?oe(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),Ss(),Xn(g.i,g.v,g.B,g.l,g.S,g.u)}Mn.prototype.ba=function(g){g=g.target;const T=this.O;T&&Cs(g)==3?T.j():this.Y(g)},Mn.prototype.Y=function(g){try{if(g==this.g)e:{const Le=Cs(this.g),st=this.g.ya(),ct=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||rf(this.g)))){this.K||Le!=4||st==7||(st==8||ct<=0?Ss(3):Ss(2)),qu(this);var T=this.g.ca();this.X=T;var N=sm(this);if(this.o=T==200,Rn(this.i,this.v,this.B,this.l,this.S,Le,T),this.o){if(this.U&&!this.L){t:{if(this.g){var B,H=this.g;if((B=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(B)){var Z=B;break t}}Z=null}if(g=Z)fn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xd(this,g);else{this.o=!1,this.m=3,Ze(12),xi(this),Ol(this);break e}}if(this.R){g=!0;let Qt;for(;!this.K&&this.C<N.length;)if(Qt=o_(this,N),Qt==Nl){Le==4&&(this.m=4,Ze(14),g=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Yd){this.m=4,Ze(15),fn(this.i,this.l,N,"[Invalid Chunk]"),g=!1;break}else fn(this.i,this.l,Qt,null),Xd(this,Qt);if(om(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||N.length!=0||this.h.h||(this.m=1,Ze(16),g=!1),this.o=this.o&&g,!g)fn(this.i,this.l,N,"[Invalid Chunked Response]"),xi(this),Ol(this);else if(N.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),uf(ce),ce.P=!0,Ze(11))}}else fn(this.i,this.l,N,null),Xd(this,N);Le==4&&xi(this),this.o&&!this.K&&(Le==4?Jr(this.j,this):(this.o=!1,Hu(this)))}else sf(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),xi(this),Ol(this)}}}catch{}finally{}};function sm(g){if(!om(g))return g.g.la();const T=rf(g.g);if(T==="")return"";let N="";const B=T.length,H=Cs(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return xi(g),Ol(g),"";g.h.i=new o.TextDecoder}for(let Z=0;Z<B;Z++)g.h.h=!0,N+=g.h.i.decode(T[Z],{stream:!(H&&Z==B-1)});return T.length=0,g.h.g+=N,g.C=0,g.h.g}function om(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function o_(g,T){var N=g.C,B=T.indexOf(`
`,N);return B==-1?Nl:(N=Number(T.substring(N,B)),isNaN(N)?Yd:(B+=1,B+N>T.length?Nl:(T=T.slice(B,B+N),g.C=B+N,T)))}Mn.prototype.cancel=function(){this.K=!0,xi(this)};function Hu(g){g.T=Date.now()+g.H,am(g,g.H)}function am(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Yt(c(g.aa,g),T)}function qu(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Mn.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(yi(this.i,this.B),this.M!=2&&(Ss(),Ze(17)),xi(this),this.m=2,Ol(this)):am(this,this.T-g)};function Ol(g){g.j.I==0||g.K||Jr(g.j,g)}function xi(g){qu(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,gi(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function Xd(g,T){try{var N=g.j;if(N.I!=0&&(N.g==g||jl(N.h,g))){if(!g.L&&jl(N.h,g)&&N.I==3){try{var B=N.Ba.g.parse(T)}catch{B=null}if(Array.isArray(B)&&B.length==3){var H=B;if(H[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<g.F)tc(N),Ju(N);else break e;lf(N),Ze(18)}}else N.xa=H[1],0<N.xa-N.K&&H[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Yt(c(N.Va,N),6e3));cm(N.h)<=1&&N.ta&&(N.ta=void 0)}else ks(N,11)}else if((g.L||N.g==g)&&tc(N),!F(T))for(H=N.Ba.g.parse(T),T=0;T<H.length;T++){let ct=H[T];const Qt=ct[0];if(!(Qt<=N.K))if(N.K=Qt,ct=ct[1],N.I==2)if(ct[0]=="c"){N.M=ct[1],N.ba=ct[2];const Ei=ct[3];Ei!=null&&(N.ka=Ei,N.j.info("VER="+N.ka));const Zi=ct[4];Zi!=null&&(N.za=Zi,N.j.info("SVER="+N.za));const Si=ct[5];Si!=null&&typeof Si=="number"&&Si>0&&(B=1.5*Si,N.O=B,N.j.info("backChannelRequestTimeoutMs_="+B)),B=N;const Ns=g.g;if(Ns){const ic=Ns.g?Ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var Z=B.h;Z.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(vo(Z,Z.h),Z.h=null))}if(B.G){const sc=Ns.g?Ns.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(B.wa=sc,we(B.J,B.G,sc))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-g.F,N.j.info("Handshake RTT: "+N.T+"ms")),B=N;var ce=g;if(B.na=cf(B,B.L?B.ba:null,B.W),ce.L){Qd(B.h,ce);var Le=ce,st=B.O;st&&(Le.H=st),Le.D&&(qu(Le),Hu(Le)),B.g=ce}else af(B);N.i.length>0&&Is(N)}else ct[0]!="stop"&&ct[0]!="close"||ks(N,7);else N.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ks(N,7):Be(N):ct[0]!="noop"&&N.l&&N.l.qa(ct),N.A=0)}}Ss(4)}catch{}}var a_=class{constructor(g,T){this.g=g,this.map=T}};function lm(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function um(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function cm(g){return g.h?1:g.g?g.g.size:0}function jl(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function vo(g,T){g.g?g.g.add(T):g.h=T}function Qd(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}lm.prototype.cancel=function(){if(this.i=Jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Jd(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const N of g.g.values())T=T.concat(N.G);return T}return y(g.i)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qe(g,T){if(g){g=g.split("&");for(let N=0;N<g.length;N++){const B=g[N].indexOf("=");let H,Z=null;B>=0?(H=g[N].substring(0,B),Z=g[N].substring(B+1)):H=g[N],T(H,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function it(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof it?(this.l=g.l,_i(this,g.j),this.o=g.o,this.g=g.g,bi(this,g.u),this.h=g.h,Rl(this,Ml(g.i)),this.m=g.m):g&&(T=String(g).match(xa))?(this.l=!1,_i(this,T[1]||"",!0),this.o=yo(T[2]||""),this.g=yo(T[3]||"",!0),bi(this,T[4]),this.h=yo(T[5]||"",!0),Rl(this,T[6]||"",!0),this.m=yo(T[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}it.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Ps(T,dm,!0),":");var N=this.g;return(N||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Ps(T,dm,!0),"@"),g.push(xe(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&g.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(Ps(N,N.charAt(0)=="/"?xo:Ku,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",Ps(N,_o)),g.join("")},it.prototype.resolve=function(g){const T=mr(this);let N=!!g.j;N?_i(T,g.j):N=!!g.o,N?T.o=g.o:N=!!g.g,N?T.g=g.g:N=g.u!=null;var B=g.h;if(N)bi(T,g.u);else if(N=!!g.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var H=T.h.lastIndexOf("/");H!=-1&&(B=T.h.slice(0,H+1)+B)}if(H=B,H==".."||H==".")B="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){B=H.lastIndexOf("/",0)==0,H=H.split("/");const Z=[];for(let ce=0;ce<H.length;){const Le=H[ce++];Le=="."?B&&ce==H.length&&Z.push(""):Le==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),B&&ce==H.length&&Z.push("")):(Z.push(Le),B=!0)}B=Z.join("/")}else B=H}return N?T.h=B:N=g.i.toString()!=="",N?Rl(T,Ml(g.i)):N=!!g.m,N&&(T.m=g.m),T};function mr(g){return new it(g)}function _i(g,T,N){g.j=N?yo(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function bi(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Rl(g,T,N){T instanceof Ki?(g.i=T,ef(g.i,g.l)):(N||(T=Ps(T,$t)),g.i=new Ki(T,g.l))}function we(g,T,N){g.i.set(T,N)}function bt(g){return we(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function yo(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ps(g,T,N){return typeof g=="string"?(g=encodeURI(g).replace(T,kr),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function kr(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var dm=/[#\/\?@]/g,Ku=/[#\?:]/g,xo=/[#\?]/g,$t=/[#\?@]/g,_o=/#/g;function Ki(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Qr(g){g.g||(g.g=new Map,g.h=0,g.i&&Qe(g.i,function(T,N){g.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}e=Ki.prototype,e.add=function(g,T){Qr(this),this.i=null,g=Ts(this,g);let N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(T),this.h+=1,this};function Gu(g,T){Qr(g),T=Ts(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function _a(g,T){return Qr(g),T=Ts(g,T),g.g.has(T)}e.forEach=function(g,T){Qr(this),this.g.forEach(function(N,B){N.forEach(function(H){g.call(T,H,B,this)},this)},this)};function Zu(g,T){Qr(g);let N=[];if(typeof T=="string")_a(g,T)&&(N=N.concat(g.g.get(Ts(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)N=N.concat(g[T]);return N}e.set=function(g,T){return Qr(this),this.i=null,g=Ts(this,g),_a(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},e.get=function(g,T){return g?(g=Zu(this,g),g.length>0?String(g[0]):T):T};function Yu(g,T,N){Gu(g,T),N.length>0&&(g.i=null,g.g.set(Ts(g,T),y(N)),g.h+=N.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let B=0;B<T.length;B++){var N=T[B];const H=xe(N);N=Zu(this,N);for(let Z=0;Z<N.length;Z++){let ce=H;N[Z]!==""&&(ce+="="+xe(N[Z])),g.push(ce)}}return this.i=g.join("&")};function Ml(g){const T=new Ki;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Ts(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function ef(g,T){T&&!g.j&&(Qr(g),g.i=null,g.g.forEach(function(N,B){const H=B.toLowerCase();B!=H&&(Gu(this,B),Yu(this,H,N))},g)),g.j=T}function Xu(g,T){const N=new Yn;if(o.Image){const B=new Image;B.onload=d(wi,N,"TestLoadImage: loaded",!0,T,B),B.onerror=d(wi,N,"TestLoadImage: error",!1,T,B),B.onabort=d(wi,N,"TestLoadImage: abort",!1,T,B),B.ontimeout=d(wi,N,"TestLoadImage: timeout",!1,T,B),o.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else T(!1)}function fm(g,T){const N=new Yn,B=new AbortController,H=setTimeout(()=>{B.abort(),wi(N,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:B.signal}).then(Z=>{clearTimeout(H),Z.ok?wi(N,"TestPingServer: ok",!0,T):wi(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(H),wi(N,"TestPingServer: error",!1,T)})}function wi(g,T,N,B,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),B(N)}catch{}}function l_(){this.g=new Cl}function De(g){this.i=g.Sb||null,this.h=g.ab||!1}p(De,Cr),De.prototype.g=function(){return new gr(this.i,this.h)};function gr(g,T){et.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(gr,et),e=gr.prototype,e.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,bo(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},e.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ht(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ht(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}e.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?ba(this):bo(this),this.readyState==3&&ht(this)}},e.Oa=function(g){this.g&&(this.response=this.responseText=g,ba(this))},e.Na=function(g){this.g&&(this.response=g,ba(this))},e.ga=function(){this.g&&ba(this)};function ba(g){g.readyState=4,g.l=null,g.j=null,g.B=null,bo(g)}e.setRequestHeader=function(g,T){this.A.append(g,T)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=T.next();return g.join(`\r
`)};function bo(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Qu(g){let T="";return ne(g,function(N,B){T+=B,T+=":",T+=N,T+=`\r
`}),T}function Dl(g,T,N){e:{for(B in N){var B=!1;break e}B=!0}B||(N=Qu(N),typeof g=="string"?N!=null&&xe(N):we(g,T,N))}function ut(g){et.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(ut,et);var tf=/^https?$/i,Ll=["POST","PUT"];e=ut.prototype,e.Fa=function(g){this.H=g},e.ea=function(g,T,N,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ir.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(Z){rn(this,Z);return}if(g=N||"",N=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var H in B)N.set(H,B[H]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const Z of B.keys())N.set(Z,B.get(Z));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(N.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(Ll,T,void 0)>=0)||B||H||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of N)this.g.setRequestHeader(Z,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Z){rn(this,Z)}};function rn(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,As(g),zl(g)}function As(g){g.A||(g.A=!0,tt(g,"complete"),tt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,tt(this,"complete"),tt(this,"abort"),zl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),ut.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?nf(this):this.Xa())},e.Xa=function(){nf(this)};function nf(g){if(g.h&&typeof s<"u"){if(g.v&&Cs(g)==4)setTimeout(g.Ca.bind(g),0);else if(tt(g,"readystatechange"),Cs(g)==4){g.h=!1;try{const Z=g.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var B;if(B=Z===0){let ce=String(g.D).match(xa)[1]||null;!ce&&o.self&&o.self.location&&(ce=o.self.location.protocol.slice(0,-1)),B=!tf.test(ce?ce.toLowerCase():"")}N=B}if(N)tt(g,"complete"),tt(g,"success");else{g.o=6;try{var H=Cs(g)>2?g.g.statusText:""}catch{H=""}g.l=H+" ["+g.ca()+"]",As(g)}}finally{zl(g)}}}}function zl(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const N=g.g;g.g=null,T||tt(g,"ready");try{N.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Cs(g){return g.g?g.g.readyState:0}e.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),fo(T)}};function rf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(g){const T={};g=(g.g&&Cs(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(F(g[B]))continue;var N=Xr(g[B]);const H=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Z=T[H]||[];T[H]=Z,Z.push(N)}K(T,function(B){return B.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(g,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||T}function of(g){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vl("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vl("baseRetryDelayMs",5e3,g),this.Za=Vl("retryDelaySeedMs",1e4,g),this.Ta=Vl("forwardChannelMaxRetries",2,g),this.va=Vl("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new lm(g&&g.concurrentRequestLimit),this.Ba=new l_,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=of.prototype,e.ka=8,e.I=1,e.connect=function(g,T,N,B){Ze(0),this.W=g,this.H=T||{},N&&B!==void 0&&(this.H.OSID=N,this.H.OAID=B),this.F=this.X,this.J=cf(this,null,this.W),Is(this)};function Be(g){if(Nr(g),g.I==3){var T=g.V++,N=mr(g.J);if(we(N,"SID",g.M),we(N,"RID",T),we(N,"TYPE","terminate"),wo(g,N),T=new Mn(g,g.j,T),T.M=2,T.A=bt(mr(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&o.Image&&(new Image().src=T.A,N=!0),N||(T.g=df(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Hu(T)}Gi(g)}function Ju(g){g.g&&(uf(g),g.g.cancel(),g.g=null)}function Nr(g){Ju(g),g.v&&(o.clearTimeout(g.v),g.v=null),tc(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function Is(g){if(!um(g.h)&&!g.m){g.m=!0;var T=g.Ea;M||C(),z||(M(),z=!0),k.add(T,g),g.D=0}}function hm(g,T){return cm(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Yt(c(g.Ea,g,T),gm(g,g.D)),g.D++,!0)}e.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const H=new Mn(this,this.j,g);let Z=this.o;if(this.U&&(Z?(Z=oe(Z),Ae(Z,this.U)):Z=this.U),this.u!==null||this.R||(H.J=Z,Z=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var B=this.i[N];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(T+=B,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=mm(this,H,T),N=mr(this.J),we(N,"RID",g),we(N,"CVER",22),this.G&&we(N,"X-HTTP-Session-Id",this.G),wo(this,N),Z&&(this.R?T="headers="+xe(Qu(Z))+"&"+T:this.u&&Dl(N,this.u,Z)),vo(this.h,H),this.Ra&&we(N,"TYPE","init"),this.S?(we(N,"$req",T),we(N,"SID","null"),H.U=!0,Wu(H,N,null)):Wu(H,N,T),this.I=2}}else this.I==3&&(g?pm(this,g):this.i.length==0||um(this.h)||pm(this))};function pm(g,T){var N;T?N=T.l:N=g.V++;const B=mr(g.J);we(B,"SID",g.M),we(B,"RID",N),we(B,"AID",g.K),wo(g,B),g.u&&g.o&&Dl(B,g.u,g.o),N=new Mn(g,g.j,N,g.D+1),g.u===null&&(N.J=g.o),T&&(g.i=T.G.concat(g.i)),T=mm(g,N,1e3),N.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),vo(g.h,N),Wu(N,B,T)}function wo(g,T){g.H&&ne(g.H,function(N,B){we(T,B,N)}),g.l&&ne({},function(N,B){we(T,B,N)})}function mm(g,T,N){N=Math.min(g.i.length,N);const B=g.l?c(g.l.Ka,g.l,g):null;e:{var H=g.i;let Le=-1;for(;;){const st=["count="+N];Le==-1?N>0?(Le=H[0].g,st.push("ofs="+Le)):Le=0:st.push("ofs="+Le);let ct=!0;for(let Qt=0;Qt<N;Qt++){var Z=H[Qt].g;const Ei=H[Qt].map;if(Z-=Le,Z<0)Le=Math.max(0,H[Qt].g-100),ct=!1;else try{Z="req"+Z+"_"||"";try{var ce=Ei instanceof Map?Ei:Object.entries(Ei);for(const[Zi,Si]of ce){let Ns=Si;a(Si)&&(Ns=Yr(Si)),st.push(Z+Zi+"="+encodeURIComponent(Ns))}}catch(Zi){throw st.push(Z+"type="+encodeURIComponent("_badmap")),Zi}}catch{B&&B(Ei)}}if(ct){ce=st.join("&");break e}}ce=void 0}return g=g.i.splice(0,N),T.G=g,ce}function af(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;M||C(),z||(M(),z=!0),k.add(T,g),g.A=0}}function lf(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Yt(c(g.Da,g),gm(g,g.A)),g.A++,!0)}e.Da=function(){if(this.v=null,ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Yt(c(this.Wa,this),g)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),Ju(this),ec(this))};function uf(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function ec(g){g.g=new Mn(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=mr(g.na);we(T,"RID","rpc"),we(T,"SID",g.M),we(T,"AID",g.K),we(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&we(T,"TO",g.ia),we(T,"TYPE","xmlhttp"),wo(g,T),g.u&&g.o&&Dl(T,g.u,g.o),g.O&&(g.g.H=g.O);var N=g.g;g=g.ba,N.M=1,N.A=bt(mr(T)),N.u=null,N.R=!0,go(N,g)}e.Va=function(){this.C!=null&&(this.C=null,Ju(this),lf(this),Ze(19))};function tc(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function Jr(g,T){var N=null;if(g.g==T){tc(g),uf(g),g.g=null;var B=2}else if(jl(g.h,T))N=T.G,Qd(g.h,T),B=1;else return;if(g.I!=0){if(T.o)if(B==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var H=g.D;B=po(),tt(B,new bn(B,N)),Is(g)}else af(g);else if(H=T.m,H==3||H==0&&T.X>0||!(B==1&&hm(g,T)||B==2&&lf(g)))switch(N&&N.length>0&&(T=g.h,T.i=T.i.concat(N)),H){case 1:ks(g,5);break;case 4:ks(g,10);break;case 3:ks(g,6);break;default:ks(g,2)}}}function gm(g,T){let N=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(N*=2),N*T}function ks(g,T){if(g.j.info("Error code "+T),T==2){var N=c(g.bb,g),B=g.Ua;const H=!B;B=new it(B||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_i(B,"https"),bt(B),H?Xu(B.toString(),N):fm(B.toString(),N)}else Ze(2);g.I=0,g.l&&g.l.pa(T),Gi(g),Nr(g)}e.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Gi(g){if(g.I=0,g.ja=[],g.l){const T=Jd(g.h);(T.length!=0||g.i.length!=0)&&(_(g.ja,T),_(g.ja,g.i),g.h.i.length=0,y(g.i),g.i.length=0),g.l.oa()}}function cf(g,T,N){var B=N instanceof it?mr(N):new it(N);if(B.g!="")T&&(B.g=T+"."+B.g),bi(B,B.u);else{var H=o.location;B=H.protocol,T=T?T+"."+H.hostname:H.hostname,H=+H.port;const Z=new it(null);B&&_i(Z,B),T&&(Z.g=T),H&&bi(Z,H),N&&(Z.h=N),B=Z}return N=g.G,T=g.wa,N&&T&&we(B,N,T),we(B,"VER",g.ka),wo(g,B),B}function df(g,T,N){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new ut(new De({ab:N})):new ut(g.ma),T.Fa(g.L),T}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}e=nc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function rc(){}rc.prototype.g=function(g,T){return new Qn(g,T)};function Qn(g,T){et.call(this),this.g=new of(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!F(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new wa(this)}p(Qn,et),Qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Be(this.g)},Qn.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.v&&(N={},N.__data__=Yr(g),g=N);T.i.push(new a_(T.Ya++,g)),T.I==3&&Is(T)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Be(this.g),delete this.g,Qn.Z.N.call(this)};function ff(g){ho.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const N in T){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(ff,ho);function vm(){ws.call(this),this.status=1}p(vm,ws);function wa(g){this.g=g}p(wa,nc),wa.prototype.ra=function(){tt(this.g,"a")},wa.prototype.qa=function(g){tt(this.g,new ff(g))},wa.prototype.pa=function(g){tt(this.g,new vm)},wa.prototype.oa=function(){tt(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,e4=function(){return new rc},JL=function(){return po()},QL=vi,Fw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Bg=hr,pr.COMPLETE="complete",XL=pr,Il.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",et.prototype.listen=et.prototype.J,Uf=Il,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,YL=ut}).apply(typeof Zm<"u"?Zm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd="12.9.0";function jG(e){Nd=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new fS("@firebase/firestore");function xc(){return _u.logLevel}function _e(e,...t){if(_u.logLevel<=He.DEBUG){const n=t.map(SS);_u.debug(`Firestore (${Nd}): ${e}`,...n)}}function ea(e,...t){if(_u.logLevel<=He.ERROR){const n=t.map(SS);_u.error(`Firestore (${Nd}): ${e}`,...n)}}function bu(e,...t){if(_u.logLevel<=He.WARN){const n=t.map(SS);_u.warn(`Firestore (${Nd}): ${e}`,...n)}}function SS(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,t4(e,r,n)}function t4(e,t,n){let r=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ea(r),new Error(r)}function dt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||t4(t,i,r)}function Fe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends vs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sr.UNAUTHENTICATED))}shutdown(){}}class MG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DG{constructor(t){this.t=t,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Uo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Uo,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Uo)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new n4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string",2055,{h:t}),new sr(t)}}class LG{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zG{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new LG(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VG{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dt(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r2(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=FG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function qe(e,t){return e<t?-1:e>t?1:0}function $w(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return X_(i)===X_(s)?qe(i,s):X_(i)?1:-1}return qe(e.length,t.length)}const $G=55296,BG=57343;function X_(e){const t=e.charCodeAt(0);return t>=$G&&t<=BG}function ud(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__name__";class Vs{constructor(t,n,r){n===void 0?n=0:n>t.length&&Re(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Re(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Vs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Vs.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return qe(t.length,n.length)}static compareSegments(t,n){const r=Vs.isNumericId(t),i=Vs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vs.extractNumericId(t).compare(Vs.extractNumericId(n)):$w(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tl.fromString(t.substring(4,t.length-2))}}class Et extends Vs{construct(t,n,r){return new Et(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const UG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Vs{construct(t,n,r){return new $n(t,n,r)}static isValidIdentifier(t){return UG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i2}static keyField(){return new $n([i2])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.path=t}static fromPath(t){return new ke(Et.fromString(t))}static fromName(t){return new ke(Et.fromString(t).popFirst(5))}static empty(){return new ke(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Et.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Et.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ke(new Et(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e,t,n){if(!n)throw new ve(ee.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function WG(e,t,n,r){if(t===!0&&r===!0)throw new ve(ee.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function s2(e){if(!ke.isDocumentKey(e))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function o2(e){if(ke.isDocumentKey(e))throw new ve(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function i4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function b0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Re(12329,{type:typeof e})}function Hr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b0(e);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e,t){const n={typeString:e};return t&&(n.value=t),n}function Tp(e,t){if(!i4(e))throw new ve(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ve(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=-62135596800,l2=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*l2);return new ze(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<a2)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l2}_compareTo(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tp(t,ze._jsonSchema))return new ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-a2;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:un("string",ze._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(t){return new Ve(t)}static min(){return new Ve(new ze(0,0))}static max(){return new Ve(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function HG(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new ll(i,ke.empty(),t)}function qG(e){return new ll(e.readTime,e.key,Lh)}class ll{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ll(Ve.min(),ke.empty(),Lh)}static max(){return new ll(Ve.max(),ke.empty(),Lh)}}function KG(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ke.comparator(e.documentKey,t.documentKey),n!==0?n:qe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(e){if(e.code!==ee.FAILED_PRECONDITION||e.message!==GG)throw e;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):te.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):te.reject(n)}static resolve(t){return new te((n,r)=>{n(t)})}static reject(t){return new te((n,r)=>{r(t)})}static waitFor(t){return new te((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=te.resolve(!1);for(const r of t)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new te((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(t[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new te((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function YG(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}w0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=-1;function E0(e){return e==null}function Rv(e){return e===0&&1/e==-1/0}function XG(e){return typeof e=="number"&&Number.isInteger(e)&&!Rv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="";function QG(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=u2(t)),t=JG(e.get(n),t);return u2(t)}function JG(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case s4:n+="";break;default:n+=s}}return n}function u2(e){return e+s4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function El(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function o4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||Vn.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ym(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ym(this.root,t,this.comparator,!0)}}class Ym{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=s??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Vn(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Re(27949);return t+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new Vn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new d2(this.data.getIterator())}getIteratorFrom(t){return new d2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof vn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new vn(this.comparator);return n.data=t,n}}class d2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.fields=t,t.sort($n.comparator)}static empty(){return new ii([])}unionWith(t){let n=new vn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ii(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ud(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new a4("Invalid base64 string: "+s):s}}(t);return new Hn(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Hn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const eZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(e){if(dt(!!e,39018),typeof e=="string"){let t=0;const n=eZ.exec(e);if(dt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:en(e.seconds),nanos:en(e.nanos)}}function en(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function cl(e){return typeof e=="string"?Hn.fromBase64String(e):Hn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="server_timestamp",u4="__type__",c4="__previous_value__",d4="__local_write_time__";function AS(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[u4])==null?void 0:r.stringValue)===l4}function S0(e){const t=e.mapValue.fields[c4];return AS(t)?S0(t):t}function zh(e){const t=ul(e.mapValue.fields[d4].timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(t,n,r,i,s,o,a,u,c,d,p){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=p}}const Mv="(default)";class Vh{constructor(t,n){this.projectId=t,this.database=n||Mv}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===Mv}isEqual(t){return t instanceof Vh&&t.projectId===this.projectId&&t.database===this.database}}function nZ(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__type__",rZ="__max__",Xm={mapValue:{}},h4="__vector__",Dv="value";function dl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?AS(e)?4:sZ(e)?9007199254740991:iZ(e)?10:11:Re(28295,{value:e})}function to(e,t){if(e===t)return!0;const n=dl(e);if(n!==dl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zh(e).isEqual(zh(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ul(i.timestampValue),a=ul(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return cl(i.bytesValue).isEqual(cl(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return en(i.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return en(i.integerValue)===en(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=en(i.doubleValue),a=en(s.doubleValue);return o===a?Rv(o)===Rv(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return ud(e.arrayValue.values||[],t.arrayValue.values||[],to);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(c2(o)!==c2(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!to(o[u],a[u])))return!1;return!0}(e,t);default:return Re(52216,{left:e})}}function Fh(e,t){return(e.values||[]).find(n=>to(n,t))!==void 0}function cd(e,t){if(e===t)return 0;const n=dl(e),r=dl(t);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=en(s.integerValue||s.doubleValue),u=en(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return f2(e.timestampValue,t.timestampValue);case 4:return f2(zh(e),zh(t));case 5:return $w(e.stringValue,t.stringValue);case 6:return function(s,o){const a=cl(s),u=cl(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=qe(a[c],u[c]);if(d!==0)return d}return qe(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=qe(en(s.latitude),en(o.latitude));return a!==0?a:qe(en(s.longitude),en(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return h2(e.arrayValue,t.arrayValue);case 10:return function(s,o){var m,y,_,E;const a=s.fields||{},u=o.fields||{},c=(m=a[Dv])==null?void 0:m.arrayValue,d=(y=u[Dv])==null?void 0:y.arrayValue,p=qe(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return p!==0?p:h2(c,d)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Xm.mapValue&&o===Xm.mapValue)return 0;if(s===Xm.mapValue)return 1;if(o===Xm.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=$w(u[p],d[p]);if(m!==0)return m;const y=cd(a[u[p]],c[d[p]]);if(y!==0)return y}return qe(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Re(23264,{he:n})}}function f2(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qe(e,t);const n=ul(e),r=ul(t),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function h2(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=cd(n[i],r[i]);if(s)return s}return qe(n.length,r.length)}function dd(e){return Bw(e)}function Bw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return cl(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ke.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bw(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Bw(n.fields[o])}`;return i+"}"}(e.mapValue):Re(61005,{value:e})}function Ug(e){switch(dl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=S0(e);return t?16+Ug(t):16;case 5:return 2*e.stringValue.length;case 6:return cl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ug(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return El(r.fields,(s,o)=>{i+=s.length+Ug(o)}),i}(e.mapValue);default:throw Re(13486,{value:e})}}function p2(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Uw(e){return!!e&&"integerValue"in e}function CS(e){return!!e&&"arrayValue"in e}function m2(e){return!!e&&"nullValue"in e}function g2(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wg(e){return!!e&&"mapValue"in e}function iZ(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[f4])==null?void 0:r.stringValue)===h4}function ah(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return El(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ah(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ah(e.arrayValue.values[n]);return t}return{...e}}function sZ(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rZ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.value=t}static empty(){return new Lr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Wg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ah(n)}setAll(t){let n=$n.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ah(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return to(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){El(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Lr(ah(this.value))}}function p4(e){const t=[];return El(e.fields,(n,r)=>{const i=new $n([n]);if(Wg(r)){const s=p4(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new ii(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ar(t,0,Ve.min(),Ve.min(),Ve.min(),Lr.empty(),0)}static newFoundDocument(t,n,r,i){return new ar(t,1,n,Ve.min(),r,i,0)}static newNoDocument(t,n){return new ar(t,2,n,Ve.min(),Ve.min(),Lr.empty(),0)}static newUnknownDocument(t,n){return new ar(t,3,n,Ve.min(),Ve.min(),Lr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ar&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,n){this.position=t,this.inclusive=n}}function v2(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(o.referenceValue),n.key):r=cd(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function y2(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!to(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,n="asc"){this.field=t,this.dir=n}}function oZ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{}class ln extends m4{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new lZ(t,n,r):n==="array-contains"?new dZ(t,r):n==="in"?new fZ(t,r):n==="not-in"?new hZ(t,r):n==="array-contains-any"?new pZ(t,r):new ln(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new uZ(t,r):new cZ(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cd(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(cd(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends m4{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new fs(t,n)}matches(t){return g4(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g4(e){return e.op==="and"}function v4(e){return aZ(e)&&g4(e)}function aZ(e){for(const t of e.filters)if(t instanceof fs)return!1;return!0}function Ww(e){if(e instanceof ln)return e.field.canonicalString()+e.op.toString()+dd(e.value);if(v4(e))return e.filters.map(t=>Ww(t)).join(",");{const t=e.filters.map(n=>Ww(n)).join(",");return`${e.op}(${t})`}}function y4(e,t){return e instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&to(r.value,i.value)}(e,t):e instanceof fs?function(r,i){return i instanceof fs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&y4(o,i.filters[a]),!0):!1}(e,t):void Re(19439)}function x4(e){return e instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${dd(n.value)}`}(e):e instanceof fs?function(n){return n.op.toString()+" {"+n.getFilters().map(x4).join(" ,")+"}"}(e):"Filter"}class lZ extends ln{constructor(t,n,r){super(t,n,r),this.key=ke.fromName(r.referenceValue)}matches(t){const n=ke.comparator(t.key,this.key);return this.matchesComparison(n)}}class uZ extends ln{constructor(t,n){super(t,"in",n),this.keys=_4("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class cZ extends ln{constructor(t,n){super(t,"not-in",n),this.keys=_4("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function _4(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>ke.fromName(r.referenceValue))}class dZ extends ln{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return CS(n)&&Fh(n.arrayValue,this.value)}}class fZ extends ln{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class hZ extends ln{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fh(this.value.arrayValue,n)}}class pZ extends ln{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!CS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function x2(e,t=null,n=[],r=[],i=null,s=null,o=null){return new mZ(e,t,n,r,i,s,o)}function IS(e){const t=Fe(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ww(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),E0(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>dd(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>dd(r)).join(",")),t.Te=n}return t.Te}function kS(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oZ(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!y4(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!y2(e.startAt,t.startAt)&&y2(e.endAt,t.endAt)}function Hw(e){return ke.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gZ(e,t,n,r,i,s,o,a){return new Ap(e,t,n,r,i,s,o,a)}function P0(e){return new Ap(e)}function _2(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vZ(e){return ke.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function b4(e){return e.collectionGroup!==null}function lh(e){const t=Fe(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vn($n.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new zv(s,r))}),n.has($n.keyField().canonicalString())||t.Ie.push(new zv($n.keyField(),r))}return t.Ie}function Ys(e){const t=Fe(e);return t.Ee||(t.Ee=yZ(t,lh(e))),t.Ee}function yZ(e,t){if(e.limitType==="F")return x2(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zv(i.field,s)});const n=e.endAt?new Lv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Lv(e.startAt.position,e.startAt.inclusive):null;return x2(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function qw(e,t){const n=e.filters.concat([t]);return new Ap(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Kw(e,t,n){return new Ap(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function T0(e,t){return kS(Ys(e),Ys(t))&&e.limitType===t.limitType}function w4(e){return`${IS(Ys(e))}|lt:${e.limitType}`}function _c(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x4(i)).join(", ")}]`),E0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dd(i)).join(",")),`Target(${r})`}(Ys(e))}; limitType=${e.limitType})`}function A0(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of lh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=v2(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,lh(r),i)||r.endAt&&!function(o,a,u){const c=v2(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,lh(r),i))}(e,t)}function xZ(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function E4(e){return(t,n)=>{let r=!1;for(const i of lh(e)){const s=_Z(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _Z(e,t,n){const r=e.field.isKeyField()?ke.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?cd(u,c):Re(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){El(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return o4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=new Vt(ke.comparator);function ta(){return bZ}const S4=new Vt(ke.comparator);function Wf(...e){let t=S4;for(const n of e)t=t.insert(n.key,n);return t}function P4(e){let t=S4;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Jl(){return uh()}function T4(){return uh()}function uh(){return new Lu(e=>e.toString(),(e,t)=>e.isEqual(t))}const wZ=new Vt(ke.comparator),EZ=new vn(ke.comparator);function Ke(...e){let t=EZ;for(const n of e)t=t.add(n);return t}const SZ=new vn(qe);function PZ(){return SZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(t)?"-0":t}}function A4(e){return{integerValue:""+e}}function C4(e,t){return XG(t)?A4(t):NS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._=void 0}}function TZ(e,t,n){return e instanceof $h?function(i,s){const o={fields:{[u4]:{stringValue:l4},[d4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&AS(s)&&(s=S0(s)),s&&(o.fields[c4]=s),{mapValue:o}}(n,t):e instanceof Bh?k4(e,t):e instanceof Uh?N4(e,t):function(i,s){const o=I4(i,s),a=b2(o)+b2(i.Ae);return Uw(o)&&Uw(i.Ae)?A4(a):NS(i.serializer,a)}(e,t)}function AZ(e,t,n){return e instanceof Bh?k4(e,t):e instanceof Uh?N4(e,t):n}function I4(e,t){return e instanceof Wh?function(r){return Uw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class $h extends C0{}class Bh extends C0{constructor(t){super(),this.elements=t}}function k4(e,t){const n=O4(t);for(const r of e.elements)n.some(i=>to(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uh extends C0{constructor(t){super(),this.elements=t}}function N4(e,t){let n=O4(t);for(const r of e.elements)n=n.filter(i=>!to(i,r));return{arrayValue:{values:n}}}class Wh extends C0{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function b2(e){return en(e.integerValue||e.doubleValue)}function O4(e){return CS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(t,n){this.field=t,this.transform=n}}function CZ(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Bh&&i instanceof Bh||r instanceof Uh&&i instanceof Uh?ud(r.elements,i.elements,to):r instanceof Wh&&i instanceof Wh?to(r.Ae,i.Ae):r instanceof $h&&i instanceof $h}(e.transform,t.transform)}class IZ{constructor(t,n){this.version=t,this.transformResults=n}}class Li{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class I0{}function R4(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new OS(e.key,Li.none()):new Cp(e.key,e.data,Li.none());{const n=e.data,r=Lr.empty();let i=new vn($n.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sl(e.key,r,new ii(i.toArray()),Li.none())}}function kZ(e,t,n){e instanceof Cp?function(i,s,o){const a=i.value.clone(),u=E2(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Sl?function(i,s,o){if(!Hg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=E2(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(M4(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ch(e,t,n,r){return e instanceof Cp?function(s,o,a,u){if(!Hg(s.precondition,o))return a;const c=s.value.clone(),d=S2(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sl?function(s,o,a,u){if(!Hg(s.precondition,o))return a;const c=S2(s.fieldTransforms,u,o),d=o.data;return d.setAll(M4(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,r):function(s,o,a){return Hg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function NZ(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=I4(r.transform,i||null);s!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,s))}return n||null}function w2(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ud(r,i,(s,o)=>CZ(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cp extends I0{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sl extends I0{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M4(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function E2(e,t,n){const r=new Map;dt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,AZ(o,a,n[i]))}return r}function S2(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TZ(s,o,t))}return r}class OS extends I0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OZ extends I0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&kZ(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ch(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ch(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=T4();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=R4(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ke())}isEqual(t){return this.batchId===t.batchId&&ud(this.mutations,t.mutations,(n,r)=>w2(n,r))&&ud(this.baseMutations,t.baseMutations,(n,r)=>w2(n,r))}}class jS{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){dt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return wZ}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jS(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Je;function DZ(e){switch(e){case ee.OK:return Re(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Re(15467,{code:e})}}function D4(e){if(e===void 0)return ea("GRPC error has no .code"),ee.UNKNOWN;switch(e){case on.OK:return ee.OK;case on.CANCELLED:return ee.CANCELLED;case on.UNKNOWN:return ee.UNKNOWN;case on.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case on.INTERNAL:return ee.INTERNAL;case on.UNAVAILABLE:return ee.UNAVAILABLE;case on.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case on.NOT_FOUND:return ee.NOT_FOUND;case on.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case on.ABORTED:return ee.ABORTED;case on.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case on.DATA_LOSS:return ee.DATA_LOSS;default:return Re(39323,{code:e})}}(Je=on||(on={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ=new tl([4294967295,4294967295],0);function P2(e){const t=LZ().encode(e),n=new ZL;return n.update(t),new Uint8Array(n.digest())}function T2(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new tl([n,r],0),new tl([i,s],0)]}class RS{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hf(`Invalid padding: ${n}`);if(r<0)throw new Hf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Hf(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Hf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=tl.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(tl.fromNumber(r)));return i.compare(zZ)===1&&(i=new tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=P2(t),[r,i]=T2(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new RS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=P2(t),[r,i]=T2(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ip.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new k0(Ve.min(),i,new Vt(qe),ta(),Ke())}}class Ip{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ip(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,n,r,i){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=i}}class L4{constructor(t,n){this.targetId=t,this.Ce=n}}class z4{constructor(t,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class A2{constructor(){this.ve=0,this.Fe=C2(),this.Me=Hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ke(),n=Ke(),r=Ke();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re(38017,{changeType:s})}}),new Ip(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=C2()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VZ{constructor(t){this.Ge=t,this.ze=new Map,this.je=ta(),this.He=Qm(),this.Je=Qm(),this.Ze=new Vt(qe)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Re(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Hw(s))if(r===0){const o=new ke(s.path);this.et(n,o,ar.newNoDocument(o,Ve.min()))}else dt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),u=a?this.ct(a,t,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=cl(r).toUint8Array()}catch(u){if(u instanceof a4)return bu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new RS(o,i,s)}catch(u){return bu(u instanceof Hf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Hw(a.target)){const u=new ke(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ar.newNoDocument(u,t))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=Ke();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new k0(t,n,this.Ze,this.je,r);return this.je=ta(),this.He=Qm(),this.Je=Qm(),this.Ze=new Vt(qe),i}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new A2,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new vn(qe),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new vn(qe),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new A2),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qm(){return new Vt(ke.comparator)}function C2(){return new Vt(ke.comparator)}const FZ={asc:"ASCENDING",desc:"DESCENDING"},$Z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BZ={and:"AND",or:"OR"};class UZ{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Gw(e,t){return e.useProto3Json||E0(t)?t:{value:t}}function Vv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function V4(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WZ(e,t){return Vv(e,t.toTimestamp())}function Xs(e){return dt(!!e,49232),Ve.fromTimestamp(function(n){const r=ul(n);return new ze(r.seconds,r.nanos)}(e))}function MS(e,t){return Zw(e,t).canonicalString()}function Zw(e,t){const n=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function F4(e){const t=Et.fromString(e);return dt(H4(t),10190,{key:t.toString()}),t}function Yw(e,t){return MS(e.databaseId,t.path)}function Q_(e,t){const n=F4(t);if(n.get(1)!==e.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ke(B4(n))}function $4(e,t){return MS(e.databaseId,t)}function HZ(e){const t=F4(e);return t.length===4?Et.emptyPath():B4(t)}function Xw(e){return new Et(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function B4(e){return dt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function I2(e,t,n){return{name:Yw(e,t),fields:n.value.mapValue.fields}}function qZ(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Re(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(dt(d===void 0||typeof d=="string",58123),Hn.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Hn.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=c.code===void 0?ee.UNKNOWN:D4(c.code);return new ve(d,c.message||"")}(o);n=new z4(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Q_(e,r.document.name),s=Xs(r.document.updateTime),o=r.document.createTime?Xs(r.document.createTime):Ve.min(),a=new Lr({mapValue:{fields:r.document.fields}}),u=ar.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new qg(c,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Q_(e,r.document),s=r.readTime?Xs(r.readTime):Ve.min(),o=ar.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qg([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Q_(e,r.document),s=r.removedTargetIds||[];n=new qg([],s,i,null)}else{if(!("filter"in t))return Re(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new MZ(i,s),a=r.targetId;n=new L4(a,o)}}return n}function KZ(e,t){let n;if(t instanceof Cp)n={update:I2(e,t.key,t.value)};else if(t instanceof OS)n={delete:Yw(e,t.key)};else if(t instanceof Sl)n={update:I2(e,t.key,t.data),updateMask:nY(t.fieldMask)};else{if(!(t instanceof OZ))return Re(16599,{dt:t.type});n={verify:Yw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $h)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Re(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:WZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Re(27497)}(e,t.precondition)),n}function GZ(e,t){return e&&e.length>0?(dt(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?Xs(i.updateTime):Xs(s);return o.isEqual(Ve.min())&&(o=Xs(s)),new IZ(o,i.transformResults||[])}(n,t))):[]}function ZZ(e,t){return{documents:[$4(e,t.path)]}}function YZ(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$4(e,i);const s=function(c){if(c.length!==0)return W4(fs.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:bc(m.field),direction:JZ(m.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gw(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function XZ(e){let t=HZ(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=U4(p);return m instanceof fs&&v4(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(_){return new zv(wc(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,E0(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,y=p.values||[];return new Lv(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,y=p.values||[];return new Lv(y,m)}(n.endAt)),gZ(t,i,o,s,a,"F",u,c)}function QZ(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function U4(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wc(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wc(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wc(n.unaryFilter.field);return ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wc(n.unaryFilter.field);return ln.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(e):e.fieldFilter!==void 0?function(n){return ln.create(wc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return fs.create(n.compositeFilter.filters.map(r=>U4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(e):Re(30097,{filter:e})}function JZ(e){return FZ[e]}function eY(e){return $Z[e]}function tY(e){return BZ[e]}function bc(e){return{fieldPath:e.canonicalString()}}function wc(e){return $n.fromServerFormat(e.fieldPath)}function W4(e){return e instanceof ln?function(n){if(n.op==="=="){if(g2(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NAN"}};if(m2(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g2(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NOT_NAN"}};if(m2(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(n.field),op:eY(n.op),value:n.value}}}(e):e instanceof fs?function(n){const r=n.getFilters().map(i=>W4(i));return r.length===1?r[0]:{compositeFilter:{op:tY(n.op),filters:r}}}(e):Re(54877,{filter:e})}function nY(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function H4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function q4(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,n,r,i,s=Ve.min(),o=Ve.min(),a=Hn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Ba(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(t){this.yt=t}}function iY(e){const t=XZ({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(){this.Sn=new oY}addToCollectionParentIndex(t,n){return this.Sn.add(n),te.resolve()}getCollectionParents(t,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return te.resolve()}deleteFieldIndex(t,n){return te.resolve()}deleteAllFieldIndexes(t){return te.resolve()}createTargetIndexes(t,n){return te.resolve()}getDocumentsMatchingTarget(t,n){return te.resolve(null)}getIndexType(t,n){return te.resolve(0)}getFieldIndexes(t,n){return te.resolve([])}getNextCollectionGroupToUpdate(t){return te.resolve(null)}getMinOffset(t,n){return te.resolve(ll.min())}getMinOffsetFromCollectionGroup(t,n){return te.resolve(ll.min())}updateCollectionGroup(t,n,r){return te.resolve()}updateIndexEntries(t,n){return te.resolve()}}class oY{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new vn(Et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new vn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K4=41943040;class Rr{static withCacheSize(t){return new Rr(t,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(K4,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fd(0)}static ar(){return new fd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="LruGarbageCollector",aY=1048576;function O2([e,t],[n,r]){const i=qe(e,n);return i===0?qe(t,r):i}class lY{constructor(t){this.Pr=t,this.buffer=new vn(O2),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();O2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uY{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){_e(N2,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jd(n)?_e(N2,"Ignoring IndexedDB error during garbage collection: ",n):await Od(n)}await this.Ar(3e5)})}}class cY{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return te.resolve(w0.ce);const r=new lY(n);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(k2)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k2):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(t,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(t,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(c=Date.now(),xc()<=He.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function dY(e,t){return new cY(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(){this.changes=new Lu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ar.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ch(r.mutation,i,ii.empty(),ze.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ke()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ke()){const i=Jl();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Wf();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Jl();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ke()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=ta();const o=uh(),a=function(){return uh()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Sl)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ch(d.mutation,c,d.mutation.getFieldMask(),ze.now())):o.set(c.key,ii.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new hY(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const r=uh();let i=new Vt((o,a)=>o-a),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||ii.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(i.get(a.batchId)||Ke()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=T4();d.forEach(m=>{if(!s.has(m)){const y=R4(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,p))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return vZ(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b4(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):te.resolve(Jl());let a=Lh,u=s;return o.next(c=>te.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?te.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,u,c,Ke())).next(d=>({batchId:a,changes:P4(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ke(n)).next(r=>{let i=Wf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Wf();return this.indexManager.getCollectionParents(t,s).next(a=>te.forEach(a,u=>{const c=function(p,m){return new Ap(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ar.newInvalidDocument(d)))});let a=Wf();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&ch(d.mutation,c,ii.empty(),ze.now()),A0(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xs(i.createTime)}}(n)),te.resolve()}getNamedQuery(t,n){return te.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(i){return{name:i.name,query:iY(i.bundledQuery),readTime:Xs(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(){this.overlays=new Vt(ke.comparator),this.Lr=new Map}getOverlay(t,n){return te.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jl();return te.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.bt(t,n,s)}),te.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),te.resolve()}getOverlaysForCollection(t,n,r){const i=Jl(),s=n.length+1,o=new ke(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return te.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Vt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Jl(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Jl(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return te.resolve(a)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RZ(n,r));let s=this.Lr.get(n);s===void 0&&(s=Ke(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(t){return te.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.kr=new vn(Pn.Kr),this.qr=new vn(Pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Pn(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new Pn(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new ke(new Et([])),r=new Pn(n,t),i=new Pn(n,t+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ke(new Et([])),r=new Pn(n,t),i=new Pn(n,t+1);let s=Ke();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Pn(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Pn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ke.comparator(t.key,n.key)||qe(t.Hr,n.Hr)}static Ur(t,n){return qe(t.Hr,n.Hr)||ke.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new vn(Pn.Kr)}checkEmpty(t){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jZ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Jr=this.Jr.add(new Pn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(t,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?TS:this.Yn-1)}getAllMutationBatches(t){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new vn(qe);return n.forEach(i=>{const s=new Pn(i,0),o=new Pn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const o=new Pn(new ke(s),0);let a=new vn(qe);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Hr)),!0)},o),te.resolve(this.Yr(a))}Yr(t){const n=[];return t.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){dt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return te.forEach(n.mutations,i=>{const s=new Pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new Pn(n,0),i=this.Jr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,te.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(t){this.ti=t,this.docs=function(){return new Vt(ke.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(n))}getEntries(t,n){let r=ta();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ar.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=ta();const o=n.path,a=new ke(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||KG(qG(d),r)<=0||(i.has(d.key)||A0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Re(9500)}ni(t,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new _Y(this)}getSize(t){return te.resolve(this.size)}}class _Y extends fY{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(r)}),te.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(t){this.persistence=t,this.ri=new Lu(n=>IS(n),kS),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new DS,this.targetCount=0,this.oi=fd._r()}forEachTarget(t,n){return this.ri.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(t){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return te.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),te.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new fd(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(t,n){return this.lr(n),te.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(t){return te.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return te.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),te.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return te.resolve(r)}containsKey(t,n){return te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t,n){this._i={},this.overlays={},this.ai=new w0(0),this.ui=!1,this.ui=!0,this.ci=new vY,this.referenceDelegate=t(this),this.li=new bY(this),this.indexManager=new sY,this.remoteDocumentCache=function(i){return new xY(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new rY(n),this.Pi=new mY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gY,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new yY(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){_e("MemoryPersistence","Starting transaction:",t);const i=new wY(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(t,n){return te.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class wY extends ZG{constructor(t){super(),this.currentSequenceNumber=t}}class LS{constructor(t){this.persistence=t,this.Ri=new DS,this.Ai=null}static Vi(t){return new LS(t)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),te.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),te.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),te.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,r=>{const i=ke.fromPath(r);return this.mi(t,i).next(s=>{s||n.removeEntry(i,Ve.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Fv{constructor(t,n){this.persistence=t,this.fi=new Lu(r=>QG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dY(this,n)}static Vi(t,n){return new Fv(t,n)}Ti(){}Ii(t){return te.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return te.forEach(this.fi,(r,i)=>this.wr(t,r,i).next(s=>s?te.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(t,o=>this.wr(t,o,n).next(a=>{a||(r++,s.removeEntry(o,Ve.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),te.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),te.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),te.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),te.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ug(t.data.value)),n}wr(t,n,r){return te.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.fi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=i}static Es(t,n){let r=Ke(),i=Ke();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zS(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return tH()?8:YG(dr())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.gs(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new EY;return this.ys(t,n,o).next(a=>{if(s.result=a,this.As)return this.ws(t,n,o,a.size)})}).next(()=>s.result)}ws(t,n,r,i){return r.documentReadCount<this.Vs?(xc()<=He.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",_c(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(xc()<=He.DEBUG&&_e("QueryEngine","Query:",_c(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(xc()<=He.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",_c(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ys(n))):te.resolve())}gs(t,n){if(_2(n))return te.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kw(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Ke(...s);return this.fs.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const c=this.bs(n,a);return this.Ss(n,c,o,u.readTime)?this.gs(t,Kw(n,null,"F")):this.Ds(t,c,n,u)}))})))}ps(t,n,r,i){return _2(n)||i.isEqual(Ve.min())?te.resolve(null):this.fs.getDocuments(t,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?te.resolve(null):(xc()<=He.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_c(n)),this.Ds(t,o,n,HG(i,Lh)).next(a=>a))})}bs(t,n){let r=new vn(E4(t));return n.forEach((i,s)=>{A0(t,s)&&(r=r.add(s))}),r}Ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(t,n,r){return xc()<=He.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",_c(n)),this.fs.getDocumentsMatchingQuery(t,n,ll.min(),r)}Ds(t,n,r,i){return this.fs.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="LocalStore",PY=3e8;class TY{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.vs=new Vt(qe),this.Fs=new Lu(s=>IS(s),kS),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pY(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function AY(e,t,n,r){return new TY(e,t,n,r)}async function Z4(e,t){const n=Fe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ke();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function CY(e,t){const n=Fe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,m=p.keys();let y=te.resolve();return m.forEach(_=>{y=y.next(()=>d.getEntry(u,_)).next(E=>{const w=c.docVersions.get(_);dt(w!==null,48541),E.version.compareTo(w)<0&&(p.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Y4(e){const t=Fe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function IY(e,t){const n=Fe(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];t.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;a.push(n.li.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(Hn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(p,y),function(E,w,S){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=PY?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,y,d)&&a.push(n.li.updateTargetData(s,y))});let u=ta(),c=Ke();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(kY(s,o,t.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!r.isEqual(Ve.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(p=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.vs=i,s))}function kY(e,t,n){let r=Ke(),i=Ke();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=ta();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ve.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):_e(VS,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:i}})}function NY(e,t){const n=Fe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=TS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function OY(e,t){const n=Fe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,t).next(s=>s?(i=s,te.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new Ba(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r})}async function Qw(e,t,n){const r=Fe(e),i=r.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jd(o))throw o;_e(VS,`Failed to update sequence numbers for target ${t}: ${o}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function j2(e,t,n){const r=Fe(e);let i=Ve.min(),s=Ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=Fe(u),m=p.Fs.get(d);return m!==void 0?te.resolve(p.vs.get(m)):p.li.getTargetData(c,d)}(r,o,Ys(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,t,n?i:Ve.min(),n?s:Ke())).next(a=>(jY(r,xZ(t),a),{documents:a,ks:s})))}function jY(e,t,n){let r=e.Ms.get(t)||Ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ms.set(t,r)}class R2{constructor(){this.activeTargetIds=PZ()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RY{constructor(){this.vo=new R2,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new R2,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="ConnectivityMonitor";class D2{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(M2,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){_e(M2,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function Jw(){return Jm===null?Jm=function(){return 268435456+Math.round(2147483648*Math.random())}():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="RestConnection",DY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LY{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Mv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,s){const o=Jw(),a=this.Qo(t,n.toUriEncodedString());_e(J_,`Sending RPC '${t}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,s);const{host:c}=new URL(a),d=lo(c);return this.zo(t,a,u,r,d).then(p=>(_e(J_,`Received RPC '${t}' ${o}: `,p),p),p=>{throw bu(J_,`RPC '${t}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}jo(t,n,r,i,s,o){return this.Wo(t,n,r,i,s)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}Qo(t,n){const r=DY[t];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection",Tf=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Gc extends LY{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Gc.c_){const t=JL();Tf(t,QL.STAT_EVENT,n=>{n.stat===Fw.PROXY?_e(tr,"STAT_EVENT: detected buffering proxy"):n.stat===Fw.NOPROXY&&_e(tr,"STAT_EVENT: detected no buffering proxy")}),Gc.c_=!0}}zo(t,n,r,i,s){const o=Jw();return new Promise((a,u)=>{const c=new YL;c.setWithCredentials(!0),c.listenOnce(XL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bg.NO_ERROR:const p=c.getResponseJson();_e(tr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),a(p);break;case Bg.TIMEOUT:_e(tr,`RPC '${t}' ${o} timed out`),u(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:const m=c.getStatus();if(_e(tr,`RPC '${t}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const E=function(S){const P=S.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(P)>=0?P:ee.UNKNOWN}(_.status);u(new ve(E,_.message))}else u(new ve(ee.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{_e(tr,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(i);_e(tr,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(t,n,r){const i=Jw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=s.join("");_e(tr,`Creating RPC '${t}' stream ${i}: ${c}`,a);const d=o.createWebChannel(c,a);this.I_(d);let p=!1,m=!1;const y=new zY({Ho:_=>{m?_e(tr,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(p||(_e(tr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),_e(tr,`RPC '${t}' stream ${i} sending:`,_),d.send(_))},Jo:()=>d.close()});return Tf(d,Uf.EventType.OPEN,()=>{m||(_e(tr,`RPC '${t}' stream ${i} transport opened.`),y.i_())}),Tf(d,Uf.EventType.CLOSE,()=>{m||(m=!0,_e(tr,`RPC '${t}' stream ${i} transport closed`),y.o_(),this.E_(d))}),Tf(d,Uf.EventType.ERROR,_=>{m||(m=!0,bu(tr,`RPC '${t}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),y.o_(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),Tf(d,Uf.EventType.MESSAGE,_=>{var E;if(!m){const w=_.data[0];dt(!!w,16349);const S=w,P=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(P){_e(tr,`RPC '${t}' stream ${i} received error:`,P);const A=P.status;let O=function(k){const C=on[k];if(C!==void 0)return D4(C)}(A),M=P.message;A==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&bu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),O===void 0&&(O=ee.INTERNAL,M="Unknown error status: "+A+" with message "+P.message),m=!0,y.o_(new ve(O,M)),d.close()}else _e(tr,`RPC '${t}' stream ${i} received:`,w),y.__(w)}}),Gc.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return e4()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(e){return new Gc(e)}function eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(e){return new UZ(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gc.c_=!1;class X4{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="PersistentStream";class Q4{constructor(t,n,r,i,s,o,a,u){this.Ci=t,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X4(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ea(n.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new ve(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return _e(L2,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(_e(L2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FY extends Q4{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=qZ(this.serializer,t),r=function(s){if(!("targetChange"in s))return Ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?Xs(o.readTime):Ve.min()}(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Xw(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Hw(u)?{documents:ZZ(s,u)}:{query:YZ(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=V4(s,o.resumeToken);const c=Gw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ve.min())>0){a.readTime=Vv(s,o.snapshotVersion.toTimestamp());const c=Gw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=QZ(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Xw(this.serializer),n.removeTarget=t,this.K_(n)}}class $Y extends Q4{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=GZ(t.writeResults,t.commitTime),r=Xs(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Xw(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>KZ(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{}class UY extends BY{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,Zw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(ee.UNKNOWN,s.toString())})}jo(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(t,Zw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ee.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function WY(e,t,n,r){return new UY(e,t,n,r)}class HY{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ea(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="RemoteStore";class qY{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{zu(this)&&(_e(wu,"Restarting streams for network reachability change."),await async function(u){const c=Fe(u);c.Ea.add(4),await kp(c),c.Va.set("Unknown"),c.Ea.delete(4),await O0(c)}(this))})}),this.Va=new HY(r,i)}}async function O0(e){if(zu(e))for(const t of e.Ra)await t(!0)}async function kp(e){for(const t of e.Ra)await t(!1)}function J4(e,t){const n=Fe(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),US(n)?BS(n):Rd(n).O_()&&$S(n,t))}function FS(e,t){const n=Fe(e),r=Rd(n);n.Ia.delete(t),r.O_()&&e5(n,t),n.Ia.size===0&&(r.O_()?r.L_():zu(n)&&n.Va.set("Unknown"))}function $S(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ve.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rd(e).Z_(t)}function e5(e,t){e.da.$e(t),Rd(e).X_(t)}function BS(e){e.da=new VZ({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Rd(e).start(),e.Va.ua()}function US(e){return zu(e)&&!Rd(e).x_()&&e.Ia.size>0}function zu(e){return Fe(e).Ea.size===0}function t5(e){e.da=void 0}async function KY(e){e.Va.set("Online")}async function GY(e){e.Ia.forEach((t,n)=>{$S(e,t)})}async function ZY(e,t){t5(e),US(e)?(e.Va.ha(t),BS(e)):e.Va.set("Unknown")}async function YY(e,t,n){if(e.Va.set("Online"),t instanceof z4&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))}(e,t)}catch(r){_e(wu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await $v(e,r)}else if(t instanceof qg?e.da.Xe(t):t instanceof L4?e.da.st(t):e.da.tt(t),!n.isEqual(Ve.min()))try{const r=await Y4(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.da.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(Hn.EMPTY_BYTE_STRING,d.snapshotVersion)),e5(s,u);const p=new Ba(d.target,u,c,d.sequenceNumber);$S(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){_e(wu,"Failed to raise snapshot:",r),await $v(e,r)}}async function $v(e,t,n){if(!jd(t))throw t;e.Ea.add(1),await kp(e),e.Va.set("Offline"),n||(n=()=>Y4(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{_e(wu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await O0(e)})}function n5(e,t){return t().catch(n=>$v(e,n,t))}async function j0(e){const t=Fe(e),n=fl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:TS;for(;XY(t);)try{const i=await NY(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,QY(t,i)}catch(i){await $v(t,i)}r5(t)&&i5(t)}function XY(e){return zu(e)&&e.Ta.length<10}function QY(e,t){e.Ta.push(t);const n=fl(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function r5(e){return zu(e)&&!fl(e).x_()&&e.Ta.length>0}function i5(e){fl(e).start()}async function JY(e){fl(e).ra()}async function eX(e){const t=fl(e);for(const n of e.Ta)t.ea(n.mutations)}async function tX(e,t,n){const r=e.Ta.shift(),i=jS.from(r,t,n);await n5(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await j0(e)}async function nX(e,t){t&&fl(e).Y_&&await async function(r,i){if(function(o){return DZ(o)&&o!==ee.ABORTED}(i.code)){const s=r.Ta.shift();fl(r).B_(),await n5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await j0(r)}}(e,t),r5(e)&&i5(e)}async function z2(e,t){const n=Fe(e);n.asyncQueue.verifyOperationInProgress(),_e(wu,"RemoteStore received new credentials");const r=zu(n);n.Ea.add(3),await kp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await O0(n)}async function rX(e,t){const n=Fe(e);t?(n.Ea.delete(2),await O0(n)):t||(n.Ea.add(2),await kp(n),n.Va.set("Unknown"))}function Rd(e){return e.ma||(e.ma=function(n,r,i){const s=Fe(n);return s.sa(),new FY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Zo:KY.bind(null,e),Yo:GY.bind(null,e),t_:ZY.bind(null,e),J_:YY.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),US(e)?BS(e):e.Va.set("Unknown")):(await e.ma.stop(),t5(e))})),e.ma}function fl(e){return e.fa||(e.fa=function(n,r,i){const s=Fe(n);return s.sa(),new $Y(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JY.bind(null,e),t_:nX.bind(null,e),ta:eX.bind(null,e),na:tX.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await j0(e)):(await e.fa.stop(),e.Ta.length>0&&(_e(wu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new WS(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HS(e,t){if(ea("AsyncQueue",`${t}: ${e}`),jd(e))return new ve(ee.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(t){return new Zc(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Wf(),this.sortedSet=new Vt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Zc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Zc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.ga=new Vt(ke.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Re(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class hd{constructor(t,n,r,i,s,o,a,u,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hd(t,n,Zc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&T0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class sX{constructor(){this.queries=F2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Fe(n),s=i.queries;i.queries=F2(),s.forEach((o,a)=>{for(const u of a.ba)u.onError(r)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function F2(){return new Lu(e=>w4(e),T0)}async function qS(e,t){const n=Fe(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.Da()&&(r=2):(s=new iX,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=HS(o,`Initialization of query '${_c(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&GS(n)}async function KS(e,t){const n=Fe(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(t);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=t.Da()?0:1:!s.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oX(e,t){const n=Fe(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&GS(n)}function aX(e,t,n){const r=Fe(e),i=r.queries.get(t);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(t)}function GS(e){e.Ca.forEach(t=>{t.next()})}var e1,$2;($2=e1||(e1={})).Ma="default",$2.Cache="cache";class ZS{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new hd(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=hd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==e1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t){this.key=t}}class o5{constructor(t){this.key=t}}class lX{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=E4(t),this.tu=new Zc(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new V2,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,p)=>{const m=i.get(d),y=A0(this.query,p)?p:null,_=!!m&&this.mutatedKeys.has(m.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;m&&y?m.data.isEqual(y.data)?_!==E&&(r.track({type:3,doc:y}),w=!0):this.su(m,y)||(r.track({type:2,doc:y}),w=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),w=!0):m&&!y&&(r.track({type:1,doc:m}),w=!0,(u||c)&&(a=!0)),w&&(y?(o=o.add(y),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((d,p)=>function(y,_){const E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:w})}};return E(y)-E(_)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new hd(this.query,t.tu,s,o,t.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V2,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new o5(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new s5(r))}),n}cu(t){this.Za=t.ks,this.Ya=Ke();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return hd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const YS="SyncEngine";class uX{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class cX{constructor(t){this.key=t,this.hu=!1}}class dX{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Lu(a=>w4(a),T0),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(ke.comparator),this.Au=new Map,this.Vu=new DS,this.du={},this.mu=new Map,this.fu=fd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fX(e,t,n=!0){const r=f5(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await a5(r,t,n,!0),i}async function hX(e,t){const n=f5(e);await a5(n,t,!0,!1)}async function a5(e,t,n,r){const i=await OY(e.localStore,Ys(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await pX(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&J4(e.remoteStore,i),a}async function pX(e,t,n,r,i){e.pu=(p,m,y)=>async function(E,w,S,P){let A=w.view.ru(S);A.Ss&&(A=await j2(E.localStore,w.query,!1).then(({documents:k})=>w.view.ru(k,A)));const O=P&&P.targetChanges.get(w.targetId),M=P&&P.targetMismatches.get(w.targetId)!=null,z=w.view.applyChanges(A,E.isPrimaryClient,O,M);return U2(E,w.targetId,z.au),z.snapshot}(e,p,m,y);const s=await j2(e.localStore,t,!0),o=new lX(t,s.ks),a=o.ru(s.documents),u=Ip.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,u);U2(e,n,c.au);const d=new uX(t,n,o);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function mX(e,t,n){const r=Fe(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!T0(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FS(r.remoteStore,i.targetId),t1(r,i.targetId)}).catch(Od)):(t1(r,i.targetId),await Qw(r.localStore,i.targetId,!0))}async function gX(e,t){const n=Fe(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FS(n.remoteStore,r.targetId))}async function vX(e,t,n){const r=SX(e);try{const i=await function(o,a){const u=Fe(o),c=ze.now(),d=a.reduce((y,_)=>y.add(_.key),Ke());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=ta(),E=Ke();return u.xs.getEntries(y,d).next(w=>{_=w,_.forEach((S,P)=>{P.isValidDocument()||(E=E.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(w=>{p=w;const S=[];for(const P of a){const A=NZ(P,p.get(P.key).overlayedDocument);A!=null&&S.push(new Sl(P.key,A,p4(A.value.mapValue),Li.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,S,a)}).next(w=>{m=w;const S=w.applyToLocalDocumentSet(p,E);return u.documentOverlayCache.saveOverlays(y,w.batchId,S)})}).then(()=>({batchId:m.batchId,changes:P4(p)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.du[o.currentUser.toKey()];c||(c=new Vt(qe)),c=c.insert(a,u),o.du[o.currentUser.toKey()]=c}(r,i.batchId,n),await Np(r,i.changes),await j0(r.remoteStore)}catch(i){const s=HS(i,"Failed to persist write");n.reject(s)}}async function l5(e,t){const n=Fe(e);try{const r=await IY(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?dt(o.hu,14607):i.removedDocuments.size>0&&(dt(o.hu,42227),o.hu=!1))}),await Np(n,r,t)}catch(r){await Od(r)}}function B2(e,t,n){const r=Fe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Fe(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.ba)m.va(a)&&(c=!0)}),c&&GS(u)}(r.eventManager,t),i.length&&r.Pu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yX(e,t,n){const r=Fe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new Vt(ke.comparator);o=o.insert(s,ar.newNoDocument(s,Ve.min()));const a=Ke().add(s),u=new k0(Ve.min(),new Map,new Vt(qe),o,a);await l5(r,u),r.Ru=r.Ru.remove(s),r.Au.delete(t),XS(r)}else await Qw(r.localStore,t,!1).then(()=>t1(r,t,n)).catch(Od)}async function xX(e,t){const n=Fe(e),r=t.batch.batchId;try{const i=await CY(n.localStore,t);c5(n,r,null),u5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Np(n,i)}catch(i){await Od(i)}}async function _X(e,t,n){const r=Fe(e);try{const i=await function(o,a){const u=Fe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(dt(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,t);c5(r,t,n),u5(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Np(r,i)}catch(i){await Od(i)}}function u5(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function c5(e,t,n){const r=Fe(e);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function t1(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(r=>{e.Vu.containsKey(r)||d5(e,r)})}function d5(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(FS(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),XS(e))}function U2(e,t,n){for(const r of n)r instanceof s5?(e.Vu.addReference(r.key,t),bX(e,r)):r instanceof o5?(_e(YS,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||d5(e,r.key)):Re(19791,{wu:r})}function bX(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(_e(YS,"New document in limbo: "+n),e.Eu.add(r),XS(e))}function XS(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ke(Et.fromString(t)),r=e.fu.next();e.Au.set(r,new cX(n)),e.Ru=e.Ru.insert(n,r),J4(e.remoteStore,new Ba(Ys(P0(n.path)),r,"TargetPurposeLimboResolution",w0.ce))}}async function Np(e,t,n){const r=Fe(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,t,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=zS.Es(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(u,c){const d=Fe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>te.forEach(c,m=>te.forEach(m.Ts,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>te.forEach(m.Is,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!jd(p))throw p;_e(VS,"Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const y=d.vs.get(m),_=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(_);d.vs=d.vs.insert(m,E)}}}(r.localStore,s))}async function wX(e,t){const n=Fe(e);if(!n.currentUser.isEqual(t)){_e(YS,"User change. New user:",t.toKey());const r=await Z4(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new ve(ee.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Np(n,r.Ns)}}function EX(e,t){const n=Fe(e),r=n.Au.get(t);if(r&&r.hu)return Ke().add(r.key);{let i=Ke();const s=n.Iu.get(t);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function f5(e){const t=Fe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=l5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yX.bind(null,t),t.Pu.J_=oX.bind(null,t.eventManager),t.Pu.yu=aX.bind(null,t.eventManager),t}function SX(e){const t=Fe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_X.bind(null,t),t}class Bv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=N0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return AY(this.persistence,new SY,t.initialUser,this.serializer)}Cu(t){return new G4(LS.Vi,this.serializer)}Du(t){return new RY}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bv.provider={build:()=>new Bv};class PX extends Bv{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){dt(this.persistence.referenceDelegate instanceof Fv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uY(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new G4(r=>Fv.Vi(r,n),this.serializer)}}class n1{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wX.bind(null,this.syncEngine),await rX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new sX}()}createDatastore(t){const n=N0(t.databaseInfo.databaseId),r=VY(t.databaseInfo);return WY(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new qY(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>B2(this.syncEngine,n,0),function(){return D2.v()?new D2:new MY}())}createSyncEngine(t,n){return function(i,s,o,a,u,c,d){const p=new dX(i,s,o,a,u,c);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=Fe(i);_e(wu,"RemoteStore shutting down."),s.Ea.add(5),await kp(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}n1.provider={build:()=>new n1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ea("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="FirestoreClient";class TX{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=sr.UNAUTHENTICATED,this.clientId=PS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{_e(hl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_e(hl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=HS(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function tb(e,t){e.asyncQueue.verifyOperationInProgress(),_e(hl,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Z4(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function W2(e,t){e.asyncQueue.verifyOperationInProgress();const n=await AX(e);_e(hl,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>z2(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>z2(t.remoteStore,i)),e._onlineComponents=t}async function AX(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_e(hl,"Using user provided OfflineComponentProvider");try{await tb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bu("Error using user provided cache. Falling back to memory cache: "+n),await tb(e,new Bv)}}else _e(hl,"Using default OfflineComponentProvider"),await tb(e,new PX(void 0));return e._offlineComponents}async function h5(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_e(hl,"Using user provided OnlineComponentProvider"),await W2(e,e._uninitializedComponentsProvider._online)):(_e(hl,"Using default OnlineComponentProvider"),await W2(e,new n1))),e._onlineComponents}function CX(e){return h5(e).then(t=>t.syncEngine)}async function Uv(e){const t=await h5(e),n=t.eventManager;return n.onListen=fX.bind(null,t.syncEngine),n.onUnlisten=mX.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hX.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gX.bind(null,t.syncEngine),n}function IX(e,t,n,r){const i=new QS(r),s=new ZS(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>qS(await Uv(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>KS(await Uv(e),s))}}function kX(e,t,n={}){const r=new Uo;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new QS({next:m=>{d.Nu(),o.enqueueAndForget(()=>KS(s,p));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new ZS(P0(a.path),d,{includeMetadataChanges:!0,Ka:!0});return qS(s,p)}(await Uv(e),e.asyncQueue,t,n,r)),r.promise}function NX(e,t,n={}){const r=new Uo;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new QS({next:m=>{d.Nu(),o.enqueueAndForget(()=>KS(s,p)),m.fromCache&&u.source==="server"?c.reject(new ve(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new ZS(a,d,{includeMetadataChanges:!0,Ka:!0});return qS(s,p)}(await Uv(e),e.asyncQueue,t,n,r)),r.promise}function OX(e,t){const n=new Uo;return e.asyncQueue.enqueueAndForget(async()=>vX(await CX(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="ComponentProvider",H2=new Map;function RX(e,t,n,r,i){return new tZ(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,p5(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firestore.googleapis.com",q2=!0;class K2{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m5,this.ssl=q2}else this.host=t.host,this.ssl=t.ssl??q2;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aY)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WG("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p5(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class R0{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K2(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RG;switch(r.type){case"firstParty":return new zG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=H2.get(n);r&&(_e(jX,"Removing Datastore"),H2.delete(n),r.terminate())}(this),Promise.resolve()}}function MX(e,t,n,r={}){var c;e=Hr(e,R0);const i=lo(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(p0(`https://${a}`),m0("Firestore",!0)),s.host!==m5&&s.host!==a&&bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!yu(u,o)&&(e._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=sr.MOCK_USER;else{d=cL(r.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new sr(m)}e._authCredentials=new MG(new n4(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vu(this.firestore,t,this._query)}}class qt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qt(this.firestore,t,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Tp(n,qt._jsonSchema))return new qt(t,r||null,new ke(Et.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:un("string",qt._jsonSchemaVersion),referencePath:un("string")};class nl extends Vu{constructor(t,n,r){super(t,n,P0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qt(this.firestore,null,new ke(t))}withConverter(t){return new nl(this.firestore,t,this._path)}}function In(e,t,...n){if(e=Pt(e),r4("collection","path",t),e instanceof R0){const r=Et.fromString(t,...n);return o2(r),new nl(e,null,r)}{if(!(e instanceof qt||e instanceof nl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Et.fromString(t,...n));return o2(r),new nl(e.firestore,null,r)}}function fr(e,t,...n){if(e=Pt(e),arguments.length===1&&(t=PS.newId()),r4("doc","path",t),e instanceof R0){const r=Et.fromString(t,...n);return s2(r),new qt(e,null,new ke(r))}{if(!(e instanceof qt||e instanceof nl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Et.fromString(t,...n));return s2(r),new qt(e.firestore,e instanceof nl?e.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="AsyncQueue";class Z2{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X4(this,"async_queue_retry"),this._c=()=>{const r=eb();r&&_e(G2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Uo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!jd(t))throw t;_e(G2,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,ea("INTERNAL UNHANDLED ERROR: ",Y2(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=WS.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Re(47125,{Pc:Y2(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Y2(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class na extends R0{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Z2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z2(t),this._firestoreClient=void 0,await t}}}function DX(e,t){const n=typeof e=="object"?e:g0(),r=typeof e=="string"?e:Mv,i=wp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dS("firestore");s&&MX(i,...s)}return i}function M0(e){if(e._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||LX(e),e._firestoreClient}function LX(e){var r,i,s,o;const t=e._freezeSettings(),n=RX(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(i=e._app)==null?void 0:i.options.apiKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new TX(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oi(Hn.fromBase64String(t))}catch(n){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Oi(Hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tp(t,Oi._jsonSchema))return Oi.fromBase64String(t.bytes)}}Oi._jsonSchemaVersion="firestore/bytes/1.0",Oi._jsonSchema={type:un("string",Oi._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qe(this._lat,t._lat)||qe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(t){if(Tp(t,Qs._jsonSchema))return new Qs(t.latitude,t.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:un("string",Qs._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tp(t,ls._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new ls(t.vectorValues);throw new ve(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:un("string",ls._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=/^__.*__$/;class VX{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Sl(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cp(t,this.data,n,this.fieldTransforms)}}class g5{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Sl(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function v5(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:e})}}class eP{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new eP({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wv(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(v5(this.dataSource)&&zX.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class FX{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||N0(t)}createContext(t,n,r,i=!1){return new eP({dataSource:t,methodName:n,targetDoc:r,path:$n.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(e){const t=e._freezeSettings(),n=N0(e._databaseId);return new FX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function y5(e,t,n,r,i,s={}){const o=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);rP("Data must be an object, but it was:",o,r);const a=x5(r,o);let u,c;if(s.merge)u=new ii(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=pd(t,p,n);if(!o.contains(m))throw new ve(ee.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);w5(d,m)||d.push(m)}u=new ii(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new VX(new Lr(a),u,c)}class L0 extends Op{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof L0}}class tP extends Op{_toFieldTransform(t){return new j4(t.path,new $h)}isEqual(t){return t instanceof tP}}class nP extends Op{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Wh(t.serializer,C4(t.serializer,this.Vc));return new j4(t.path,n)}isEqual(t){return t instanceof nP&&this.Vc===t.Vc}}function $X(e,t,n,r){const i=e.createContext(1,t,n);rP("Data must be an object, but it was:",i,r);const s=[],o=Lr.empty();El(r,(u,c)=>{const d=b5(t,u,n);c=Pt(c);const p=i.childContextForFieldPath(d);if(c instanceof L0)s.push(d);else{const m=jp(c,p);m!=null&&(s.push(d),o.set(d,m))}});const a=new ii(s);return new g5(o,a,i.fieldTransforms)}function BX(e,t,n,r,i,s){const o=e.createContext(1,t,n),a=[pd(t,r,n)],u=[i];if(s.length%2!=0)throw new ve(ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(pd(t,s[m])),u.push(s[m+1]);const c=[],d=Lr.empty();for(let m=a.length-1;m>=0;--m)if(!w5(c,a[m])){const y=a[m];let _=u[m];_=Pt(_);const E=o.childContextForFieldPath(y);if(_ instanceof L0)c.push(y);else{const w=jp(_,E);w!=null&&(c.push(y),d.set(y,w))}}const p=new ii(c);return new g5(d,p,o.fieldTransforms)}function UX(e,t,n,r=!1){return jp(n,e.createContext(r?4:3,t))}function jp(e,t){if(_5(e=Pt(e)))return rP("Unsupported field value:",t,e),x5(e,t);if(e instanceof Op)return function(r,i){if(!v5(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=jp(a,i.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:Vv(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vv(i.serializer,s)}}if(r instanceof Qs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:V4(i.serializer,r._byteString)};if(r instanceof qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:MS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ls)return function(o,a){const u=o instanceof ls?o.toArray():o;return{mapValue:{fields:{[f4]:{stringValue:h4},[Dv]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return NS(a.serializer,d)})}}}}}}(r,i);if(q4(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${b0(r)}`)}(e,t)}function x5(e,t){const n={};return o4(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):El(e,(r,i)=>{const s=jp(i,t.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _5(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ze||e instanceof Qs||e instanceof Oi||e instanceof qt||e instanceof Op||e instanceof ls||q4(e))}function rP(e,t,n){if(!_5(n)||!i4(n)){const r=b0(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function pd(e,t,n){if((t=Pt(t))instanceof JS)return t._internalPath;if(typeof t=="string")return b5(e,t);throw Wv("Field path arguments must be of type string or ",e,!1,void 0,n)}const WX=new RegExp("[~\\*/\\[\\]]");function b5(e,t,n){if(t.search(WX)>=0)throw Wv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new JS(...t.split("."))._internalPath}catch{throw Wv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ve(ee.INVALID_ARGUMENT,a+e+u)}function w5(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{convertValue(t,n="none"){switch(dl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Re(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return El(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var r,i,s;const n=(s=(i=(r=t.fields)==null?void 0:r[Dv].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>en(o.doubleValue));return new ls(n)}convertGeoPoint(t){return new Qs(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=S0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zh(t));default:return null}}convertTimestamp(t){const n=ul(t);return new ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Et.fromString(t);dt(H4(r),9688,{name:t});const i=new Vh(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(n)||ea(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP extends HX{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function z0(){return new tP("serverTimestamp")}function qX(e){return new nP("increment",e)}const X2="@firebase/firestore",Q2="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KX extends E5{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ve(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sP{}class GX extends sP{}function ko(e,t,...n){let r=[];t instanceof sP&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof oP).length,a=s.filter(u=>u instanceof V0).length;if(o>1||o>0&&a>0)throw new ve(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class V0 extends GX{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new V0(t,n,r)}_apply(t){const n=this._parse(t);return P5(t._query,n),new Vu(t.firestore,t.converter,qw(t._query,n))}_parse(t){const n=D0(t.firestore);return function(s,o,a,u,c,d,p){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ve(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){tk(p,d);const _=[];for(const E of p)_.push(ek(u,s,E));m={arrayValue:{values:_}}}else m=ek(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tk(p,d),m=UX(a,o,p,d==="in"||d==="not-in");return ln.create(c,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function rr(e,t,n){const r=t,i=pd("where",e);return V0._create(i,r,n)}class oP extends sP{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new oP(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)P5(o,u),o=qw(o,u)}(t._query,n),new Vu(t.firestore,t.converter,qw(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ek(e,t,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ve(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b4(t)&&n.indexOf("/")!==-1)throw new ve(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Et.fromString(n));if(!ke.isDocumentKey(r))throw new ve(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p2(e,new ke(r))}if(n instanceof qt)return p2(e,n._key);throw new ve(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b0(n)}.`)}function tk(e,t){if(!Array.isArray(e)||e.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function P5(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ve(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ve(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function T5(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class qf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ou extends E5{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(pd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ou._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",ou._jsonSchema={type:un("string",ou._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Kg extends ou{data(t={}){return super.data(t)}}class au{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Kg(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Kg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Kg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:ZX(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=PS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ZX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:un("string",au._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e){e=Hr(e,qt);const t=Hr(e.firestore,na),n=M0(t);return kX(n,e._key).then(r=>C5(t,e,r))}function YX(e){e=Hr(e,Vu);const t=Hr(e.firestore,na),n=M0(t),r=new iP(t);return S5(e._query),NX(n,e._query).then(i=>new au(t,r,e,i))}function nk(e,t,n){e=Hr(e,qt);const r=Hr(e.firestore,na),i=T5(e.converter,t),s=D0(r);return F0(r,[y5(s,"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Li.none())])}function Fu(e,t,n,...r){e=Hr(e,qt);const i=Hr(e.firestore,na),s=D0(i);let o;return o=typeof(t=Pt(t))=="string"||t instanceof JS?BX(s,"updateDoc",e._key,t,n,r):$X(s,"updateDoc",e._key,t),F0(i,[o.toMutation(e._key,Li.exists(!0))])}function A5(e){return F0(Hr(e.firestore,na),[new OS(e._key,Li.none())])}function Jt(e,t){const n=Hr(e.firestore,na),r=fr(e),i=T5(e.converter,t),s=D0(e.firestore);return F0(n,[y5(s,"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Li.exists(!1))]).then(()=>r)}function No(e,...t){var c,d,p;e=Pt(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||J2(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(J2(t[r])){const m=t[r];t[r]=(c=m.next)==null?void 0:c.bind(m),t[r+1]=(d=m.error)==null?void 0:d.bind(m),t[r+2]=(p=m.complete)==null?void 0:p.bind(m)}let s,o,a;if(e instanceof qt)o=Hr(e.firestore,na),a=P0(e._key.path),s={next:m=>{t[r]&&t[r](C5(o,e,m))},error:t[r+1],complete:t[r+2]};else{const m=Hr(e,Vu);o=Hr(m.firestore,na),a=m._query;const y=new iP(o);s={next:_=>{t[r]&&t[r](new au(o,y,m,_))},error:t[r+1],complete:t[r+2]},S5(e._query)}const u=M0(o);return IX(u,a,i,s)}function F0(e,t){const n=M0(e);return OX(n,t)}function C5(e,t,n){const r=n.docs.get(t._key),i=new iP(e);return new ou(e,i,t._key,r,new qf(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){jG(Ru),al(new Xo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new na(new DG(r.getProvider("auth-internal")),new VG(o,r.getProvider("app-check-internal")),nZ(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Di(X2,Q2,t),Di(X2,Q2,"esm2020")})();var XX="firebase",QX="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(XX,QX,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX="type.googleapis.com/google.protobuf.Int64Value",eQ="type.googleapis.com/google.protobuf.UInt64Value";function I5(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Hv(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Hv(t));if(typeof e=="function"||typeof e=="object")return I5(e,t=>Hv(t));throw new Error("Data cannot be encoded in JSON: "+e)}function md(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case JX:case eQ:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>md(t)):typeof e=="function"||typeof e=="object"?I5(e,t=>md(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vr extends vs{constructor(t,n,r){super(`${aP}/${t}`,n||""),this.details=r,Object.setPrototypeOf(this,Vr.prototype)}}function tQ(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qv(e,t){let n=tQ(e),r=n,i;try{const s=t&&t.error;if(s){const o=s.status;if(typeof o=="string"){if(!rk[o])return new Vr("internal","internal");n=rk[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=md(i))}}catch{}return n==="ok"?null:new Vr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(t,n,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="us-central1",rQ=/^data: (.*?)(?:\n|$)/;function iQ(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Vr("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class sQ{constructor(t,n,r,i,s=r1,o=(...a)=>fetch(...a)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new nQ(t,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=r1}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function oQ(e,t,n){const r=lo(t);e.emulatorOrigin=`http${r?"s":""}://${t}:${n}`,r&&(p0(e.emulatorOrigin+"/backends"),m0("Functions",!0))}function aQ(e,t,n){const r=i=>uQ(e,t,i,{});return r.stream=(i,s)=>dQ(e,t,i,s),r}function k5(e){return e.emulatorOrigin&&lo(e.emulatorOrigin)?"include":void 0}async function lQ(e,t,n,r,i){n["Content-Type"]="application/json";let s;try{s=await r(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:k5(i)})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function N5(e,t){const n={},r=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function uQ(e,t,n,r){const i=e._url(t);return cQ(e,i,n,r)}async function cQ(e,t,n,r){n=Hv(n);const i={data:n},s=await N5(e,r),o=r.timeout||7e4,a=iQ(o),u=await Promise.race([lQ(t,i,s,e.fetchImpl,e),a.promise,e.cancelAllRequests]);if(a.cancel(),!u)throw new Vr("cancelled","Firebase Functions instance was deleted.");const c=qv(u.status,u.json);if(c)throw c;if(!u.json)throw new Vr("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new Vr("internal","Response is missing data field.");return{data:md(d)}}function dQ(e,t,n,r){const i=e._url(t);return fQ(e,i,n,r||{})}async function fQ(e,t,n,r){var m;n=Hv(n);const i={data:n},s=await N5(e,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let o;try{o=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(i),headers:s,signal:r==null?void 0:r.signal,credentials:k5(e)})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const E=new Vr("cancelled","Request was cancelled.");return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}const _=qv(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let a,u;const c=new Promise((y,_)=>{a=y,u=_});(m=r==null?void 0:r.signal)==null||m.addEventListener("abort",()=>{const y=new Vr("cancelled","Request was cancelled.");u(y)});const d=o.body.getReader(),p=hQ(d,a,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const y=p.getReader();return{async next(){const{value:_,done:E}=await y.read();return{value:_,done:E}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:c}}function hQ(e,t,n,r){const i=(o,a)=>{const u=o.match(rQ);if(!u)return;const c=u[1];try{const d=JSON.parse(c);if("result"in d){t(md(d.result));return}if("message"in d){a.enqueue(md(d.message));return}if("error"in d){const p=qv(0,d);a.error(p),n(p);return}}catch(d){if(d instanceof Vr){a.error(d),n(d);return}}},s=new TextDecoder;return new ReadableStream({start(o){let a="";return u();async function u(){if(r!=null&&r.aborted){const c=new Vr("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:d}=await e.read();if(d){a.trim()&&i(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const m=new Vr("cancelled","Request was cancelled");o.error(m),n(m),await e.cancel();return}a+=s.decode(c,{stream:!0});const p=a.split(`
`);a=p.pop()||"";for(const m of p)m.trim()&&i(m.trim(),o);return u()}catch(c){const d=c instanceof Vr?c:qv(0,null);o.error(d),n(d)}}},cancel(){return e.cancel()}})}const ik="@firebase/functions",sk="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="auth-internal",mQ="app-check-internal",gQ="messaging-internal";function vQ(e){const t=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(pQ),o=n.getProvider(gQ),a=n.getProvider(mQ);return new sQ(i,s,o,a,r)};al(new Xo(aP,t,"PUBLIC").setMultipleInstances(!0)),Di(ik,sk,e),Di(ik,sk,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(e=g0(),t=r1){const r=wp(Pt(e),aP).getImmediate({identifier:t}),i=dS("functions");return i&&yQ(r,...i),r}function yQ(e,t,n){oQ(Pt(e),t,n)}function us(e,t,n){return aQ(Pt(e),t)}vQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="firebasestorage.googleapis.com",R5="storageBucket",xQ=2*60*1e3,_Q=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends vs{constructor(t,n,r=0){super(nb(t),`Firebase Storage: ${n} (${nb(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return nb(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function nb(e){return"storage/"+e}function lP(){const e="An unknown error occurred, please check the error payload for server response.";return new Gt(Kt.UNKNOWN,e)}function bQ(e){return new Gt(Kt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function wQ(e){return new Gt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EQ(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(Kt.UNAUTHENTICATED,e)}function SQ(){return new Gt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PQ(e){return new Gt(Kt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function TQ(){return new Gt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AQ(){return new Gt(Kt.CANCELED,"User canceled the upload/download.")}function CQ(e){return new Gt(Kt.INVALID_URL,"Invalid URL '"+e+"'.")}function IQ(e){return new Gt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function kQ(){return new Gt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+R5+"' property when initializing the app?")}function NQ(){return new Gt(Kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OQ(){return new Gt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jQ(e){return new Gt(Kt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function i1(e){return new Gt(Kt.INVALID_ARGUMENT,e)}function M5(){return new Gt(Kt.APP_DELETED,"The Firebase app was deleted.")}function RQ(e){return new Gt(Kt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dh(e,t){return new Gt(Kt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Af(e){throw new Gt(Kt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=si.makeFromUrl(t,n)}catch{return new si(t,"")}if(r.path==="")return r;throw IQ(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},E=n===j5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",S=new RegExp(`^https?://${E}/${i}/${w}`,"i"),A=[{regex:a,indices:u,postModify:s},{regex:y,indices:_,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<A.length;O++){const M=A[O],z=M.regex.exec(t);if(z){const k=z[M.indices.bucket];let C=z[M.indices.path];C||(C=""),r=new si(k,C),M.postModify(r);break}}if(r==null)throw CQ(t);return r}}class MQ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function d(...w){c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(()=>{i=null,e(y,u())},w)}function m(){s&&clearTimeout(s)}function y(w,...S){if(c){m();return}if(w){m(),d.call(null,w,...S);return}if(u()||o){m(),d.call(null,w,...S);return}r<64&&(r*=2);let A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,p(A)}let _=!1;function E(w){_||(_=!0,m(),!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function LQ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(e){return e!==void 0}function VQ(e){return typeof e=="object"&&!Array.isArray(e)}function uP(e){return typeof e=="string"||e instanceof String}function ok(e){return cP()&&e instanceof Blob}function cP(){return typeof Blob<"u"}function ak(e,t,n,r){if(r<t)throw i1(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw i1(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function D5(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var lu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(lu||(lu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(t,n,r,i,s,o,a,u,c,d,p,m=!0,y=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new eg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===lu.NO_ERROR,u=s.getStatus();if(!a||FQ(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===lu.ABORT;r(!1,new eg(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new eg(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());zQ(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=lP();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?M5():AQ();o(u)}else{const u=TQ();o(u)}};this.canceled_?n(!1,new eg(!1,null,!0)):this.backoffId_=DQ(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eg{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function BQ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function UQ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function WQ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function HQ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function qQ(e,t,n,r,i,s,o=!0,a=!1){const u=D5(e.urlParams),c=e.url+u,d=Object.assign({},e.headers);return WQ(d,t),BQ(d,n),UQ(d,s),HQ(d,r),new $Q(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GQ(...e){const t=KQ();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(cP())return new Blob(e);throw new Gt(Kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZQ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(e){if(typeof atob>"u")throw jQ("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rb{constructor(t,n){this.data=t,this.contentType=n||null}}function XQ(e,t){switch(e){case Ws.RAW:return new rb(L5(t));case Ws.BASE64:case Ws.BASE64URL:return new rb(z5(e,t));case Ws.DATA_URL:return new rb(JQ(t),eJ(t))}throw lP()}function L5(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function QQ(e){let t;try{t=decodeURIComponent(e)}catch{throw dh(Ws.DATA_URL,"Malformed data URL.")}return L5(t)}function z5(e,t){switch(e){case Ws.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw dh(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ws.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw dh(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YQ(t)}catch(i){throw i.message.includes("polyfill")?i:dh(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class V5{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw dh(Ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function JQ(e){const t=new V5(e);return t.base64?z5(Ws.BASE64,t.rest):QQ(t.rest)}function eJ(e){return new V5(e).contentType}function tJ(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n){let r=0,i="";ok(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(ok(this.data_)){const r=this.data_,i=ZQ(r,t,n);return i===null?null:new za(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new za(r,!0)}}static getBlob(...t){if(cP()){const n=t.map(r=>r instanceof za?r.data_:r);return new za(GQ.apply(null,n))}else{const n=t.map(o=>uP(o)?XQ(Ws.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new za(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(e){let t;try{t=JSON.parse(e)}catch{return null}return VQ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function rJ(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function $5(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(e,t){return t}class yr{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||iJ}}let tg=null;function sJ(e){return!uP(e)||e.length<2?e:$5(e)}function B5(){if(tg)return tg;const e=[];e.push(new yr("bucket")),e.push(new yr("generation")),e.push(new yr("metageneration")),e.push(new yr("name","fullPath",!0));function t(s,o){return sJ(o)}const n=new yr("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new yr("size");return i.xform=r,e.push(i),e.push(new yr("timeCreated")),e.push(new yr("updated")),e.push(new yr("md5Hash",null,!0)),e.push(new yr("cacheControl",null,!0)),e.push(new yr("contentDisposition",null,!0)),e.push(new yr("contentEncoding",null,!0)),e.push(new yr("contentLanguage",null,!0)),e.push(new yr("contentType",null,!0)),e.push(new yr("metadata","customMetadata",!0)),tg=e,tg}function oJ(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new si(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function aJ(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return oJ(r,e),r}function U5(e,t,n){const r=F5(t);return r===null?null:aJ(e,r,n)}function lJ(e,t,n,r){const i=F5(t);if(i===null||!uP(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=e.bucket,p=e.fullPath,m="/b/"+o(d)+"/o/"+o(p),y=dP(m,n,r),_=D5({alt:"media",token:c});return y+_})[0]}function uJ(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class W5{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(e){if(!e)throw lP()}function cJ(e,t){function n(r,i){const s=U5(e,i,t);return H5(s!==null),s}return n}function dJ(e,t){function n(r,i){const s=U5(e,i,t);return H5(s!==null),lJ(s,i,e.host,e._protocol)}return n}function q5(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SQ():i=EQ():n.getStatus()===402?i=wQ(e.bucket):n.getStatus()===403?i=PQ(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function fJ(e){const t=q5(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=bQ(e.path)),s.serverResponse=i.serverResponse,s}return n}function hJ(e,t,n){const r=t.fullServerUrl(),i=dP(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new W5(i,s,dJ(e,n),o);return a.errorHandler=fJ(t),a}function pJ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function mJ(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=pJ(null,t)),r}function gJ(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let A="";for(let O=0;O<2;O++)A=A+Math.random().toString().slice(2);return A}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=mJ(t,r,i),d=uJ(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=za.getBlob(p,r,m);if(y===null)throw NQ();const _={name:c.fullPath},E=dP(s,e.host,e._protocol),w="POST",S=e.maxUploadRetryTime,P=new W5(E,w,cJ(e,n),S);return P.urlParams=_,P.headers=o,P.body=y.uploadData(),P.errorHandler=q5(t),P}class vJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,s){if(this.sent_)throw Af("cannot .send() more than once");if(lo(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Af("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Af("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Af("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Af("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class yJ extends vJ{initXhr(){this.xhr_.responseType="text"}}function K5(){return new yJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,n){this._service=t,n instanceof si?this._location=n:this._location=si.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Eu(t,n)}get root(){const t=new si(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $5(this._location.path)}get storage(){return this._service}get parent(){const t=nJ(this._location.path);if(t===null)return null;const n=new si(this._location.bucket,t);return new Eu(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw RQ(t)}}function xJ(e,t,n){e._throwIfRoot("uploadBytes");const r=gJ(e.storage,e._location,B5(),new za(t,!0),n);return e.storage.makeRequestWithTokens(r,K5).then(i=>({metadata:i,ref:e}))}function _J(e){e._throwIfRoot("getDownloadURL");const t=hJ(e.storage,e._location,B5());return e.storage.makeRequestWithTokens(t,K5).then(n=>{if(n===null)throw OQ();return n})}function bJ(e,t){const n=rJ(e._location.path,t),r=new si(e._location.bucket,n);return new Eu(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(e){return/^[A-Za-z]+:\/\//.test(e)}function EJ(e,t){return new Eu(e,t)}function G5(e,t){if(e instanceof fP){const n=e;if(n._bucket==null)throw kQ();const r=new Eu(n,n._bucket);return t!=null?G5(r,t):r}else return t!==void 0?bJ(e,t):e}function SJ(e,t){if(t&&wJ(t)){if(e instanceof fP)return EJ(e,t);throw i1("To use ref(service, url), the first argument must be a Storage instance.")}else return G5(e,t)}function lk(e,t){const n=t==null?void 0:t[R5];return n==null?null:si.makeFromBucketSpec(n,e)}function PJ(e,t,n,r={}){e.host=`${t}:${n}`;const i=lo(t);i&&(p0(`https://${e.host}/b`),m0("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:cL(s,e.app.options.projectId))}class fP{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=j5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xQ,this._maxUploadRetryTime=_Q,this._requests=new Set,i!=null?this._bucket=si.makeFromBucketSpec(i,this._host):this._bucket=lk(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=si.makeFromBucketSpec(this._url,t):this._bucket=lk(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ak("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ak("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Eu(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new MQ(M5());{const o=qQ(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const uk="@firebase/storage",ck="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="storage";function hP(e,t,n){return e=Pt(e),xJ(e,t,n)}function pP(e){return e=Pt(e),_J(e)}function mP(e,t){return e=Pt(e),SJ(e,t)}function TJ(e=g0(),t){e=Pt(e);const r=wp(e,Z5).getImmediate({identifier:t}),i=dS("storage");return i&&AJ(r,...i),r}function AJ(e,t,n,r={}){PJ(e,t,n,r)}function CJ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new fP(n,r,i,t,Ru)}function IJ(){al(new Xo(Z5,CJ,"PUBLIC").setMultipleInstances(!0)),Di(uk,ck,""),Di(uk,ck,"esm2020")}IJ();const kJ={apiKey:"AIzaSyAkYZ-uG8WNVQprkngHkQS7_zamNtjDAF8",authDomain:"dashboard-6f9d1.firebaseapp.com",projectId:"dashboard-6f9d1",storageBucket:"dashboard-6f9d1.firebasestorage.app",messagingSenderId:"1032409154469",appId:"1:1032409154469:web:983c36ebc120cd8618de4c"},$0=hL(kJ),Rp=NG($0),nt=DX($0),Js=O5($0),gP=TJ($0),NJ=new $s,OJ=async()=>{try{return(await KL(Rp,NJ)).user}catch(e){throw console.error("Error signing in with Google",e),e}},jJ=async e=>{try{const t=fr(nt,"users",e);return(await Hh(t)).exists()}catch(t){throw console.error("Error checking if user exists",t),t}},RJ=async(e,t)=>{const n=fr(nt,"users",e);await Fu(n,{uid:t})},Y5=x.createContext(void 0);function MJ({children:e}){const[t,n]=x.useState(null),[r,i]=x.useState(null),[s,o]=x.useState(!0),[a,u]=x.useState(!1),c=async p=>{const m=p||(t==null?void 0:t.uid);if(m)try{const y=fr(nt,"users",m),_=await Hh(y);_.exists()?(i({uid:m,..._.data()}),u(!1)):(i(null),u(!0))}catch(y){console.error("[AuthContext] Error fetching user document:",y),i(null)}};x.useEffect(()=>_K(Rp,async m=>{if(n(m),m){const y=fr(nt,"users",m.uid),_=await Hh(y);if(_.exists())i({id:m.uid,uid:m.uid,..._.data()}),u(!1);else{const E=m.email||"",w=E?await YX(ko(In(nt,"users"),rr("email","==",E),rr("uid","==",null))):null,S=w&&!w.empty?w.docs[0]:null;S?(await RJ(S.id,m.uid),i({id:S.id,uid:m.uid,...S.data()}),u(!1),window.location.replace(`/agent-setup?token=${S.id}`)):(i(null),u(!0))}}else i(null),u(!1);o(!1)}),[]);const d={currentUser:t,userData:r,loading:s,requireOnboarding:a,refreshUserData:c};return h.jsx(Y5.Provider,{value:d,children:!s&&e})}function Tr(){const e=x.useContext(Y5);if(e===void 0)throw new Error("useAuth must be used within an <AuthProvider>");return e}const DJ=async e=>{try{const t="agency_omer_01";console.log(" Starting database seed..."),await nk(fr(nt,"agencies",t),{agencyId:t,name:"Omer Digital Solutions",subscriptionTier:"pro",createdAt:ze.now()}),console.log(" Agency created"),await nk(fr(nt,"users",e),{uid:e,agencyId:t,name:" ",role:"admin",email:"admin@omerdigital.co.il",phone:"054-1234567"}),console.log(" Admin user created");const n=In(nt,"properties"),r=await Promise.all([Jt(n,{agencyId:t,agentId:e,address:" 22,  ",type:"sale",price:45e5,status:"active",daysOnMarket:14,exclusivityEndDate:ze.fromDate(new Date("2026-05-01")),lat:32.0637,lng:34.7745}),Jt(n,{agencyId:t,agentId:e,address:" 15, ",type:"sale",price:82e5,status:"active",daysOnMarket:5,exclusivityEndDate:ze.fromDate(new Date("2026-04-10")),lat:32.1622,lng:34.8454}),Jt(n,{agencyId:t,agentId:e,address:" 100,  ",type:"rent",price:8500,status:"active",daysOnMarket:2,exclusivityEndDate:null,lat:32.0823,lng:34.7815})]);console.log(" Properties created");const i=In(nt,"leads"),s=await Promise.all([Jt(i,{agencyId:t,name:" ",phone:"050-1112223",source:"Facebook",assignedTo:e,createdAt:ze.now()}),Jt(i,{agencyId:t,name:" ",phone:"052-3334445",source:"Yad2",assignedTo:e,createdAt:ze.now()}),Jt(i,{agencyId:t,name:" ",phone:"054-5556667",source:"Google",assignedTo:e,createdAt:ze.now()}),Jt(i,{agencyId:t,name:" ",phone:"053-7778889",source:"Instagram",assignedTo:e,createdAt:ze.now()}),Jt(i,{agencyId:t,name:" ",phone:"058-9990001",source:"Referral",assignedTo:e,createdAt:ze.now()})]);console.log(" Leads created");const o=In(nt,"deals");await Promise.all([Jt(o,{agencyId:t,propertyId:r[0].id,leadId:s[0].id,agentId:e,stage:"tour",projectedCommission:45e5*.02,updatedAt:ze.now()}),Jt(o,{agencyId:t,propertyId:r[1].id,leadId:s[1].id,agentId:e,stage:"offer",projectedCommission:82e5*.02,updatedAt:ze.now()}),Jt(o,{agencyId:t,propertyId:r[0].id,leadId:s[2].id,agentId:e,stage:"contract",projectedCommission:45e5*.02,updatedAt:ze.now()}),Jt(o,{agencyId:t,propertyId:r[2].id,leadId:s[3].id,agentId:e,stage:"tour",projectedCommission:8500,updatedAt:ze.now()})]),console.log(" Deals created");const a=In(nt,"tasks");await Promise.all([Jt(a,{agencyId:t,agentId:e,title:"    ",isCompleted:!1,dueDate:ze.fromDate(new Date("2026-02-21")),createdAt:ze.now()}),Jt(a,{agencyId:t,agentId:e,title:"     - 14:00",isCompleted:!1,dueDate:ze.fromDate(new Date("2026-02-20")),createdAt:ze.now()}),Jt(a,{agencyId:t,agentId:e,title:"    ",isCompleted:!0,dueDate:ze.fromDate(new Date("2026-02-19")),createdAt:ze.now()})]),console.log(" Tasks created");const u=In(nt,"alerts");return await Promise.all([Jt(u,{agencyId:t,targetAgentId:e,message:"        3 ",type:"warning",isRead:!1,createdAt:ze.now()}),Jt(u,{agencyId:t,targetAgentId:"all",message:"   !    .",type:"info",isRead:!1,createdAt:ze.now()})]),console.log(" Alerts created"),console.log(" Database seeding completed successfully!"),{success:!0,agencyId:t}}catch(t){return console.error(" Error seeding database:",t),{success:!1,error:t}}};function uo(){const{userData:e}=Tr(),[t,n]=x.useState([]),[r,i]=x.useState([]),[s,o]=x.useState([]),[a,u]=x.useState([]),[c,d]=x.useState([]),[p,m]=x.useState(!0),[y,_]=x.useState(null);return x.useEffect(()=>{if(!(e!=null&&e.agencyId)){m(!1);return}const E=e.agencyId,w=e.uid;m(!0),_(null);const S=ko(In(nt,"properties"),rr("agencyId","==",E)),P=No(S,se=>{n(se.docs.map(ie=>({id:ie.id,...ie.data()})))},se=>_(se)),A=ko(In(nt,"deals"),rr("agencyId","==",E)),O=No(A,se=>{i(se.docs.map(ie=>({id:ie.id,...ie.data()})))},se=>_(se)),M=ko(In(nt,"tasks"),rr("agencyId","==",E),rr("agentId","==",w)),z=No(M,se=>{o(se.docs.map(ie=>({id:ie.id,...ie.data()})))},se=>_(se)),k=ko(In(nt,"leads"),rr("agencyId","==",E)),C=No(k,se=>{const ie=se.docs.map(W=>({id:W.id,...W.data()}));ie.sort((W,ne)=>{var ue,Ae,be,Ce;const K=((Ae=(ue=W.createdAt)==null?void 0:ue.toMillis)==null?void 0:Ae.call(ue))||0;return(((Ce=(be=ne.createdAt)==null?void 0:be.toMillis)==null?void 0:Ce.call(be))||0)-K}),d(ie)},se=>{console.error("Error fetching leads:",se),_(se)}),R=ko(In(nt,"alerts"),rr("agencyId","==",E),rr("targetAgentId","==",w),rr("isRead","==",!1)),$=ko(In(nt,"alerts"),rr("agencyId","==",E),rr("targetAgentId","==","all"),rr("isRead","==",!1));let j=[],V=[];const F=()=>{const se=[...j,...V],ie=new Set,W=se.filter(ne=>ie.has(ne.id)?!1:(ie.add(ne.id),!0));u(W),m(!1)},J=No(R,se=>{j=se.docs.map(ie=>({id:ie.id,...ie.data()})),F()},se=>_(se)),fe=No($,se=>{V=se.docs.map(ie=>({id:ie.id,...ie.data()})),F()},se=>_(se));return()=>{P(),O(),z(),C(),J(),fe()}},[e==null?void 0:e.agencyId,e==null?void 0:e.uid]),{properties:t,deals:r,tasks:s,alerts:a,leads:c,loading:p,error:y}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>x.createElement("svg",{ref:d,...LJ,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${zJ(e)}`,a].join(" "),...c},[...t.map(([p,m])=>x.createElement(p,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=he("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=he("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=he("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=he("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=he("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=he("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=he("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=he("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=he("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=he("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=he("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=he("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=he("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=he("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=he("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=he("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=he("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=he("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=he("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=he("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=he("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=he("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=he("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=he("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=he("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=he("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=he("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=he("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=he("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),h3="properties";async function _ee(e,t){const{imageFiles:n,...r}=t,i=await Jt(In(nt,h3),{...r,agencyId:e,status:"active",daysOnMarket:0,createdAt:z0()}),s=i.id;if(n&&n.length>0){const o=n.map(async u=>{const c=u.name.split(".").pop()??"jpg",d=`${Date.now()}_${Math.random().toString(36).substring(2,9)}.${c}`,p=mP(gP,`agencies/${e}/properties/${s}/images/${d}`),m=await hP(p,u);return pP(m.ref)}),a=await Promise.all(o);await Fu(i,{imageUrls:a})}return s}async function bee(e){const t=fr(nt,h3,e);await A5(t)}const wee=[""," ","",""],Ta="w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",Rs="block text-xs font-semibold text-slate-500 mb-1.5";function p3({isOpen:e,onClose:t}){const{userData:n}=Tr(),[r,i]=x.useState(""),[s,o]=x.useState([]),[a,u]=x.useState(!1),[c,d]=x.useState(null),[p,m]=x.useState(""),[y,_]=x.useState("sale"),[E,w]=x.useState(""),[S,P]=x.useState(""),[A,O]=x.useState(""),[M,z]=x.useState(""),[k,C]=x.useState(""),[R,$]=x.useState([]),[j,V]=x.useState(!1),[F,J]=x.useState([]),[fe,se]=x.useState([]),[ie,W]=x.useState(""),[ne,K]=x.useState(!1),[oe,ue]=x.useState(!1),[Ae,be]=x.useState(null),Ce=async de=>{if(!de||de.length<3){o([]);return}u(!0);try{const lt=(await us(Js,"properties-getAddressSuggestions")({query:de})).data;o(lt.slice(0,5))}catch(pe){console.error("Error fetching suggestions",pe)}finally{u(!1)}};let ge;const $e=de=>{const pe=de.target.value;i(pe),d(null),ge&&clearTimeout(ge),ge=setTimeout(()=>Ce(pe),600)},at=de=>{const pe=de.address,Te=(pe==null?void 0:pe.city)||(pe==null?void 0:pe.town)||(pe==null?void 0:pe.village)||"",lt=(pe==null?void 0:pe.road)||de.display_name.split(",")[0],et=(pe==null?void 0:pe.house_number)||"",tt=`${lt}${et?` ${et}`:""}`;i(de.display_name),m(Te),d({address:tt,city:Te,lat:parseFloat(de.lat),lng:parseFloat(de.lon)}),o([])};if(!e)return null;const X=(de,pe=!0)=>{be({msg:de,ok:pe}),setTimeout(()=>be(null),3500)},me=()=>{i(""),m(""),_("sale"),w(""),P(""),O(""),z(""),d(null),o([]),W(""),C(""),$([]),V(!1),J([]),se([])},Ne=de=>{const pe=Array.from(de.target.files||[]);if(pe.length+F.length>5){X("   5    ",!1);return}const Te=[...F,...pe];J(Te);const lt=pe.map(et=>URL.createObjectURL(et));se(et=>[...et,...lt])},Q=de=>{const pe=[...F];pe.splice(de,1),J(pe);const Te=[...fe];URL.revokeObjectURL(Te[de]),Te.splice(de,1),se(Te)},Xe=async()=>{if(!ie||!ie.startsWith("http")){X("    (URL)",!1);return}K(!0);try{const pe=await us(Js,"properties-importPropertyFromUrl")({url:ie.trim()});if(pe.data.success&&pe.data.data){const Te=pe.data.data;Te.address&&i(Te.address),Te.city&&m(Te.city),Te.price&&P(Te.price.toString()),Te.rooms&&O(Te.rooms.toString()),Te.floor&&z(Te.floor.toString()),Te.kind&&w(Te.kind),Te.type&&_(Te.type),Te.description&&C(Te.description),Te.imageUrls&&Array.isArray(Te.imageUrls)&&$(Te.imageUrls.filter(lt=>lt&&typeof lt=="string")),X("   ")}else X(pe.data.reason||"     ,    ",!1)}catch(de){console.error("Magic Import Error:",de),X("     ,    ",!1)}finally{K(!1)}},Me=async de=>{if(de.preventDefault(),!(n!=null&&n.agencyId))return;const pe=parseFloat(S);if(!pe||pe<=0){X("    ",!1);return}try{ue(!0);let Te=c==null?void 0:c.lat,lt=c==null?void 0:c.lng;if(!Te||!lt){const et=us(Js,"properties-getCoordinates"),tt=[r,p].filter(Boolean).join(", "),_n=(await et({address:tt})).data;_n&&(Te=_n.lat,lt=_n.lng)}await _ee(n.agencyId,{address:c?c.address:r.trim(),city:p.trim(),type:y,kind:E,price:pe,...A?{rooms:parseFloat(A)}:{},...M?{floor:parseFloat(M)}:{},...Te&&lt?{lat:Te,lng:lt}:{},...k?{description:k.trim()}:{},...R.length>0?{images:R}:{},isExclusive:j,...j&&F.length>0?{imageFiles:F}:{},agentId:n.uid||""}),X("   "),me(),setTimeout(t,1200)}catch(Te){(Te==null?void 0:Te.code)==="permission-denied"?X("   ",!1):X(" ,  ",!1)}finally{ue(!1)}};return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:t}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",dir:"rtl",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 sticky top-0 bg-white rounded-t-2xl z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 bg-blue-50 rounded-xl flex items-center justify-center",children:h.jsx(pl,{size:18,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:"  "}),h.jsx("p",{className:"text-xs text-slate-400",children:"   "})]})]}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:h.jsx(ia,{size:18})})]}),h.jsxs("div",{className:"p-6 space-y-5",children:[h.jsxs("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-blue-50/50 rounded-2xl border border-indigo-100 shadow-sm relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 pointer-events-none",children:h.jsx(pk,{size:64})}),h.jsxs("label",{className:"flex items-center gap-1.5 text-xs font-bold text-indigo-700 uppercase tracking-wider mb-2.5",children:[h.jsx(pk,{size:14}),"   (yad2 / madlan)"]}),h.jsxs("div",{className:"flex gap-2 relative z-10",children:[h.jsx("input",{value:ie,onChange:de=>W(de.target.value),placeholder:"https://www.yad2.co.il/item/...",className:"flex-1 border border-indigo-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500/30 bg-white",dir:"ltr"}),h.jsx("button",{type:"button",onClick:Xe,disabled:ne||!ie.startsWith("http"),className:"whitespace-nowrap flex items-center gap-1.5 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl text-sm transition-colors disabled:opacity-50",children:ne?h.jsx(ml,{size:16,className:"animate-spin"}):""})]}),ne&&h.jsx("div",{className:"mt-2 text-xs font-semibold text-indigo-500 animate-pulse",children:"   ..."})]}),h.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("label",{className:Rs,children:[" ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{value:r,onChange:$e,required:!0,placeholder:"  ...",className:Ta}),a&&h.jsx("div",{className:"absolute left-3 top-[34px] text-xs text-slate-400",children:"..."}),s.length>0&&h.jsx("ul",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-lg max-h-60 overflow-y-auto",children:s.map((de,pe)=>h.jsx("li",{onClick:()=>at(de),className:"px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 cursor-pointer border-b border-slate-100 last:border-0",children:de.display_name},pe))})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Rs,children:[" ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{value:p,onChange:de=>m(de.target.value),required:!0,placeholder:" ",className:Ta})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsxs("label",{className:Rs,children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{value:y,onChange:de=>_(de.target.value),className:Ta,children:[h.jsx("option",{value:"sale",children:""}),h.jsx("option",{value:"rent",children:""})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Rs,children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("select",{value:E,onChange:de=>w(de.target.value),className:Ta,children:wee.map(de=>h.jsx("option",{value:de,children:de},de))})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Rs,children:[" () ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",min:"1",value:S,onChange:de=>P(de.target.value),required:!0,placeholder:"1,500,000",className:Ta,dir:"ltr"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:Rs,children:""}),h.jsx("input",{type:"number",min:"0",step:"0.5",value:A,onChange:de=>O(de.target.value),placeholder:"3.5",className:Ta,dir:"ltr"})]}),h.jsxs("div",{children:[h.jsx("label",{className:Rs,children:""}),h.jsx("input",{type:"number",min:"0",value:M,onChange:de=>z(de.target.value),placeholder:"4",className:Ta,dir:"ltr"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:Rs,children:"  ()"}),h.jsx("textarea",{value:k,onChange:de=>C(de.target.value),placeholder:"     ...",className:Ta+" min-h-[80px] resize-y"})]}),R.length>0&&h.jsxs("div",{children:[h.jsxs("label",{className:Rs,children:["  (",R.length,")"]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 snap-x",children:R.map((de,pe)=>h.jsx("div",{className:"w-20 h-20 flex-shrink-0 snap-start rounded-xl overflow-hidden border border-slate-200",children:h.jsx("img",{src:de,alt:"preview",className:"w-full h-full object-cover"})},pe))})]}),h.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[h.jsx("input",{type:"checkbox",checked:j,onChange:de=>V(de.target.checked),className:"w-4 h-4 text-blue-600 rounded border-slate-300 focus:ring-blue-500"}),h.jsxs("span",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1.5",children:[h.jsx(SP,{size:14,className:j?"text-amber-500 fill-amber-500":"text-slate-400"}),"  "]})]}),j&&h.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[h.jsx("label",{className:Rs,children:"  ( 5 )"}),F.length<5&&h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ne,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),h.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-5 border-2 border-dashed border-blue-200 rounded-xl bg-blue-50/50 hover:bg-blue-50 transition-colors",children:[h.jsx(tee,{size:24,className:"text-blue-500 mb-2"}),h.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"  "}),h.jsxs("span",{className:"text-xs text-blue-500/70 mt-1",children:["   5  ",F.length>0&&`( ${F.length}/5)`]})]})]}),fe.length>0&&h.jsx("div",{className:"grid grid-cols-5 gap-2 mt-3",children:fe.map((de,pe)=>h.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-slate-200 group",children:[h.jsx("img",{src:de,alt:"preview",className:"w-full h-full object-cover"}),h.jsx("button",{type:"button",onClick:()=>Q(pe),className:"absolute inset-x-0 bottom-0 bg-red-500/90 text-white flex justify-center py-1 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(PP,{size:14})})]},pe))})]})]}),Ae&&h.jsx("div",{className:`text-xs font-medium px-4 py-3 rounded-xl border ${Ae.ok?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-600 border-red-100"}`,children:Ae.msg}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),h.jsx("button",{type:"submit",disabled:oe||!r||!S,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:oe?j&&F.length>0?"  ...":"...":" "})]})]})]})]})]})}const mk=async(e,t)=>Jt(In(nt,"leads"),{...t,agencyId:e,status:"new",createdAt:z0()}),Eee=(e,t)=>e?t.filter(n=>{var s;if(n.status!=="active")return!1;const r=((s=e.desiredCity)==null?void 0:s.map(o=>o.trim().toLowerCase()))??[];if(r.length>0){const o=(n.city??"").trim().toLowerCase();if(!r.includes(o))return!1}if(e.maxBudget!=null&&e.maxBudget>0&&(n.price??1/0)>e.maxBudget||e.minRooms!=null&&e.minRooms>0&&(n.rooms??0)<e.minRooms)return!1;const i=e.propertyType??[];return!(i.length>0&&!i.includes(n.type))}):[];function IP(e,t=[]){const{userData:n}=Tr(),r=n==null?void 0:n.agencyId,[i,s]=x.useState([]),[o,a]=x.useState(!0),[u,c]=x.useState(null);return x.useEffect(()=>{if(!r){s([]),a(!1);return}const d=In(nt,e),p=ko(d,rr("agencyId","==",r),...t),m=No(p,y=>{const _=y.docs.map(E=>({...E.data(),id:E.id}));s(_),a(!1),c(null)},y=>{var _;(_=y.message)!=null&&_.includes("index")?console.error(`[useAgencyCollection] Missing Firestore index for "${e}".`,`
Click the link in the error below to create it:
`,y.message):console.error(`[useAgencyCollection] Error fetching ${e}:`,y),c(y),a(!1)});return()=>m()},[r,e,JSON.stringify(t)]),{data:i,loading:o,error:u}}const kP=()=>IP("deals"),See=()=>IP("leads"),NP=()=>IP("users",[rr("role","in",["admin","agent"])]);function Pee(){const{data:e,loading:t}=kP(),[n,r]=x.useState([]);return x.useEffect(()=>{if(!e.length){r([]);return}const i=["","","","","","","","","","","",""],s=new Date().getMonth(),o=new Date().getFullYear(),a=Array.from({length:12}).map((u,c)=>{const d=new Date(o,s,1);return d.setMonth(s-(11-c)),{monthIndex:d.getMonth(),year:d.getFullYear(),month:i[d.getMonth()],revenue:0}});e.forEach(u=>{if(u.stage==="contract"&&u.updatedAt){const c=u.updatedAt.toDate(),d=c.getMonth(),p=c.getFullYear(),m=a.find(y=>y.monthIndex===d&&y.year===p);m&&(m.revenue+=u.actualCommission||u.projectedCommission||0)}}),r(a)},[e]),{data:n,loading:t}}function Tee(){const{data:e,loading:t}=See(),{data:n,loading:r}=kP(),[i,s]=x.useState([]);return x.useEffect(()=>{const o=[];e.forEach(a=>{if(a.createdAt){const u=a.createdAt.toDate();o.push({id:`lead_${a.id}`,type:"lead",message:`   (${a.source})`,detail:a.name,timestamp:u.getTime(),time:u.toLocaleDateString("he-IL")})}}),n.forEach(a=>{if(a.updatedAt){const u=a.updatedAt.toDate();let c=" ";a.stage==="offer"&&(c="  "),a.stage==="contract"&&(c="  !"),o.push({id:`deal_${a.id}`,type:a.stage==="contract"?"contract":"deal",message:c,detail:` : ${(a.projectedCommission||0).toLocaleString()}`,timestamp:u.getTime(),time:u.toLocaleDateString("he-IL")})}}),o.sort((a,u)=>u.timestamp-a.timestamp),s(o.slice(0,50))},[e,n]),{data:i,loading:t||r}}function m3(){const{data:e,loading:t}=NP(),{data:n,loading:r}=kP(),[i,s]=x.useState([]);return x.useEffect(()=>{if(!e.length){s([]);return}const o=["bg-blue-100 text-blue-600","bg-indigo-100 text-indigo-600","bg-violet-100 text-violet-600","bg-emerald-100 text-emerald-600","bg-cyan-100 text-cyan-600"],a=e.filter(u=>!!u.uid).map((u,c)=>{const d=n.filter(_=>(_.agentId===u.uid||_.createdBy===u.uid)&&_.stage==="won"),p=n.filter(_=>_.agentId===u.uid||_.createdBy===u.uid),m=d.reduce((_,E)=>_+(E.actualCommission??E.projectedCommission??0),0),y=p.length>0?Math.round(d.length/p.length*100):0;return{id:u.uid,name:u.name,avatar:u.name.charAt(0),avatarColor:o[c%o.length],sales:m,deals:d.length,winRate:y,monthlyAchieved:m}}).sort((u,c)=>c.sales-u.sales);s(a)},[e,n]),{data:i,loading:t||r}}const Aee=["","","","",""],Cee=[""," ","","","",""],ei="w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",nr="block text-xs font-semibold text-slate-500 mb-1.5",ng="rounded-xl border border-slate-100 bg-slate-50/60 p-3.5 space-y-3",rg="flex items-center gap-1.5 text-xs font-bold text-slate-600 uppercase tracking-wider mb-2";function g3({isOpen:e,onClose:t}){const{userData:n}=Tr(),{data:r}=NP(),[i,s]=x.useState(""),[o,a]=x.useState(""),[u,c]=x.useState(""),[d,p]=x.useState("buyer"),[m,y]=x.useState("personal"),[_,E]=x.useState(""),[w,S]=x.useState(""),[P,A]=x.useState("sale"),[O,M]=x.useState("flexible"),[z,k]=x.useState(""),[C,R]=x.useState(""),[$,j]=x.useState(""),[V,F]=x.useState(""),[J,fe]=x.useState(""),[se,ie]=x.useState([]),[W,ne]=x.useState(!1),[K,oe]=x.useState(!1),[ue,Ae]=x.useState(!1),[be,Ce]=x.useState(!1),[ge,$e]=x.useState("any"),[at,X]=x.useState(""),[me,Ne]=x.useState(""),[Q,Xe]=x.useState(""),[Me,de]=x.useState(!1),[pe,Te]=x.useState(null);if(!e)return null;const lt=(ae,kt=!0)=>{Te({msg:ae,ok:kt}),setTimeout(()=>Te(null),3500)},et=()=>{s(""),a(""),c(""),p("buyer"),y("personal"),E(""),S(""),A("sale"),M("flexible"),k(""),R(""),j(""),F(""),fe(""),ie([]),ne(!1),oe(!1),Ae(!1),Ce(!1),$e("any"),X(""),Ne(""),Xe("")},tt=ae=>{ie(kt=>kt.includes(ae)?kt.filter(Zr=>Zr!==ae):[...kt,ae])},Zn=async ae=>{if(ae.preventDefault(),!!(n!=null&&n.agencyId))try{de(!0),d==="buyer"?await mk(n.agencyId,{name:i.trim(),phone:o.trim(),source:u,type:d,assignedAgentId:Q===""?null:Q,requirements:{desiredCity:_?_.trim().split(",").map(kt=>kt.trim()).filter(Boolean):[],maxBudget:w?parseFloat(w):null,minRooms:z?parseInt(z):null,maxRooms:C?parseInt(C):null,minSizeSqf:$?parseInt($):null,floorMin:V?parseInt(V):null,floorMax:J?parseInt(J):null,propertyType:se.length>0?se:[P],mustHaveElevator:W,mustHaveParking:K,mustHaveBalcony:ue,mustHaveSafeRoom:be,condition:ge,urgency:O}}):await mk(n.agencyId,{name:i.trim(),phone:o.trim(),source:u,type:d,assignedAgentId:Q===""?null:Q,requirements:{desiredCity:at?[at.trim()]:[],maxBudget:me?parseFloat(me):null,minRooms:z?parseInt(z):null,maxRooms:null,minSizeSqf:null,floorMin:null,floorMax:null,propertyType:[],mustHaveElevator:!1,mustHaveParking:!1,mustHaveBalcony:!1,mustHaveSafeRoom:!1,condition:"any",urgency:"flexible"}}),lt("   "),et(),setTimeout(t,1200)}catch(kt){(kt==null?void 0:kt.code)==="permission-denied"?lt("   ",!1):lt(" ,  ",!1)}finally{de(!1)}},_n=({icon:ae,label:kt,active:Zr,onClick:_s})=>h.jsxs("button",{type:"button",onClick:_s,className:`flex flex-col items-center gap-1.5 p-3 rounded-xl border text-xs font-semibold transition-all ${Zr?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50 hover:border-slate-300"}`,children:[h.jsx(ae,{size:16}),kt]});return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:t}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md flex flex-col max-h-[90vh]",dir:"rtl",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 bg-emerald-50 rounded-xl flex items-center justify-center",children:h.jsx(Md,{size:18,className:"text-emerald-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:"  "}),h.jsx("p",{className:"text-xs text-slate-400",children:"   "})]})]}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:h.jsx(ia,{size:18})})]}),h.jsxs("form",{onSubmit:Zn,className:"flex flex-col flex-1 overflow-hidden",children:[h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[h.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl w-full",children:[h.jsx("button",{type:"button",onClick:()=>{p("buyer"),y("personal")},className:`flex-1 py-1.5 text-sm font-bold rounded-lg transition-all ${d==="buyer"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" / "}),h.jsx("button",{type:"button",onClick:()=>{p("seller"),y("personal")},className:`flex-1 py-1.5 text-sm font-bold rounded-lg transition-all ${d==="seller"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" "})]}),h.jsxs("div",{className:"flex border-b border-slate-200",children:[h.jsx("button",{type:"button",onClick:()=>y("personal"),className:`flex-1 pb-2.5 text-sm font-semibold transition-all border-b-2 ${m==="personal"?"border-blue-600 text-blue-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:" "}),h.jsx("button",{type:"button",onClick:()=>y("property"),className:`flex-1 pb-2.5 text-sm font-semibold transition-all border-b-2 ${m==="property"?"border-emerald-600 text-emerald-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:d==="buyer"?" ":" "})]}),m==="personal"&&h.jsxs("div",{className:"space-y-3.5",children:[h.jsxs("div",{children:[h.jsxs("label",{className:nr,children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{value:i,onChange:ae=>s(ae.target.value),required:!0,placeholder:" ",className:ei})]}),h.jsxs("div",{children:[h.jsxs("label",{className:nr,children:[" ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"tel",value:o,onChange:ae=>a(ae.target.value),required:!0,placeholder:"050-1234567",className:ei,dir:"ltr"})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" "}),h.jsxs("select",{value:Q,onChange:ae=>Xe(ae.target.value),className:ei,children:[h.jsx("option",{value:"",children:"  ()"}),r.map(ae=>h.jsx("option",{value:ae.uid||"",children:ae.name||ae.email},ae.uid||ae.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" "}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Aee.map(ae=>h.jsx("button",{type:"button",onClick:()=>c(ae),className:`text-xs font-semibold px-3 py-1.5 rounded-lg border transition-all ${u===ae?"bg-blue-600 text-white border-blue-600":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:ae},ae))})]})]}),m==="property"&&d==="buyer"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:ng,children:[h.jsxs("div",{className:rg,children:[h.jsx(ra,{size:12,className:"text-blue-500"})," "]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:"  ( )"}),h.jsx("input",{value:_,onChange:ae=>E(ae.target.value),placeholder:" ,  , ",className:ei})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" "}),h.jsx("div",{className:"flex gap-1.5",children:["sale","rent"].map(ae=>h.jsx("button",{type:"button",onClick:()=>A(ae),className:`flex-1 py-2 text-xs font-semibold rounded-lg border transition-colors ${P===ae?"bg-indigo-50 text-indigo-700 border-indigo-200":"bg-white text-slate-500 border-slate-200"}`,children:ae==="sale"?"":""},ae))})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:"  ()"}),h.jsx("input",{type:"number",min:"0",step:"50000",value:w,onChange:ae=>S(ae.target.value),placeholder:"2,500,000",className:ei,dir:"ltr"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:nr,children:[h.jsx(vP,{size:10,className:"inline ml-1"}),""]}),h.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:[{val:"immediate",label:" "},{val:"1-3_months",label:"13 "},{val:"3-6_months",label:"36 "},{val:"flexible",label:""}].map(({val:ae,label:kt})=>h.jsx("button",{type:"button",onClick:()=>M(ae),className:`py-1.5 text-xs font-semibold rounded-lg border transition-all ${O===ae?"bg-amber-50 text-amber-700 border-amber-200":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:kt},ae))})]})]}),h.jsxs("div",{className:ng,children:[h.jsxs("div",{className:rg,children:[h.jsx(Kv,{size:12,className:"text-emerald-500"})," "]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" "}),h.jsx("div",{className:"flex flex-wrap gap-1.5",children:Cee.map(ae=>h.jsx("button",{type:"button",onClick:()=>tt(ae),className:`text-xs font-semibold px-2.5 py-1.5 rounded-lg border transition-all ${se.includes(ae)?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:ae},ae))})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" ()"}),h.jsxs("select",{value:z,onChange:ae=>k(ae.target.value),className:ei,children:[h.jsx("option",{value:"",children:" "}),[1,2,3,4,5,6].map(ae=>h.jsxs("option",{value:ae,children:[ae,ae===6?"+":""]},ae))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" ()"}),h.jsxs("select",{value:C,onChange:ae=>R(ae.target.value),className:ei,children:[h.jsx("option",{value:"",children:" "}),[1,2,3,4,5,6].map(ae=>h.jsxs("option",{value:ae,children:[ae,ae===6?"+":""]},ae))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:'  (")'}),h.jsx("input",{type:"number",min:"0",step:"5",value:$,onChange:ae=>j(ae.target.value),placeholder:"70",className:ei,dir:"ltr"})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:""}),h.jsxs("div",{className:"flex gap-1.5 items-center",children:[h.jsx("input",{type:"number",min:"0",max:"50",value:V,onChange:ae=>F(ae.target.value),placeholder:"",className:ei+" text-center",dir:"ltr"}),h.jsx("span",{className:"text-slate-400 text-xs flex-shrink-0",children:""}),h.jsx("input",{type:"number",min:"0",max:"50",value:J,onChange:ae=>fe(ae.target.value),placeholder:"",className:ei+" text-center",dir:"ltr"})]})]})]})]}),h.jsxs("div",{className:ng,children:[h.jsxs("div",{className:rg,children:[h.jsx(xee,{size:12,className:"text-purple-500"})," "]}),h.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[h.jsx(_n,{icon:ree,label:"",active:W,onClick:()=>ne(ae=>!ae)}),h.jsx(_n,{icon:n3,label:"",active:K,onClick:()=>oe(ae=>!ae)}),h.jsx(_n,{icon:vee,label:"",active:ue,onClick:()=>Ae(ae=>!ae)}),h.jsx(_n,{icon:wP,label:'"',active:be,onClick:()=>Ce(ae=>!ae)})]})]}),h.jsxs("div",{className:ng,children:[h.jsxs("div",{className:rg,children:[h.jsx(yP,{size:12,className:"text-orange-500"})," "]}),h.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:[{val:"any",label:" "},{val:"new",label:"  "},{val:"renovated",label:" "},{val:"needs_renovation",label:"  "}].map(({val:ae,label:kt})=>h.jsx("button",{type:"button",onClick:()=>$e(ae),className:`py-2 text-xs font-semibold rounded-lg border transition-all ${ge===ae?"bg-orange-50 text-orange-700 border-orange-200":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:kt},ae))})]})]}),m==="property"&&d==="seller"&&h.jsxs("div",{className:"space-y-3.5",children:[h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" "}),h.jsx("input",{value:at,onChange:ae=>X(ae.target.value),placeholder:" 15,  ",className:ei})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:"  ()"}),h.jsx("input",{type:"number",min:"0",step:"50000",value:me,onChange:ae=>Ne(ae.target.value),placeholder:"2,500,000",className:ei,dir:"ltr"})]}),h.jsxs("div",{children:[h.jsx("label",{className:nr,children:" "}),h.jsxs("select",{value:z,onChange:ae=>k(ae.target.value),className:ei,children:[h.jsx("option",{value:"",children:" "}),[1,2,3,4,5,6].map(ae=>h.jsxs("option",{value:ae,children:[ae,ae===6?"+":""," "]},ae))]})]})]})]}),h.jsxs("div",{className:"flex-shrink-0 px-6 pb-5 pt-3 border-t border-slate-100 space-y-3",children:[pe&&h.jsx("div",{className:`text-xs font-medium px-4 py-3 rounded-xl border ${pe.ok?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-600 border-red-100"}`,children:pe.msg}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),h.jsx("button",{type:"submit",disabled:Me||!i||!o,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:Me?"...":" "})]})]})]})]})]})}const Iee=[{name:" ",href:"/",icon:iee},{name:"",href:"/leads",icon:l3},{name:"",href:"/transactions",icon:xP},{name:"",href:"/properties",icon:pl},{name:"",href:"/agents",icon:CP},{name:"",href:"/settings",icon:pee}];function kee(){const{userData:e,currentUser:t}=Tr(),{alerts:n}=uo(),r=bl(),[i,s]=x.useState(!1),[o,a]=x.useState(!1),[u,c]=x.useState(!1),[d,p]=x.useState(!1),m=async()=>{if(!t)return;s(!0);const _=await DJ(t.uid);s(!1),_.success?alert("   !      ."):alert("   .   .")},y=async()=>{try{await bK(Rp),r("/login")}catch(_){console.error("Logout error:",_)}};return h.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-50",dir:"rtl",children:[h.jsxs("aside",{className:"w-64 flex-shrink-0 bg-white border-l border-slate-200 flex flex-col z-20",children:[h.jsx("div",{className:"shrink-0 h-16 flex items-center px-6 border-b border-slate-200",children:h.jsx("span",{className:"text-xl font-bold text-slate-800",children:"Omer Digital"})}),h.jsx("nav",{className:"flex-1 px-4 py-6 overflow-y-auto space-y-1",children:Iee.map(_=>h.jsxs(tL,{to:_.href,className:({isActive:E})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg font-medium transition-colors ${E?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[h.jsx(_.icon,{className:"w-5 h-5 flex-shrink-0"}),_.name]},_.name))})]}),h.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[h.jsxs("header",{className:"shrink-0 h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 z-10",children:[h.jsx("div",{className:"flex items-center gap-6",children:h.jsxs("h1",{className:"text-lg font-medium text-slate-800",children:[" , ",(e==null?void 0:e.name)||""]})}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>p(_=>!_),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2 rounded-xl transition-colors shadow-sm",children:[h.jsx(U0,{size:16}),""]}),d&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>p(!1)}),h.jsxs("div",{className:"absolute left-0 top-11 z-20 bg-white rounded-xl shadow-xl border border-slate-100 py-1 min-w-[170px]",children:[h.jsxs("button",{onClick:()=>{a(!0),p(!1)},className:"flex items-center gap-2.5 w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[h.jsx(pl,{size:15,className:"text-blue-500"}),"  "]}),h.jsxs("button",{onClick:()=>{c(!0),p(!1)},className:"flex items-center gap-2.5 w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[h.jsx(l3,{size:15,className:"text-emerald-500"}),"  "]})]})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:h.jsx(bP,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"text",placeholder:"...",className:"block w-64 pl-3 pr-10 py-2 border border-slate-200 rounded-lg text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-slate-50 transition-all focus:bg-white"})]}),h.jsxs("button",{className:"text-slate-500 hover:text-slate-700 transition-colors relative",children:[h.jsx(J5,{className:"w-5 h-5"}),n.length>0&&h.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[9px] font-bold text-white border border-white",children:n.length})]}),h.jsxs("button",{onClick:m,disabled:i,title:"Seed Database (Dev)",className:"flex items-center gap-1.5 text-xs font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 px-2.5 py-1.5 rounded-md disabled:opacity-50 transition-colors",children:[h.jsx(ZJ,{className:"w-3.5 h-3.5"}),i?"...":"Seed DB"]}),h.jsx("div",{className:"h-8 w-px bg-slate-200 mx-2"}),h.jsxs("button",{onClick:y,className:"flex items-center gap-2 text-slate-600 hover:text-red-600 font-medium text-sm transition-colors",children:[h.jsx(oee,{className:"w-4 h-4"}),h.jsx("span",{children:""})]})]})]}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:h.jsx(YD,{})})]}),h.jsx(p3,{isOpen:o,onClose:()=>a(!1)}),h.jsx(g3,{isOpen:u,onClose:()=>c(!1)})]})}function Nee(){return h.jsx("div",{className:"min-h-screen bg-slate-50 font-sans",dir:"rtl",children:h.jsx("main",{className:"w-full h-full min-h-screen",children:h.jsx(YD,{})})})}function ib({children:e}){const{currentUser:t,loading:n,requireOnboarding:r}=Tr(),i=ao();return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:h.jsx(ml,{className:"w-8 h-8 animate-spin text-blue-600"})}):t?r&&i.pathname!=="/onboarding"?h.jsx(B_,{to:"/onboarding",replace:!0}):!r&&i.pathname==="/onboarding"?h.jsx(B_,{to:"/",replace:!0}):h.jsx(h.Fragment,{children:e}):h.jsx(B_,{to:"/login",replace:!0})}class hc extends x.Component{constructor(n){super(n);Im(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n,r.componentStack)}render(){var n,r;if(this.state.hasError){const i=(r=(n=this.state.error)==null?void 0:n.message)==null?void 0:r.includes("index");return h.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-8",children:h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center max-w-md w-full",children:[h.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(VJ,{size:22,className:"text-red-500"})}),h.jsx("h2",{className:"text-base font-bold text-slate-900",children:this.props.message??"   "}),h.jsx("p",{className:"text-sm text-slate-400 mt-2 mb-6",children:i?"   -Firestore  .     .":"   .   ,    ."}),h.jsxs("button",{onClick:this.handleReset,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl transition-colors",children:[h.jsx(_P,{size:15})," "]})]})})}return this.props.children}}function Oee(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),[u,c]=x.useState(!1),d=bl(),p=async y=>{y.preventDefault(),s(""),a(!0);try{await vK(Rp,e,n),d("/")}catch(_){console.error("Login error:",_),s("   ")}finally{a(!1)}},m=async()=>{s(""),c(!0);try{const y=await OJ(),_=await jJ(y.uid);d(_?"/":"/onboarding")}catch(y){console.error("Google login error:",y),s("    ")}finally{c(!1)}};return h.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",dir:"rtl",children:[h.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Omer Digital Solutions"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:" "})]}),h.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:h.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-slate-200",children:[h.jsxs("form",{className:"space-y-6",onSubmit:p,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:""}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:h.jsx(aee,{className:"h-5 w-5 text-slate-400"})}),h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:y=>t(y.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"name@example.com",dir:"ltr"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:""}),h.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:h.jsx(see,{className:"h-5 w-5 text-slate-400"})}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:y=>r(y.target.value),className:"appearance-none block w-full px-3 py-2 pr-10 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-colors",placeholder:"",dir:"ltr"})]})]}),i&&h.jsx("div",{className:"text-red-600 text-sm font-medium text-center bg-red-50 p-2 rounded-md",children:i}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:o||u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?h.jsx(ml,{className:"w-5 h-5 animate-spin"}):"  "})})]}),h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-slate-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-slate-500",children:""})})]}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{onClick:m,disabled:o||u,type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-slate-300 rounded-md shadow-sm bg-white text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?h.jsx(ml,{className:"w-5 h-5 animate-spin text-slate-500"}):h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"w-5 h-5 ml-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.26H17.92C17.66 15.63 16.88 16.79 15.72 17.57V20.34H19.29C21.37 18.42 22.56 15.6 22.56 12.25Z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23C14.97 23 17.46 22.02 19.29 20.34L15.72 17.57C14.73 18.23 13.48 18.63 12 18.63C9.13 18.63 6.69 16.69 5.81 14.1H2.12V16.96C3.94 20.57 7.67 23 12 23Z",fill:"#34A853"}),h.jsx("path",{d:"M5.81 14.1C5.58 13.41 5.45 12.69 5.45 11.95C5.45 11.21 5.58 10.49 5.81 9.80001V6.94001H2.12C1.37 8.44001 0.95 10.15 0.95 11.95C0.95 13.75 1.37 15.46 2.12 16.96L5.81 14.1Z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.27999C13.62 5.27999 15.07 5.83999 16.21 6.92999L19.38 3.75999C17.45 1.95999 14.97 0.899994 12 0.899994C7.67 0.899994 3.94 3.32999 2.12 6.94001L5.81 9.80001C6.69 7.20001 9.13 5.27999 12 5.27999Z",fill:"#EA4335"})]}),h.jsx("span",{children:"  "})]})})})]})]})})]})}function jee(e,t,n){const r=fr(nt,"agencies",e);return No(r,i=>{i.exists()&&t({id:i.id,...i.data()})},n)}async function Ree(e,t){const n=fr(nt,"agencies",e),r=Object.fromEntries(Object.entries(t).filter(([,i])=>i!==void 0&&i!==""));await Fu(n,{...r,...t.logoUrl?{"settings.logoUrl":t.logoUrl}:{}})}async function Mee(e,t){const n=t.name.split(".").pop()??"png",r=mP(gP,`agencies/${e}/logo.${n}`),i=await hP(r,t);return pP(i.ref)}const Fl="appearance-none block w-full px-4 py-3 pr-11 border border-slate-200 rounded-xl shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 bg-slate-50 focus:bg-white text-sm transition-all",Ao="block text-xs font-semibold text-slate-500 mb-1.5",Dee=[{value:"residential",label:"",icon:""},{value:"commercial",label:"",icon:""},{value:"luxury",label:"",icon:""},{value:"new_projects",label:" ",icon:""}],gk=[" "," "," "];function Lee(){const{currentUser:e,userData:t,refreshUserData:n}=Tr(),r=bl(),i=x.useRef(null),[s,o]=x.useState(0),[a,u]=x.useState(!1),[c,d]=x.useState(""),[p,m]=x.useState(""),[y,_]=x.useState(""),[E,w]=x.useState(""),[S,P]=x.useState(""),[A,O]=x.useState(""),[M,z]=x.useState(""),[k,C]=x.useState(""),[R,$]=x.useState("residential"),[j,V]=x.useState(null),[F,J]=x.useState("");x.useEffect(()=>{e!=null&&e.displayName&&m(e.displayName)},[e]);const fe=K=>{var Ae;const oe=(Ae=K.target.files)==null?void 0:Ae[0];if(!oe)return;V(oe);const ue=URL.createObjectURL(oe);J(ue)},se=()=>s===0?p.trim()&&y.trim():s===1?E.trim()&&A.trim():!0,ie=()=>{s<2&&o(K=>K+1)},W=()=>{s>0&&o(K=>K-1)},ne=async K=>{if(K.preventDefault(),d(""),!e)return;u(!0);let oe="";try{oe=(await us(Js,"agencies-createAgencyAccount")({agencyName:E.trim(),userName:p.trim(),phone:y.trim()})).data.agencyId,await n()}catch(ue){if((ue==null?void 0:ue.code)==="functions/already-exists")await n(),oe=(t==null?void 0:t.agencyId)||"";else{console.error("Onboarding CF error:",ue),d("   .   ."),u(!1);return}}if(!oe){r("/");return}try{let ue;j&&(ue=await Mee(oe,j)),await Ree(oe,{agencyName:E.trim()||void 0,slogan:S.trim()||void 0,officePhone:A.trim()||void 0,licenseNumber:M.trim()||void 0,mainServiceArea:k.trim()||void 0,specialization:R,logoUrl:ue}),r("/")}catch(ue){console.error("Extended profile save error:",ue),r("/")}finally{u(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center p-6",dir:"rtl",children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-blue-600 to-indigo-700 px-10 py-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 80% 20%, white 1px, transparent 1px)",backgroundSize:"30px 30px"}}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-3",children:h.jsx(pl,{size:26,className:"text-white"})}),h.jsx("h1",{className:"text-xl font-bold text-white",children:"  "}),h.jsxs("p",{className:"text-blue-100 text-xs mt-1",children:[" ",s+1,"  3  ",gk[s]]})]})]}),h.jsx("div",{className:"flex items-center justify-center gap-2 pt-5 px-10",children:gk.map((K,oe)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${oe<s?"bg-blue-600 text-white":oe===s?"bg-blue-100 text-blue-700 ring-2 ring-blue-300":"bg-slate-100 text-slate-400"}`,children:oe<s?h.jsx(qh,{size:14}):oe+1}),h.jsx("span",{className:`text-xs font-medium hidden sm:block ${oe===s?"text-blue-700":"text-slate-400"}`,children:K}),oe<2&&h.jsx("div",{className:`w-8 h-0.5 rounded-full ml-1 ${oe<s?"bg-blue-500":"bg-slate-200"}`})]},oe))}),h.jsxs("form",{onSubmit:ne,className:"px-10 py-6 space-y-5",children:[s===0&&h.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[h.jsxs("div",{children:[h.jsx("label",{className:Ao,children:"  *"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(AP,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"text",required:!0,value:p,onChange:K=>m(K.target.value),placeholder:" ",className:Fl})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:Ao,children:"  *"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(o1,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"tel",required:!0,value:y,onChange:K=>_(K.target.value),placeholder:"050-0000000",className:Fl,dir:"ltr"})]})]})]}),s===1&&h.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-2 duration-300",children:[h.jsxs("div",{children:[h.jsx("label",{className:Ao,children:"   *"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(pl,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"text",required:!0,value:E,onChange:K=>w(K.target.value),placeholder:' "',className:Fl})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Ao,children:[" ",h.jsx("span",{className:"text-slate-400 font-normal",children:"()"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(SP,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"text",value:S,onChange:K=>P(K.target.value),placeholder:"    ",className:Fl})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:Ao,children:"  *"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(o1,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"tel",required:!0,value:A,onChange:K=>O(K.target.value),placeholder:"03-0000000",className:Fl,dir:"ltr"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Ao,children:["  ",h.jsx("span",{className:"text-slate-400 font-normal",children:"()"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(UJ,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"text",value:M,onChange:K=>z(K.target.value),placeholder:"IL-12345",className:Fl,dir:"ltr"})]})]})]})]}),s===2&&h.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-right-2 duration-300",children:[h.jsxs("div",{children:[h.jsxs("label",{className:Ao,children:["  ",h.jsx("span",{className:"text-slate-400 font-normal",children:"()"})]}),h.jsxs("div",{onClick:()=>{var K;return(K=i.current)==null?void 0:K.click()},className:"flex items-center gap-4 p-4 border-2 border-dashed border-slate-200 rounded-2xl hover:border-blue-300 hover:bg-blue-50/30 cursor-pointer transition-all group",children:[F?h.jsx("img",{src:F,alt:"Logo preview",className:"w-14 h-14 rounded-xl object-cover border border-slate-200 shadow-sm"}):h.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-100 flex items-center justify-center group-hover:bg-blue-100 transition-colors flex-shrink-0",children:h.jsx(t3,{size:22,className:"text-slate-400 group-hover:text-blue-500 transition-colors"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-slate-700",children:F?"  ":" "}),h.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"PNG, JPG  2MB"})]})]}),h.jsx("input",{ref:i,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:fe})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Ao,children:["   ",h.jsx("span",{className:"text-slate-400 font-normal",children:"()"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3.5 flex items-center pointer-events-none",children:h.jsx(ra,{className:"h-4 w-4 text-slate-400"})}),h.jsx("input",{type:"text",value:k,onChange:K=>C(K.target.value),placeholder:"  ",className:Fl})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Ao,children:[h.jsx(HJ,{size:10,className:"inline ml-1"})," "]}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:Dee.map(K=>h.jsxs("button",{type:"button",onClick:()=>$(K.value),className:`flex items-center gap-2.5 p-3 rounded-xl border text-sm font-semibold transition-all ${R===K.value?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:[h.jsx("span",{className:"text-lg",children:K.icon}),K.label]},K.value))})]})]}),c&&h.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-100 px-4 py-2.5 rounded-xl",children:c}),h.jsxs("div",{className:"flex gap-3 pt-1",children:[s>0&&h.jsxs("button",{type:"button",onClick:W,className:"flex-1 flex justify-center items-center gap-1.5 py-3 rounded-2xl text-sm font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:[h.jsx(s3,{size:16}),""]}),s<2?h.jsxs("button",{type:"button",onClick:ie,disabled:!se(),className:"flex-1 flex justify-center items-center gap-1.5 py-3 rounded-2xl text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:["",h.jsx(KJ,{size:16})]}):h.jsx("button",{type:"submit",disabled:a,className:"flex-1 flex justify-center items-center gap-2 py-3 rounded-2xl text-sm font-bold text-white bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:a?h.jsxs(h.Fragment,{children:[h.jsx(ml,{className:"w-4 h-4 animate-spin"}),"   ..."]}):h.jsxs(h.Fragment,{children:[h.jsx(qh,{size:16}),"    "]})})]})]})]})})}function zee(){const[e]=rL(),t=bl(),n=e.get("token")??"",[r,i]=x.useState(null),[s,o]=x.useState("loading"),[a,u]=x.useState("");x.useEffect(()=>{if(!n){o("error"),u("   .");return}us(Js,"users-getInviteInfo")({token:n}).then(p=>{i(p.data),o("ready")}).catch(p=>{o("error"),p.code==="functions/already-exists"?u("  .    ."):u("      .")})},[n]);const c=async()=>{try{o("signing-in"),await KL(Rp,new $s)}catch{o("ready")}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-6",dir:"rtl",children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 px-10 py-10 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(pl,{size:30,className:"text-white"})}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:" !"})]}),h.jsxs("div",{className:"px-10 py-8 text-center",children:[s==="loading"&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"h-5 bg-slate-100 rounded-lg animate-pulse w-3/4 mx-auto"}),h.jsx("div",{className:"h-4 bg-slate-100 rounded-lg animate-pulse w-1/2 mx-auto"})]}),s==="error"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-slate-600 text-sm",children:a}),h.jsx("button",{onClick:()=>t("/login"),className:"text-blue-600 text-sm font-semibold hover:underline",children:"   "})]}),(s==="ready"||s==="signing-in")&&r&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-500 text-sm",children:","}),h.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:r.agentName}),h.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:["  "," ",h.jsx("span",{className:"font-semibold text-slate-700",children:r.agencyName})]})]}),h.jsxs("button",{onClick:c,disabled:s==="signing-in",className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 hover:border-blue-400 hover:bg-blue-50 text-slate-700 font-semibold py-3.5 rounded-2xl transition-all disabled:opacity-60",children:[h.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s==="signing-in"?"...":"  Google "]}),h.jsx("p",{className:"text-xs text-slate-400",children:"         ."})]})]})]})})}function Vee(){const[e]=rL(),t=bl(),{userData:n,refreshUserData:r}=Tr(),i=e.get("token")??"",[s,o]=x.useState(""),[a,u]=x.useState(""),[c,d]=x.useState(!1),[p,m]=x.useState(!1),[y,_]=x.useState("");x.useEffect(()=>{n!=null&&n.name&&o(n.name),n!=null&&n.phone&&u(n.phone)},[n]),x.useEffect(()=>{i||t("/")},[i,t]);const E=async P=>{if(P.preventDefault(),_(""),!a.trim()){_("   ");return}try{d(!0),await us(Js,"users-completeAgentSetup")({token:i,name:s.trim(),phone:a.trim()}),await r(),m(!0),setTimeout(()=>t("/"),2e3)}catch(A){_(A.message??" ,  ")}finally{d(!1)}},w="w-full border border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",S="block text-xs font-semibold text-slate-500 mb-1.5";return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-6",dir:"rtl",children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 px-10 py-10 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(AP,{size:30,className:"text-white"})}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:" "}),h.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"    -Dashboard"})]}),h.jsx("div",{className:"px-10 py-8",children:p?h.jsxs("div",{className:"text-center py-4 space-y-3",children:[h.jsx(qh,{size:48,className:"text-emerald-500 mx-auto"}),h.jsx("p",{className:"text-lg font-bold text-slate-900",children:"  !"}),h.jsx("p",{className:"text-sm text-slate-400",children:"  -Dashboard..."})]}):h.jsxs("form",{onSubmit:E,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:S,children:" "}),h.jsx("input",{value:s,onChange:P=>o(P.target.value),placeholder:" ",className:w})]}),h.jsxs("div",{children:[h.jsxs("label",{className:S,children:[" ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"tel",value:a,onChange:P=>u(P.target.value),required:!0,placeholder:"050-1234567",className:w,dir:"ltr"})]}),y&&h.jsx("p",{className:"text-xs text-red-500 bg-red-50 border border-red-100 px-4 py-2.5 rounded-xl",children:y}),h.jsx("button",{type:"submit",disabled:c||!a,className:"w-full py-3.5 rounded-2xl text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:c?"...":" -Dashboard "}),h.jsx("p",{className:"text-xs text-center text-slate-400",children:"       "})]})})]})})}const Fee={DollarSign:yP,Users:CP,Handshake:xP,TrendingUp:TP,BarChart3:Q5},vk={blue:{icon:"bg-blue-50 text-blue-600",bar:"bg-blue-500",badge:"bg-blue-50 text-blue-700"},emerald:{icon:"bg-emerald-50 text-emerald-600",bar:"bg-emerald-500",badge:"bg-emerald-50 text-emerald-700"},amber:{icon:"bg-amber-50 text-amber-600",bar:"bg-amber-500",badge:"bg-amber-50 text-amber-700"},violet:{icon:"bg-violet-50 text-violet-600",bar:"bg-violet-500",badge:"bg-violet-50 text-violet-700"}};function ig({title:e,value:t,rawValue:n,target:r,change:i,positive:s,subtitle:o,icon:a,color:u}){const c=Fee[a]??yP,d=vk[u]??vk.blue,p=Math.min(100,Math.round(n/r*100)),m=p>=70;return h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 flex flex-col gap-4 hover:shadow-md transition-shadow duration-200",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${d.icon}`,children:h.jsx(c,{size:20})}),h.jsxs("span",{className:`inline-flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded-full ${s?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-600"}`,children:[s?h.jsx(TP,{size:11}):h.jsx(f3,{size:11}),i]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:t}),h.jsx("p",{className:"text-sm font-medium text-slate-700 mt-0.5",children:e}),h.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:o})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[h.jsxs("span",{className:"text-xs text-slate-400 font-medium",children:[p,"% "]}),h.jsx("span",{className:`text-xs font-bold ${m?"text-emerald-600":"text-red-500"}`,children:m?" ":" "})]}),h.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full rounded-full transition-all duration-700 ${m?d.bar:"bg-red-400"}`,style:{width:`${p}%`}})})]})]})}function v3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=v3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=v3(e))&&(r&&(r+=" "),r+=t);return r}var $ee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function OP(e){if(typeof e!="string")return!1;var t=$ee;return t.includes(e)}var Bee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Uee=new Set(Bee);function y3(e){return typeof e!="string"?!1:Uee.has(e)}function x3(e){return typeof e=="string"&&e.startsWith("data-")}function di(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y3(n)||x3(n))&&(t[n]=e[n]);return t}function gd(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return di(t)}return typeof e=="object"&&!Array.isArray(e)?di(e):null}function wr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y3(n)||x3(n)||OP(n))&&(t[n]=e[n]);return t}function Wee(e){return e==null?null:x.isValidElement(e)?wr(e.props):typeof e=="object"&&!Array.isArray(e)?wr(e):null}var Hee=["children","width","height","viewBox","className","style","title","desc"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a1.apply(null,arguments)}function qee(e,t){if(e==null)return{};var n,r,i=Kee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _3=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:u,desc:c}=e,d=qee(e,Hee),p=s||{width:r,height:i,x:0,y:0},m=ft("recharts-surface",o);return x.createElement("svg",a1({},wr(d),{className:m,width:r,height:i,style:a,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,u),x.createElement("desc",null,c),n)}),Gee=["children","className"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l1.apply(null,arguments)}function Zee(e,t){if(e==null)return{};var n,r,i=Yee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qn=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Zee(e,Gee),s=ft("recharts-layer",r);return x.createElement("g",l1({className:s},wr(i),{ref:t}),n)}),Xee=x.createContext(null);function wt(e){return function(){return e}}const b3=Math.cos,Gv=Math.sin,ys=Math.sqrt,Zv=Math.PI,H0=2*Zv,u1=Math.PI,c1=2*u1,Hl=1e-6,Qee=c1-Hl;function w3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return w3;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ete{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?w3:Jee(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,c=i-n,d=o-t,p=a-n,m=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>Hl)if(!(Math.abs(p*u-c*d)>Hl)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,_=i-a,E=u*u+c*c,w=y*y+_*_,S=Math.sqrt(E),P=Math.sqrt(m),A=s*Math.tan((u1-Math.acos((E+m-w)/(2*S*P)))/2),O=A/P,M=A/S;Math.abs(O-1)>Hl&&this._append`L${t+O*d},${n+O*p}`,this._append`A${s},${s},0,0,${+(p*y>d*_)},${this._x1=t+M*u},${this._y1=n+M*c}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),c=t+a,d=n+u,p=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Hl||Math.abs(this._y1-d)>Hl)&&this._append`L${c},${d}`,r&&(m<0&&(m=m%c1+c1),m>Qee?this._append`A${r},${r},0,1,${p},${t-a},${n-u}A${r},${r},0,1,${p},${this._x1=c},${this._y1=d}`:m>Hl&&this._append`A${r},${r},0,${+(m>=u1)},${p},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ete(t)}function RP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E3(e){this._context=e}E3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q0(e){return new E3(e)}function S3(e){return e[0]}function P3(e){return e[1]}function T3(e,t){var n=wt(!0),r=null,i=q0,s=null,o=jP(a);e=typeof e=="function"?e:e===void 0?S3:wt(e),t=typeof t=="function"?t:t===void 0?P3:wt(t);function a(u){var c,d=(u=RP(u)).length,p,m=!1,y;for(r==null&&(s=i(y=o())),c=0;c<=d;++c)!(c<d&&n(p=u[c],c,u))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(p,c,u),+t(p,c,u));if(y)return s=null,y+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:wt(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:wt(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:wt(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function sg(e,t,n){var r=null,i=wt(!0),s=null,o=q0,a=null,u=jP(c);e=typeof e=="function"?e:e===void 0?S3:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?P3:wt(+n);function c(p){var m,y,_,E=(p=RP(p)).length,w,S=!1,P,A=new Array(E),O=new Array(E);for(s==null&&(a=o(P=u())),m=0;m<=E;++m){if(!(m<E&&i(w=p[m],m,p))===S)if(S=!S)y=m,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),_=m-1;_>=y;--_)a.point(A[_],O[_]);a.lineEnd(),a.areaEnd()}S&&(A[m]=+e(w,m,p),O[m]=+t(w,m,p),a.point(r?+r(w,m,p):A[m],n?+n(w,m,p):O[m]))}if(P)return a=null,P+""||null}function d(){return T3().defined(i).curve(o).context(s)}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),r=null,c):e},c.x0=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),c):e},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:wt(+p),c):r},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),n=null,c):t},c.y0=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),c):t},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:wt(+p),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(p){return arguments.length?(i=typeof p=="function"?p:wt(!!p),c):i},c.curve=function(p){return arguments.length?(o=p,s!=null&&(a=o(s)),c):o},c.context=function(p){return arguments.length?(p==null?s=a=null:a=o(s=p),c):s},c}class A3{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function tte(e){return new A3(e,!0)}function nte(e){return new A3(e,!1)}const MP={draw(e,t){const n=ys(t/Zv);e.moveTo(n,0),e.arc(0,0,n,0,H0)}},rte={draw(e,t){const n=ys(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},C3=ys(1/3),ite=C3*2,ste={draw(e,t){const n=ys(t/ite),r=n*C3;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ote={draw(e,t){const n=ys(t),r=-n/2;e.rect(r,r,n,n)}},ate=.8908130915292852,I3=Gv(Zv/10)/Gv(7*Zv/10),lte=Gv(H0/10)*I3,ute=-b3(H0/10)*I3,cte={draw(e,t){const n=ys(t*ate),r=lte*n,i=ute*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=H0*s/5,a=b3(o),u=Gv(o);e.lineTo(u*n,-a*n),e.lineTo(a*r-u*i,u*r+a*i)}e.closePath()}},sb=ys(3),dte={draw(e,t){const n=-ys(t/(sb*3));e.moveTo(0,n*2),e.lineTo(-sb*n,-n),e.lineTo(sb*n,-n),e.closePath()}},Ti=-.5,Ai=ys(3)/2,d1=1/ys(12),fte=(d1/2+1)*3,hte={draw(e,t){const n=ys(t/fte),r=n/2,i=n*d1,s=r,o=n*d1+n,a=-s,u=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(a,u),e.lineTo(Ti*r-Ai*i,Ai*r+Ti*i),e.lineTo(Ti*s-Ai*o,Ai*s+Ti*o),e.lineTo(Ti*a-Ai*u,Ai*a+Ti*u),e.lineTo(Ti*r+Ai*i,Ti*i-Ai*r),e.lineTo(Ti*s+Ai*o,Ti*o-Ai*s),e.lineTo(Ti*a+Ai*u,Ti*u-Ai*a),e.closePath()}};function pte(e,t){let n=null,r=jP(i);e=typeof e=="function"?e:wt(e||MP),t=typeof t=="function"?t:wt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:wt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Yv(){}function Xv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function k3(e){this._context=e}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mte(e){return new k3(e)}function N3(e){this._context=e}N3.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gte(e){return new N3(e)}function O3(e){this._context=e}O3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vte(e){return new O3(e)}function j3(e){this._context=e}j3.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yte(e){return new j3(e)}function yk(e){return e<0?-1:1}function xk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(yk(s)+yk(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function _k(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ob(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function Qv(e){this._context=e}Qv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ob(this,this._t0,_k(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ob(this,_k(this,n=xk(this,e,t)),n);break;default:ob(this,this._t0,n=xk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function R3(e){this._context=new M3(e)}(R3.prototype=Object.create(Qv.prototype)).point=function(e,t){Qv.prototype.point.call(this,t,e)};function M3(e){this._context=e}M3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function xte(e){return new Qv(e)}function _te(e){return new R3(e)}function D3(e){this._context=e}D3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bk(e),i=bk(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bk(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function bte(e){return new D3(e)}function K0(e,t){this._context=e,this._t=t}K0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wte(e){return new K0(e,.5)}function Ete(e){return new K0(e,0)}function Ste(e){return new K0(e,1)}function Su(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function f1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Pte(e,t){return e[t]}function Tte(e){const t=[];return t.key=e,t}function Ate(){var e=wt([]),t=f1,n=Su,r=Pte;function i(s){var o=Array.from(e.apply(this,arguments),Tte),a,u=o.length,c=-1,d;for(const p of s)for(a=0,++c;a<u;++a)(o[a][c]=[0,+r(p,o[a].key,c,s)]).data=p;for(a=0,d=RP(t(o));a<u;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:wt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:wt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?f1:typeof s=="function"?s:wt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Su,i):n},i}function Cte(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Su(e,t)}}function Ite(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=e[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Su(e,t)}}function kte(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,u=0,c=0;a<o;++a){for(var d=e[t[a]],p=d[r][1]||0,m=d[r-1][1]||0,y=(p-m)/2,_=0;_<a;++_){var E=e[t[_]],w=E[r][1]||0,S=E[r-1][1]||0;y+=w-S}u+=p,c+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,Su(e,t)}}var G0={},L3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(L3);var DP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(DP);var Z0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Z0);var Y0={},z3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(z3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3,n=Z0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let a=0,u="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),a++);a<o;){const p=i[a];c?p==="\\"&&a+1<o?(a++,u+=i[a]):p===c?c="":u+=p:d?p==='"'||p==="'"?c=p:p==="]"?(d=!1,s.push(u),u=""):u+=p:p==="["?(d=!0,u&&(s.push(u),u="")):p==="."?u&&(s.push(u),u=""):u+=p,a++}return u&&s.push(u),s}e.toPath=r})(Y0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L3,n=DP,r=Z0,i=Y0;function s(a,u,c){if(a==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const d=a[u];return d===void 0?n.isDeepKey(u)?s(a,i.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const d=a[u];return d===void 0?c:d}default:{if(Array.isArray(u))return o(a,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const d=a[u];return d===void 0?c:d}}}function o(a,u,c){if(u.length===0)return c;let d=a;for(let p=0;p<u.length;p++){if(d==null||t.isUnsafeProperty(u[p]))return c;d=d[u[p]]}return d===void 0?c:d}e.get=s})(G0);var Nte=G0.get;const Pu=oo(Nte);var Ote=4;function Ua(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ote,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,s,o)=>{var a=n[o-1];return typeof a=="string"?i+a+s:a!==void 0?i+Ua(a)+s:i+s},"")}var ur=e=>e===0?0:e>0?1:-1,no=e=>typeof e=="number"&&e!=+e,Tu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!no(e),ro=e=>Pe(e)||typeof e=="string",jte=0,Kh=e=>{var t=++jte;return"".concat(e||"").concat(t)},li=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return r;var s;if(Tu(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return no(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},V3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Fn(e,t,n){return Pe(e)&&Pe(t)?Ua(e+n*(t-e)):t}function F3(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Pu(r,t))===n)}var Kn=e=>e===null||typeof e>"u",Mp=e=>Kn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Fr(e){return e!=null}function Dd(){}var Rte=["type","size","sizeType"];function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h1.apply(null,arguments)}function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){Mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mte(e,t,n){return(t=Dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dte(e){var t=Lte(e,"string");return typeof t=="symbol"?t:t+""}function Lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t){if(e==null)return{};var n,r,i=Vte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $3={symbolCircle:MP,symbolCross:rte,symbolDiamond:ste,symbolSquare:ote,symbolStar:cte,symbolTriangle:dte,symbolWye:hte},Fte=Math.PI/180,$te=e=>{var t="symbol".concat(Mp(e));return $3[t]||MP},Bte=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Fte;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ute=(e,t)=>{$3["symbol".concat(Mp(e))]=t},B3=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=zte(e,Rte),s=Ek(Ek({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var a=()=>{var m=$te(o),y=pte().type(m).size(Bte(n,r,o)),_=y();if(_!==null)return _},{className:u,cx:c,cy:d}=s,p=wr(s);return Pe(c)&&Pe(d)&&Pe(n)?x.createElement("path",h1({},p,{className:ft("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:a()})):null};B3.registerSymbol=Ute;var U3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,LP=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{OP(i)&&(r[i]=s=>n[i](n,s))}),r},Wte=(e,t,n)=>r=>(e(t,n,r),null),W3=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];OP(i)&&typeof s=="function"&&(r||(r={}),r[i]=Wte(s,t,n))}),r};function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){qte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qte(e,t,n){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t){var n=Hte({},e),r=t,i=Object.keys(t),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}var H3={},q3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],a=r(o,s,n);i.has(a)||i.set(a,o)}return Array.from(i.values())}e.uniqBy=t})(q3);var K3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(K3);var zP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(zP);var G3={},X0={},Z3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Z3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z3;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(X0);var Y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X0,n=Y3;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(G3);var X3={},Q3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(Q3);var J3={},VP={},e6={},FP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(FP);var $P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})($P);var BP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(BP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP,n=$P,r=BP;function i(d,p,m){return typeof m!="function"?i(d,p,()=>{}):s(d,p,function y(_,E,w,S,P,A){const O=m(_,E,w,S,P,A);return O!==void 0?!!O:s(_,E,y,A)},new Map)}function s(d,p,m,y){if(p===d)return!0;switch(typeof p){case"object":return o(d,p,m,y);case"function":return Object.keys(p).length>0?s(d,{...p},m,y):r.isEqualsSameValueZero(d,p);default:return t.isObject(d)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(d,p)}}function o(d,p,m,y){if(p==null)return!0;if(Array.isArray(p))return u(d,p,m,y);if(p instanceof Map)return a(d,p,m,y);if(p instanceof Set)return c(d,p,m,y);const _=Object.keys(p);if(d==null||n.isPrimitive(d))return _.length===0;if(_.length===0)return!0;if(y!=null&&y.has(p))return y.get(p)===d;y==null||y.set(p,d);try{for(let E=0;E<_.length;E++){const w=_[E];if(!n.isPrimitive(d)&&!(w in d)||p[w]===void 0&&d[w]!==void 0||p[w]===null&&d[w]!==null||!m(d[w],p[w],w,d,p,y))return!1}return!0}finally{y==null||y.delete(p)}}function a(d,p,m,y){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[_,E]of p.entries()){const w=d.get(_);if(m(w,E,_,d,p,y)===!1)return!1}return!0}function u(d,p,m,y){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const _=new Set;for(let E=0;E<p.length;E++){const w=p[E];let S=!1;for(let P=0;P<d.length;P++){if(_.has(P))continue;const A=d[P];let O=!1;if(m(A,w,E,d,p,y)&&(O=!0),O){_.add(P),S=!0;break}}if(!S)return!1}return!0}function c(d,p,m,y){return p.size===0?!0:d instanceof Set?u([...d],[...p],m,y):!1}e.isMatchWith=i,e.isSetMatch=c})(e6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e6;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(VP);var t6={},UP={},n6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(n6);var Q0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Q0);var WP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",a="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",p="[object Function]",m="[object ArrayBuffer]",y="[object Object]",_="[object Error]",E="[object DataView]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",M="[object Int8Array]",z="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",R="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=E,e.dateTag=a,e.errorTag=_,e.float32ArrayTag=R,e.float64ArrayTag=$,e.functionTag=p,e.int16ArrayTag=z,e.int32ArrayTag=k,e.int8ArrayTag=M,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=P,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=S})(WP);var r6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(r6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6,n=Q0,r=WP,i=$P,s=r6;function o(d,p){return a(d,void 0,d,new Map,p)}function a(d,p,m,y=new Map,_=void 0){const E=_==null?void 0:_(d,p,m,y);if(E!==void 0)return E;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const w=new Array(d.length);y.set(d,w);for(let S=0;S<d.length;S++)w[S]=a(d[S],S,m,y,_);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;y.set(d,w);for(const[S,P]of d)w.set(S,a(P,S,m,y,_));return w}if(d instanceof Set){const w=new Set;y.set(d,w);for(const S of d)w.add(a(S,void 0,m,y,_));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,w);for(let S=0;S<d.length;S++)w[S]=a(d[S],S,m,y,_);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,w),u(w,d,m,y,_),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return y.set(d,w),u(w,d,m,y,_),w}if(typeof Blob<"u"&&d instanceof Blob){const w=new Blob([d],{type:d.type});return y.set(d,w),u(w,d,m,y,_),w}if(d instanceof Error){const w=new d.constructor;return y.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,u(w,d,m,y,_),w}if(d instanceof Boolean){const w=new Boolean(d.valueOf());return y.set(d,w),u(w,d,m,y,_),w}if(d instanceof Number){const w=new Number(d.valueOf());return y.set(d,w),u(w,d,m,y,_),w}if(d instanceof String){const w=new String(d.valueOf());return y.set(d,w),u(w,d,m,y,_),w}if(typeof d=="object"&&c(d)){const w=Object.create(Object.getPrototypeOf(d));return y.set(d,w),u(w,d,m,y,_),w}return d}function u(d,p,m=d,y,_){const E=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<E.length;w++){const S=E[w],P=Object.getOwnPropertyDescriptor(d,S);(P==null||P.writable)&&(d[S]=a(p[S],S,m,y,_))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=a,e.copyProperties=u})(UP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UP;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(t6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP,n=t6;function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(J3);var i6={},s6={},o6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UP,n=Q0,r=WP;function i(s,o){return t.cloneDeepWith(s,(a,u,c,d)=>{const p=o==null?void 0:o(a,u,c,d);if(p!==void 0)return p;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const m={};return d.set(s,m),t.copyProperties(m,s,c,d),m}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(m,s),m}case r.argumentsTag:{const m={};return t.copyProperties(m,s),m.length=s.length,m[Symbol.iterator]=s[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(o6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o6;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(s6);var a6={},HP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(HP);var l6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(l6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP,n=HP,r=l6,i=Y0;function s(o,a){let u;if(Array.isArray(a)?u=a:typeof a=="string"&&t.isDeepKey(a)&&(o==null?void 0:o[a])==null?u=i.toPath(a):u=[a],u.length===0)return!1;let c=o;for(let d=0;d<u.length;d++){const p=u[d];if((c==null||!Object.hasOwn(c,p))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(p)&&p<c.length))return!1;c=c[p]}return!0}e.has=s})(a6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP,n=Z0,r=s6,i=G0,s=a6;function o(a,u){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return u=r.cloneDeep(u),function(c){const d=i.get(c,a);return d===void 0?s.has(c,a):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=o})(i6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP,n=Q3,r=J3,i=i6;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(X3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q3,n=K3,r=zP,i=G3,s=X3;function o(a,u=r.identity){return i.isArrayLikeObject(a)?t.uniqBy(Array.from(a),n.ary(s.iteratee(u),1)):[]}e.uniqBy=o})(H3);var Zte=H3.uniqBy;const Pk=oo(Zte);function Yte(e,t,n){return t===!0?Pk(e,n):typeof t=="function"?Pk(e,t):e}var u6={exports:{}},c6={},d6={exports:{}},f6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=x;function Xte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qte=typeof Object.is=="function"?Object.is:Xte,Jte=vd.useState,ene=vd.useEffect,tne=vd.useLayoutEffect,nne=vd.useDebugValue;function rne(e,t){var n=t(),r=Jte({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return tne(function(){i.value=n,i.getSnapshot=t,ab(i)&&s({inst:i})},[e,n,t]),ene(function(){return ab(i)&&s({inst:i}),e(function(){ab(i)&&s({inst:i})})},[e]),nne(n),n}function ab(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qte(e,n)}catch{return!0}}function ine(e,t){return t()}var sne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ine:rne;f6.useSyncExternalStore=vd.useSyncExternalStore!==void 0?vd.useSyncExternalStore:sne;d6.exports=f6;var one=d6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=x,ane=one;function lne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var une=typeof Object.is=="function"?Object.is:lne,cne=ane.useSyncExternalStore,dne=J0.useRef,fne=J0.useEffect,hne=J0.useMemo,pne=J0.useDebugValue;c6.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=dne(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=hne(function(){function u(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&o.hasValue){var _=o.value;if(i(_,y))return p=_}return p=y}if(_=p,une(d,y))return _;var E=r(y);return i!==void 0&&i(_,E)?(d=y,_):(d=y,p=E)}var c=!1,d,p,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,i]);var a=cne(e,s[0],s[1]);return fne(function(){o.hasValue=!0,o.value=a},[a]),pne(a),a};u6.exports=c6;var mne=u6.exports,qP=x.createContext(null),gne=e=>e,Mt=()=>{var e=x.useContext(qP);return e?e.store.dispatch:gne},Gg=()=>{},vne=()=>Gg,yne=(e,t)=>e===t;function Ie(e){var t=x.useContext(qP),n=x.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Gg,[t,e]);return mne.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:vne,t?t.store.getState:Gg,t?t.store.getState:Gg,n,yne)}function xne(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _ne(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function bne(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Tk=e=>Array.isArray(e)?e:[e];function wne(e){const t=Array.isArray(e[0])?e[0]:e;return bne(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ene(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Sne=class{constructor(e){this.value=e}deref(){return this.value}},Pne=typeof WeakRef<"u"?WeakRef:Sne,Tne=0,Ak=1;function og(){return{s:Tne,v:void 0,o:null,p:null}}function h6(e,t={}){let n=og();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var p;let a=n;const{length:u}=arguments;for(let m=0,y=u;m<y;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=a.o;E===null&&(a.o=E=new WeakMap);const w=E.get(_);w===void 0?(a=og(),E.set(_,a)):a=w}else{let E=a.p;E===null&&(a.p=E=new Map);const w=E.get(_);w===void 0?(a=og(),E.set(_,a)):a=w}}const c=a;let d;if(a.s===Ak)d=a.v;else if(d=e.apply(null,arguments),s++,r){const m=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;m!=null&&r(m,d)&&(d=m,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Pne(d):d}return c.s=Ak,c.v=d,d}return o.clearCache=()=>{n=og(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Ane(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),xne(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:y=h6,argsMemoizeOptions:_=[]}=d,E=Tk(m),w=Tk(_),S=wne(i),P=p(function(){return s++,c.apply(null,arguments)},...E),A=y(function(){o++;const M=Ene(S,arguments);return a=P.apply(null,M),a},...w);return Object.assign(A,{resultFunc:c,memoizedResultFunc:P,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var G=Ane(h6),Cne=Object.assign((e,t=G)=>{_ne(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>Cne}),p6={},m6={},g6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),a=t(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};e.compareValues=n})(g6);var v6={},KP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(KP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(v6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6,n=v6,r=Y0;function i(s,o,a,u){if(s==null)return[];a=u?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(y=>String(y));const c=(y,_)=>{let E=y;for(let w=0;w<_.length&&E!=null;++w)E=E[_[w]];return E},d=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:c(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?c(_,y):typeof _=="object"?_[y]:_,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:p.map(_=>d(_,y))})).slice().sort((y,_)=>{for(let E=0;E<p.length;E++){const w=t.compareValues(y.criteria[E],_.criteria[E],a[E]);if(w!==0)return w}return 0}).map(y=>y.original)}e.orderBy=i})(m6);var y6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(a,u)=>{for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)&&u<s?o(d,u+1):i.push(d)}};return o(n,0),i}e.flatten=t})(y6);var GP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP,n=X0,r=FP,i=BP;function s(o,a,u){return r.isObject(u)&&(typeof a=="number"&&n.isArrayLike(u)&&t.isIndex(a)&&a<u.length||typeof a=="string"&&a in u)?i.isEqualsSameValueZero(u[a],o):!1}e.isIterateeCall=s})(GP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6,n=y6,r=GP;function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(p6);var Ine=p6.sortBy;const ex=oo(Ine);var x6=e=>e.legend.settings,kne=e=>e.legend.size,Nne=e=>e.legend.payload;G([Nne,x6],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ex(r,n):r});var ag=1;function One(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>ag||Math.abs(o.left-t.left)>ag||Math.abs(o.top-t.top)>ag||Math.abs(o.width-t.width)>ag)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Dn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jne=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ck=jne,lb=()=>Math.random().toString(36).substring(7).split("").join("."),Rne={INIT:`@@redux/INIT${lb()}`,REPLACE:`@@redux/REPLACE${lb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lb()}`},Jv=Rne;function ZP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _6(e,t,n){if(typeof e!="function")throw new Error(Dn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dn(1));return n(_6)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((w,S)=>{o.set(S,w)}))}function d(){if(u)throw new Error(Dn(3));return i}function p(w){if(typeof w!="function")throw new Error(Dn(4));if(u)throw new Error(Dn(5));let S=!0;c();const P=a++;return o.set(P,w),function(){if(S){if(u)throw new Error(Dn(6));S=!1,c(),o.delete(P),s=null}}}function m(w){if(!ZP(w))throw new Error(Dn(7));if(typeof w.type>"u")throw new Error(Dn(8));if(typeof w.type!="string")throw new Error(Dn(17));if(u)throw new Error(Dn(9));try{u=!0,i=r(i,w)}finally{u=!1}return(s=o).forEach(P=>{P()}),w}function y(w){if(typeof w!="function")throw new Error(Dn(10));r=w,m({type:Jv.REPLACE})}function _(){const w=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Dn(11));function P(){const O=S;O.next&&O.next(d())}return P(),{unsubscribe:w(P)}},[Ck](){return this}}}return m({type:Jv.INIT}),{dispatch:m,subscribe:p,getState:d,replaceReducer:y,[Ck]:_}}function Mne(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Jv.INIT})>"u")throw new Error(Dn(12));if(typeof n(void 0,{type:Jv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dn(13))})}function b6(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Mne(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const p=r[d],m=n[p],y=o[p],_=m(y,a);if(typeof _>"u")throw a&&a.type,new Error(Dn(14));c[p]=_,u=u||_!==y}return u=u||r.length!==Object.keys(o).length,u?c:o}}function ey(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Dne(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Dn(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=e.map(u=>u(o));return s=ey(...a)(i.dispatch),{...i,dispatch:s}}}function w6(e){return ZP(e)&&"type"in e&&typeof e.type=="string"}var E6=Symbol.for("immer-nothing"),Ik=Symbol.for("immer-draftable"),Er=Symbol.for("immer-state");function ts(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var oi=Object,yd=oi.getPrototypeOf,ty="constructor",tx="prototype",p1="configurable",ny="enumerable",Zg="writable",Gh="value",sa=e=>!!e&&!!e[Er];function hs(e){var t;return e?S6(e)||rx(e)||!!e[Ik]||!!((t=e[ty])!=null&&t[Ik])||ix(e)||sx(e):!1}var Lne=oi[tx][ty].toString(),kk=new WeakMap;function S6(e){if(!e||!YP(e))return!1;const t=yd(e);if(t===null||t===oi[tx])return!0;const n=oi.hasOwnProperty.call(t,ty)&&t[ty];if(n===Object)return!0;if(!Ec(n))return!1;let r=kk.get(n);return r===void 0&&(r=Function.toString.call(n),kk.set(n,r)),r===Lne}function nx(e,t,n=!0){Dp(e)===0?(n?Reflect.ownKeys(e):oi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Dp(e){const t=e[Er];return t?t.type_:rx(e)?1:ix(e)?2:sx(e)?3:0}var Nk=(e,t,n=Dp(e))=>n===2?e.has(t):oi[tx].hasOwnProperty.call(e,t),m1=(e,t,n=Dp(e))=>n===2?e.get(t):e[t],ry=(e,t,n,r=Dp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function zne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var rx=Array.isArray,ix=e=>e instanceof Map,sx=e=>e instanceof Set,YP=e=>typeof e=="object",Ec=e=>typeof e=="function",ub=e=>typeof e=="boolean";function Vne(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Oo=e=>e.copy_||e.base_,XP=e=>e.modified_?e.copy_:e.base_;function g1(e,t){if(ix(e))return new Map(e);if(sx(e))return new Set(e);if(rx(e))return Array[tx].slice.call(e);const n=S6(e);if(t===!0||t==="class_only"&&!n){const r=oi.getOwnPropertyDescriptors(e);delete r[Er];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[Zg]===!1&&(a[Zg]=!0,a[p1]=!0),(a.get||a.set)&&(r[o]={[p1]:!0,[Zg]:!0,[ny]:a[ny],[Gh]:e[o]})}return oi.create(yd(e),r)}else{const r=yd(e);if(r!==null&&n)return{...e};const i=oi.create(r);return oi.assign(i,e)}}function QP(e,t=!1){return ox(e)||sa(e)||!hs(e)||(Dp(e)>1&&oi.defineProperties(e,{set:lg,add:lg,clear:lg,delete:lg}),oi.freeze(e),t&&nx(e,(n,r)=>{QP(r,!0)},!1)),e}function Fne(){ts(2)}var lg={[Gh]:Fne};function ox(e){return e===null||!YP(e)?!0:oi.isFrozen(e)}var iy="MapSet",v1="Patches",Ok="ArrayMethods",P6={};function Au(e){const t=P6[e];return t||ts(0,e),t}var jk=e=>!!P6[e],Zh,T6=()=>Zh,$ne=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:jk(iy)?Au(iy):void 0,arrayMethodsPlugin_:jk(Ok)?Au(Ok):void 0});function Rk(e,t){t&&(e.patchPlugin_=Au(v1),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function y1(e){x1(e),e.drafts_.forEach(Bne),e.drafts_=null}function x1(e){e===Zh&&(Zh=e.parent_)}var Mk=e=>Zh=$ne(Zh,e);function Bne(e){const t=e[Er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Dk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Er].modified_&&(y1(t),ts(4)),hs(e)&&(e=Lk(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Er].base_,e,t)}else e=Lk(t,n);return Une(t,e,!0),y1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E6?e:void 0}function Lk(e,t){if(ox(t))return t;const n=t[Er];if(!n)return sy(t,e.handledSet_,e);if(!ax(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);I6(n,e)}return n.copy_}function Une(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&QP(t,n)}function A6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ax=(e,t)=>e.scope_===t,Wne=[];function C6(e,t,n,r){const i=Oo(e),s=e.type_;if(r!==void 0&&m1(i,r,s)===t){ry(i,r,n,s);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;nx(i,(u,c)=>{if(sa(c)){const d=a.get(c)||[];d.push(u),a.set(c,d)}})}const o=e.draftLocations_.get(t)??Wne;for(const a of o)ry(i,a,n,s)}function Hne(e,t,n){e.callbacks_.push(function(i){var a;const s=t;if(!s||!ax(s,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(s);const o=XP(s);C6(e,s.draft_??s,o,n),I6(s,i)})}function I6(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}A6(e)}}function qne(e,t,n){const{scope_:r}=e;if(sa(n)){const i=n[Er];ax(i,r)&&i.callbacks_.push(function(){Yg(e);const o=XP(i);C6(e,n,o,t)})}else hs(n)&&e.callbacks_.push(function(){const s=Oo(e);e.type_===3?s.has(n)&&sy(n,r.handledSet_,r):m1(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&sy(m1(e.copy_,t,e.type_),r.handledSet_,r)})}function sy(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||sa(e)||t.has(e)||!hs(e)||ox(e)||(t.add(e),nx(e,(r,i)=>{if(sa(i)){const s=i[Er];if(ax(s,n)){const o=XP(s);ry(e,r,o,e.type_),A6(s)}}else hs(i)&&sy(i,t,n)})),e}function Kne(e,t){const n=rx(e),r={type_:n?1:0,scope_:t?t.scope_:T6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=oy;n&&(i=[r],s=Yh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var oy={get(e,t){if(t===Er)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Oo(e);if(!Nk(i,t,e.type_))return Gne(e,i,t);const s=i[t];if(e.finalized_||!hs(s)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&Vne(t))return s;if(s===cb(e.base_,t)){Yg(e);const o=e.type_===1?+t:t,a=b1(e.scope_,s,e,o);return e.copy_[o]=a}return s},has(e,t){return t in Oo(e)},ownKeys(e){return Reflect.ownKeys(Oo(e))},set(e,t,n){const r=k6(Oo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cb(Oo(e),t),s=i==null?void 0:i[Er];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(zne(n,i)&&(n!==void 0||Nk(e.base_,t,e.type_)))return!0;Yg(e),_1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),qne(e,t,n)),!0},deleteProperty(e,t){return Yg(e),cb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),_1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Oo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Zg]:!0,[p1]:e.type_!==1||t!=="length",[ny]:r[ny],[Gh]:n[t]}},defineProperty(){ts(11)},getPrototypeOf(e){return yd(e.base_)},setPrototypeOf(){ts(12)}},Yh={};for(let e in oy){let t=oy[e];Yh[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Yh.deleteProperty=function(e,t){return Yh.set.call(this,e,t,void 0)};Yh.set=function(e,t,n){return oy.set.call(this,e[0],t,n,e[0])};function cb(e,t){const n=e[Er];return(n?Oo(n):e)[t]}function Gne(e,t,n){var i;const r=k6(t,n);return r?Gh in r?r[Gh]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function k6(e,t){if(!(t in e))return;let n=yd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=yd(n)}}function _1(e){e.modified_||(e.modified_=!0,e.parent_&&_1(e.parent_))}function Yg(e){e.copy_||(e.assigned_=new Map,e.copy_=g1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ec(n)&&!Ec(r)){const o=r;r=n;const a=this;return function(c=o,...d){return a.produce(c,p=>r.call(this,p,...d))}}Ec(r)||ts(6),i!==void 0&&!Ec(i)&&ts(7);let s;if(hs(n)){const o=Mk(this),a=b1(o,n,void 0);let u=!0;try{s=r(a),u=!1}finally{u?y1(o):x1(o)}return Rk(o,i),Dk(s,o)}else if(!n||!YP(n)){if(s=r(n),s===void 0&&(s=n),s===E6&&(s=void 0),this.autoFreeze_&&QP(s,!0),i){const o=[],a=[];Au(v1).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:a}),i(o,a)}return s}else ts(1,n)},this.produceWithPatches=(n,r)=>{if(Ec(n))return(a,...u)=>this.produceWithPatches(a,c=>n(c,...u));let i,s;return[this.produce(n,r,(a,u)=>{i=a,s=u}),i,s]},ub(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ub(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ub(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hs(t)||ts(8),sa(t)&&(t=cs(t));const n=Mk(this),r=b1(n,t,void 0);return r[Er].isManual_=!0,x1(n),r}finishDraft(t,n){const r=t&&t[Er];(!r||!r.isManual_)&&ts(9);const{scope_:i}=r;return Rk(i,n),Dk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Au(v1).applyPatches_;return sa(t)?i(t,n):this.produce(t,s=>i(s,n))}};function b1(e,t,n,r){const[i,s]=ix(t)?Au(iy).proxyMap_(t,n):sx(t)?Au(iy).proxySet_(t,n):Kne(t,n);return((n==null?void 0:n.scope_)??T6()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?Hne(n,s,r):s.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:c}=u;s.modified_&&c&&c.generatePatches_(s,[],u)}),i}function cs(e){return sa(e)||ts(10,e),N6(e)}function N6(e){if(!hs(e)||ox(e))return e;const t=e[Er];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=g1(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=g1(e,!0);return nx(n,(i,s)=>{ry(n,i,N6(s))},r),t&&(t.finalized_=!1),n}var Yne=new Zne,O6=Yne.produce;function j6(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Xne=j6(),Qne=j6,Jne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ey:ey.apply(null,arguments)};function Bi(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ui(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>w6(r)&&r.type===e,n}var R6=class Kf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kf.prototype)}static get[Symbol.species](){return Kf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kf(...t[0].concat(this)):new Kf(...t.concat(this))}};function zk(e){return hs(e)?O6(e,()=>{}):e}function ug(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function ere(e){return typeof e=="boolean"}var tre=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new R6;return n&&(ere(n)?o.push(Xne):o.push(Qne(n.extraArgument))),o},M6="RTK_autoBatch",Nt=()=>e=>({payload:e,meta:{[M6]:!0}}),Vk=e=>t=>{setTimeout(t,e)},D6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Vk(10):e.type==="callback"?e.queueNotification:Vk(e.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),m=r.subscribe(p);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[M6]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},nre=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new R6(e);return r&&i.push(D6(typeof r=="object"?r:void 0)),i};function rre(e){const t=tre(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(ZP(n))a=b6(n);else throw new Error(ui(1));let u;typeof r=="function"?u=r(t):u=t();let c=ey;i&&(c=Jne({trace:!1,...typeof i=="object"&&i}));const d=Dne(...u),p=nre(d);let m=typeof o=="function"?o(p):p();const y=c(...m);return _6(a,s,y)}function L6(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ui(28));if(a in t)throw new Error(ui(29));return t[a]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function ire(e){return typeof e=="function"}function sre(e,t){let[n,r,i]=L6(t),s;if(ire(e))s=()=>zk(e());else{const a=zk(e);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,p)=>{if(p)if(sa(d)){const y=p(d,u);return y===void 0?d:y}else{if(hs(d))return O6(d,m=>p(m,u));{const m=p(d,u);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},a)}return o.getInitialState=s,o}var ore="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",are=(e=21)=>{let t="",n=e;for(;n--;)t+=ore[Math.random()*64|0];return t},lre=Symbol.for("rtk-slice-createasyncthunk");function ure(e,t){return`${e}/${t}`}function cre({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[lre];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ui(11));const a=(typeof i.reducers=="function"?i.reducers(fre()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,M){const z=typeof O=="string"?O:O.type;if(!z)throw new Error(ui(12));if(z in c.sliceCaseReducersByType)throw new Error(ui(13));return c.sliceCaseReducersByType[z]=M,d},addMatcher(O,M){return c.sliceMatchers.push({matcher:O,reducer:M}),d},exposeAction(O,M){return c.actionCreators[O]=M,d},exposeCaseReducer(O,M){return c.sliceCaseReducersByName[O]=M,d}};u.forEach(O=>{const M=a[O],z={reducerName:O,type:ure(s,O),createNotation:typeof i.reducers=="function"};pre(M)?gre(z,M,d,t):hre(z,M,d)});function p(){const[O={},M=[],z=void 0]=typeof i.extraReducers=="function"?L6(i.extraReducers):[i.extraReducers],k={...O,...c.sliceCaseReducersByType};return sre(i.initialState,C=>{for(let R in k)C.addCase(R,k[R]);for(let R of c.sliceMatchers)C.addMatcher(R.matcher,R.reducer);for(let R of M)C.addMatcher(R.matcher,R.reducer);z&&C.addDefaultCase(z)})}const m=O=>O,y=new Map,_=new WeakMap;let E;function w(O,M){return E||(E=p()),E(O,M)}function S(){return E||(E=p()),E.getInitialState()}function P(O,M=!1){function z(C){let R=C[O];return typeof R>"u"&&M&&(R=ug(_,z,S)),R}function k(C=m){const R=ug(y,M,()=>new WeakMap);return ug(R,C,()=>{const $={};for(const[j,V]of Object.entries(i.selectors??{}))$[j]=dre(V,C,()=>ug(_,C,S),M);return $})}return{reducerPath:O,getSelectors:k,get selectors(){return k(z)},selectSlice:z}}const A={name:s,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...P(o),injectInto(O,{reducerPath:M,...z}={}){const k=M??o;return O.inject({reducerPath:k,reducer:w},z),{...A,...P(k,!0)}}};return A}}function dre(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var Kr=cre();function fre(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function hre({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!mre(r))throw new Error(ui(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Bi(e,o):Bi(e))}function pre(e){return e._reducerDefinitionType==="asyncThunk"}function mre(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gre({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ui(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:d}=n,p=i(e,s,d);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),u&&r.addCase(p.rejected,u),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(t,{fulfilled:o||cg,pending:a||cg,rejected:u||cg,settled:c||cg})}function cg(){}var vre="task",z6="listener",V6="completed",JP="cancelled",yre=`task-${JP}`,xre=`task-${V6}`,w1=`${z6}-${JP}`,_re=`${z6}-${V6}`,lx=class{constructor(e){Im(this,"name","TaskAbortError");Im(this,"message");this.code=e,this.message=`${vre} ${JP} (reason: ${e})`}},eT=(e,t)=>{if(typeof e!="function")throw new TypeError(ui(32))},ay=()=>{},F6=(e,t=ay)=>(e.catch(t),e),$6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),uu=e=>{if(e.aborted)throw new lx(e.reason)};function B6(e,t){let n=ay;return new Promise((r,i)=>{const s=()=>i(new lx(e.reason));if(e.aborted){s();return}n=$6(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ay})}var bre=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof lx?"cancelled":"rejected",error:n}}finally{t==null||t()}},ly=e=>t=>F6(B6(e,t).then(n=>(uu(e),n))),U6=e=>{const t=ly(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Yc}=Object,Fk={},ux="listenerMiddleware",wre=(e,t)=>{const n=r=>$6(e,()=>r.abort(e.reason));return(r,i)=>{eT(r);const s=new AbortController;n(s);const o=bre(async()=>{uu(e),uu(s.signal);const a=await r({pause:ly(s.signal),delay:U6(s.signal),signal:s.signal});return uu(s.signal),a},()=>s.abort(xre));return i!=null&&i.autoJoin&&t.push(o.catch(ay)),{result:ly(e)(o),cancel(){s.abort(yre)}}}},Ere=(e,t)=>{const n=async(r,i)=>{uu(t);let s=()=>{};const a=[new Promise((u,c)=>{let d=e({predicate:r,effect:(p,m)=>{m.unsubscribe(),u([p,m.getState(),m.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&a.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await B6(t,Promise.race(a));return uu(t),u}finally{s()}};return(r,i)=>F6(n(r,i))},W6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Bi(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ui(21));return eT(s),{predicate:i,type:t,effect:s}},H6=Yc(e=>{const{type:t,predicate:n,effect:r}=W6(e);return{id:are(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ui(22))}}},{withTypes:()=>H6}),$k=(e,t)=>{const{type:n,effect:r,predicate:i}=W6(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},E1=e=>{e.pending.forEach(t=>{t.abort(w1)})},Sre=(e,t)=>()=>{for(const n of t.keys())E1(n);e.clear()},Bk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},q6=Yc(Bi(`${ux}/add`),{withTypes:()=>q6}),Pre=Bi(`${ux}/removeAll`),K6=Yc(Bi(`${ux}/remove`),{withTypes:()=>K6}),Tre=(...e)=>{console.error(`${ux}/error`,...e)},Lp=(e={})=>{const t=new Map,n=new Map,r=y=>{const _=n.get(y)??0;n.set(y,_+1)},i=y=>{const _=n.get(y)??1;_===1?n.delete(y):n.set(y,_-1)},{extra:s,onError:o=Tre}=e;eT(o);const a=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),_=>{y.unsubscribe(),_!=null&&_.cancelActive&&E1(y)}),u=y=>{const _=$k(t,y)??H6(y);return a(_)};Yc(u,{withTypes:()=>u});const c=y=>{const _=$k(t,y);return _&&(_.unsubscribe(),y.cancelActive&&E1(_)),!!_};Yc(c,{withTypes:()=>c});const d=async(y,_,E,w)=>{const S=new AbortController,P=Ere(u,S.signal),A=[];try{y.pending.add(S),r(y),await Promise.resolve(y.effect(_,Yc({},E,{getOriginalState:w,condition:(O,M)=>P(O,M).then(Boolean),take:P,delay:U6(S.signal),pause:ly(S.signal),extra:s,signal:S.signal,fork:wre(S.signal,A),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,M,z)=>{O!==S&&(O.abort(w1),z.delete(O))})},cancel:()=>{S.abort(w1),y.pending.delete(S)},throwIfCancelled:()=>{uu(S.signal)}})))}catch(O){O instanceof lx||Bk(o,O,{raisedBy:"effect"})}finally{await Promise.all(A),S.abort(_re),i(y),y.pending.delete(S)}},p=Sre(t,n);return{middleware:y=>_=>E=>{if(!w6(E))return _(E);if(q6.match(E))return u(E.payload);if(Pre.match(E)){p();return}if(K6.match(E))return c(E.payload);let w=y.getState();const S=()=>{if(w===Fk)throw new Error(ui(23));return w};let P;try{if(P=_(E),t.size>0){const A=y.getState(),O=Array.from(t.values());for(const M of O){let z=!1;try{z=M.predicate(E,A,w)}catch(k){z=!1,Bk(o,k,{raisedBy:"predicate"})}z&&d(M,E,y,S)}}}finally{w=Fk}return P},startListening:u,stopListening:c,clearListeners:p}};function ui(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Are={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},G6=Kr({name:"chartLayout",initialState:Are,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Cre,setLayout:Ire,setChartSize:kre,setScale:Nre}=G6.actions,Ore=G6.reducer;function Z6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ge(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(r){jre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jre(e,t,n){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,n){return Kn(e)||Kn(t)?n:ro(t)?Pu(e,t,n):typeof t=="function"?t(e):n}var Dre=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=t;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&Pe(e[s]))return Dc(Dc({},e),{},{[s]:e[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&Pe(e[o]))return Dc(Dc({},e),{},{[o]:e[o]+(i||0)})}return e},co=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Y6=(e,t,n,r)=>{if(r)return e.map(a=>a.coordinate);var i,s,o=e.map(a=>(a.coordinate===t&&(i=!0),a.coordinate===n&&(s=!0),a.coordinate));return i||o.push(t),s||o.push(n),o},X6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:a,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:p,niceTicks:m,axisType:y}=e;if(!o)return null;var _=a==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,E=i==="category"&&o.bandwidth?o.bandwidth()/_:0;if(E=y==="angleAxis"&&s&&s.length>=2?ur(s[0]-s[1])*2*E:E,p||m){var w=(p||m||[]).map((S,P)=>{var A=r?r.indexOf(S):S,O=o.map(A);return Ge(O)?{coordinate:O+E,value:S,offset:E,index:P}:null}).filter(Fr);return w}return u&&c?c.map((S,P)=>{var A=o.map(S);return Ge(A)?{coordinate:A+E,value:S,index:P,offset:E}:null}).filter(Fr):o.ticks&&d!=null?o.ticks(d).map((S,P)=>{var A=o.map(S);return Ge(A)?{coordinate:A+E,value:S,index:P,offset:E}:null}).filter(Fr):o.domain().map((S,P)=>{var A=o.map(S);return Ge(A)?{coordinate:A+E,value:r?r[S]:S,index:P,offset:E}:null}).filter(Fr)},Lre=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0,a=0;a<n;++a){var u=e[a],c=u==null?void 0:u[i];if(c!=null){var d=c[1],p=c[0],m=no(d)?p:d;m>=0?(c[0]=s,s+=m,c[1]=s):(c[0]=o,o+=m,c[1]=o)}}}},zre=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0;o<n;++o){var a=e[o],u=a==null?void 0:a[i];if(u!=null){var c=no(u[1])?u[0]:u[1];c>=0?(u[0]=s,s+=c,u[1]=s):(u[0]=0,u[1]=0)}}}},Vre={sign:Lre,expand:Cte,none:Su,silhouette:Ite,wiggle:kte,positive:zre},Fre=(e,t,n)=>{var r,i=(r=Vre[n])!==null&&r!==void 0?r:Su,s=Ate().keys(t).value((a,u)=>Number(It(a,u,0))).order(f1).offset(i),o=s(e);return o.forEach((a,u)=>{a.forEach((c,d)=>{var p=It(e[d],t[u],0);Array.isArray(p)&&p.length===2&&Pe(p[0])&&Pe(p[1])&&(c[0]=p[0],c[1]=p[1])})}),o};function $re(e){return e==null?void 0:String(e)}function Wk(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kn(i[t.dataKey])){var a=F3(n,"value",i[t.dataKey]);if(a)return a.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var u=It(i,Kn(o)?t.dataKey:o),c=t.scale.map(u);return Pe(c)?c:null}var Bre=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},Ure=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Wre=(e,t,n)=>{if(e!=null)return Ure(Object.keys(e).reduce((r,i)=>{var s=e[i];if(!s)return r;var{stackedData:o}=s,a=o.reduce((u,c)=>{var d=Z6(c,t,n),p=Bre(d);return!Ge(p[0])||!Ge(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},Hk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uy=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ex(t,d=>d.coordinate),s=1/0,o=1,a=i.length;o<a;o++){var u=i[o],c=i[o-1];s=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function Kk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Dc(Dc({},t),{},{dataKey:n,payload:r,value:i,name:s})}function cx(e,t){if(e)return String(e);if(typeof t=="string")return t}var Hre=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},qre=(e,t)=>t==="centric"?e.angle:e.radius,fa=e=>e.layout.width,ha=e=>e.layout.height,Kre=e=>e.layout.scale,Q6=e=>e.layout.margin,dx=G(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fx=G(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),J6="data-recharts-item-index",ez="data-recharts-item-id",zp=60;function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(r){Gre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gre(e,t,n){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xre=e=>e.brush.height;function Qre(e){var t=fx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:zp;return n+i}return n},0)}function Jre(e){var t=fx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:zp;return n+i}return n},0)}function eie(e){var t=dx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function tie(e){var t=dx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nn=G([fa,ha,Q6,Xre,Qre,Jre,eie,tie,x6,kne],(e,t,n,r,i,s,o,a,u,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+o,bottom:(n.bottom||0)+a},m=dg(dg({},p),d),y=m.bottom;m.bottom+=r,m=Dre(m,u,c);var _=e-m.left-m.right,E=t-m.top-m.bottom;return dg(dg({brushBottom:y},m),{},{width:Math.max(_,0),height:Math.max(E,0)})}),nie=G(Nn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),tz=G(fa,ha,(e,t)=>({x:0,y:0,width:e,height:t})),rie=x.createContext(null),Gr=()=>x.useContext(rie)!=null,hx=e=>e.brush,px=G([hx,Nn,Q6],(e,t,n)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Pe(e.width)?e.width:t.width})),nz={},rz={},iz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,a=null;const u=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{a!==null&&(n.apply(o,a),o=void 0,a=null)},p=()=>{c&&d(),E()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},_=()=>{m!==null&&(clearTimeout(m),m=null)},E=()=>{_(),o=void 0,a=null},w=()=>{d()},S=function(...P){if(i!=null&&i.aborted)return;o=this,a=P;const A=m==null;y(),u&&A&&d()};return S.schedule=y,S.cancel=E,S.flush=w,i==null||i.addEventListener("abort",E,{once:!0}),S}e.debounce=t})(iz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iz;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:a=!0,maxWait:u}=s,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let d,p=null;const m=t.debounce(function(...E){d=r.apply(this,E),p=null},i,{edges:c}),y=function(...E){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=r.apply(this,E),p=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,E),d)},_=()=>(m.flush(),d);return y.cancel=m.cancel,y.flush=_,y}e.debounce=n})(rz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rz;function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:a})}e.throttle=n})(nz);var iie=nz.throttle;const sie=oo(iie);var cy=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Hs={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},sz=(e,t,n)=>{var{width:r=Hs.width,height:i=Hs.height,aspect:s,maxHeight:o}=n,a=Tu(r)?e:Number(r),u=Tu(i)?t:Number(i);return s&&s>0&&(a?u=a/s:u&&(a=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:a,calculatedHeight:u}},oie={width:0,height:0,overflow:"visible"},aie={width:0,overflowX:"visible"},lie={height:0,overflowY:"visible"},uie={},cie=e=>{var{width:t,height:n}=e,r=Tu(t),i=Tu(n);return r&&i?oie:r?aie:i?lie:uie};function die(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i=Hs.width,s=Hs.height):i===void 0?i=r&&r>0?void 0:Hs.width:s===void 0&&(s=r&&r>0?void 0:Hs.height),{width:i,height:s}}function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S1.apply(null,arguments)}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){fie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fie(e,t,n){return(t=hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hie(e){var t=pie(e,"string");return typeof t=="symbol"?t:t+""}function pie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oz=x.createContext(Hs.initialDimension);function mie(e){return io(e.width)&&io(e.height)}function az(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return mie(i)?x.createElement(oz.Provider,{value:i},t):null}var tT=()=>x.useContext(oz),gie=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Hs.initialDimension,width:i,height:s,minWidth:o=Hs.minWidth,minHeight:a,maxHeight:u,children:c,debounce:d=Hs.debounce,id:p,className:m,onResize:y,style:_={}}=e,E=x.useRef(null),w=x.useRef();w.current=y,x.useImperativeHandle(t,()=>E.current);var[S,P]=x.useState({containerWidth:r.width,containerHeight:r.height}),A=x.useCallback((C,R)=>{P($=>{var j=Math.round(C),V=Math.round(R);return $.containerWidth===j&&$.containerHeight===V?$:{containerWidth:j,containerHeight:V}})},[]);x.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Dd;var C=V=>{var F,J=V[0];if(J!=null){var{width:fe,height:se}=J.contentRect;A(fe,se),(F=w.current)===null||F===void 0||F.call(w,fe,se)}};d>0&&(C=sie(C,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),{width:$,height:j}=E.current.getBoundingClientRect();return A($,j),R.observe(E.current),()=>{R.disconnect()}},[A,d]);var{containerWidth:O,containerHeight:M}=S;cy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:z,calculatedHeight:k}=sz(O,M,{width:i,height:s,aspect:n,maxHeight:u});return cy(z!=null&&z>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,k,i,s,o,a,n),x.createElement("div",{id:p?"".concat(p):void 0,className:ft("recharts-responsive-container",m),style:Yk(Yk({},_),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:u}),ref:E},x.createElement("div",{style:cie({width:i,height:s})},x.createElement(az,{width:z,height:k},c)))}),lz=x.forwardRef((e,t)=>{var n=tT();if(io(n.width)&&io(n.height))return e.children;var{width:r,height:i}=die({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=sz(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Pe(s)&&Pe(o)?x.createElement(az,{width:s,height:o},e.children):x.createElement(gie,S1({},e,{width:r,height:i,ref:t}))});function nT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var mx=()=>{var e,t=Gr(),n=Ie(nie),r=Ie(px),i=(e=Ie(hx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uz=()=>{var e;return(e=Ie(Nn))!==null&&e!==void 0?e:vie},cz=()=>Ie(fa),dz=()=>Ie(ha),xt=e=>e.layout.layoutType,Ld=()=>Ie(xt),rT=()=>{var e=Ld();if(e==="horizontal"||e==="vertical")return e},fz=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},yie=()=>{var e=Ld();return e!==void 0},Vp=e=>{var t=Mt(),n=Gr(),{width:r,height:i}=e,s=tT(),o=r,a=i;return s&&(o=s.width>0?s.width:r,a=s.height>0?s.height:i),x.useEffect(()=>{!n&&io(o)&&io(a)&&t(kre({width:o,height:a}))},[t,n,o,a]),null},hz=Symbol.for("immer-nothing"),Xk=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function ns(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xh=Object.getPrototypeOf;function xd(e){return!!e&&!!e[fi]}function Cu(e){var t;return e?pz(e)||Array.isArray(e)||!!e[Xk]||!!((t=e.constructor)!=null&&t[Xk])||Fp(e)||vx(e):!1}var xie=Object.prototype.constructor.toString(),Qk=new WeakMap;function pz(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Qk.get(n);return r===void 0&&(r=Function.toString.call(n),Qk.set(n,r)),r===xie}function dy(e,t,n=!0){gx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function gx(e){const t=e[fi];return t?t.type_:Array.isArray(e)?1:Fp(e)?2:vx(e)?3:0}function P1(e,t){return gx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mz(e,t,n){const r=gx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _ie(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fp(e){return e instanceof Map}function vx(e){return e instanceof Set}function ql(e){return e.copy_||e.base_}function T1(e,t){if(Fp(e))return new Map(e);if(vx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=pz(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[fi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Xh(e),r)}else{const r=Xh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function iT(e,t=!1){return yx(e)||xd(e)||!Cu(e)||(gx(e)>1&&Object.defineProperties(e,{set:fg,add:fg,clear:fg,delete:fg}),Object.freeze(e),t&&Object.values(e).forEach(n=>iT(n,!0))),e}function bie(){ns(2)}var fg={value:bie};function yx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var wie={};function Iu(e){const t=wie[e];return t||ns(0,e),t}var Qh;function gz(){return Qh}function Eie(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jk(e,t){t&&(Iu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function A1(e){C1(e),e.drafts_.forEach(Sie),e.drafts_=null}function C1(e){e===Qh&&(Qh=e.parent_)}function eN(e){return Qh=Eie(Qh,e)}function Sie(e){const t=e[fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[fi].modified_&&(A1(t),ns(4)),Cu(e)&&(e=fy(t,e),t.parent_||hy(t,e)),t.patches_&&Iu("Patches").generateReplacementPatches_(n[fi].base_,e,t.patches_,t.inversePatches_)):e=fy(t,n,[]),A1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hz?e:void 0}function fy(e,t,n){if(yx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[fi];if(!i)return dy(t,(s,o)=>nN(e,i,t,s,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return hy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,a=!1;i.type_===3&&(o=new Set(s),s.clear(),a=!0),dy(o,(u,c)=>nN(e,i,s,u,c,n,a),r),hy(e,s,!1),n&&e.patches_&&Iu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function nN(e,t,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const a=yx(i);if(!(a&&!o)){if(xd(i)){const u=s&&t&&t.type_!==3&&!P1(t.assigned_,r)?s.concat(r):void 0,c=fy(e,i,u);if(mz(n,r,c),xd(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Cu(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;fy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Fp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&hy(e,i)}}}function hy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iT(t,n)}function Pie(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:gz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=sT;n&&(i=[r],s=Jh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var sT={get(e,t){if(t===fi)return e;const n=ql(e);if(!P1(n,t))return Tie(e,n,t);const r=n[t];return e.finalized_||!Cu(r)?r:r===db(e.base_,t)?(fb(e),e.copy_[t]=k1(r,e)):r},has(e,t){return t in ql(e)},ownKeys(e){return Reflect.ownKeys(ql(e))},set(e,t,n){const r=vz(ql(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=db(ql(e),t),s=i==null?void 0:i[fi];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_ie(n,i)&&(n!==void 0||P1(e.base_,t)))return!0;fb(e),I1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return db(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fb(e),I1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ql(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ns(11)},getPrototypeOf(e){return Xh(e.base_)},setPrototypeOf(){ns(12)}},Jh={};dy(sT,(e,t)=>{Jh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Jh.deleteProperty=function(e,t){return Jh.set.call(this,e,t,void 0)};Jh.set=function(e,t,n){return sT.set.call(this,e[0],t,n,e[0])};function db(e,t){const n=e[fi];return(n?ql(n):e)[t]}function Tie(e,t,n){var i;const r=vz(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function vz(e,t){if(!(t in e))return;let n=Xh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xh(n)}}function I1(e){e.modified_||(e.modified_=!0,e.parent_&&I1(e.parent_))}function fb(e){e.copy_||(e.copy_=T1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Aie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&ns(6),r!==void 0&&typeof r!="function"&&ns(7);let i;if(Cu(t)){const s=eN(this),o=k1(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?A1(s):C1(s)}return Jk(s,r),tN(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===hz&&(i=void 0),this.autoFreeze_&&iT(i,!0),r){const s=[],o=[];Iu("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else ns(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,u=>t(u,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Cu(e)||ns(8),xd(e)&&(e=Cie(e));const t=eN(this),n=k1(e,void 0);return n[fi].isManual_=!0,C1(t),n}finishDraft(e,t){const n=e&&e[fi];(!n||!n.isManual_)&&ns(9);const{scope_:r}=n;return Jk(r,t),tN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Iu("Patches").applyPatches_;return xd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function k1(e,t){const n=Fp(e)?Iu("MapSet").proxyMap_(e,t):vx(e)?Iu("MapSet").proxySet_(e,t):Pie(e,t);return(t?t.scope_:gz()).drafts_.push(n),n}function Cie(e){return xd(e)||ns(10,e),yz(e)}function yz(e){if(!Cu(e)||yx(e))return e;const t=e[fi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=T1(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=T1(e,!0);return dy(n,(i,s)=>{mz(n,i,yz(s))},r),t&&(t.finalized_=!1),n}var Iie=new Aie;Iie.produce;var kie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xz=Kr({name:"legend",initialState:kie,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Nt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=cs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Nt()},removeLegendPayload:{reducer(e,t){var n=cs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Nt()}}}),{setLegendSize:xwe,setLegendSettings:_we,addLegendPayload:_z,replaceLegendPayload:bz,removeLegendPayload:wz}=xz.actions,Nie=xz.reducer;function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N1.apply(null,arguments)}function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){Oie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oie(e,t,n){return(t=jie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mie(e){return Array.isArray(e)&&ro(e[0])&&ro(e[1])?e.join(" ~ "):e}var pc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Die=e=>{var{separator:t=pc.separator,contentStyle:n,itemStyle:r,labelStyle:i=pc.labelStyle,payload:s,formatter:o,itemSorter:a,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:p,accessibilityLayer:m=pc.accessibilityLayer}=e,y=()=>{if(s&&s.length){var M={padding:0,margin:0},z=(a?ex(s,a):s).map((k,C)=>{if(k.type==="none")return null;var R=k.formatter||o||Mie,{value:$,name:j}=k,V=$,F=j;if(R){var J=R($,j,k,C,s);if(Array.isArray(J))[V,F]=J;else if(J!=null)V=J;else return null}var fe=Cf(Cf({},pc.itemStyle),{},{color:k.color||pc.itemStyle.color},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:fe},ro(F)?x.createElement("span",{className:"recharts-tooltip-item-name"},F):null,ro(F)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},V),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:M},z)}return null},_=Cf(Cf({},pc.contentStyle),n),E=Cf({margin:0},i),w=!Kn(d),S=w?d:"",P=ft("recharts-default-tooltip",u),A=ft("recharts-tooltip-label",c);w&&p&&s!==void 0&&s!==null&&(S=p(d,s));var O=m?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",N1({className:P,style:_},O),x.createElement("p",{className:A,style:E},x.isValidElement(S)?S:"".concat(S)),y())},If="recharts-tooltip-wrapper",Lie={visibility:"hidden"};function zie(e){var{coordinate:t,translateX:n,translateY:r}=e;return ft(If,{["".concat(If,"-right")]:Pe(n)&&t&&Pe(t.x)&&n>=t.x,["".concat(If,"-left")]:Pe(n)&&t&&Pe(t.x)&&n<t.x,["".concat(If,"-bottom")]:Pe(r)&&t&&Pe(t.y)&&r>=t.y,["".concat(If,"-top")]:Pe(r)&&t&&Pe(t.y)&&r<t.y})}function iN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:s,reverseDirection:o,tooltipDimension:a,viewBox:u,viewBoxDimension:c}=e;if(s&&Pe(s[r]))return s[r];var d=n[r]-a-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?d:p;var m=u[r];if(m==null)return 0;if(o[r]){var y=d,_=m;return y<_?Math.max(p,m):Math.max(d,m)}if(c==null)return 0;var E=p+a,w=m+c;return E>w?Math.max(d,m):Math.max(p,m)}function Vie(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Fie(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:o,tooltipBox:a,useTranslate3d:u,viewBox:c}=e,d,p,m;return a.height>0&&a.width>0&&n?(p=iN({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:s,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),m=iN({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:s,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=Vie({translateX:p,translateY:m,useTranslate3d:u})):d=Lie,{cssProperties:d,cssClasses:zie({translateX:p,translateY:m,coordinate:n})}}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){O1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O1(e,t,n){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=Bie(e,"string");return typeof t=="symbol"?t:t+""}function Bie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Uie extends x.PureComponent{constructor(){super(...arguments),O1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),O1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:a,isAnimationActive:u,offset:c,position:d,reverseDirection:p,useTranslate3d:m,viewBox:y,wrapperStyle:_,lastBoundingBox:E,innerRef:w,hasPortalFromProps:S}=this.props,P=typeof c=="number"?c:c.x,A=typeof c=="number"?c:c.y,{cssClasses:O,cssProperties:M}=Fie({allowEscapeViewBox:n,coordinate:o,offsetLeft:P,offsetTop:A,position:d,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:m,viewBox:y}),z=S?{}:hg(hg({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),k=hg(hg({},z),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},_);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:w},s)}}var Ez=()=>{var e;return(e=Ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j1.apply(null,arguments)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){Wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wie(e,t,n){return(t=Hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lN={curveBasisClosed:gte,curveBasisOpen:vte,curveBasis:mte,curveBumpX:tte,curveBumpY:nte,curveLinearClosed:yte,curveLinear:q0,curveMonotoneX:xte,curveMonotoneY:_te,curveNatural:bte,curveStep:wte,curveStepAfter:Ste,curveStepBefore:Ete},py=e=>Ge(e.x)&&Ge(e.y),uN=e=>e.base!=null&&py(e.base)&&py(e),kf=e=>e.x,Nf=e=>e.y,Kie=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Mp(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=lN["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return lN[n]||q0},cN={connectNulls:!1,type:"linear"},Gie=e=>{var{type:t=cN.type,points:n=[],baseLine:r,layout:i,connectNulls:s=cN.connectNulls}=e,o=Kie(t,i),a=s?n.filter(py):n;if(Array.isArray(r)){var u,c=n.map((_,E)=>aN(aN({},_),{},{base:r[E]}));i==="vertical"?u=sg().y(Nf).x1(kf).x0(_=>_.base.x):u=sg().x(kf).y1(Nf).y0(_=>_.base.y);var d=u.defined(uN).curve(o),p=s?c.filter(uN):c;return d(p)}var m;i==="vertical"&&Pe(r)?m=sg().y(Nf).x1(kf).x0(r):Pe(r)?m=sg().x(kf).y1(Nf).y0(r):m=T3().x(kf).y(Nf);var y=m.defined(py).curve(o);return y(a)},Xc=e=>{var{className:t,points:n,path:r,pathRef:i}=e,s=Ld();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},a=n&&n.length?Gie(o):r;return x.createElement("path",j1({},di(e),LP(e),{className:ft("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Zie=["x","y","top","left","width","height","className"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R1.apply(null,arguments)}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){Xie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xie(e,t,n){return(t=Qie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qie(e){var t=Jie(e,"string");return typeof t=="symbol"?t:t+""}function Jie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ese(e,t){if(e==null)return{};var n,r,i=tse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nse=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),rse=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:a}=e,u=ese(e,Zie),c=Yie({x:t,y:n,top:r,left:i,width:s,height:o},u);return!Pe(t)||!Pe(n)||!Pe(s)||!Pe(o)||!Pe(r)||!Pe(i)?null:x.createElement("path",R1({},wr(c),{className:ft("recharts-cross",a),d:nse(t,n,s,o,r,i)}))};function ise(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function fN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(n),!0).forEach(function(r){sse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sse(e,t,n){return(t=ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lse=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Sz=(e,t,n)=>e.map(r=>"".concat(lse(r)," ").concat(t,"ms ").concat(n)).join(","),use=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),ep=(e,t)=>Object.keys(t).reduce((n,r)=>hN(hN({},n),{},{[r]:e(r,t[r])}),{});function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){cse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cse(e,t,n){return(t=dse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dse(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=(e,t,n)=>e+(t-e)*n,M1=e=>{var{from:t,to:n}=e;return t!==n},Pz=(e,t,n)=>{var r=ep((i,s)=>{if(M1(s)){var[o,a]=e(s.from,s.to,s.velocity);return pn(pn({},s),{},{from:o,velocity:a})}return s},t);return n<1?ep((i,s)=>M1(s)&&r[i]!=null?pn(pn({},s),{},{velocity:my(s.velocity,r[i].velocity,n),from:my(s.from,r[i].from,n)}):s,t):Pz(e,r,n-1)};function hse(e,t,n,r,i,s){var o,a=r.reduce((m,y)=>pn(pn({},m),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>ep((m,y)=>y.from,a),c=()=>!Object.values(a).filter(M1).length,d=null,p=m=>{o||(o=m);var y=m-o,_=y/n.dt;a=Pz(n,a,_),i(pn(pn(pn({},e),t),u())),o=m,c()||(d=s.setTimeout(p))};return()=>(d=s.setTimeout(p),()=>{var m;(m=d)===null||m===void 0||m()})}function pse(e,t,n,r,i,s,o){var a=null,u=i.reduce((p,m)=>{var y=e[m],_=t[m];return y==null||_==null?p:pn(pn({},p),{},{[m]:[y,_]})},{}),c,d=p=>{c||(c=p);var m=(p-c)/r,y=ep((E,w)=>my(...w,n(m)),u);if(s(pn(pn(pn({},e),t),y)),m<1)a=o.setTimeout(d);else{var _=ep((E,w)=>my(...w,n(1)),u);s(pn(pn(pn({},e),t),_))}};return()=>(a=o.setTimeout(d),()=>{var p;(p=a)===null||p===void 0||p()})}const mse=(e,t,n,r,i,s)=>{var o=use(e,t);return n==null?()=>(i(pn(pn({},e),t)),()=>{}):n.isStepper===!0?hse(e,t,n,o,i,s):pse(e,t,n,r,o,i,s)};var gy=1e-4,Tz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Az=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),mN=(e,t)=>n=>{var r=Tz(e,t);return Az(r,n)},gse=(e,t)=>n=>{var r=Tz(e,t),i=[...r.map((s,o)=>s*o).slice(1),0];return Az(i,n)},vse=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},yse=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=vse(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},xse=(e,t,n,r)=>{var i=mN(e,n),s=mN(t,r),o=gse(e,n),a=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,p=d,m=0;m<8;++m){var y=i(p)-d,_=o(p);if(Math.abs(y-d)<gy||_<gy)return s(p);p=a(p-y/_)}return s(p)};return u.isStepper=!1,u},gN=function(){return xse(...yse(...arguments))},_se=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(o,a,u)=>{var c=-(o-a)*n,d=u*r,p=u+(c-d)*i/1e3,m=u*i/1e3+o;return Math.abs(m-a)<gy&&Math.abs(p)<gy?[a,0]:[m,p]};return s.isStepper=!0,s.dt=i,s},bse=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gN(e);case"spring":return _se();default:if(e.split("(")[0]==="cubic-bezier")return gN(e)}return typeof e=="function"?e:null};function wse(e){var t,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[u,...c]=a;if(typeof u=="number"){i=e.setTimeout(s.bind(null,c),u);return}s(u),i=e.setTimeout(s.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Ese{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Sse(){return wse(new Ese)}var Pse=x.createContext(Sse);function Tse(e,t){var n=x.useContext(Pse);return x.useMemo(()=>t??n(e),[e,t,n])}var Ase=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$p={isSsr:Ase()},Cse={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vN={t:0},hb={t:1};function xx(e){var t=Gn(e,Cse),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:u,children:c}=t,d=n==="auto"?!$p.isSsr:n,p=Tse(t.animationId,t.animationManager),[m,y]=x.useState(d?vN:hb),_=x.useRef(null);return x.useEffect(()=>{d||y(hb)},[d]),x.useEffect(()=>{if(!d||!r)return Dd;var E=mse(vN,hb,bse(s),i,y,p.getTimeoutController()),w=()=>{_.current=E()};return p.start([u,o,w,i,a]),()=>{p.stop(),_.current&&_.current(),a()}},[d,r,i,s,o,u,a,p]),c(m.t)}function _x(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Kh(t)),r=x.useRef(e);return r.current!==e&&(n.current=Kh(t),r.current=e),n.current}var Ise=["radius"],kse=["radius"],yN,xN,_N,bN,wN,EN,SN,PN,TN,AN;function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){Nse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nse(e,t,n){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ose(e){var t=jse(e,"string");return typeof t=="symbol"?t:t+""}function jse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function kN(e,t){if(e==null)return{};var n,r,i=Rse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ms(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NN=(e,t,n,r,i)=>{var s=Ua(n),o=Ua(r),a=Math.min(Math.abs(s)/2,Math.abs(o)/2),u=o>=0?1:-1,c=s>=0?1:-1,d=o>=0&&s>=0||o<0&&s<0?1:0,p;if(a>0&&Array.isArray(i)){for(var m=[0,0,0,0],y=0,_=4;y<_;y++){var E,w=(E=i[y])!==null&&E!==void 0?E:0;m[y]=w>a?a:w}p=Ut(yN||(yN=Ms(["M",",",""])),e,t+u*m[0]),m[0]>0&&(p+=Ut(xN||(xN=Ms(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+c*m[0],t)),p+=Ut(_N||(_N=Ms(["L ",",",""])),e+n-c*m[1],t),m[1]>0&&(p+=Ut(bN||(bN=Ms(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+n,t+u*m[1])),p+=Ut(wN||(wN=Ms(["L ",",",""])),e+n,t+r-u*m[2]),m[2]>0&&(p+=Ut(EN||(EN=Ms(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+n-c*m[2],t+r)),p+=Ut(SN||(SN=Ms(["L ",",",""])),e+c*m[3],t+r),m[3]>0&&(p+=Ut(PN||(PN=Ms(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+r-u*m[3])),p+="Z"}else if(a>0&&i===+i&&i>0){var S=Math.min(a,i);p=Ut(TN||(TN=Ms(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*S,S,S,d,e+c*S,t,e+n-c*S,t,S,S,d,e+n,t+u*S,e+n,t+r-u*S,S,S,d,e+n-c*S,t+r,e+c*S,t+r,S,S,d,e,t+r-u*S)}else p=Ut(AN||(AN=Ms(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},ON={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cz=e=>{var t=Gn(e,ON),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:s,y:o,width:a,height:u,radius:c,className:d}=t,{animationEasing:p,animationDuration:m,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:E}=t,w=x.useRef(a),S=x.useRef(u),P=x.useRef(s),A=x.useRef(o),O=x.useMemo(()=>({x:s,y:o,width:a,height:u,radius:c}),[s,o,a,u,c]),M=_x(O,"rectangle-");if(s!==+s||o!==+o||a!==+a||u!==+u||a===0||u===0)return null;var z=ft("recharts-rectangle",d);if(!E){var k=wr(t),{radius:C}=k,R=kN(k,Ise);return x.createElement("path",vy({},R,{x:Ua(s),y:Ua(o),width:Ua(a),height:Ua(u),radius:typeof c=="number"?c:void 0,className:z,d:NN(s,o,a,u,c)}))}var $=w.current,j=S.current,V=P.current,F=A.current,J="0px ".concat(r===-1?1:r,"px"),fe="".concat(r,"px 0px"),se=Sz(["strokeDasharray"],m,typeof p=="string"?p:ON.animationEasing);return x.createElement(xx,{animationId:M,key:M,canBegin:r>0,duration:m,easing:p,isActive:E,begin:y},ie=>{var W=Fn($,a,ie),ne=Fn(j,u,ie),K=Fn(V,s,ie),oe=Fn(F,o,ie);n.current&&(w.current=W,S.current=ne,P.current=K,A.current=oe);var ue;_?ie>0?ue={transition:se,strokeDasharray:fe}:ue={strokeDasharray:J}:ue={strokeDasharray:fe};var Ae=wr(t),{radius:be}=Ae,Ce=kN(Ae,kse);return x.createElement("path",vy({},Ce,{radius:typeof c=="number"?c:void 0,className:z,d:NN(K,oe,W,ne,c),ref:n,style:IN(IN({},ue),t.style)}))})};function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){Mse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mse(e,t,n){return(t=Dse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dse(e){var t=Lse(e,"string");return typeof t=="symbol"?t:t+""}function Lse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yy=Math.PI/180,zse=e=>e*180/Math.PI,cn=(e,t,n,r)=>({x:e+Math.cos(-yy*r)*n,y:t+Math.sin(-yy*r)*n}),Iz=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Vse=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},Fse=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,o=Vse({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,u=Math.acos(a);return r>s&&(u=2*Math.PI-u),{radius:o,angle:zse(u),angleInRadian:u}},$se=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},Bse=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return e+o*360},Use=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=Fse({x:n,y:r},t),{innerRadius:o,outerRadius:a}=t;if(i<o||i>a||i===0)return null;var{startAngle:u,endAngle:c}=$se(t),d=s,p;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}return p?RN(RN({},t),{},{radius:i,angle:Bse(d,t)}):null};function kz(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,o=cn(t,n,r,i),a=cn(t,n,r,s);return{points:[o,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}var MN,DN,LN,zN,VN,FN,$N;function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D1.apply(null,arguments)}function eu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wse=(e,t)=>{var n=ur(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},pg=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:a,cornerIsExternal:u}=e,c=a*(o?1:-1)+r,d=Math.asin(a/c)/yy,p=u?i:i+s*d,m=cn(t,n,c,p),y=cn(t,n,r,p),_=u?i-s*d:i,E=cn(t,n,c*Math.cos(d*yy),_);return{center:m,circleTangency:y,lineTangency:E,theta:d}},Nz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=e,a=Wse(s,o),u=s+a,c=cn(t,n,i,s),d=cn(t,n,i,u),p=Ut(MN||(MN=eu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(a)>180),+(s>u),d.x,d.y);if(r>0){var m=cn(t,n,r,s),y=cn(t,n,r,u);p+=Ut(DN||(DN=eu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(a)>180),+(s<=u),m.x,m.y)}else p+=Ut(LN||(LN=eu(["L ",","," Z"])),t,n);return p},Hse=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:a,startAngle:u,endAngle:c}=e,d=ur(c-u),{circleTangency:p,lineTangency:m,theta:y}=pg({cx:t,cy:n,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:a}),{circleTangency:_,lineTangency:E,theta:w}=pg({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:a}),S=a?Math.abs(u-c):Math.abs(u-c)-y-w;if(S<0)return o?Ut(zN||(zN=eu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):Nz({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var P=Ut(VN||(VN=eu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(d<0),p.x,p.y,i,i,+(S>180),+(d<0),_.x,_.y,s,s,+(d<0),E.x,E.y);if(r>0){var{circleTangency:A,lineTangency:O,theta:M}=pg({cx:t,cy:n,radius:r,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:z,lineTangency:k,theta:C}=pg({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),R=a?Math.abs(u-c):Math.abs(u-c)-M-C;if(R<0&&s===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+=Ut(FN||(FN=eu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,s,s,+(d<0),z.x,z.y,r,r,+(R>180),+(d>0),A.x,A.y,s,s,+(d<0),O.x,O.y)}else P+=Ut($N||($N=eu(["L",",","Z"])),t,n);return P},qse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Oz=e=>{var t=Gn(e,qse),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:d,className:p}=t;if(s<i||c===d)return null;var m=ft("recharts-sector",p),y=s-i,_=li(o,y,0,!0),E;return _>0&&Math.abs(c-d)<360?E=Hse({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,y/2),forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:d}):E=Nz({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}),x.createElement("path",D1({},wr(t),{className:m,d:E}))};function Kse(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(U3(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:o,angle:a}=t,u=cn(r,i,s,a),c=cn(r,i,o,a);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return kz(t)}}var jz={},Rz={},Mz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Mz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mz;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Rz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP,n=Rz;function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),u=new Array(a);for(let c=0;c<a;c++)u[c]=i,i+=o;return u}e.range=r})(jz);var Gse=jz.range;const Dz=oo(Gse);function rl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zse(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oT(e){let t,n,r;e.length!==2?(t=rl,n=(a,u)=>rl(e(a),u),r=(a,u)=>e(a)-u):(t=e===rl||e===Zse?e:Yse,n=e,r=e);function i(a,u,c=0,d=a.length){if(c<d){if(t(u,u)!==0)return d;do{const p=c+d>>>1;n(a[p],u)<0?c=p+1:d=p}while(c<d)}return c}function s(a,u,c=0,d=a.length){if(c<d){if(t(u,u)!==0)return d;do{const p=c+d>>>1;n(a[p],u)<=0?c=p+1:d=p}while(c<d)}return c}function o(a,u,c=0,d=a.length){const p=i(a,u,c,d-1);return p>c&&r(a[p-1],u)>-r(a[p],u)?p-1:p}return{left:i,center:o,right:s}}function Yse(){return 0}function Lz(e){return e===null?NaN:+e}function*Xse(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Qse=oT(rl),Bp=Qse.right;oT(Lz).center;class BN extends Map{constructor(t,n=toe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(UN(this,t))}has(t){return super.has(UN(this,t))}set(t,n){return super.set(Jse(this,t),n)}delete(t){return super.delete(eoe(this,t))}}function UN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Jse({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function eoe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function toe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function noe(e=rl){if(e===rl)return zz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function zz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const roe=Math.sqrt(50),ioe=Math.sqrt(10),soe=Math.sqrt(2);function xy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=roe?10:s>=ioe?5:s>=soe?2:1;let a,u,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),u=Math.round(t*c),a/c<e&&++a,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),u=Math.round(t/c),a*c<e&&++a,u*c>t&&--u),u<a&&.5<=n&&n<2?xy(e,t,n*2):[a,u,c]}function L1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?xy(t,e,n):xy(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)u[c]=(s-c)/-o;else for(let c=0;c<a;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)u[c]=(i+c)/-o;else for(let c=0;c<a;++c)u[c]=(i+c)*o;return u}function z1(e,t,n){return t=+t,e=+e,n=+n,xy(e,t,n)[2]}function V1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?z1(t,e,n):z1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function WN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Vz(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?zz:noe(i);r>n;){if(r-n>600){const u=r-n+1,c=t-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*p*(u-p)/u)*(c-u/2<0?-1:1),y=Math.max(n,Math.floor(t-c*p/u+m)),_=Math.min(r,Math.floor(t+(u-c)*p/u+m));Vz(e,t,y,_,i)}const s=e[t];let o=n,a=r;for(Of(e,n,t),i(e[r],s)>0&&Of(e,n,r);o<a;){for(Of(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?Of(e,n,a):(++a,Of(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Of(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ooe(e,t,n){if(e=Float64Array.from(Xse(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HN(e);if(t>=1)return WN(e);var r,i=(r-1)*t,s=Math.floor(i),o=WN(Vz(e,s).subarray(0,s+1)),a=HN(e.subarray(s+1));return o+(a-o)*(i-s)}}function aoe(e,t,n=Lz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function loe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const F1=Symbol("implicit");function aT(){var e=new BN,t=[],n=[],r=F1;function i(s){let o=e.get(s);if(o===void 0){if(r!==F1)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new BN;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return aT(t,n).unknown(r)},Hi.apply(i,arguments),i}function lT(){var e=aT().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,c=0,d=.5;delete e.unknown;function p(){var m=t().length,y=i<r,_=y?i:r,E=y?r:i;s=(E-_)/Math.max(1,m-u+c*2),a&&(s=Math.floor(s)),_+=(E-_-s*(m-u))*d,o=s*(1-u),a&&(_=Math.round(_),o=Math.round(o));var w=loe(m).map(function(S){return _+s*S});return n(y?w.reverse():w)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,a=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(a=!!m,p()):a},e.padding=function(m){return arguments.length?(u=Math.min(1,c=+m),p()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},e.paddingOuter=function(m){return arguments.length?(c=+m,p()):c},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},e.copy=function(){return lT(t(),[r,i]).round(a).paddingInner(u).paddingOuter(c).align(d)},Hi.apply(p(),arguments)}function Fz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fz(t())},e}function uoe(){return Fz(lT.apply(null,arguments).paddingInner(1))}function uT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $z(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Up(){}var tp=.7,_y=1/tp,Qc="\\s*([+-]?\\d+)\\s*",np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",coe=/^#([0-9a-f]{3,8})$/,doe=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),foe=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),hoe=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${np}\\)$`),poe=new RegExp(`^rgba\\(${eo},${eo},${eo},${np}\\)$`),moe=new RegExp(`^hsl\\(${np},${eo},${eo}\\)$`),goe=new RegExp(`^hsla\\(${np},${eo},${eo},${np}\\)$`),qN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uT(Up,rp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KN,formatHex:KN,formatHex8:voe,formatHsl:yoe,formatRgb:GN,toString:GN});function KN(){return this.rgb().formatHex()}function voe(){return this.rgb().formatHex8()}function yoe(){return Bz(this).formatHsl()}function GN(){return this.rgb().formatRgb()}function rp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=coe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ZN(t):n===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=doe.exec(e))?new $r(t[1],t[2],t[3],1):(t=foe.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hoe.exec(e))?mg(t[1],t[2],t[3],t[4]):(t=poe.exec(e))?mg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=moe.exec(e))?QN(t[1],t[2]/100,t[3]/100,1):(t=goe.exec(e))?QN(t[1],t[2]/100,t[3]/100,t[4]):qN.hasOwnProperty(e)?ZN(qN[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function ZN(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function mg(e,t,n,r){return r<=0&&(e=t=n=NaN),new $r(e,t,n,r)}function xoe(e){return e instanceof Up||(e=rp(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function $1(e,t,n,r){return arguments.length===1?xoe(e):new $r(e,t,n,r??1)}function $r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}uT($r,$1,$z(Up,{brighter(e){return e=e==null?_y:Math.pow(_y,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tp:Math.pow(tp,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(cu(this.r),cu(this.g),cu(this.b),by(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YN,formatHex:YN,formatHex8:_oe,formatRgb:XN,toString:XN}));function YN(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}`}function _oe(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}${tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function XN(){const e=by(this.opacity);return`${e===1?"rgb(":"rgba("}${cu(this.r)}, ${cu(this.g)}, ${cu(this.b)}${e===1?")":`, ${e})`}`}function by(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tu(e){return e=cu(e),(e<16?"0":"")+e.toString(16)}function QN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rs(e,t,n,r)}function Bz(e){if(e instanceof rs)return new rs(e.h,e.s,e.l,e.opacity);if(e instanceof Up||(e=rp(e)),!e)return new rs;if(e instanceof rs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new rs(o,a,u,e.opacity)}function boe(e,t,n,r){return arguments.length===1?Bz(e):new rs(e,t,n,r??1)}function rs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}uT(rs,boe,$z(Up,{brighter(e){return e=e==null?_y:Math.pow(_y,e),new rs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tp:Math.pow(tp,e),new rs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $r(pb(e>=240?e-240:e+120,i,r),pb(e,i,r),pb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rs(JN(this.h),gg(this.s),gg(this.l),by(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=by(this.opacity);return`${e===1?"hsl(":"hsla("}${JN(this.h)}, ${gg(this.s)*100}%, ${gg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JN(e){return e=(e||0)%360,e<0?e+360:e}function gg(e){return Math.max(0,Math.min(1,e||0))}function pb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cT=e=>()=>e;function woe(e,t){return function(n){return e+n*t}}function Eoe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Soe(e){return(e=+e)==1?Uz:function(t,n){return n-t?Eoe(t,n,e):cT(isNaN(t)?n:t)}}function Uz(e,t){var n=t-e;return n?woe(e,n):cT(isNaN(e)?t:e)}const eO=function e(t){var n=Soe(t);function r(i,s){var o=n((i=$1(i)).r,(s=$1(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),c=Uz(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=u(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Poe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Toe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Aoe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=zd(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Coe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ioe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zd(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var B1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mb=new RegExp(B1.source,"g");function koe(e){return function(){return e}}function Noe(e){return function(t){return e(t)+""}}function Ooe(e,t){var n=B1.lastIndex=mb.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=B1.exec(e))&&(i=mb.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:wy(r,i)})),n=mb.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?Noe(u[0].x):koe(t):(t=u.length,function(c){for(var d=0,p;d<t;++d)a[(p=u[d]).i]=p.x(c);return a.join("")})}function zd(e,t){var n=typeof t,r;return t==null||n==="boolean"?cT(t):(n==="number"?wy:n==="string"?(r=rp(t))?(t=r,eO):Ooe:t instanceof rp?eO:t instanceof Date?Coe:Toe(t)?Poe:Array.isArray(t)?Aoe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ioe:wy)(e,t)}function dT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function joe(e,t){t===void 0&&(t=e,e=zd);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Roe(e){return function(){return e}}function Ey(e){return+e}var tO=[0,1];function _r(e){return e}function U1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Roe(isNaN(t)?NaN:.5)}function Moe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Doe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=U1(i,r),s=n(o,s)):(r=U1(r,i),s=n(s,o)),function(a){return s(r(a))}}function Loe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=U1(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=Bp(e,a,1,r)-1;return s[u](i[u](a))}}function Wp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bx(){var e=tO,t=tO,n=zd,r,i,s,o=_r,a,u,c;function d(){var m=Math.min(e.length,t.length);return o!==_r&&(o=Moe(e[0],e[m-1])),a=m>2?Loe:Doe,u=c=null,p}function p(m){return m==null||isNaN(m=+m)?s:(u||(u=a(e.map(r),t,n)))(r(o(m)))}return p.invert=function(m){return o(i((c||(c=a(t,e.map(r),wy)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,Ey),d()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),n=dT,d()},p.clamp=function(m){return arguments.length?(o=m?!0:_r,d()):o!==_r},p.interpolate=function(m){return arguments.length?(n=m,d()):n},p.unknown=function(m){return arguments.length?(s=m,p):s},function(m,y){return r=m,i=y,d()}}function fT(){return bx()(_r,_r)}function zoe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sy(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _d(e){return e=Sy(Math.abs(e)),e?e[1]:NaN}function Voe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Foe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $oe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ip(e){if(!(t=$oe.exec(e)))throw new Error("invalid format: "+e);var t;return new hT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ip.prototype=hT.prototype;function hT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Boe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Py;function Uoe(e,t){var n=Sy(e,t);if(!n)return Py=void 0,e.toPrecision(t);var r=n[0],i=n[1],s=i-(Py=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Sy(e,Math.max(0,t+s-1))[0]}function nO(e,t){var n=Sy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zoe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nO(e*100,t),r:nO,s:Uoe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iO(e){return e}var sO=Array.prototype.map,oO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Woe(e){var t=e.grouping===void 0||e.thousands===void 0?iO:Voe(sO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?iO:Foe(sO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(p,m){p=ip(p);var y=p.fill,_=p.align,E=p.sign,w=p.symbol,S=p.zero,P=p.width,A=p.comma,O=p.precision,M=p.trim,z=p.type;z==="n"?(A=!0,z="g"):rO[z]||(O===void 0&&(O=12),M=!0,z="g"),(S||y==="0"&&_==="=")&&(S=!0,y="0",_="=");var k=(m&&m.prefix!==void 0?m.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():""),C=(w==="$"?r:/[%p]/.test(z)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),R=rO[z],$=/[defgprs%]/.test(z);O=O===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function j(V){var F=k,J=C,fe,se,ie;if(z==="c")J=R(V)+J,V="";else{V=+V;var W=V<0||1/V<0;if(V=isNaN(V)?u:R(Math.abs(V),O),M&&(V=Boe(V)),W&&+V==0&&E!=="+"&&(W=!1),F=(W?E==="("?E:a:E==="-"||E==="("?"":E)+F,J=(z==="s"&&!isNaN(V)&&Py!==void 0?oO[8+Py/3]:"")+J+(W&&E==="("?")":""),$){for(fe=-1,se=V.length;++fe<se;)if(ie=V.charCodeAt(fe),48>ie||ie>57){J=(ie===46?i+V.slice(fe+1):V.slice(fe))+J,V=V.slice(0,fe);break}}}A&&!S&&(V=t(V,1/0));var ne=F.length+V.length+J.length,K=ne<P?new Array(P-ne+1).join(y):"";switch(A&&S&&(V=t(K+V,K.length?P-J.length:1/0),K=""),_){case"<":V=F+V+J+K;break;case"=":V=F+K+V+J;break;case"^":V=K.slice(0,ne=K.length>>1)+F+V+J+K.slice(ne);break;default:V=K+F+V+J;break}return s(V)}return j.toString=function(){return p+""},j}function d(p,m){var y=Math.max(-8,Math.min(8,Math.floor(_d(m)/3)))*3,_=Math.pow(10,-y),E=c((p=ip(p),p.type="f",p),{suffix:oO[8+y/3]});return function(w){return E(_*w)}}return{format:c,formatPrefix:d}}var vg,pT,Wz;Hoe({thousands:",",grouping:[3],currency:["$",""]});function Hoe(e){return vg=Woe(e),pT=vg.format,Wz=vg.formatPrefix,vg}function qoe(e){return Math.max(0,-_d(Math.abs(e)))}function Koe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_d(t)/3)))*3-_d(Math.abs(e)))}function Goe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_d(t)-_d(e))+1}function Hz(e,t,n,r){var i=V1(e,t,n),s;switch(r=ip(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Koe(i,o))&&(r.precision=s),Wz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Goe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=qoe(i))&&(r.precision=s-(r.type==="%")*2);break}}return pT(r)}function Pl(e){var t=e.domain;return e.ticks=function(n){var r=t();return L1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Hz(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=z1(o,a,n),c===u)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;u=c}return e},e}function qz(){var e=fT();return e.copy=function(){return Wp(e,qz())},Hi.apply(e,arguments),Pl(e)}function Kz(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ey),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Kz(e).unknown(t)},e=arguments.length?Array.from(e,Ey):[0,1],Pl(n)}function Gz(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function aO(e){return Math.log(e)}function lO(e){return Math.exp(e)}function Zoe(e){return-Math.log(-e)}function Yoe(e){return-Math.exp(-e)}function Xoe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qoe(e){return e===10?Xoe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Joe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uO(e){return(t,n)=>-e(-t,n)}function mT(e){const t=e(aO,lO),n=t.domain;let r=10,i,s;function o(){return i=Joe(r),s=Qoe(r),n()[0]<0?(i=uO(i),s=uO(s),e(Zoe,Yoe)):e(aO,lO),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const u=n();let c=u[0],d=u[u.length-1];const p=d<c;p&&([c,d]=[d,c]);let m=i(c),y=i(d),_,E;const w=a==null?10:+a;let S=[];if(!(r%1)&&y-m<w){if(m=Math.floor(m),y=Math.ceil(y),c>0){for(;m<=y;++m)for(_=1;_<r;++_)if(E=m<0?_/s(-m):_*s(m),!(E<c)){if(E>d)break;S.push(E)}}else for(;m<=y;++m)for(_=r-1;_>=1;--_)if(E=m>0?_/s(-m):_*s(m),!(E<c)){if(E>d)break;S.push(E)}S.length*2<w&&(S=L1(c,d,w))}else S=L1(m,y,Math.min(y-m,w)).map(s);return p?S.reverse():S},t.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ip(u)).precision==null&&(u.trim=!0),u=pT(u)),a===1/0)return u;const c=Math.max(1,r*a/t.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=c?u(d):""}},t.nice=()=>n(Gz(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function Zz(){const e=mT(bx()).domain([1,10]);return e.copy=()=>Wp(e,Zz()).base(e.base()),Hi.apply(e,arguments),e}function cO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gT(e){var t=1,n=e(cO(t),dO(t));return n.constant=function(r){return arguments.length?e(cO(t=+r),dO(t)):t},Pl(n)}function Yz(){var e=gT(bx());return e.copy=function(){return Wp(e,Yz()).constant(e.constant())},Hi.apply(e,arguments)}function fO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tae(e){return e<0?-e*e:e*e}function vT(e){var t=e(_r,_r),n=1;function r(){return n===1?e(_r,_r):n===.5?e(eae,tae):e(fO(n),fO(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pl(t)}function yT(){var e=vT(bx());return e.copy=function(){return Wp(e,yT()).exponent(e.exponent())},Hi.apply(e,arguments),e}function nae(){return yT.apply(null,arguments).exponent(.5)}function hO(e){return Math.sign(e)*e*e}function rae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Xz(){var e=fT(),t=[0,1],n=!1,r;function i(s){var o=rae(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(hO(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Ey)).map(hO)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Xz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Hi.apply(i,arguments),Pl(i)}function Qz(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=aoe(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[Bp(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(rl),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Qz().domain(e).range(t).unknown(r)},Hi.apply(s,arguments)}function Jz(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[Bp(r,u,0,n)]:s}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,a()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},o.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Jz().domain([e,t]).range(i).unknown(s)},Hi.apply(Pl(o),arguments)}function eV(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Bp(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return eV().domain(e).range(t).unknown(n)},Hi.apply(i,arguments)}const gb=new Date,vb=new Date;function yn(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let c;do u.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return u},i.filter=s=>yn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(gb.setTime(+s),vb.setTime(+o),e(gb),e(vb),Math.floor(n(gb,vb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Ty=yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ty.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ty);Ty.range;const Vo=1e3,Ri=Vo*60,Fo=Ri*60,oa=Fo*24,xT=oa*7,pO=oa*30,yb=oa*365,nu=yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getUTCSeconds());nu.range;const _T=yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getMinutes());_T.range;const bT=yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCMinutes());bT.range;const wT=yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo-e.getMinutes()*Ri)},(e,t)=>{e.setTime(+e+t*Fo)},(e,t)=>(t-e)/Fo,e=>e.getHours());wT.range;const ET=yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fo)},(e,t)=>(t-e)/Fo,e=>e.getUTCHours());ET.range;const Hp=yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/oa,e=>e.getDate()-1);Hp.range;const wx=yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>e.getUTCDate()-1);wx.range;const tV=yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>Math.floor(e/oa));tV.range;function $u(e){return yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/xT)}const Ex=$u(0),Ay=$u(1),iae=$u(2),sae=$u(3),bd=$u(4),oae=$u(5),aae=$u(6);Ex.range;Ay.range;iae.range;sae.range;bd.range;oae.range;aae.range;function Bu(e){return yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xT)}const Sx=Bu(0),Cy=Bu(1),lae=Bu(2),uae=Bu(3),wd=Bu(4),cae=Bu(5),dae=Bu(6);Sx.range;Cy.range;lae.range;uae.range;wd.range;cae.range;dae.range;const ST=yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ST.range;const PT=yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PT.range;const aa=yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});aa.range;const la=yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});la.range;function nV(e,t,n,r,i,s){const o=[[nu,1,Vo],[nu,5,5*Vo],[nu,15,15*Vo],[nu,30,30*Vo],[s,1,Ri],[s,5,5*Ri],[s,15,15*Ri],[s,30,30*Ri],[i,1,Fo],[i,3,3*Fo],[i,6,6*Fo],[i,12,12*Fo],[r,1,oa],[r,2,2*oa],[n,1,xT],[t,1,pO],[t,3,3*pO],[e,1,yb]];function a(c,d,p){const m=d<c;m&&([c,d]=[d,c]);const y=p&&typeof p.range=="function"?p:u(c,d,p),_=y?y.range(c,+d+1):[];return m?_.reverse():_}function u(c,d,p){const m=Math.abs(d-c)/p,y=oT(([,,w])=>w).right(o,m);if(y===o.length)return e.every(V1(c/yb,d/yb,p));if(y===0)return Ty.every(Math.max(V1(c,d,p),1));const[_,E]=o[m/o[y-1][2]<o[y][2]/m?y-1:y];return _.every(E)}return[a,u]}const[fae,hae]=nV(la,PT,Sx,tV,ET,bT),[pae,mae]=nV(aa,ST,Ex,Hp,wT,_T);function xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _b(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gae(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,c=Rf(i),d=Mf(i),p=Rf(s),m=Mf(s),y=Rf(o),_=Mf(o),E=Rf(a),w=Mf(a),S=Rf(u),P=Mf(u),A={a:ie,A:W,b:ne,B:K,c:null,d:_O,e:_O,f:Vae,g:Zae,G:Xae,H:Dae,I:Lae,j:zae,L:rV,m:Fae,M:$ae,p:oe,q:ue,Q:EO,s:SO,S:Bae,u:Uae,U:Wae,V:Hae,w:qae,W:Kae,x:null,X:null,y:Gae,Y:Yae,Z:Qae,"%":wO},O={a:Ae,A:be,b:Ce,B:ge,c:null,d:bO,e:bO,f:nle,g:fle,G:ple,H:Jae,I:ele,j:tle,L:sV,m:rle,M:ile,p:$e,q:at,Q:EO,s:SO,S:sle,u:ole,U:ale,V:lle,w:ule,W:cle,x:null,X:null,y:dle,Y:hle,Z:mle,"%":wO},M={a:$,A:j,b:V,B:F,c:J,d:yO,e:yO,f:Oae,g:vO,G:gO,H:xO,I:xO,j:Cae,L:Nae,m:Aae,M:Iae,p:R,q:Tae,Q:Rae,s:Mae,S:kae,u:bae,U:wae,V:Eae,w:_ae,W:Sae,x:fe,X:se,y:vO,Y:gO,Z:Pae,"%":jae};A.x=z(n,A),A.X=z(r,A),A.c=z(t,A),O.x=z(n,O),O.X=z(r,O),O.c=z(t,O);function z(X,me){return function(Ne){var Q=[],Xe=-1,Me=0,de=X.length,pe,Te,lt;for(Ne instanceof Date||(Ne=new Date(+Ne));++Xe<de;)X.charCodeAt(Xe)===37&&(Q.push(X.slice(Me,Xe)),(Te=mO[pe=X.charAt(++Xe)])!=null?pe=X.charAt(++Xe):Te=pe==="e"?" ":"0",(lt=me[pe])&&(pe=lt(Ne,Te)),Q.push(pe),Me=Xe+1);return Q.push(X.slice(Me,Xe)),Q.join("")}}function k(X,me){return function(Ne){var Q=jf(1900,void 0,1),Xe=C(Q,X,Ne+="",0),Me,de;if(Xe!=Ne.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(me&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Me=_b(jf(Q.y,0,1)),de=Me.getUTCDay(),Me=de>4||de===0?Cy.ceil(Me):Cy(Me),Me=wx.offset(Me,(Q.V-1)*7),Q.y=Me.getUTCFullYear(),Q.m=Me.getUTCMonth(),Q.d=Me.getUTCDate()+(Q.w+6)%7):(Me=xb(jf(Q.y,0,1)),de=Me.getDay(),Me=de>4||de===0?Ay.ceil(Me):Ay(Me),Me=Hp.offset(Me,(Q.V-1)*7),Q.y=Me.getFullYear(),Q.m=Me.getMonth(),Q.d=Me.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),de="Z"in Q?_b(jf(Q.y,0,1)).getUTCDay():xb(jf(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(de+5)%7:Q.w+Q.U*7-(de+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,_b(Q)):xb(Q)}}function C(X,me,Ne,Q){for(var Xe=0,Me=me.length,de=Ne.length,pe,Te;Xe<Me;){if(Q>=de)return-1;if(pe=me.charCodeAt(Xe++),pe===37){if(pe=me.charAt(Xe++),Te=M[pe in mO?me.charAt(Xe++):pe],!Te||(Q=Te(X,Ne,Q))<0)return-1}else if(pe!=Ne.charCodeAt(Q++))return-1}return Q}function R(X,me,Ne){var Q=c.exec(me.slice(Ne));return Q?(X.p=d.get(Q[0].toLowerCase()),Ne+Q[0].length):-1}function $(X,me,Ne){var Q=y.exec(me.slice(Ne));return Q?(X.w=_.get(Q[0].toLowerCase()),Ne+Q[0].length):-1}function j(X,me,Ne){var Q=p.exec(me.slice(Ne));return Q?(X.w=m.get(Q[0].toLowerCase()),Ne+Q[0].length):-1}function V(X,me,Ne){var Q=S.exec(me.slice(Ne));return Q?(X.m=P.get(Q[0].toLowerCase()),Ne+Q[0].length):-1}function F(X,me,Ne){var Q=E.exec(me.slice(Ne));return Q?(X.m=w.get(Q[0].toLowerCase()),Ne+Q[0].length):-1}function J(X,me,Ne){return C(X,t,me,Ne)}function fe(X,me,Ne){return C(X,n,me,Ne)}function se(X,me,Ne){return C(X,r,me,Ne)}function ie(X){return o[X.getDay()]}function W(X){return s[X.getDay()]}function ne(X){return u[X.getMonth()]}function K(X){return a[X.getMonth()]}function oe(X){return i[+(X.getHours()>=12)]}function ue(X){return 1+~~(X.getMonth()/3)}function Ae(X){return o[X.getUTCDay()]}function be(X){return s[X.getUTCDay()]}function Ce(X){return u[X.getUTCMonth()]}function ge(X){return a[X.getUTCMonth()]}function $e(X){return i[+(X.getUTCHours()>=12)]}function at(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=z(X+="",A);return me.toString=function(){return X},me},parse:function(X){var me=k(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=z(X+="",O);return me.toString=function(){return X},me},utcParse:function(X){var me=k(X+="",!0);return me.toString=function(){return X},me}}}var mO={"-":"",_:" ",0:"0"},On=/^\s*\d+/,vae=/^%/,yae=/[\\^$*+?|[\]().{}]/g;function ot(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function xae(e){return e.replace(yae,"\\$&")}function Rf(e){return new RegExp("^(?:"+e.map(xae).join("|")+")","i")}function Mf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _ae(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bae(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wae(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Eae(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Sae(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gO(e,t,n){var r=On.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vO(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pae(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tae(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Aae(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yO(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Cae(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xO(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Iae(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kae(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Nae(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Oae(e,t,n){var r=On.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jae(e,t,n){var r=vae.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Rae(e,t,n){var r=On.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mae(e,t,n){var r=On.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _O(e,t){return ot(e.getDate(),t,2)}function Dae(e,t){return ot(e.getHours(),t,2)}function Lae(e,t){return ot(e.getHours()%12||12,t,2)}function zae(e,t){return ot(1+Hp.count(aa(e),e),t,3)}function rV(e,t){return ot(e.getMilliseconds(),t,3)}function Vae(e,t){return rV(e,t)+"000"}function Fae(e,t){return ot(e.getMonth()+1,t,2)}function $ae(e,t){return ot(e.getMinutes(),t,2)}function Bae(e,t){return ot(e.getSeconds(),t,2)}function Uae(e){var t=e.getDay();return t===0?7:t}function Wae(e,t){return ot(Ex.count(aa(e)-1,e),t,2)}function iV(e){var t=e.getDay();return t>=4||t===0?bd(e):bd.ceil(e)}function Hae(e,t){return e=iV(e),ot(bd.count(aa(e),e)+(aa(e).getDay()===4),t,2)}function qae(e){return e.getDay()}function Kae(e,t){return ot(Ay.count(aa(e)-1,e),t,2)}function Gae(e,t){return ot(e.getFullYear()%100,t,2)}function Zae(e,t){return e=iV(e),ot(e.getFullYear()%100,t,2)}function Yae(e,t){return ot(e.getFullYear()%1e4,t,4)}function Xae(e,t){var n=e.getDay();return e=n>=4||n===0?bd(e):bd.ceil(e),ot(e.getFullYear()%1e4,t,4)}function Qae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function bO(e,t){return ot(e.getUTCDate(),t,2)}function Jae(e,t){return ot(e.getUTCHours(),t,2)}function ele(e,t){return ot(e.getUTCHours()%12||12,t,2)}function tle(e,t){return ot(1+wx.count(la(e),e),t,3)}function sV(e,t){return ot(e.getUTCMilliseconds(),t,3)}function nle(e,t){return sV(e,t)+"000"}function rle(e,t){return ot(e.getUTCMonth()+1,t,2)}function ile(e,t){return ot(e.getUTCMinutes(),t,2)}function sle(e,t){return ot(e.getUTCSeconds(),t,2)}function ole(e){var t=e.getUTCDay();return t===0?7:t}function ale(e,t){return ot(Sx.count(la(e)-1,e),t,2)}function oV(e){var t=e.getUTCDay();return t>=4||t===0?wd(e):wd.ceil(e)}function lle(e,t){return e=oV(e),ot(wd.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function ule(e){return e.getUTCDay()}function cle(e,t){return ot(Cy.count(la(e)-1,e),t,2)}function dle(e,t){return ot(e.getUTCFullYear()%100,t,2)}function fle(e,t){return e=oV(e),ot(e.getUTCFullYear()%100,t,2)}function hle(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function ple(e,t){var n=e.getUTCDay();return e=n>=4||n===0?wd(e):wd.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function mle(){return"+0000"}function wO(){return"%"}function EO(e){return+e}function SO(e){return Math.floor(+e/1e3)}var mc,aV,lV;gle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gle(e){return mc=gae(e),aV=mc.format,mc.parse,lV=mc.utcFormat,mc.utcParse,mc}function vle(e){return new Date(e)}function yle(e){return e instanceof Date?+e:+new Date(+e)}function TT(e,t,n,r,i,s,o,a,u,c){var d=fT(),p=d.invert,m=d.domain,y=c(".%L"),_=c(":%S"),E=c("%I:%M"),w=c("%I %p"),S=c("%a %d"),P=c("%b %d"),A=c("%B"),O=c("%Y");function M(z){return(u(z)<z?y:a(z)<z?_:o(z)<z?E:s(z)<z?w:r(z)<z?i(z)<z?S:P:n(z)<z?A:O)(z)}return d.invert=function(z){return new Date(p(z))},d.domain=function(z){return arguments.length?m(Array.from(z,yle)):m().map(vle)},d.ticks=function(z){var k=m();return e(k[0],k[k.length-1],z??10)},d.tickFormat=function(z,k){return k==null?M:c(k)},d.nice=function(z){var k=m();return(!z||typeof z.range!="function")&&(z=t(k[0],k[k.length-1],z??10)),z?m(Gz(k,z)):d},d.copy=function(){return Wp(d,TT(e,t,n,r,i,s,o,a,u,c))},d}function xle(){return Hi.apply(TT(pae,mae,aa,ST,Ex,Hp,wT,_T,nu,aV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _le(){return Hi.apply(TT(fae,hae,la,PT,Sx,wx,ET,bT,nu,lV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Px(){var e=0,t=1,n,r,i,s,o=_r,a=!1,u;function c(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(s(p)-n)*i,a?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([e,t]=p,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(p){return arguments.length?(a=!!p,c):a},c.interpolator=function(p){return arguments.length?(o=p,c):o};function d(p){return function(m){var y,_;return arguments.length?([y,_]=m,o=p(y,_),c):[o(0),o(1)]}}return c.range=d(zd),c.rangeRound=d(dT),c.unknown=function(p){return arguments.length?(u=p,c):u},function(p){return s=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),c}}function Tl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uV(){var e=Pl(Px()(_r));return e.copy=function(){return Tl(e,uV())},pa.apply(e,arguments)}function cV(){var e=mT(Px()).domain([1,10]);return e.copy=function(){return Tl(e,cV()).base(e.base())},pa.apply(e,arguments)}function dV(){var e=gT(Px());return e.copy=function(){return Tl(e,dV()).constant(e.constant())},pa.apply(e,arguments)}function AT(){var e=vT(Px());return e.copy=function(){return Tl(e,AT()).exponent(e.exponent())},pa.apply(e,arguments)}function ble(){return AT.apply(null,arguments).exponent(.5)}function fV(){var e=[],t=_r;function n(r){if(r!=null&&!isNaN(r=+r))return t((Bp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(rl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>ooe(e,s/r))},n.copy=function(){return fV(t).domain(e)},pa.apply(n,arguments)}function Tx(){var e=0,t=.5,n=1,r=1,i,s,o,a,u,c=_r,d,p=!1,m;function y(E){return isNaN(E=+E)?m:(E=.5+((E=+d(E))-s)*(r*E<r*s?a:u),c(p?Math.max(0,Math.min(1,E)):E))}y.domain=function(E){return arguments.length?([e,t,n]=E,i=d(e=+e),s=d(t=+t),o=d(n=+n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,y):[e,t,n]},y.clamp=function(E){return arguments.length?(p=!!E,y):p},y.interpolator=function(E){return arguments.length?(c=E,y):c};function _(E){return function(w){var S,P,A;return arguments.length?([S,P,A]=w,c=joe(E,[S,P,A]),y):[c(0),c(.5),c(1)]}}return y.range=_(zd),y.rangeRound=_(dT),y.unknown=function(E){return arguments.length?(m=E,y):m},function(E){return d=E,i=E(e),s=E(t),o=E(n),a=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,y}}function hV(){var e=Pl(Tx()(_r));return e.copy=function(){return Tl(e,hV())},pa.apply(e,arguments)}function pV(){var e=mT(Tx()).domain([.1,1,10]);return e.copy=function(){return Tl(e,pV()).base(e.base())},pa.apply(e,arguments)}function mV(){var e=gT(Tx());return e.copy=function(){return Tl(e,mV()).constant(e.constant())},pa.apply(e,arguments)}function CT(){var e=vT(Tx());return e.copy=function(){return Tl(e,CT()).exponent(e.exponent())},pa.apply(e,arguments)}function wle(){return CT.apply(null,arguments).exponent(.5)}const Gf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lT,scaleDiverging:hV,scaleDivergingLog:pV,scaleDivergingPow:CT,scaleDivergingSqrt:wle,scaleDivergingSymlog:mV,scaleIdentity:Kz,scaleImplicit:F1,scaleLinear:qz,scaleLog:Zz,scaleOrdinal:aT,scalePoint:uoe,scalePow:yT,scaleQuantile:Qz,scaleQuantize:Jz,scaleRadial:Xz,scaleSequential:uV,scaleSequentialLog:cV,scaleSequentialPow:AT,scaleSequentialQuantile:fV,scaleSequentialSqrt:ble,scaleSequentialSymlog:dV,scaleSqrt:nae,scaleSymlog:Yz,scaleThreshold:eV,scaleTime:xle,scaleUtc:_le,tickFormat:Hz},Symbol.toStringTag,{value:"Module"}));var ma=e=>e.chartData,Ax=G([ma],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gV=(e,t,n,r)=>r?Ax(e):ma(e),Ele=(e,t,n)=>n?Ax(e):ma(e);function ua(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ge(t)&&Ge(n))return!0}return!1}function PO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Ge(n))i=n;else if(typeof n=="function")return;if(Ge(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(ua(o))return o}}function Sle(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ua(r))return PO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,a;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Pe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Hk.test(i)){var u=Hk.exec(i);if(u==null||u[1]==null||t==null)o=void 0;else{var c=+u[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(a=Math.max(...t));else if(Pe(s))a=s;else if(typeof s=="function")try{t!=null&&(a=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&qk.test(s)){var d=qk.exec(s);if(d==null||d[1]==null||t==null)a=void 0;else{var p=+d[1];a=t[1]+p}}else a=t==null?void 0:t[1];var m=[o,a];if(ua(m))return t==null?m:PO(m,t,n)}}}var Vd=1e9,Ple={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kT,jt=!0,Ui="[DecimalError] ",du=Ui+"Invalid argument: ",IT=Ui+"Exponent out of range: ",Fd=Math.floor,Kl=Math.pow,Tle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Tn=1e7,At=7,yV=9007199254740991,Iy=Fd(yV/At),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(e){return Wo(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,n=t.constructor;return yt(Wo(t,new n(e),0,1),n.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return dn(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ni))throw Error(Ui+"NaN");if(n.s<1)throw Error(Ui+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(jt=!1,t=Wo(sp(n,s),sp(e,s),s),jt=!0,yt(t,i))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bV(t,e):xV(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ui+"NaN");return n.s?(jt=!1,t=Wo(n,e,0,1).times(e),jt=!0,n.minus(t)):yt(new r(n),i)};Se.naturalExponential=Se.exp=function(){return _V(this)};Se.naturalLogarithm=Se.ln=function(){return sp(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xV(t,e):bV(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(du+e);if(t=dn(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Se.squareRoot=Se.sqrt=function(){var e,t,n,r,i,s,o,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(Ui+"NaN")}for(e=dn(a),jt=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=qs(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(Wo(a,s,o+2)).times(.5),qs(s.d).slice(0,o)===(t=qs(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(yt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(t!="9999")break;o+=4}return jt=!0,yt(r,n)};Se.times=Se.mul=function(e){var t,n,r,i,s,o,a,u,c,d=this,p=d.constructor,m=d.d,y=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,n=d.e+e.e,u=m.length,c=y.length,u<c&&(s=m,m=y,y=s,o=u,u=c,c=o),s=[],o=u+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=s[i]+y[r]*m[i-r-1]+t,s[i--]=a%Tn|0,t=a/Tn|0;s[i]=(s[i]+t)%Tn|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,jt?yt(e,p.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(so(e,0,Vd),t===void 0?t=r.rounding:so(t,0,8),yt(n,e+dn(n)+1,t))};Se.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ku(r,!0):(so(e,0,Vd),t===void 0?t=i.rounding:so(t,0,8),r=yt(new i(r),e+1,t),n=ku(r,!0,e+1)),n};Se.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?ku(i):(so(e,0,Vd),t===void 0?t=s.rounding:so(t,0,8),r=yt(new s(i),e+dn(i)+1,t),n=ku(r.abs(),!1,e+dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return yt(new t(e),dn(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,n,r,i,s,o,a=this,u=a.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(ni);if(a=new u(a),!a.s){if(e.s<1)throw Error(Ui+"Infinity");return a}if(a.eq(ni))return a;if(r=u.precision,e.eq(ni))return yt(a,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=a.s,o){if((n=d<0?-d:d)<=yV){for(i=new u(ni),t=Math.ceil(r/At+4),jt=!1;n%2&&(i=i.times(a),AO(i.d,t)),n=Fd(n/2),n!==0;)a=a.times(a),AO(a.d,t);return jt=!0,e.s<0?new u(ni).div(i):yt(i,r)}}else if(s<0)throw Error(Ui+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,jt=!1,i=e.times(sp(a,r+c)),jt=!0,i=_V(i),i.s=s,i};Se.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=dn(i),r=ku(i,n<=s.toExpNeg||n>=s.toExpPos)):(so(e,1,Vd),t===void 0?t=s.rounding:so(t,0,8),i=yt(new s(i),e,t),n=dn(i),r=ku(i,e<=n||n<=s.toExpNeg,e)),r};Se.toSignificantDigits=Se.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(so(e,1,Vd),t===void 0?t=r.rounding:so(t,0,8)),yt(new r(n),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dn(e),n=e.constructor;return ku(e,t<=n.toExpNeg||t>=n.toExpPos)};function xV(e,t){var n,r,i,s,o,a,u,c,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jt?yt(t,p):t;if(u=e.d,c=t.d,o=e.e,i=t.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,a=c.length):(r=c,i=o,a=u.length),o=Math.ceil(p/At),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=u.length,s=c.length,a-s<0&&(s=a,r=c,c=u,u=r),n=0;s;)n=(u[--s]=u[s]+c[s]+n)/Tn|0,u[s]%=Tn;for(n&&(u.unshift(n),++i),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=i,jt?yt(t,p):t}function so(e,t,n){if(e!==~~e||e<t||e>n)throw Error(du+e)}function qs(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=At-r.length,n&&(s+=ka(n)),s+=r;o=e[t],r=o+"",n=At-r.length,n&&(s+=ka(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Wo=function(){function e(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Tn|0,o=s/Tn|0;return o&&r.unshift(o),r}function t(r,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(r[a]!=i[a]){u=r[a]>i[a]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Tn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,u,c,d,p,m,y,_,E,w,S,P,A,O,M,z,k,C,R=r.constructor,$=r.s==i.s?1:-1,j=r.d,V=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Ui+"Division by zero");for(u=r.e-i.e,k=V.length,M=j.length,y=new R($),_=y.d=[],c=0;V[c]==(j[c]||0);)++c;if(V[c]>(j[c]||0)&&--u,s==null?P=s=R.precision:o?P=s+(dn(r)-dn(i))+1:P=s,P<0)return new R(0);if(P=P/At+2|0,c=0,k==1)for(d=0,V=V[0],P++;(c<M||d)&&P--;c++)A=d*Tn+(j[c]||0),_[c]=A/V|0,d=A%V|0;else{for(d=Tn/(V[0]+1)|0,d>1&&(V=e(V,d),j=e(j,d),k=V.length,M=j.length),O=k,E=j.slice(0,k),w=E.length;w<k;)E[w++]=0;C=V.slice(),C.unshift(0),z=V[0],V[1]>=Tn/2&&++z;do d=0,a=t(V,E,k,w),a<0?(S=E[0],k!=w&&(S=S*Tn+(E[1]||0)),d=S/z|0,d>1?(d>=Tn&&(d=Tn-1),p=e(V,d),m=p.length,w=E.length,a=t(p,E,m,w),a==1&&(d--,n(p,k<m?C:V,m))):(d==0&&(a=d=1),p=V.slice()),m=p.length,m<w&&p.unshift(0),n(E,p,w),a==-1&&(w=E.length,a=t(V,E,k,w),a<1&&(d++,n(E,k<w?C:V,w))),w=E.length):a===0&&(d++,E=[0]),_[c++]=d,a&&E[0]?E[w++]=j[O]||0:(E=[j[O]],w=1);while((O++<M||E[0]!==void 0)&&P--)}return _[0]||_.shift(),y.e=u,yt(y,o?s+dn(y)+1:s)}}();function _V(e,t){var n,r,i,s,o,a,u=0,c=0,d=e.constructor,p=d.precision;if(dn(e)>16)throw Error(IT+dn(e));if(!e.s)return new d(ni);for(jt=!1,a=p,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Kl(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new d(ni),d.precision=a;;){if(i=yt(i.times(e),a),n=n.times(++u),o=s.plus(Wo(i,n,a)),qs(o.d).slice(0,a)===qs(s.d).slice(0,a)){for(;c--;)s=yt(s.times(s),a);return d.precision=p,t==null?(jt=!0,yt(s,p)):s}s=o}}function dn(e){for(var t=e.e*At,n=e.d[0];n>=10;n/=10)t++;return t}function bb(e,t,n){if(t>e.LN10.sd())throw jt=!0,n&&(e.precision=n),Error(Ui+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function ka(e){for(var t="";e--;)t+="0";return t}function sp(e,t){var n,r,i,s,o,a,u,c,d,p=1,m=10,y=e,_=y.d,E=y.constructor,w=E.precision;if(y.s<1)throw Error(Ui+(y.s?"NaN":"-Infinity"));if(y.eq(ni))return new E(0);if(t==null?(jt=!1,c=w):c=t,y.eq(10))return t==null&&(jt=!0),bb(E,c);if(c+=m,E.precision=c,n=qs(_),r=n.charAt(0),s=dn(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=qs(y.d),r=n.charAt(0),p++;s=dn(y),r>1?(y=new E("0."+n),s++):y=new E(r+"."+n.slice(1))}else return u=bb(E,c+2,w).times(s+""),y=sp(new E(r+"."+n.slice(1)),c-m).plus(u),E.precision=w,t==null?(jt=!0,yt(y,w)):y;for(a=o=y=Wo(y.minus(ni),y.plus(ni),c),d=yt(y.times(y),c),i=3;;){if(o=yt(o.times(d),c),u=a.plus(Wo(o,new E(i),c)),qs(u.d).slice(0,c)===qs(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(bb(E,c+2,w).times(s+""))),a=Wo(a,new E(p),c),E.precision=w,t==null?(jt=!0,yt(a,w)):a;a=u,i+=2}}function TO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fd(n/At),e.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=At;r<i;)e.d.push(+t.slice(r,r+=At));t=t.slice(r),r=At-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),jt&&(e.e>Iy||e.e<-Iy))throw Error(IT+n)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,n){var r,i,s,o,a,u,c,d,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=At,i=t,c=p[d=0];else{if(d=Math.ceil((r+1)/At),s=p.length,d>=s)return e;for(c=s=p[d],o=1;s>=10;s/=10)o++;r%=At,i=r-At+o}if(n!==void 0&&(s=Kl(10,o-i-1),a=c/s%10|0,u=t<0||p[d+1]!==void 0||c%s,u=n<4?(a||u)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||u||n==6&&(r>0?i>0?c/Kl(10,o-i):0:p[d-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(s=dn(e),p.length=1,t=t-s-1,p[0]=Kl(10,(At-t%At)%At),e.e=Fd(-t/At)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=d,s=1,d--):(p.length=d+1,s=Kl(10,At-r),p[d]=i>0?(c/Kl(10,o-i)%Kl(10,i)|0)*s:0),u)for(;;)if(d==0){(p[0]+=s)==Tn&&(p[0]=1,++e.e);break}else{if(p[d]+=s,p[d]!=Tn)break;p[d--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(jt&&(e.e>Iy||e.e<-Iy))throw Error(IT+dn(e));return e}function bV(e,t){var n,r,i,s,o,a,u,c,d,p,m=e.constructor,y=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),jt?yt(t,y):t;if(u=e.d,p=t.d,r=t.e,c=e.e,u=u.slice(),o=c-r,o){for(d=o<0,d?(n=u,o=-o,a=p.length):(n=p,r=c,a=u.length),i=Math.max(Math.ceil(y/At),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,a=p.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(u[i]!=p[i]){d=u[i]<p[i];break}o=0}for(d&&(n=u,u=p,p=n,t.s=-t.s),a=u.length,i=p.length-a;i>0;--i)u[a++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=Tn-1;--u[s],u[i]+=Tn}u[i]-=p[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,jt?yt(t,y):t):new m(0)}function ku(e,t,n){var r,i=dn(e),s=qs(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ka(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ka(-i-1)+s,n&&(r=n-o)>0&&(s+=ka(r))):i>=o?(s+=ka(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ka(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ka(r))),e.s<0?"-"+s:s}function AO(e,t){if(e.length>t)return e.length=t,!0}function wV(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(du+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return TO(o,s.toString())}else if(typeof s!="string")throw Error(du+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Tle.test(s))TO(o,s);else throw Error(du+s)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wV,i.config=i.set=Ale,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Ale(e){if(!e||typeof e!="object")throw Error(Ui+"Object expected");var t,n,r,i=["precision",1,Vd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(du+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(du+n+": "+r);return this}var kT=wV(Ple);ni=new kT(1);const mt=kT;function EV(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function SV(e,t,n){for(var r=new mt(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var PV=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},TV=(e,t,n)=>{if(e.lte(0))return new mt(0);var r=EV(e.toNumber()),i=new mt(10).pow(r),s=e.div(i),o=r!==1?.05:.1,a=new mt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),u=a.mul(i);return t?new mt(u.toNumber()):new mt(Math.ceil(u.toNumber()))},Cle=(e,t,n)=>{var r=new mt(1),i=new mt(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new mt(10).pow(EV(e)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new mt(Math.floor(e)))}else e===0?i=new mt(Math.floor((t-1)/2)):n||(i=new mt(Math.floor(e)));for(var o=Math.floor((t-1)/2),a=[],u=0;u<t;u++)a.push(i.add(new mt(u-o).mul(r)).toNumber());return a},AV=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=TV(new mt(n).sub(t).div(r-1),i,s),a;t<=0&&n>=0?a=new mt(0):(a=new mt(t).add(n).div(2),a=a.sub(new mt(a).mod(o)));var u=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new mt(n).sub(a).div(o).toNumber()),d=u+c+1;return d>r?AV(t,n,r,i,s+1):(d<r&&(c=n>0?c+(r-d):c,u=n>0?u:u+(r-d)),{step:o,tickMin:a.sub(new mt(u).mul(o)),tickMax:a.add(new mt(c).mul(o))})},Ile=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[a,u]=PV([n,r]);if(a===-1/0||u===1/0){var c=u===1/0?[a,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?c.reverse():c}if(a===u)return Cle(a,i,s);var{step:d,tickMin:p,tickMax:m}=AV(a,u,o,s,0),y=SV(p,m.add(new mt(.1).mul(d)),d);return n>r?y.reverse():y},kle=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=PV([r,i]);if(o===-1/0||a===1/0)return[r,i];if(o===a)return[o];var u=Math.max(n,2),c=TV(new mt(a).sub(o).div(u-1),s,0),d=[...SV(new mt(o),new mt(a),c),a];return s===!1&&(d=d.map(p=>Math.round(p))),r>i?d.reverse():d},Nle=e=>e.rootProps.barCategoryGap,qp=e=>e.rootProps.stackOffset,CV=e=>e.rootProps.reverseStackOrder,NT=e=>e.options.chartName,OT=e=>e.rootProps.syncId,IV=e=>e.rootProps.syncMethod,jT=e=>e.options.eventEmitter,Ole=e=>e.rootProps.baseValue,Bn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$l={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ds={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Cx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Ix(e,t,n){if(n!=="auto")return n;if(e!=null)return co(e,t)?"category":"number"}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ky(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){jle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jle(e,t,n){return(t=Rle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rle(e){var t=Mle(e,"string");return typeof t=="symbol"?t:t+""}function Mle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IO={allowDataOverflow:$l.allowDataOverflow,allowDecimals:$l.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$l.angleAxisId,includeHidden:!1,name:void 0,reversed:$l.reversed,scale:$l.scale,tick:$l.tick,tickCount:void 0,ticks:void 0,type:$l.type,unit:void 0},kO={allowDataOverflow:Ds.allowDataOverflow,allowDecimals:Ds.allowDecimals,allowDuplicatedCategory:Ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ds.radiusAxisId,includeHidden:Ds.includeHidden,name:void 0,reversed:Ds.reversed,scale:Ds.scale,tick:Ds.tick,tickCount:Ds.tickCount,ticks:void 0,type:Ds.type,unit:void 0},Dle=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},RT=G([Dle,fz],(e,t)=>{var n;if(e!=null)return e;var r=(n=Ix(t,"angleAxis",IO.type))!==null&&n!==void 0?n:"category";return ky(ky({},IO),{},{type:r})}),Lle=(e,t)=>e.polarAxis.radiusAxis[t],MT=G([Lle,fz],(e,t)=>{var n;if(e!=null)return e;var r=(n=Ix(t,"radiusAxis",kO.type))!==null&&n!==void 0?n:"category";return ky(ky({},kO),{},{type:r})}),kx=e=>e.polarOptions,DT=G([fa,ha,Nn],Iz),kV=G([kx,DT],(e,t)=>{if(e!=null)return li(e.innerRadius,t,0)}),NV=G([kx,DT],(e,t)=>{if(e!=null)return li(e.outerRadius,t,t*.8)}),zle=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},OV=G([kx],zle);G([RT,OV],Cx);var jV=G([DT,kV,NV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});G([MT,jV],Cx);var RV=G([xt,kx,kV,NV,fa,ha],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:a,startAngle:u,endAngle:c}=t;return{cx:li(o,i,i/2),cy:li(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:c,clockWise:!1}}}),Ft=(e,t)=>t,Kp=(e,t,n)=>n;function LT(e){return e==null?void 0:e.id}function MV(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return e.forEach(a=>{var u,c=(u=a.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var d=LT(a);c.forEach((p,m)=>{var y=s==null||i?m:String(It(p,s,null)),_=It(p,a.dataKey,0),E;o.has(y)?E=o.get(y):E={},Object.assign(E,{[d]:_}),o.set(y,E)})}}),Array.from(o.values())}function zT(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Nx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ox(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Vle(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var jn=e=>{var t=xt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$d=e=>e.tooltip.settings.axisId;function Fle(e){if(e in Gf)return Gf[e]();var t="scale".concat(Mp(e));if(t in Gf)return Gf[t]()}function NO(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(s){function o(){return s.apply(this,arguments)}return o.toString=function(){return s.toString()},o}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var o=i[0],a=i[1];return o<=a?s>=o&&s<=a:s>=a&&s<=o},bandwidth:n?()=>n.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,o)=>{var a=e(s);if(a!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var u=e.bandwidth();switch(o.position){case"middle":a+=u/2;break;case"end":a+=u;break}}return a}}}}function OO(e,t,n){if(typeof e=="function")return NO(e.copy().domain(t).range(n));if(e!=null){var r=Fle(e);if(r!=null)return r.domain(t).range(n),NO(r)}}var DV=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ua(t)){for(var n,r,i=0;i<t.length;i++){var s=t[i];Ge(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(r){$le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $le(e,t,n){return(t=Ble(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ble(e){var t=Ule(e,"string");return typeof t=="symbol"?t:t+""}function Ule(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W1=[0,"auto"],En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LV=(e,t)=>e.cartesianAxis.xAxis[t],ga=(e,t)=>{var n=LV(e,t);return n??En},Sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:W1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zp},zV=(e,t)=>e.cartesianAxis.yAxis[t],va=(e,t)=>{var n=zV(e,t);return n??Sn},Wle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},VT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Wle},Zt=(e,t,n)=>{switch(t){case"xAxis":return ga(e,n);case"yAxis":return va(e,n);case"zAxis":return VT(e,n);case"angleAxis":return RT(e,n);case"radiusAxis":return MT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Hle=(e,t,n)=>{switch(t){case"xAxis":return ga(e,n);case"yAxis":return va(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Bd=(e,t,n)=>{switch(t){case"xAxis":return ga(e,n);case"yAxis":return va(e,n);case"angleAxis":return RT(e,n);case"radiusAxis":return MT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function FT(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var FV=e=>e.graphicalItems.cartesianItems,qle=G([Ft,Kp],FT),$T=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Gp=G([FV,Zt,qle],$T,{memoizeOptions:{resultEqualityCheck:Ox}}),$V=G([Gp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zT)),BV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Kle=G([Gp],BV),BT=e=>e.map(t=>t.data).filter(Boolean).flat(1),Gle=G([Gp],BT,{memoizeOptions:{resultEqualityCheck:Ox}}),UT=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},WT=G([Gle,gV],UT),HT=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:It(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:It(i,r)}))):e.map(r=>({value:r})),jx=G([WT,Zt,Gp],HT);function UV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xg(e){if(ro(e)||e instanceof Date){var t=Number(e);if(Ge(t))return t}}function RO(e){if(Array.isArray(e)){var t=[Xg(e[0]),Xg(e[1])];return ua(t)?t:void 0}var n=Xg(e);if(n!=null)return[n,n]}function ca(e){return e.map(Xg).filter(Fr)}function Zle(e,t,n){return!n||typeof t!="number"||no(t)?[]:n.length?ca(n.flatMap(r=>{var i=It(e,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!Ge(s)||!Ge(o)))return[t-s,t+o]})):[]}var xn=e=>{var t=jn(e),n=$d(e);return Bd(e,t,n)},Zp=G([xn],e=>e==null?void 0:e.dataKey),Yle=G([$V,gV,xn],MV),WV=(e,t,n,r)=>{var i={},s=t.reduce((o,a)=>{if(a.stackId==null)return o;var u=o[a.stackId];return u==null&&(u=[]),u.push(a),o[a.stackId]=u,o},i);return Object.fromEntries(Object.entries(s).map(o=>{var[a,u]=o,c=r?[...u].reverse():u,d=c.map(LT);return[a,{stackedData:Fre(e,d,n),graphicalItems:c}]}))},HV=G([Yle,$V,qp,CV],WV),qV=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=Wre(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Xle=G([Zt],e=>e.allowDataOverflow),qT=e=>{var t;if(e==null||!("domain"in e))return W1;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ca(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:W1},KT=G([Zt],qT),GT=G([KT,Xle],vV),Qle=G([HV,ma,Ft,GT],qV,{memoizeOptions:{resultEqualityCheck:Nx}}),Rx=e=>e.errorBars,Jle=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>UV(n,r)),Oy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},ZT=(e,t,n,r,i)=>{var s,o;if(n.length>0&&e.forEach(a=>{n.forEach(u=>{var c,d,p=(c=r[u.id])===null||c===void 0?void 0:c.filter(S=>UV(i,S)),m=It(a,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),y=Zle(a,m,p);if(y.length>=2){var _=Math.min(...y),E=Math.max(...y);(s==null||_<s)&&(s=_),(o==null||E>o)&&(o=E)}var w=RO(m);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(a=>{var u=RO(It(a,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Ge(s)&&Ge(o))return[s,o]},eue=G([WT,Zt,Kle,Rx,Ft],ZT,{memoizeOptions:{resultEqualityCheck:Nx}});function tue(e){var{value:t}=e;if(ro(t)||t instanceof Date)return t}var nue=(e,t,n)=>{var r=e.map(tue).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&V3(r))?Dz(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},KV=e=>e.referenceElements.dots,Ud=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),rue=G([KV,Ft,Kp],Ud),GV=e=>e.referenceElements.areas,iue=G([GV,Ft,Kp],Ud),ZV=e=>e.referenceElements.lines,sue=G([ZV,Ft,Kp],Ud),YV=(e,t)=>{if(e!=null){var n=ca(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},oue=G(rue,Ft,YV),XV=(e,t)=>{if(e!=null){var n=ca(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},aue=G([iue,Ft],XV);function lue(e){var t;if(e.x!=null)return ca([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ca(n)}function uue(e){var t;if(e.y!=null)return ca([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ca(n)}var QV=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?lue(r):uue(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},cue=G([sue,Ft],QV),due=G(oue,cue,aue,(e,t,n)=>Oy(e,n,t)),YT=(e,t,n,r,i,s,o,a)=>{if(n!=null)return n;var u=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",c=u?Oy(r,s,i):Oy(s,i);return Sle(t,c,e.allowDataOverflow)},fue=G([Zt,KT,GT,Qle,eue,due,xt,Ft],YT,{memoizeOptions:{resultEqualityCheck:Nx}}),hue=[0,1],XT=(e,t,n,r,i,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:a,type:u}=e,c=co(t,s);if(c&&a==null){var d;return Dz(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return u==="category"?nue(r,e,c):i==="expand"?hue:o}},QT=G([Zt,xt,WT,jx,qp,Ft,fue],XT);function pue(e){return e in Gf}var JV=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Mp(r));return pue(s)?s:"point"}}},Al=G([Zt,VV,NT],JV);function JT(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?OO(e.scale,n,r):OO(t,n,r)}var eA=(e,t,n)=>{var r=qT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ua(e))return Ile(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ua(e))return kle(e,t.tickCount,t.allowDecimals)}},tA=G([QT,Bd,Al],eA),nA=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ua(t)&&Array.isArray(n)&&n.length>0){var i,s,o=t[0],a=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],c=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(o,a),Math.max(u,c)]}return t},mue=G([Zt,QT,tA,Ft],nA),gue=G(jx,Zt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ca(e.map(p=>p.value))).sort((p,m)=>p-m),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var o=s-i;if(o===0)return 1/0;for(var a=0;a<r.length-1;a++){var u=r[a],c=r[a+1];if(!(u==null||c==null)){var d=c-u;n=Math.min(n,d)}}return n/o}}),eF=G(gue,xt,Nle,Nn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ge(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=li(n,e*s),a=e*s/2;return a-o-(a-o)/s*o}return 0}),vue=(e,t,n)=>{var r=ga(e,t);return r==null||typeof r.padding!="string"?0:eF(e,"xAxis",t,n,r.padding)},yue=(e,t,n)=>{var r=va(e,t);return r==null||typeof r.padding!="string"?0:eF(e,"yAxis",t,n,r.padding)},xue=G(ga,vue,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),_ue=G(va,yue,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),bue=G([Nn,xue,px,hx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),wue=G([Nn,xt,_ue,px,hx,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yp=(e,t,n,r)=>{var i;switch(t){case"xAxis":return bue(e,n,r);case"yAxis":return wue(e,n,r);case"zAxis":return(i=VT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return OV(e);case"radiusAxis":return jV(e,n);default:return}},tF=G([Zt,Yp],Cx),Eue=G([Al,mue],DV),Mx=G([Zt,Al,Eue,tF],JT);G([Gp,Rx,Ft],Jle);function nF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dx=(e,t)=>t,Lx=(e,t,n)=>n,Sue=G(dx,Dx,Lx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(nF)),Pue=G(fx,Dx,Lx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(nF)),rF=(e,t)=>({width:e.width,height:t.height}),Tue=(e,t)=>{var n=typeof t.width=="number"?t.width:zp;return{width:n,height:e.height}},Aue=G(Nn,ga,rF),Cue=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Iue=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},kue=G(ha,Nn,Sue,Dx,Lx,(e,t,n,r,i)=>{var s={},o;return n.forEach(a=>{var u=rF(t,a);o==null&&(o=Cue(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),s}),Nue=G(fa,Nn,Pue,Dx,Lx,(e,t,n,r,i)=>{var s={},o;return n.forEach(a=>{var u=Tue(t,a);o==null&&(o=Iue(t,r,e));var c=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),s}),Oue=(e,t)=>{var n=ga(e,t);if(n!=null)return kue(e,n.orientation,n.mirror)},jue=G([Nn,ga,Oue,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Rue=(e,t)=>{var n=va(e,t);if(n!=null)return Nue(e,n.orientation,n.mirror)},Mue=G([Nn,va,Rue,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Due=G(Nn,va,(e,t)=>{var n=typeof t.width=="number"?t.width:zp;return{width:n,height:e.height}}),iF=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=co(e,r),u=t.map(c=>c.value);if(o&&a&&s==="category"&&i&&V3(u))return u}},rA=G([xt,jx,Zt,Ft],iF),sF=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=co(e,r);if(o&&(i==="number"||s!=="auto"))return t.map(a=>a.value)}},iA=G([xt,jx,Bd,Ft],sF),MO=G([xt,Hle,Al,Mx,rA,iA,Yp,tA,Ft],(e,t,n,r,i,s,o,a,u)=>{if(t!=null){var c=co(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:a,range:o,realScaleType:n,scale:r}}}),Lue=(e,t,n,r,i,s,o,a,u)=>{if(!(t==null||r==null)){var c=co(e,u),{type:d,ticks:p,tickCount:m}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=d==="category"&&r.bandwidth?r.bandwidth()/y:0;_=u==="angleAxis"&&s!=null&&s.length>=2?ur(s[0]-s[1])*2*_:_;var E=p||i;return E?E.map((w,S)=>{var P=o?o.indexOf(w):w,A=r.map(P);return Ge(A)?{index:S,coordinate:A+_,value:w,offset:_}:null}).filter(Fr):c&&a?a.map((w,S)=>{var P=r.map(w);return Ge(P)?{coordinate:P+_,value:w,index:S,offset:_}:null}).filter(Fr):r.ticks?r.ticks(m).map((w,S)=>{var P=r.map(w);return Ge(P)?{coordinate:P+_,value:w,index:S,offset:_}:null}).filter(Fr):r.domain().map((w,S)=>{var P=r.map(w);return Ge(P)?{coordinate:P+_,value:o?o[w]:w,index:S,offset:_}:null}).filter(Fr)}},oF=G([xt,Bd,Al,Mx,tA,Yp,rA,iA,Ft],Lue),zue=(e,t,n,r,i,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=co(e,o),{tickCount:u}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ur(r[0]-r[1])*2*c:c,a&&s?s.map((d,p)=>{var m=n.map(d);return Ge(m)?{coordinate:m+c,value:d,index:p,offset:c}:null}).filter(Fr):n.ticks?n.ticks(u).map((d,p)=>{var m=n.map(d);return Ge(m)?{coordinate:m+c,value:d,index:p,offset:c}:null}).filter(Fr):n.domain().map((d,p)=>{var m=n.map(d);return Ge(m)?{coordinate:m+c,value:i?i[d]:d,index:p,offset:c}:null}).filter(Fr)}},aF=G([xt,Bd,Mx,Yp,rA,iA,Ft],zue),lF=G(Zt,Mx,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})}),Vue=G([Zt,Al,QT,tF],JT);G((e,t,n)=>VT(e,n),Vue,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})});var Fue=G([xt,dx,fx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uF=e=>e.options.defaultTooltipEventType,cF=e=>e.options.validateTooltipEventTypes;function dF(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function sA(e,t){var n=uF(e),r=cF(e);return dF(t,n,r)}function $ue(e){return Ie(t=>sA(t,e))}var fF=(e,t)=>{var n,r=Number(t);if(!(no(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Bue=e=>e.tooltip.settings,Va={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Uue={itemInteraction:{click:Va,hover:Va},axisInteraction:{click:Va,hover:Va},keyboardInteraction:Va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},hF=Kr({name:"tooltip",initialState:Uue,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Nt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=cs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Nt()},removeTooltipEntrySettings:{reducer(e,t){var n=cs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Nt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Wue,replaceTooltipEntrySettings:Hue,removeTooltipEntrySettings:que,setTooltipSettingsState:Kue,setActiveMouseOverItemIndex:pF,mouseLeaveItem:Gue,mouseLeaveChart:mF,setActiveClickItemIndex:Zue,setMouseOverAxisIndex:gF,setMouseClickAxisIndex:Yue,setSyncInteraction:H1,setKeyboardInteraction:q1}=hF.actions,Xue=hF.reducer;function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(n),!0).forEach(function(r){Que(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Que(e,t,n){return(t=Jue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jue(e){var t=ece(e,"string");return typeof t=="symbol"?t:t+""}function ece(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tce(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nce(e){return e.index!=null}var vF=(e,t,n,r)=>{if(t==null)return Va;var i=tce(e,t,n);if(i==null)return Va;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(nce(i)){if(s)return yg(yg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return yg(yg({},Va),{},{coordinate:i.coordinate})};function rce(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function ice(e,t){var n=rce(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function sce(e,t,n){if(n==null||t==null)return!0;var r=It(e,t);return r==null||!ua(n)?!0:ice(r,n)}var oA=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Ge(s))return i;var o=0,a=1/0;t.length>0&&(a=t.length-1);var u=Math.max(o,Math.min(s,a)),c=t[u];return c==null||sce(c,n,r)?String(u):null},yF=(e,t,n,r,i,s,o)=>{if(s!=null){var a=o[0],u=a==null?void 0:a.getPosition(s);if(u!=null)return u;var c=i==null?void 0:i[Number(s)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},xF=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.graphicalItemId)===i})},_F=e=>e.options.tooltipPayloadSearcher,Wd=e=>e.tooltip;function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){oce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oce(e,t,n){return(t=ace(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ace(e){var t=lce(e,"string");return typeof t=="symbol"?t:t+""}function lce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uce(e,t){return e??t}var bF=(e,t,n,r,i,s,o)=>{if(!(t==null||s==null)){var{chartData:a,computedData:u,dataStartIndex:c,dataEndIndex:d}=n,p=[];return e.reduce((m,y)=>{var _,{dataDefinedOnItem:E,settings:w}=y,S=uce(E,a),P=Array.isArray(S)?Z6(S,c,d):S,A=(_=w==null?void 0:w.dataKey)!==null&&_!==void 0?_:r,O=w==null?void 0:w.nameKey,M;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&o==="axis"?M=F3(P,r,i):M=s(P,t,u,O),Array.isArray(M))M.forEach(k=>{var C=zO(zO({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});m.push(Kk({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:It(k.payload,k.dataKey),name:k.name}))});else{var z;m.push(Kk({tooltipEntrySettings:w,dataKey:A,payload:M,value:It(M,A),name:(z=It(M,O))!==null&&z!==void 0?z:w==null?void 0:w.name}))}return m},p)}},aA=G([xn,VV,NT],JV),cce=G([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dce=G([jn,$d],FT),Hd=G([cce,xn,dce],$T,{memoizeOptions:{resultEqualityCheck:Ox}}),fce=G([Hd],e=>e.filter(zT)),hce=G([Hd],BT,{memoizeOptions:{resultEqualityCheck:Ox}}),qd=G([hce,ma],UT),pce=G([fce,ma,xn],MV),lA=G([qd,xn,Hd],HT),wF=G([xn],qT),mce=G([xn],e=>e.allowDataOverflow),EF=G([wF,mce],vV),gce=G([Hd],e=>e.filter(zT)),vce=G([pce,gce,qp,CV],WV),yce=G([vce,ma,jn,EF],qV),xce=G([Hd],BV),_ce=G([qd,xn,xce,Rx,jn],ZT,{memoizeOptions:{resultEqualityCheck:Nx}}),bce=G([KV,jn,$d],Ud),wce=G([bce,jn],YV),Ece=G([GV,jn,$d],Ud),Sce=G([Ece,jn],XV),Pce=G([ZV,jn,$d],Ud),Tce=G([Pce,jn],QV),Ace=G([wce,Tce,Sce],Oy),Cce=G([xn,wF,EF,yce,_ce,Ace,xt,jn],YT),Xp=G([xn,xt,qd,lA,qp,jn,Cce],XT),Ice=G([Xp,xn,aA],eA),kce=G([xn,Xp,Ice,jn],nA),SF=e=>{var t=jn(e),n=$d(e),r=!1;return Yp(e,t,n,r)},PF=G([xn,SF],Cx),TF=G([xn,aA,kce,PF],JT),Nce=G([xt,lA,xn,jn],iF),Oce=G([xt,lA,xn,jn],sF),jce=(e,t,n,r,i,s,o,a)=>{if(t){var{type:u}=t,c=co(e,a);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ur(i[0]-i[1])*2*p:p,c&&o?o.map((m,y)=>{var _=r.map(m);return Ge(_)?{coordinate:_+p,value:m,index:y,offset:p}:null}).filter(Fr):r.domain().map((m,y)=>{var _=r.map(m);return Ge(_)?{coordinate:_+p,value:s?s[m]:m,index:y,offset:p}:null}).filter(Fr)}}},ya=G([xt,xn,aA,TF,SF,Nce,Oce,jn],jce),uA=G([uF,cF,Bue],(e,t,n)=>dF(n.shared,e,t)),AF=e=>e.tooltip.settings.trigger,cA=e=>e.tooltip.settings.defaultIndex,Qp=G([Wd,uA,AF,cA],vF),Ed=G([Qp,qd,Zp,Xp],oA),CF=G([ya,Ed],fF),IF=G([Qp],e=>{if(e)return e.dataKey}),Rce=G([Qp],e=>{if(e)return e.graphicalItemId}),kF=G([Wd,uA,AF,cA],xF),Mce=G([fa,ha,xt,Nn,ya,cA,kF],yF),Dce=G([Qp,Mce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Lce=G([Qp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),zce=G([kF,Ed,ma,Zp,CF,_F,uA],bF),Vce=G([zce],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){Fce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fce(e,t,n){return(t=$ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ce(e){var t=Bce(e,"string");return typeof t=="symbol"?t:t+""}function Bce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uce=()=>Ie(xn),Wce=()=>{var e=Uce(),t=Ie(ya),n=Ie(TF);return uy(!e||!n?void 0:FO(FO({},e),{},{scale:n}),t)};function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){Hce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hce(e,t,n){return(t=qce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gce=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Zce=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=r;return gc(gc(gc({},r),cn(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:u}=r;return gc(gc(gc({},r),cn(r.cx,r.cy,a,u)),{},{angle:u,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Yce(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var NF=(e,t,n,r,i)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var a=0;a<o;a++){var u,c,d,p,m,y=a>0?(u=n[a-1])===null||u===void 0?void 0:u.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,_=(d=n[a])===null||d===void 0?void 0:d.coordinate,E=a>=o-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[a+1])===null||m===void 0?void 0:m.coordinate,w=void 0;if(!(y==null||_==null||E==null))if(ur(_-y)!==ur(E-_)){var S=[];if(ur(E-_)===ur(i[1]-i[0])){w=E;var P=_+i[1]-i[0];S[0]=Math.min(P,(P+y)/2),S[1]=Math.max(P,(P+y)/2)}else{w=y;var A=E+i[1]-i[0];S[0]=Math.min(_,(A+_)/2),S[1]=Math.max(_,(A+_)/2)}var O=[Math.min(_,(w+_)/2),Math.max(_,(w+_)/2)];if(e>O[0]&&e<=O[1]||e>=S[0]&&e<=S[1]){var M;return(M=n[a])===null||M===void 0?void 0:M.index}}else{var z=Math.min(y,E),k=Math.max(y,E);if(e>(z+_)/2&&e<=(k+_)/2){var C;return(C=n[a])===null||C===void 0?void 0:C.index}}}else if(t)for(var R=0;R<o;R++){var $=t[R];if($!=null){var j=t[R+1],V=t[R-1];if(R===0&&j!=null&&e<=($.coordinate+j.coordinate)/2||R===o-1&&V!=null&&e>($.coordinate+V.coordinate)/2||R>0&&R<o-1&&V!=null&&j!=null&&e>($.coordinate+V.coordinate)/2&&e<=($.coordinate+j.coordinate)/2)return $.index}}return-1},OF=()=>Ie(NT),dA=(e,t)=>t,jF=(e,t,n)=>n,fA=(e,t,n,r)=>r,Xce=G(ya,e=>ex(e,t=>t.coordinate)),hA=G([Wd,dA,jF,fA],vF),pA=G([hA,qd,Zp,Xp],oA),Qce=(e,t,n)=>{if(t!=null){var r=Wd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},RF=G([Wd,dA,jF,fA],xF),jy=G([fa,ha,xt,Nn,ya,fA,RF],yF),Jce=G([hA,jy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),MF=G([ya,pA],fF),ede=G([RF,pA,ma,Zp,MF,_F,dA],bF),tde=G([hA,pA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nde=(e,t,n,r,i,s,o)=>{if(!(!e||!n||!r||!i)&&Yce(e,o)){var a=Hre(e,t),u=NF(a,s,i,n,r),c=Gce(t,i,u,e);return{activeIndex:String(u),activeCoordinate:c}}},rde=(e,t,n,r,i,s,o)=>{if(!(!e||!r||!i||!s||!n)){var a=Use(e,n);if(a){var u=qre(a,t),c=NF(u,o,s,r,i),d=Zce(t,s,c,a);return{activeIndex:String(c),activeCoordinate:d}}}},ide=(e,t,n,r,i,s,o,a)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?nde(e,t,r,i,s,o,a):rde(e,t,n,r,i,s,o)},sde=G(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ode=G(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Bn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Vle}});function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(r){ade(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ade(e,t,n){return(t=lde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lde(e){var t=ude(e,"string");return typeof t=="symbol"?t:t+""}function ude(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cde={},dde={zIndexMap:Object.values(Bn).reduce((e,t)=>UO(UO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),cde)},fde=new Set(Object.values(Bn));function hde(e){return fde.has(e)}var DF=Kr({name:"zIndex",initialState:dde,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Nt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!hde(n)&&delete e.zIndexMap[n])},prepare:Nt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Nt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Nt()}}}),{registerZIndexPortal:pde,unregisterZIndexPortal:mde,registerZIndexPortalElement:gde,unregisterZIndexPortalElement:vde}=DF.actions,yde=DF.reducer;function xs(e){var{zIndex:t,children:n}=e,r=yie(),i=r&&t!==void 0&&t!==0,s=Gr(),o=Mt();x.useLayoutEffect(()=>i?(o(pde({zIndex:t})),()=>{o(mde({zIndex:t}))}):Dd,[o,t,i]);var a=Ie(u=>sde(u,t,s));return i?a?Do.createPortal(n,a):null:n}function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K1.apply(null,arguments)}function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(r){xde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xde(e,t,n){return(t=_de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _de(e){var t=bde(e,"string");return typeof t=="symbol"?t:t+""}function bde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wde(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function Ede(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:o,layout:a,cursor:u,tooltipEventType:c,chartName:d}=e,p=n,m=r,y=i;if(!u||!p||d!=="ScatterChart"&&c!=="axis")return null;var _,E,w;if(d==="ScatterChart")_=p,E=rse,w=Bn.cursorLine;else if(d==="BarChart")_=ise(a,p,s,o),E=Cz,w=Bn.cursorRectangle;else if(a==="radial"&&U3(p)){var{cx:S,cy:P,radius:A,startAngle:O,endAngle:M}=kz(p);_={cx:S,cy:P,startAngle:O,endAngle:M,innerRadius:A,outerRadius:A},E=Oz,w=Bn.cursorLine}else _={points:Kse(a,p,s)},E=Xc,w=Bn.cursorLine;var z=typeof u=="object"&&"className"in u?u.className:void 0,k=xg(xg(xg(xg({stroke:"#ccc",pointerEvents:"none"},s),_),gd(u)),{},{payload:m,payloadIndex:y,className:ft("recharts-tooltip-cursor",z)});return x.createElement(xs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},x.createElement(wde,{cursor:u,cursorComp:E,cursorProps:k}))}function Sde(e){var t=Wce(),n=uz(),r=Ld(),i=OF();return t==null||n==null||r==null||i==null?null:x.createElement(Ede,K1({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var LF=x.createContext(null),Pde=()=>x.useContext(LF),zF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||u,m),_=n?n+c:c;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],y]:u._events[_].push(y):(u._events[_]=y,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)t.call(d,p)&&c.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,_=new Array(y);m<y;m++)_[m]=p[m].fn;return _},a.prototype.listenerCount=function(c){var d=n?n+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,m,y,_){var E=n?n+c:c;if(!this._events[E])return!1;var w=this._events[E],S=arguments.length,P,A;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,m),!0;case 5:return w.fn.call(w.context,d,p,m,y),!0;case 6:return w.fn.call(w.context,d,p,m,y,_),!0}for(A=1,P=new Array(S-1);A<S;A++)P[A-1]=arguments[A];w.fn.apply(w.context,P)}else{var O=w.length,M;for(A=0;A<O;A++)switch(w[A].once&&this.removeListener(c,w[A].fn,void 0,!0),S){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,d);break;case 3:w[A].fn.call(w[A].context,d,p);break;case 4:w[A].fn.call(w[A].context,d,p,m);break;default:if(!P)for(M=1,P=new Array(S-1);M<S;M++)P[M-1]=arguments[M];w[A].fn.apply(w[A].context,P)}}return!0},a.prototype.on=function(c,d,p){return s(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return s(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,m){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return o(this,y),this;var _=this._events[y];if(_.fn)_.fn===d&&(!m||_.once)&&(!p||_.context===p)&&o(this,y);else{for(var E=0,w=[],S=_.length;E<S;E++)(_[E].fn!==d||m&&!_[E].once||p&&_[E].context!==p)&&w.push(_[E]);w.length?this._events[y]=w.length===1?w[0]:w:o(this,y)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(zF);var Tde=zF.exports;const Ade=oo(Tde);var op=new Ade,G1="recharts.syncEvent.tooltip",HO="recharts.syncEvent.brush",VF=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!no(n))return e[n]}},Cde={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},FF=Kr({name:"options",initialState:Cde,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ide=FF.reducer,{createEventEmitter:kde}=FF.actions;function Nde(e){return e.tooltip.syncInteraction}var Ode={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$F=Kr({name:"chartData",initialState:Ode,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:qO,setDataStartEndIndexes:jde,setComputedData:bwe}=$F.actions,Rde=$F.reducer,Mde=["x","y"];function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){Dde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dde(e,t,n){return(t=Lde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lde(e){var t=zde(e,"string");return typeof t=="symbol"?t:t+""}function zde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vde(e,t){if(e==null)return{};var n,r,i=Fde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $de(){var e=Ie(OT),t=Ie(jT),n=Mt(),r=Ie(IV),i=Ie(ya),s=Ld(),o=mx(),a=Ie(u=>u.rootProps.className);x.useEffect(()=>{if(e==null)return Dd;var u=(c,d,p)=>{if(t!==p&&e===c){if(r==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:_,y:E}=y,w=Vde(y,Mde),{x:S,y:P,width:A,height:O}=d.payload.sourceViewBox,M=vc(vc({},w),{},{x:o.x+(A?(_-S)/A:0)*o.width,y:o.y+(O?(E-P)/O:0)*o.height});n(vc(vc({},d),{},{payload:vc(vc({},d.payload),{},{coordinate:M})}))}else n(d);return}if(i!=null){var z;if(typeof r=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=r(i,k);z=i[C]}else r==="value"&&(z=i.find(se=>String(se.value)===d.payload.label));var{coordinate:R}=d.payload;if(z==null||d.payload.active===!1||R==null||o==null){n(H1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:j}=R,V=Math.min($,o.x+o.width),F=Math.min(j,o.y+o.height),J={x:s==="horizontal"?z.coordinate:V,y:s==="horizontal"?F:z.coordinate},fe=H1({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(z.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(fe)}}};return op.on(G1,u),()=>{op.off(G1,u)}},[a,n,t,e,r,i,s,o])}function Bde(){var e=Ie(OT),t=Ie(jT),n=Mt();x.useEffect(()=>{if(e==null)return Dd;var r=(i,s,o)=>{t!==o&&e===i&&n(jde(s))};return op.on(HO,r),()=>{op.off(HO,r)}},[n,t,e])}function Ude(){var e=Mt();x.useEffect(()=>{e(kde())},[e]),$de(),Bde()}function Wde(e,t,n,r,i,s){var o=Ie(y=>Qce(y,e,t)),a=Ie(jT),u=Ie(OT),c=Ie(IV),d=Ie(Nde),p=d==null?void 0:d.active,m=mx();x.useEffect(()=>{if(!p&&u!=null&&a!=null){var y=H1({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});op.emit(G1,u,y,a)}},[p,n,o,i,r,a,u,c,s,m])}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){Hde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hde(e,t,n){return(t=qde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qde(e){var t=Kde(e,"string");return typeof t=="symbol"?t:t+""}function Kde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gde(e){return e.dataKey}function Zde(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Die,t)}var YO=[],Yde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function BF(e){var t,n,r=Gn(e,Yde),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:a,content:u,filterNull:c,isAnimationActive:d,offset:p,payloadUniqBy:m,position:y,reverseDirection:_,useTranslate3d:E,wrapperStyle:w,cursor:S,shared:P,trigger:A,defaultIndex:O,portal:M,axisId:z}=r,k=Mt(),C=typeof O=="number"?String(O):O;x.useEffect(()=>{k(Kue({shared:P,trigger:A,axisId:z,active:i,defaultIndex:C}))},[k,P,A,z,i,C]);var R=mx(),$=Ez(),j=$ue(P),{activeIndex:V,isActive:F}=(t=Ie($e=>tde($e,j,A,C)))!==null&&t!==void 0?t:{},J=Ie($e=>ede($e,j,A,C)),fe=Ie($e=>MF($e,j,A,C)),se=Ie($e=>Jce($e,j,A,C)),ie=J,W=Pde(),ne=(n=i??F)!==null&&n!==void 0?n:!1,[K,oe]=One([ie,ne]),ue=j==="axis"?fe:void 0;Wde(j,A,se,ue,V,ne);var Ae=M??W;if(Ae==null||R==null||j==null)return null;var be=ie??YO;ne||(be=YO),c&&be.length&&(be=Yte(be.filter($e=>$e.value!=null&&($e.hide!==!0||r.includeHidden)),m,Gde));var Ce=be.length>0,ge=x.createElement(Uie,{allowEscapeViewBox:s,animationDuration:o,animationEasing:a,isAnimationActive:d,active:ne,coordinate:se,hasPayload:Ce,offset:p,position:y,reverseDirection:_,useTranslate3d:E,viewBox:R,wrapperStyle:w,lastBoundingBox:K,innerRef:oe,hasPortalFromProps:!!M},Zde(u,ZO(ZO({},r),{},{payload:be,label:ue,active:ne,activeIndex:V,coordinate:se,accessibilityLayer:$})));return x.createElement(x.Fragment,null,Do.createPortal(ge,Ae),ne&&x.createElement(Sde,{cursor:S,tooltipEventType:j,coordinate:se,payload:be,index:V}))}var zx=e=>null;zx.displayName="Cell";function Xde(e,t,n){return(t=Qde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qde(e){var t=Jde(e,"string");return typeof t=="symbol"?t:t+""}function Jde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class efe{constructor(t){Xde(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){nfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nfe(e,t,n){return(t=rfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rfe(e){var t=ife(e,"string");return typeof t=="symbol"?t:t+""}function ife(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sfe={cacheSize:2e3,enableCache:!0},UF=tfe({},sfe),QO=new efe(UF.cacheSize),ofe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JO="recharts_measurement_span";function afe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(a)}var ej=(e,t)=>{try{var n=document.getElementById(JO);n||(n=document.createElement("span"),n.setAttribute("id",JO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ofe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$p.isSsr)return{width:0,height:0};if(!UF.enableCache)return ej(t,n);var r=afe(t,n),i=QO.get(r);if(i)return i;var s=ej(t,n);return QO.set(r,s),s},WF;function lfe(e,t,n){return(t=ufe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ufe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ffe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pfe=["cm","mm","pt","pc","in","Q","px"];function mfe(e){return pfe.includes(e)}var Lc="NaN";function gfe(e,t){return e*hfe[t]}class zn{static parse(t){var n,[,r,i]=(n=ffe.exec(t))!==null&&n!==void 0?n:[];return r==null?zn.NaN:new zn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,no(t)&&(this.unit=""),n!==""&&!dfe.test(n)&&(this.num=NaN,this.unit=""),mfe(n)&&(this.num=gfe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return no(this.num)}}WF=zn;lfe(zn,"NaN",new WF(NaN,""));function HF(e){if(e==null||e.includes(Lc))return Lc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=tj.exec(t))!==null&&n!==void 0?n:[],o=zn.parse(r??""),a=zn.parse(s??""),u=i==="*"?o.multiply(a):o.divide(a);if(u.isNaN())return Lc;t=t.replace(tj,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,p,m]=(c=nj.exec(t))!==null&&c!==void 0?c:[],y=zn.parse(d??""),_=zn.parse(m??""),E=p==="+"?y.add(_):y.subtract(_);if(E.isNaN())return Lc;t=t.replace(nj,E.toString())}return t}var rj=/\(([^()]*)\)/;function vfe(e){for(var t=e,n;(n=rj.exec(t))!=null;){var[,r]=n;t=t.replace(rj,HF(r))}return t}function yfe(e){var t=e.replace(/\s+/g,"");return t=vfe(t),t=HF(t),t}function xfe(e){try{return yfe(e)}catch{return Lc}}function wb(e){var t=xfe(e.slice(5,-1));return t===Lc?"":t}var _fe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bfe=["dx","dy","angle","className","breakAll"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z1.apply(null,arguments)}function ij(e,t){if(e==null)return{};var n,r,i=wfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qF=/[ \f\n\r\t\v\u2028\u2029]+/,KF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Kn(t)||(n?i=t.toString().split(""):i=t.toString().split(qF));var s=i.map(a=>({word:a,width:fh(a,r).width})),o=n?0:fh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function Efe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var GF=(e,t,n,r)=>e.reduce((i,s)=>{var{word:o,width:a}=s,u=i[i.length-1];if(u&&a!=null&&(t==null||r||u.width+a+n<Number(t)))u.words.push(o),u.width+=a+n;else{var c={words:[o],width:a};i.push(c)}return i},[]),ZF=e=>e.reduce((t,n)=>t.width>n.width?t:n),Sfe="",sj=(e,t,n,r,i,s,o,a)=>{var u=e.slice(0,t),c=KF({breakAll:n,style:r,children:u+Sfe});if(!c)return[!1,[]];var d=GF(c.wordsWithComputedWidth,s,o,a),p=d.length>i||ZF(d).width>Number(s);return[p,d]},Pfe=(e,t,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:u}=e,c=Pe(s),d=String(o),p=GF(t,r,n,i);if(!c||i)return p;var m=p.length>s||ZF(p).width>Number(r);if(!m)return p;for(var y=0,_=d.length-1,E=0,w;y<=_&&E<=d.length-1;){var S=Math.floor((y+_)/2),P=S-1,[A,O]=sj(d,P,u,a,s,r,n,i),[M]=sj(d,S,u,a,s,r,n,i);if(!A&&!M&&(y=S+1),A&&M&&(_=S-1),!A&&M){w=O;break}E++}return w||p},oj=e=>{var t=Kn(e)?[]:e.toString().split(qF);return[{words:t,width:void 0}]},Tfe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!$p.isSsr){var a,u,c=KF({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:p}=c;a=d,u=p}else return oj(r);return Pfe({breakAll:s,children:r,maxLines:o,style:i},a,u,t,!!n)}return oj(r)},YF="#808080",Afe={angle:0,breakAll:!1,capHeight:"0.71em",fill:YF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Vx=x.forwardRef((e,t)=>{var n=Gn(e,Afe),{x:r,y:i,lineHeight:s,capHeight:o,fill:a,scaleToFit:u,textAnchor:c,verticalAnchor:d}=n,p=ij(n,_fe),m=x.useMemo(()=>Tfe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:_,angle:E,className:w,breakAll:S}=p,P=ij(p,bfe);if(!ro(r)||!ro(i)||m.length===0)return null;var A=Number(r)+(Pe(y)?y:0),O=Number(i)+(Pe(_)?_:0);if(!Ge(A)||!Ge(O))return null;var M;switch(d){case"start":M=wb("calc(".concat(o,")"));break;case"middle":M=wb("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:M=wb("calc(".concat(m.length-1," * -").concat(s,")"));break}var z=[],k=m[0];if(u&&k!=null){var C=k.width,{width:R}=p;z.push("scale(".concat(Pe(R)&&Pe(C)?R/C:1,")"))}return E&&z.push("rotate(".concat(E,", ").concat(A,", ").concat(O,")")),z.length&&(P.transform=z.join(" ")),x.createElement("text",Z1({},wr(P),{ref:t,x:A,y:O,className:ft("recharts-text",w),textAnchor:c,fill:a.includes("url")?YF:a}),m.map(($,j)=>{var V=$.words.join(S?"":" ");return x.createElement("tspan",{x:A,dy:j===0?M:s,key:"".concat(V,"-").concat(j)},V)}))});Vx.displayName="Text";function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){Cfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cfe(e,t,n){return(t=Ife(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ife(e){var t=kfe(e,"string");return typeof t=="symbol"?t:t+""}function kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nfe=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:s,y:o,height:a,upperWidth:u,lowerWidth:c}=nT(t),d=s,p=s+(u-c)/2,m=(d+p)/2,y=(u+c)/2,_=d+u/2,E=a>=0?1:-1,w=E*r,S=E>0?"end":"start",P=E>0?"start":"end",A=u>=0?1:-1,O=A*r,M=A>0?"end":"start",z=A>0?"start":"end",k=i;if(n==="top"){var C={x:d+u/2,y:o-w,horizontalAnchor:"middle",verticalAnchor:S};return k&&(C.height=Math.max(o-k.y,0),C.width=u),C}if(n==="bottom"){var R={x:p+c/2,y:o+a+w,horizontalAnchor:"middle",verticalAnchor:P};return k&&(R.height=Math.max(k.y+k.height-(o+a),0),R.width=c),R}if(n==="left"){var $={x:m-O,y:o+a/2,horizontalAnchor:M,verticalAnchor:"middle"};return k&&($.width=Math.max($.x-k.x,0),$.height=a),$}if(n==="right"){var j={x:m+y+O,y:o+a/2,horizontalAnchor:z,verticalAnchor:"middle"};return k&&(j.width=Math.max(k.x+k.width-j.x,0),j.height=a),j}var V=k?{width:y,height:a}:{};return n==="insideLeft"?Ls({x:m+O,y:o+a/2,horizontalAnchor:z,verticalAnchor:"middle"},V):n==="insideRight"?Ls({x:m+y-O,y:o+a/2,horizontalAnchor:M,verticalAnchor:"middle"},V):n==="insideTop"?Ls({x:d+u/2,y:o+w,horizontalAnchor:"middle",verticalAnchor:P},V):n==="insideBottom"?Ls({x:p+c/2,y:o+a-w,horizontalAnchor:"middle",verticalAnchor:S},V):n==="insideTopLeft"?Ls({x:d+O,y:o+w,horizontalAnchor:z,verticalAnchor:P},V):n==="insideTopRight"?Ls({x:d+u-O,y:o+w,horizontalAnchor:M,verticalAnchor:P},V):n==="insideBottomLeft"?Ls({x:p+O,y:o+a-w,horizontalAnchor:z,verticalAnchor:S},V):n==="insideBottomRight"?Ls({x:p+c-O,y:o+a-w,horizontalAnchor:M,verticalAnchor:S},V):n&&typeof n=="object"&&(Pe(n.x)||Tu(n.x))&&(Pe(n.y)||Tu(n.y))?Ls({x:s+li(n.x,y),y:o+li(n.y,a),horizontalAnchor:"end",verticalAnchor:"end"},V):Ls({x:_,y:o+a/2,horizontalAnchor:"middle",verticalAnchor:"middle"},V)},Ofe=["labelRef"],jfe=["content"];function lj(e,t){if(e==null)return{};var n,r,i=Rfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){Mfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mfe(e,t,n){return(t=Dfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dfe(e){var t=Lfe(e,"string");return typeof t=="symbol"?t:t+""}function Lfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}var XF=x.createContext(null),zfe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o,children:a}=e,u=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o}),[t,n,r,i,s,o]);return x.createElement(XF.Provider,{value:u},a)},QF=()=>{var e=x.useContext(XF),t=mx();return e||(t?nT(t):void 0)},Vfe=x.createContext(null),Ffe=()=>{var e=x.useContext(Vfe),t=Ie(RV);return e||t},$fe=e=>{var{value:t,formatter:n}=e,r=Kn(e.children)?t:e.children;return typeof n=="function"?n(r):r},mA=e=>e!=null&&typeof e=="function",Bfe=(e,t)=>{var n=ur(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Ufe=(e,t,n,r,i)=>{var{offset:s,className:o}=e,{cx:a,cy:u,innerRadius:c,outerRadius:d,startAngle:p,endAngle:m,clockWise:y}=i,_=(c+d)/2,E=Bfe(p,m),w=E>=0?1:-1,S,P;switch(t){case"insideStart":S=p+w*s,P=y;break;case"insideEnd":S=m-w*s,P=!y;break;case"end":S=m+w*s,P=y;break;default:throw new Error("Unsupported position ".concat(t))}P=E<=0?P:!P;var A=cn(a,u,_,S),O=cn(a,u,_,S+(P?1:-1)*359),M="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(P?0:1,`,
    `).concat(O.x,",").concat(O.y),z=Kn(e.id)?Kh("recharts-radial-line-"):e.id;return x.createElement("text",jo({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:z,d:M})),x.createElement("textPath",{xlinkHref:"#".concat(z)},n))},Wfe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:a,endAngle:u}=e,c=(a+u)/2;if(n==="outside"){var{x:d,y:p}=cn(r,i,o+t,c);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(s+o)/2,{x:y,y:_}=cn(r,i,m,c);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Qg=e=>e!=null&&"cx"in e&&Pe(e.cx),Hfe={angle:0,offset:5,zIndex:Bn.label,position:"middle",textBreakAll:!1};function qfe(e){if(!Qg(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Na(e){var t=Gn(e,Hfe),{viewBox:n,parentViewBox:r,position:i,value:s,children:o,content:a,className:u="",textBreakAll:c,labelRef:d}=t,p=Ffe(),m=QF(),y=i==="center"?m:p??m,_,E,w;n==null?_=y:Qg(n)?_=n:_=nT(n);var S=qfe(_);if(!_||Kn(s)&&Kn(o)&&!x.isValidElement(a)&&typeof a!="function")return null;var P=Zf(Zf({},t),{},{viewBox:_});if(x.isValidElement(a)){var{labelRef:A}=P,O=lj(P,Ofe);return x.cloneElement(a,O)}if(typeof a=="function"){var{content:M}=P,z=lj(P,jfe);if(E=x.createElement(a,z),x.isValidElement(E))return E}else E=$fe(t);var k=wr(t);if(Qg(_)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Ufe(t,i,E,k,_);w=Wfe(_,t.offset,t.position)}else{if(!S)return null;var C=Nfe({viewBox:S,position:i,offset:t.offset,parentViewBox:Qg(r)?void 0:r});w=Zf(Zf({x:C.x,y:C.y,textAnchor:C.horizontalAnchor,verticalAnchor:C.verticalAnchor},C.width!==void 0?{width:C.width}:{}),C.height!==void 0?{height:C.height}:{})}return x.createElement(xs,{zIndex:t.zIndex},x.createElement(Vx,jo({ref:d,className:ft("recharts-label",u)},k,w,{textAnchor:Efe(k.textAnchor)?k.textAnchor:w.textAnchor,breakAll:c}),E))}Na.displayName="Label";var Kfe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Na,jo({key:"label-implicit"},r)):ro(e)?x.createElement(Na,jo({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Na?x.cloneElement(e,Zf({key:"label-implicit"},r)):x.createElement(Na,jo({key:"label-implicit",content:e},r)):mA(e)?x.createElement(Na,jo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Na,jo({},e,{key:"label-implicit"},r)):null};function Gfe(e){var{label:t,labelRef:n}=e,r=QF();return Kfe(t,r,n)||null}var JF={},e$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(e$);var t$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(t$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e$,n=t$,r=X0;function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(JF);var Zfe=JF.last;const Yfe=oo(Zfe);var Xfe=["valueAccessor"],Qfe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}function cj(e,t){if(e==null)return{};var n,r,i=Jfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ehe=e=>Array.isArray(e.value)?Yfe(e.value):e.value,n$=x.createContext(void 0),the=n$.Provider,r$=x.createContext(void 0),nhe=r$.Provider;function rhe(){return x.useContext(n$)}function ihe(){return x.useContext(r$)}function Jg(e){var{valueAccessor:t=ehe}=e,n=cj(e,Xfe),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:a}=n,u=cj(n,Qfe),c=rhe(),d=ihe(),p=c||d;return!p||!p.length?null:x.createElement(xs,{zIndex:a??Bn.label},x.createElement(qn,{className:"recharts-label-list"},p.map((m,y)=>{var _,E=Kn(r)?t(m,y):It(m.payload,r),w=Kn(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement(Na,Ry({key:"label-".concat(y)},wr(m),u,w,{fill:(_=n.fill)!==null&&_!==void 0?_:m.fill,parentViewBox:m.parentViewBox,value:E,textBreakAll:o,viewBox:m.viewBox,index:y,zIndex:0}))})))}Jg.displayName="LabelList";function i$(e){var{label:t}=e;return t?t===!0?x.createElement(Jg,{key:"labelList-implicit"}):x.isValidElement(t)||mA(t)?x.createElement(Jg,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Jg,Ry({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y1.apply(null,arguments)}var s$=e=>{var{cx:t,cy:n,r,className:i}=e,s=ft("recharts-dot",i);return Pe(t)&&Pe(n)&&Pe(r)?x.createElement("circle",Y1({},di(e),LP(e),{className:s,cx:t,cy:n,r})):null},o$=e=>e.graphicalItems.polarItems,she=G([Ft,Kp],FT),Fx=G([o$,Zt,she],$T),ohe=G([Fx],BT),$x=G([ohe,Ax],UT),ahe=G([$x,Zt,Fx],HT);G([$x,Zt,Fx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,o=It(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:It(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var dj=()=>{},lhe=G([$x,Zt,Fx,Rx,Ft],ZT),uhe=G([Zt,KT,GT,dj,lhe,dj,xt,Ft],YT),a$=G([Zt,xt,$x,ahe,qp,Ft,uhe],XT),che=G([a$,Bd,Al],eA),dhe=G([Zt,a$,che,Ft],nA);G([Al,dhe],DV);var fhe={radiusAxis:{},angleAxis:{}},l$=Kr({name:"polarAxis",initialState:fhe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:wwe,removeRadiusAxis:Ewe,addAngleAxis:Swe,removeAngleAxis:Pwe}=l$.actions,hhe=l$.reducer;function u$(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){phe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function phe(e,t,n){return(t=mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mhe(e){var t=ghe(e,"string");return typeof t=="symbol"?t:t+""}function ghe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vhe=(e,t)=>t,gA=G([o$,vhe],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),yhe=[],vA=(e,t,n)=>(n==null?void 0:n.length)===0?yhe:n,c$=G([Ax,gA,vA],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>hj(hj({},t.presentationProps),s.props))),i!=null)return i}}),xhe=G([c$,gA,vA],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,o=It(r,t.nameKey,t.name),a;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=t.fill,{value:cx(o,t.dataKey),color:a,payload:r,type:t.legendType}})}),_he=G([c$,gA,vA,Nn],(e,t,n,r)=>{if(!(t==null||e==null))return Ppe({offset:r,pieSettings:t,displayedData:e,cells:n})}),d$={exports:{}},_t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA=Symbol.for("react.transitional.element"),xA=Symbol.for("react.portal"),Bx=Symbol.for("react.fragment"),Ux=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),Hx=Symbol.for("react.consumer"),qx=Symbol.for("react.context"),Kx=Symbol.for("react.forward_ref"),Gx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),Yx=Symbol.for("react.memo"),Xx=Symbol.for("react.lazy"),bhe=Symbol.for("react.view_transition"),whe=Symbol.for("react.client.reference");function qi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yA:switch(e=e.type,e){case Bx:case Wx:case Ux:case Gx:case Zx:case bhe:return e;default:switch(e=e&&e.$$typeof,e){case qx:case Kx:case Xx:case Yx:return e;case Hx:return e;default:return t}}case xA:return t}}}_t.ContextConsumer=Hx;_t.ContextProvider=qx;_t.Element=yA;_t.ForwardRef=Kx;_t.Fragment=Bx;_t.Lazy=Xx;_t.Memo=Yx;_t.Portal=xA;_t.Profiler=Wx;_t.StrictMode=Ux;_t.Suspense=Gx;_t.SuspenseList=Zx;_t.isContextConsumer=function(e){return qi(e)===Hx};_t.isContextProvider=function(e){return qi(e)===qx};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yA};_t.isForwardRef=function(e){return qi(e)===Kx};_t.isFragment=function(e){return qi(e)===Bx};_t.isLazy=function(e){return qi(e)===Xx};_t.isMemo=function(e){return qi(e)===Yx};_t.isPortal=function(e){return qi(e)===xA};_t.isProfiler=function(e){return qi(e)===Wx};_t.isStrictMode=function(e){return qi(e)===Ux};_t.isSuspense=function(e){return qi(e)===Gx};_t.isSuspenseList=function(e){return qi(e)===Zx};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bx||e===Wx||e===Ux||e===Gx||e===Zx||typeof e=="object"&&e!==null&&(e.$$typeof===Xx||e.$$typeof===Yx||e.$$typeof===qx||e.$$typeof===Hx||e.$$typeof===Kx||e.$$typeof===whe||e.getModuleId!==void 0)};_t.typeOf=qi;d$.exports=_t;var Ehe=d$.exports,pj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",mj=null,Eb=null,f$=e=>{if(e===mj&&Array.isArray(Eb))return Eb;var t=[];return x.Children.forEach(e,n=>{Kn(n)||(Ehe.isFragment(n)?t=t.concat(f$(n.props.children)):t.push(n))}),Eb=t,mj=e,t};function h$(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>pj(i)):r=[pj(t)],f$(e).forEach(i=>{var s=Pu(i,"type.displayName")||Pu(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var p$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,m$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(m$);var She=m$.isPlainObject;const Phe=oo(She);var gj,vj,yj,xj,_j;function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){The(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function The(e,t,n){return(t=Ahe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ahe(e){var t=Che(e,"string");return typeof t=="symbol"?t:t+""}function Che(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function Df(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ej=(e,t,n,r,i)=>{var s=n-r,o;return o=Ut(gj||(gj=Df(["M ",",",""])),e,t),o+=Ut(vj||(vj=Df(["L ",",",""])),e+n,t),o+=Ut(yj||(yj=Df(["L ",",",""])),e+n-s/2,t+i),o+=Ut(xj||(xj=Df(["L ",",",""])),e+n-s/2-r,t+i),o+=Ut(_j||(_j=Df(["L ",","," Z"])),e,t),o},Ihe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},khe=e=>{var t=Gn(e,Ihe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:a}=t,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:p}=t,m=x.useRef(null),[y,_]=x.useState(-1),E=x.useRef(i),w=x.useRef(s),S=x.useRef(o),P=x.useRef(n),A=x.useRef(r),O=_x(e,"trapezoid-");if(x.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var J=m.current.getTotalLength();J&&_(J)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var M=ft("recharts-trapezoid",a);if(!p)return x.createElement("g",null,x.createElement("path",My({},wr(t),{className:M,d:Ej(n,r,i,s,o)})));var z=E.current,k=w.current,C=S.current,R=P.current,$=A.current,j="0px ".concat(y===-1?1:y,"px"),V="".concat(y,"px 0px"),F=Sz(["strokeDasharray"],c,u);return x.createElement(xx,{animationId:O,key:O,canBegin:y>0,duration:c,easing:u,isActive:p,begin:d},J=>{var fe=Fn(z,i,J),se=Fn(k,s,J),ie=Fn(C,o,J),W=Fn(R,n,J),ne=Fn($,r,J);m.current&&(E.current=fe,w.current=se,S.current=ie,P.current=W,A.current=ne);var K=J>0?{transition:F,strokeDasharray:V}:{strokeDasharray:j};return x.createElement("path",My({},wr(t),{className:M,d:Ej(W,ne,fe,se,ie),ref:m,style:wj(wj({},K),t.style)}))})},Nhe=["option","shapeType","activeClassName"];function Ohe(e,t){if(e==null)return{};var n,r,i=jhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){Rhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rhe(e,t,n){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lhe(e,t){return Dy(Dy({},t),e)}function zhe(e,t){return e==="symbols"}function Pj(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(Cz,n);case"trapezoid":return x.createElement(khe,n);case"sector":return x.createElement(Oz,n);case"symbols":if(zhe(t))return x.createElement(B3,n);break;case"curve":return x.createElement(Xc,n);default:return null}}function Vhe(e){return x.isValidElement(e)?e.props:e}function Fhe(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Ohe(e,Nhe),s;if(x.isValidElement(t))s=x.cloneElement(t,Dy(Dy({},i),Vhe(t)));else if(typeof t=="function")s=t(i,i.index);else if(Phe(t)&&typeof t!="boolean"){var o=Lhe(t,i);s=x.createElement(Pj,{shapeType:n,elementProps:o})}else{var a=i;s=x.createElement(Pj,{shapeType:n,elementProps:a})}return i.isActive?x.createElement(qn,{className:r},s):s}var $he=(e,t,n)=>{var r=Mt();return(i,s)=>o=>{e==null||e(i,s,o),r(pF({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Bhe=e=>{var t=Mt();return(n,r)=>i=>{e==null||e(n,r,i),t(Gue())}},Uhe=(e,t,n)=>{var r=Mt();return(i,s)=>o=>{e==null||e(i,s,o),r(Zue({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function g$(e){var{tooltipEntrySettings:t}=e,n=Mt(),r=Gr(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(Wue(t)):i.current!==t&&n(Hue({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(que(i.current)),i.current=null)},[n]),null}function Whe(e){var{legendPayload:t}=e,n=Mt(),r=Gr(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(_z(t)):i.current!==t&&n(bz({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(wz(i.current)),i.current=null)},[n]),null}function Hhe(e){var{legendPayload:t}=e,n=Mt(),r=Ie(xt),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(_z(t)):i.current!==t&&n(bz({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(wz(i.current)),i.current=null)},[n]),null}var Sb,qhe=()=>{var[e]=x.useState(()=>Kh("uid-"));return e},Khe=(Sb=G9.useId)!==null&&Sb!==void 0?Sb:qhe;function Ghe(e,t){var n=Khe();return t||(e?"".concat(e,"-").concat(n):n)}var Zhe=x.createContext(void 0),v$=e=>{var{id:t,type:n,children:r}=e,i=Ghe("recharts-".concat(n),t);return x.createElement(Zhe.Provider,{value:i},r(i))},Yhe={cartesianItems:[],polarItems:[]},y$=Kr({name:"graphicalItems",initialState:Yhe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Nt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=cs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Nt()},removeCartesianGraphicalItem:{reducer(e,t){var n=cs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Nt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Nt()},removePolarGraphicalItem:{reducer(e,t){var n=cs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Nt()}}}),{addCartesianGraphicalItem:Xhe,replaceCartesianGraphicalItem:Qhe,removeCartesianGraphicalItem:Jhe,addPolarGraphicalItem:epe,removePolarGraphicalItem:tpe}=y$.actions,npe=y$.reducer,rpe=e=>{var t=Mt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Xhe(e)):n.current!==e&&t(Qhe({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(Jhe(n.current)),n.current=null)},[t]),null},ipe=x.memo(rpe);function spe(e){var t=Mt();return x.useLayoutEffect(()=>(t(epe(e)),()=>{t(tpe(e))}),[t,e]),null}var ope=["key"],ape=["onMouseEnter","onClick","onMouseLeave"],lpe=["id"],upe=["id"];function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cpe(e,t,n){return(t=dpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dpe(e){var t=fpe(e,"string");return typeof t=="symbol"?t:t+""}function fpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(null,arguments)}function Qx(e,t){if(e==null)return{};var n,r,i=hpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ppe(e){var t=x.useMemo(()=>h$(e.children,zx),[e.children]),n=Ie(r=>xhe(r,e.id,t));return n==null?null:x.createElement(Hhe,{legendPayload:n})}var mpe=x.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:a,hide:u,tooltipType:c,id:d}=e,p={dataDefinedOnItem:r.map(m=>m.tooltipPayload),getPosition:m=>{var y;return(y=r[Number(m)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:o,dataKey:t,nameKey:n,name:cx(a,t),hide:u,type:c,color:o,unit:"",graphicalItemId:d}};return x.createElement(g$,{tooltipEntrySettings:p})}),gpe=(e,t)=>e>t?"start":e<t?"end":"middle",vpe=(e,t,n)=>li(typeof t=="function"?t(e):t,n,n*.8),ype=(e,t,n)=>{var{top:r,left:i,width:s,height:o}=t,a=Iz(s,o),u=i+li(e.cx,s,s/2),c=r+li(e.cy,o,o/2),d=li(e.innerRadius,a,0),p=vpe(n,e.outerRadius,a),m=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:u,cy:c,innerRadius:d,outerRadius:p,maxRadius:m}},xpe=(e,t)=>{var n=ur(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_pe=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Qx(t,ope);return x.createElement(Xc,gl({},i,{type:"linear",className:n}))},bpe=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=ft("recharts-pie-label-text",u$(e));return x.createElement(Vx,gl({},t,{alignmentBaseline:"middle",className:i}),r)};function wpe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!t)return null;var a=di(n),u=gd(i),c=gd(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((m,y)=>{var _=(m.startAngle+m.endAngle)/2,E=cn(m.cx,m.cy,m.outerRadius+d,_),w=Ht(Ht(Ht(Ht({},a),m),{},{stroke:"none"},u),{},{index:y,textAnchor:gpe(E.x,m.cx)},E),S=Ht(Ht(Ht(Ht({},a),m),{},{fill:"none",stroke:m.fill},c),{},{index:y,points:[cn(m.cx,m.cy,m.outerRadius,_),E],key:"line"});return x.createElement(xs,{zIndex:Bn.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},x.createElement(qn,null,s&&_pe(s,S),bpe(i,w,It(m,o))))});return x.createElement(qn,{className:"recharts-pie-labels"},p)}function Epe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(i$,{label:i}):x.createElement(wpe,{sectors:t,props:n,showLabels:r})}function Spe(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:o}=e,a=Ie(Ed),u=Ie(IF),c=Ie(Rce),{onMouseEnter:d,onClick:p,onMouseLeave:m}=i,y=Qx(i,ape),_=$he(d,i.dataKey,o),E=Bhe(m),w=Uhe(p,i.dataKey,o);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((S,P)=>{if((S==null?void 0:S.startAngle)===0&&(S==null?void 0:S.endAngle)===0&&t.length!==1)return null;var A=c==null||c===o,O=String(P)===a&&(u==null||i.dataKey===u)&&A,M=a?r:null,z=n&&O?n:M,k=Ht(Ht({},S),{},{stroke:S.stroke,tabIndex:-1,[J6]:P,[ez]:o});return x.createElement(qn,gl({key:"sector-".concat(S==null?void 0:S.startAngle,"-").concat(S==null?void 0:S.endAngle,"-").concat(S.midAngle,"-").concat(P),tabIndex:-1,className:"recharts-pie-sector"},W3(y,S,P),{onMouseEnter:_(S,P),onMouseLeave:E(S,P),onClick:w(S,P)}),x.createElement(Fhe,gl({option:s??z,index:P,shapeType:"sector",isActive:O},k)))}))}function Ppe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:o,startAngle:a,endAngle:u,dataKey:c,nameKey:d,tooltipType:p}=n,m=Math.abs(n.minAngle),y=xpe(a,u),_=Math.abs(y),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,w=r.filter(z=>It(z,c,0)!==0).length,S=(_>=360?w:w-1)*E,P=_-w*m-S,A=r.reduce((z,k)=>{var C=It(k,c,0);return z+(Pe(C)?C:0)},0),O;if(A>0){var M;O=r.map((z,k)=>{var C=It(z,c,0),R=It(z,d,k),$=ype(n,s,z),j=(Pe(C)?C:0)/A,V,F=Ht(Ht({},z),i&&i[k]&&i[k].props);k?V=M.endAngle+ur(y)*E*(C!==0?1:0):V=a;var J=V+ur(y)*((C!==0?m:0)+j*P),fe=(V+J)/2,se=($.innerRadius+$.outerRadius)/2,ie=[{name:R,value:C,payload:F,dataKey:c,type:p,graphicalItemId:n.id}],W=cn($.cx,$.cy,se,fe);return M=Ht(Ht(Ht(Ht({},n.presentationProps),{},{percent:j,cornerRadius:typeof o=="string"?parseFloat(o):o,name:R,tooltipPayload:ie,midAngle:fe,middleRadius:se,tooltipPosition:W},F),$),{},{value:C,dataKey:c,startAngle:V,endAngle:J,payload:F,paddingAngle:ur(y)*E}),M})}return O}function Tpe(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return x.createElement(nhe,{value:t?i:void 0},r)}function Ape(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:s,animationBegin:o,animationDuration:a,animationEasing:u,activeShape:c,inactiveShape:d,onAnimationStart:p,onAnimationEnd:m}=t,y=_x(t,"recharts-pie-"),_=n.current,[E,w]=x.useState(!1),S=x.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),P=x.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return x.createElement(Tpe,{showLabels:!E,sectors:i},x.createElement(xx,{animationId:y,begin:o,duration:a,isActive:s,easing:u,onAnimationStart:P,onAnimationEnd:S,key:y},A=>{var O,M=[],z=i&&i[0],k=(O=z==null?void 0:z.startAngle)!==null&&O!==void 0?O:0;return i==null||i.forEach((C,R)=>{var $=_&&_[R],j=R>0?Pu(C,"paddingAngle",0):0;if($){var V=Fn($.endAngle-$.startAngle,C.endAngle-C.startAngle,A),F=Ht(Ht({},C),{},{startAngle:k+j,endAngle:k+V+j});M.push(F),k=F.endAngle}else{var{endAngle:J,startAngle:fe}=C,se=Fn(0,J-fe,A),ie=Ht(Ht({},C),{},{startAngle:k+j,endAngle:k+se+j});M.push(ie),k=ie.endAngle}}),n.current=M,x.createElement(qn,null,x.createElement(Spe,{sectors:M,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(Epe,{showLabels:!E,sectors:i,props:t}),t.children)}var Cpe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Bn.area};function Ipe(e){var{id:t}=e,n=Qx(e,lpe),{hide:r,className:i,rootTabIndex:s}=e,o=x.useMemo(()=>h$(e.children,zx),[e.children]),a=Ie(d=>_he(d,t,o)),u=x.useRef(null),c=ft("recharts-pie",i);return r||a==null?(u.current=null,x.createElement(qn,{tabIndex:s,className:c})):x.createElement(xs,{zIndex:e.zIndex},x.createElement(mpe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:a,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(qn,{tabIndex:s,className:c},x.createElement(Ape,{props:Ht(Ht({},n),{},{sectors:a}),previousSectorsRef:u,id:t})))}function x$(e){var t=Gn(e,Cpe),{id:n}=t,r=Qx(t,upe),i=di(r);return x.createElement(v$,{id:n,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(spe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(ppe,gl({},r,{id:s})),x.createElement(Ipe,gl({},r,{id:s}))))}x$.displayName="Pie";var kpe=["points"];function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){Npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Npe(e,t,n){return(t=Ope(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ope(e){var t=jpe(e,"string");return typeof t=="symbol"?t:t+""}function jpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(null,arguments)}function Rpe(e,t){if(e==null)return{};var n,r,i=Mpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dpe(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=ft(r,typeof t!="boolean"?t.className:""),s=n??{},{points:o}=s,a=Rpe(s,kpe);return x.createElement(s$,Ly({},a,{className:i}))}function Lpe(e,t){return e==null?!1:t?!0:e.length===1}function zpe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:o,needClip:a,clipPathId:u,zIndex:c=Bn.scatter}=e;if(!Lpe(t,n))return null;var d=p$(n),p=Wee(n),m=t.map((_,E)=>{var w,S,P=Pb(Pb(Pb({r:3},o),p),{},{index:E,cx:(w=_.x)!==null&&w!==void 0?w:void 0,cy:(S=_.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:_.value,payload:_.payload,points:t});return x.createElement(Dpe,{key:"dot-".concat(E),option:n,dotProps:P,className:i})}),y={};return a&&u!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),x.createElement(xs,{zIndex:c},x.createElement(qn,Ly({className:r},y),m))}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){Vpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vpe(e,t,n){return(t=Fpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fpe(e){var t=$pe(e,"string");return typeof t=="symbol"?t:t+""}function $pe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$=0,Bpe={xAxis:{},yAxis:{},zAxis:{}},b$=Kr({name:"cartesianAxis",initialState:Bpe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Nt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Nt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Nt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Nt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Nt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Nt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Nt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Nt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Nt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((s=o[0])!==null&&s!==void 0?s:0))<=1)return;var a=[...o,r].slice(-3);e.yAxis[n]=Ij(Ij({},i),{},{width:r,widthHistory:a})}}}}),{addXAxis:Upe,replaceXAxis:Wpe,removeXAxis:Hpe,addYAxis:qpe,replaceYAxis:Kpe,removeYAxis:Gpe,addZAxis:Twe,replaceZAxis:Awe,removeZAxis:Cwe,updateYAxisWidth:Zpe}=b$.actions,Ype=b$.reducer,Xpe=G([Nn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Qpe=G([Xpe,fa,ha],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),_A=()=>Ie(Qpe),Jpe=()=>Ie(Vce);function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){eme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eme(e,t,n){return(t=tme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tme(e){var t=nme(e,"string");return typeof t=="symbol"?t:t+""}function nme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rme=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var a={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Tb(Tb(Tb({},a),gd(i)),LP(i)),c;return x.isValidElement(i)?c=x.cloneElement(i,u):typeof i=="function"?c=i(u):c=x.createElement(s$,u),x.createElement(qn,{className:"recharts-active-dot",clipPath:o},c)};function Nj(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:o=Bn.activeDot}=e,a=Ie(Ed),u=Jpe();if(t==null||u==null)return null;var c=t.find(d=>u.includes(d.payload));return Kn(c)?null:x.createElement(xs,{zIndex:o},x.createElement(rme,{point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var w$=e=>{var{chartData:t}=e,n=Mt(),r=Gr();return x.useEffect(()=>r?()=>{}:(n(qO(t)),()=>{n(qO(void 0))}),[t,n,r]),null},Oj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},E$=Kr({name:"brush",initialState:Oj,reducers:{setBrushSettings(e,t){return t.payload==null?Oj:t.payload}}}),{setBrushSettings:Iwe}=E$.actions,ime=E$.reducer;function sme(e){return(e%180+180)%180}var ome=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sme(i),o=s*Math.PI/180,a=Math.atan(r/n),u=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},ame={dots:[],areas:[],lines:[]},S$=Kr({name:"referenceElements",initialState:ame,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=cs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=cs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=cs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:kwe,removeDot:Nwe,addArea:Owe,removeArea:jwe,addLine:Rwe,removeLine:Mwe}=S$.actions,lme=S$.reducer,ume=x.createContext(void 0),cme=e=>{var{children:t}=e,[n]=x.useState("".concat(Kh("recharts"),"-clip")),r=_A();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return x.createElement(ume.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:s,height:a,width:o}))),t)};function P$(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function dme(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ome(r,n)}function fme(e,t,n){var r=n==="width",{x:i,y:s,width:o,height:a}=e;return t===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function ap(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function hme(e,t){return P$(e,t+1)}function pme(e,t,n,r,i){for(var s=(r||[]).slice(),{start:o,end:a}=t,u=0,c=1,d=o,p=function(){var _=r==null?void 0:r[u];if(_===void 0)return{v:P$(r,c)};var E=u,w,S=()=>(w===void 0&&(w=n(_,E)),w),P=_.coordinate,A=u===0||ap(e,P,S,d,a);A||(u=0,d=o,c+=1),A&&(d=P+e*(S()/2+i),u+=c)},m;c<=s.length;)if(m=p(),m)return m.v;return[]}function mme(e,t,n,r,i){var s=(r||[]).slice(),o=s.length;if(o===0)return[];for(var{start:a,end:u}=t,c=1;c<=o;c++){for(var d=(o-1)%c,p=a,m=!0,y=function(){var O=r[E];if(O==null)return 0;var M=E,z,k=()=>(z===void 0&&(z=n(O,M)),z),C=O.coordinate,R=E===d||ap(e,C,k,p,u);if(!R)return m=!1,1;R&&(p=C+e*(k()/2+i))},_,E=d;E<o&&(_=y(),!(_!==0&&_===1));E+=c);if(m){for(var w=[],S=d;S<o;S+=c){var P=r[S];P!=null&&w.push(P)}return w}}return[]}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(n),!0).forEach(function(r){gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gme(e,t,n){return(t=vme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vme(e){var t=yme(e,"string");return typeof t=="symbol"?t:t+""}function yme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xme(e,t,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:a}=t,{end:u}=t,c=function(m){var y=s[m];if(y==null)return 1;var _=y,E,w=()=>(E===void 0&&(E=n(y,m)),E);if(m===o-1){var S=e*(_.coordinate+e*w()/2-u);s[m]=_=ir(ir({},_),{},{tickCoord:S>0?_.coordinate-S*e:_.coordinate})}else s[m]=_=ir(ir({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var P=ap(e,_.tickCoord,w,a,u);P&&(u=_.tickCoord-e*(w()/2+i),s[m]=ir(ir({},_),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return s}function _me(e,t,n,r,i,s){var o=(r||[]).slice(),a=o.length,{start:u,end:c}=t;if(s){var d=r[a-1];if(d!=null){var p=n(d,a-1),m=e*(d.coordinate+e*p/2-c);if(o[a-1]=d=ir(ir({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var y=ap(e,d.tickCoord,()=>p,u,c);y&&(c=d.tickCoord-e*(p/2+i),o[a-1]=ir(ir({},d),{},{isShow:!0}))}}}for(var _=s?a-1:a,E=function(P){var A=o[P];if(A==null)return 1;var O=A,M,z=()=>(M===void 0&&(M=n(A,P)),M);if(P===0){var k=e*(O.coordinate-e*z()/2-u);o[P]=O=ir(ir({},O),{},{tickCoord:k<0?O.coordinate-k*e:O.coordinate})}else o[P]=O=ir(ir({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var C=ap(e,O.tickCoord,z,u,c);C&&(u=O.tickCoord+e*(z()/2+i),o[P]=ir(ir({},O),{},{isShow:!0}))}},w=0;w<_;w++)E(w);return o}function bA(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:a,interval:u,tickFormatter:c,unit:d,angle:p}=e;if(!i||!i.length||!r)return[];if(Pe(u)||$p.isSsr){var m;return(m=hme(i,Pe(u)?u:0))!==null&&m!==void 0?m:[]}var y=[],_=a==="top"||a==="bottom"?"width":"height",E=d&&_==="width"?fh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=(M,z)=>{var k=typeof c=="function"?c(M.value,z):M.value;return _==="width"?dme(fh(k,{fontSize:t,letterSpacing:n}),E,p):fh(k,{fontSize:t,letterSpacing:n})[_]},S=i[0],P=i[1],A=i.length>=2&&S!=null&&P!=null?ur(P.coordinate-S.coordinate):1,O=fme(s,A,_);return u==="equidistantPreserveStart"?pme(A,O,w,i,o):u==="equidistantPreserveEnd"?mme(A,O,w,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=_me(A,O,w,i,o,u==="preserveStartEnd"):y=xme(A,O,w,i,o),y.filter(M=>M.isShow))}var bme=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var a=n?n.getBoundingClientRect().width:0,u=i+s,c=o+u+a+(n?r:0);return Math.round(c)}return 0},wme=["axisLine","width","height","className","hide","ticks","axisType"];function Eme(e,t){if(e==null)return{};var n,r,i=Sme(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nu.apply(null,arguments)}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){Pme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pme(e,t,n){return(t=Tme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tme(e){var t=Ame(e,"string");return typeof t=="symbol"?t:t+""}function Ame(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ho={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bn.axis};function Cme(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:a,otherSvgProps:u}=e;if(!a)return null;var c=Bt(Bt(Bt({},u),di(a)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);c=Bt(Bt({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var p=+(s==="left"&&!o||s==="right"&&o);c=Bt(Bt({},c),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return x.createElement("line",Nu({},c,{className:ft("recharts-cartesian-axis-line",Pu(a,"className"))}))}function Ime(e,t,n,r,i,s,o,a,u){var c,d,p,m,y,_,E=a?-1:1,w=e.tickSize||o,S=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=d=e.coordinate,m=n+ +!a*i,p=m-E*w,_=p-E*u,y=S;break;case"left":p=m=e.coordinate,d=t+ +!a*r,c=d-E*w,y=c-E*u,_=S;break;case"right":p=m=e.coordinate,d=t+ +a*r,c=d+E*w,y=c+E*u,_=S;break;default:c=d=e.coordinate,m=n+ +a*i,p=m+E*w,_=p+E*u,y=S;break}return{line:{x1:c,y1:p,x2:d,y2:m},tick:{x:y,y:_}}}function kme(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nme(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ome(e){var{option:t,tickProps:n,value:r}=e,i,s=ft(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Bt(Bt({},n),{},{className:s}));else if(typeof t=="function")i=t(Bt(Bt({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ft(o,u$(t))),i=x.createElement(Vx,Nu({},n,{className:o}),r)}return i}var jme=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:o,unit:a,padding:u,tickTextProps:c,orientation:d,mirror:p,x:m,y,width:_,height:E,tickSize:w,tickMargin:S,fontSize:P,letterSpacing:A,getTicksConfig:O,events:M,axisType:z}=e,k=bA(Bt(Bt({},O),{},{ticks:n}),P,A),C=kme(d,p),R=Nme(d,p),$=di(O),j=gd(r),V={};typeof i=="object"&&(V=i);var F=Bt(Bt({},$),{},{fill:"none"},V),J=k.map(ie=>Bt({entry:ie},Ime(ie,m,y,_,E,d,w,p,S))),fe=J.map(ie=>{var{entry:W,line:ne}=ie;return x.createElement(qn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&x.createElement("line",Nu({},F,ne,{className:ft("recharts-cartesian-axis-tick-line",Pu(i,"className"))})))}),se=J.map((ie,W)=>{var ne,K,{entry:oe,tick:ue}=ie,Ae=Bt(Bt(Bt(Bt({verticalAnchor:R},$),{},{textAnchor:C,stroke:"none",fill:s},ue),{},{index:W,payload:oe,visibleTicksCount:k.length,tickFormatter:o,padding:u},c),{},{angle:(ne=(K=c==null?void 0:c.angle)!==null&&K!==void 0?K:$.angle)!==null&&ne!==void 0?ne:0}),be=Bt(Bt({},Ae),j);return x.createElement(qn,Nu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},W3(M,oe,W)),r&&x.createElement(Ome,{option:r,tickProps:be,value:"".concat(typeof o=="function"?o(oe.value,W):oe.value).concat(a||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},se.length>0&&x.createElement(xs,{zIndex:Bn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:t},se)),fe.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},fe))}),Rme=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:o,ticks:a,axisType:u}=e,c=Eme(e,wme),[d,p]=x.useState(""),[m,y]=x.useState(""),_=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return bme({ticks:_.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=x.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=S;var P=S[0];if(P){var A=window.getComputedStyle(P),O=A.fontSize,M=A.letterSpacing;(O!==d||M!==m)&&(p(O),y(M))}}},[d,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(xs,{zIndex:e.zIndex},x.createElement(qn,{className:ft("recharts-cartesian-axis",s)},x.createElement(Cme,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:di(e)}),x.createElement(jme,{ref:E,axisType:u,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:a,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(zfe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(Gfe,{label:e.label,labelRef:e.labelRef}),e.children)))}),wA=x.forwardRef((e,t)=>{var n=Gn(e,Ho);return x.createElement(Rme,Nu({},n,{ref:t}))});wA.displayName="CartesianAxis";var Mme=["x1","y1","x2","y2","key"],Dme=["offset"],Lme=["xAxisId","yAxisId"],zme=["xAxisId","yAxisId"];function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){Vme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vme(e,t,n){return(t=Fme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fme(e){var t=$me(e,"string");return typeof t=="symbol"?t:t+""}function $me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(null,arguments)}function zy(e,t){if(e==null)return{};var n,r,i=Bme(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ume=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:a}=e;return x.createElement("rect",{x:r,y:i,ry:a,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function T$(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:o,x2:a,y2:u,key:c}=n,d=zy(n,Mme),p=(i=di(d))!==null&&i!==void 0?i:{},{offset:m}=p,y=zy(p,Dme);r=x.createElement("line",ru({},y,{x1:s,y1:o,x2:a,y2:u,fill:"none",key:c}))}return r}function Wme(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,a=zy(e,Lme),u=i.map((c,d)=>{var p=lr(lr({},a),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return x.createElement(T$,{key:"line-".concat(d),option:r,lineItemProps:p})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Hme(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,a=zy(e,zme),u=i.map((c,d)=>{var p=lr(lr({},a),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return x.createElement(T$,{option:r,lineItemProps:p,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function qme(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:a,horizontal:u=!0}=e;if(!u||!t||!t.length||a==null)return null;var c=a.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==c[0]&&c.unshift(0);var d=c.map((p,m)=>{var y=c[m+1],_=y==null,E=_?i+o-p:y-p;if(E<=0)return null;var w=m%t.length;return x.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:E,width:s,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Kme(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:a,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var c=u.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==c[0]&&c.unshift(0);var d=c.map((p,m)=>{var y=c[m+1],_=y==null,E=_?i+o-p:y-p;if(E<=0)return null;var w=m%n.length;return x.createElement("rect",{key:"react-".concat(m),x:p,y:s,width:E,height:a,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Gme=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return Y6(bA(lr(lr(lr({},Ho),n),{},{ticks:X6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},Zme=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return Y6(bA(lr(lr(lr({},Ho),n),{},{ticks:X6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},Yme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bn.grid};function A$(e){var t=cz(),n=dz(),r=uz(),i=lr(lr({},Gn(e,Yme)),{},{x:Pe(e.x)?e.x:r.left,y:Pe(e.y)?e.y:r.top,width:Pe(e.width)?e.width:r.width,height:Pe(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:a,y:u,width:c,height:d,syncWithTicks:p,horizontalValues:m,verticalValues:y}=i,_=Gr(),E=Ie(R=>MO(R,"xAxis",s,_)),w=Ie(R=>MO(R,"yAxis",o,_));if(!io(c)||!io(d)||!Pe(a)||!Pe(u))return null;var S=i.verticalCoordinatesGenerator||Gme,P=i.horizontalCoordinatesGenerator||Zme,{horizontalPoints:A,verticalPoints:O}=i;if((!A||!A.length)&&typeof P=="function"){var M=m&&m.length,z=P({yAxis:w?lr(lr({},w),{},{ticks:M?m:w.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:p);cy(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(A=z)}if((!O||!O.length)&&typeof S=="function"){var k=y&&y.length,C=S({xAxis:E?lr(lr({},E),{},{ticks:k?y:E.ticks}):void 0,width:t??c,height:n??d,offset:r},k?!0:p);cy(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(O=C)}return x.createElement(xs,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Ume,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(qme,ru({},i,{horizontalPoints:A})),x.createElement(Kme,ru({},i,{verticalPoints:O})),x.createElement(Wme,ru({},i,{offset:r,horizontalPoints:A,xAxis:E,yAxis:w})),x.createElement(Hme,ru({},i,{offset:r,verticalPoints:O,xAxis:E,yAxis:w}))))}A$.displayName="CartesianGrid";var Xme={},C$=Kr({name:"errorBars",initialState:Xme,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Dwe,replaceErrorBar:Lwe,removeErrorBar:zwe}=C$.actions,Qme=C$.reducer;function I$(e,t){var n,r,i=Ie(c=>ga(c,e)),s=Ie(c=>va(c,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:En.allowDataOverflow,a=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Sn.allowDataOverflow,u=o||a;return{needClip:u,needClipX:o,needClipY:a}}function Jme(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=_A(),{needClipX:s,needClipY:o,needClip:a}=I$(t,n);if(!a||!i)return null;var{x:u,y:c,width:d,height:p}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:s?u:u-d/2,y:o?c:c-p/2,width:s?d:d*2,height:o?p:p*2}))}function ege(e){var t=gd(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,o=Number(i),a=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(a)||a<0)&&(a=r),{r:o,strokeWidth:a}}return{r:n,strokeWidth:r}}var tge={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=x;function nge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rge=typeof Object.is=="function"?Object.is:nge,ige=Jp.useSyncExternalStore,sge=Jp.useRef,oge=Jp.useEffect,age=Jp.useMemo,lge=Jp.useDebugValue;tge.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=sge(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=age(function(){function u(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&o.hasValue){var _=o.value;if(i(_,y))return p=_}return p=y}if(_=p,rge(d,y))return _;var E=r(y);return i!==void 0&&i(_,E)?(d=y,_):(d=y,p=E)}var c=!1,d,p,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,i]);var a=ige(e,s[0],s[1]);return oge(function(){o.hasValue=!0,o.value=a},[a]),lge(a),a};function uge(e){e()}function cge(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uge(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Dj={notify(){},get:()=>[]};function dge(e,t){let n,r=Dj,i=0,s=!1;function o(E){d();const w=r.subscribe(E);let S=!1;return()=>{S||(S=!0,w(),p())}}function a(){r.notify()}function u(){_.onStateChange&&_.onStateChange()}function c(){return s}function d(){i++,n||(n=e.subscribe(u),r=cge())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Dj)}function m(){s||(s=!0,d())}function y(){s&&(s=!1,p())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return _}var fge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hge=fge(),pge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mge=pge(),gge=()=>hge||mge?x.useLayoutEffect:x.useEffect,vge=gge();function Lj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yge(e,t){if(Lj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Lj(e[n[i]],t[n[i]]))return!1;return!0}var Ab=Symbol.for("react-redux-context"),Cb=typeof globalThis<"u"?globalThis:{};function xge(){if(!x.createContext)return{};const e=Cb[Ab]??(Cb[Ab]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var _ge=xge();function bge(e){const{children:t,context:n,serverState:r,store:i}=e,s=x.useMemo(()=>{const u=dge(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);vge(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const a=n||_ge;return x.createElement(a.Provider,{value:s},t)}var wge=bge,Ege=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Sge(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function EA(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ege.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yge(e[r],t[r]))return!1}else if(!Sge(e[r],t[r]))return!1;return!0}function SA(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:_$}function PA(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:_$}var k$=(e,t,n)=>lF(e,"xAxis",SA(e,t),n),N$=(e,t,n)=>aF(e,"xAxis",SA(e,t),n),O$=(e,t,n)=>lF(e,"yAxis",PA(e,t),n),j$=(e,t,n)=>aF(e,"yAxis",PA(e,t),n),Pge=G([xt,k$,O$,N$,j$],(e,t,n,r,i)=>co(e,"xAxis")?uy(t,r,!1):uy(n,i,!1)),Tge=(e,t)=>t,R$=G([FV,Tge],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),M$=e=>{var t=xt(e),n=co(t,"xAxis");return n?"yAxis":"xAxis"},Age=(e,t)=>{var n=M$(e);return n==="yAxis"?PA(e,t):SA(e,t)},Cge=(e,t,n)=>HV(e,M$(e),Age(e,t),n),Ige=G([R$,Cge],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=LT(e);if(!(r==null||i==null)){var s=(n=t[r])===null||n===void 0?void 0:n.stackedData,o=s==null?void 0:s.find(a=>a.key===i);if(o!=null)return o.map(a=>[a[0],a[1]])}}}),kge=G([xt,k$,O$,N$,j$,Ige,Ele,Pge,R$,Ole],(e,t,n,r,i,s,o,a,u,c)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:m}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{data:y}=u,_;if(y&&y.length>0?_=y:_=d==null?void 0:d.slice(p,m+1),_!=null)return Zge({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:s,displayedData:_,chartBaseValue:c,bandSize:a})}}),Nge=["id"],Oge=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(null,arguments)}function D$(e,t){if(e==null)return{};var n,r,i=jge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){Rge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rge(e,t,n){return(t=Mge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mge(e){var t=Dge(e,"string");return typeof t=="symbol"?t:t+""}function Dge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vy(e,t){return e&&e!=="none"?e:t}var Lge=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:Vy(r,i),value:cx(n,t),payload:e}]},zge=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:a,unit:u,tooltipType:c,id:d}=e,p={dataDefinedOnItem:n,getPosition:Dd,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:cx(o,t),hide:a,type:c,color:Vy(r,s),unit:u,graphicalItemId:d}};return x.createElement(g$,{tooltipEntrySettings:p})});function Vge(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:o}=r,a=di(r);return x.createElement(zpe,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:a,needClip:i,clipPathId:t})}function Fge(e){var{showLabels:t,children:n,points:r}=e,i=r.map(s=>{var o,a,u={x:(o=s.x)!==null&&o!==void 0?o:0,y:(a=s.y)!==null&&a!==void 0?a:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zc(zc({},u),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return x.createElement(the,{value:t?i:void 0},n)}function Vj(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s}=e,{layout:o,type:a,stroke:u,connectNulls:c,isRange:d}=s,{id:p}=s,m=D$(s,Nge),y=di(m),_=wr(m);return x.createElement(x.Fragment,null,(t==null?void 0:t.length)>1&&x.createElement(qn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(Xc,fu({},_,{id:p,points:t,connectNulls:c,type:a,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&x.createElement(Xc,fu({},y,{className:"recharts-area-curve",layout:o,type:a,connectNulls:c,fill:"none",points:t})),u!=="none"&&d&&x.createElement(Xc,fu({},y,{className:"recharts-area-curve",layout:o,type:a,connectNulls:c,fill:"none",points:n}))),x.createElement(Vge,{points:t,props:m,clipPathId:i}))}function $ge(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:o}=e,a=(t=s[0])===null||t===void 0?void 0:t.y,u=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ge(a)||!Ge(u))return null;var c=r*Math.abs(a-u),d=Math.max(...s.map(p=>p.x||0));return Pe(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.x||0),d)),Pe(d)?x.createElement("rect",{x:0,y:a<u?a:a-c,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}function Bge(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:o}=e,a=(t=s[0])===null||t===void 0?void 0:t.x,u=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ge(a)||!Ge(u))return null;var c=r*Math.abs(a-u),d=Math.max(...s.map(p=>p.y||0));return Pe(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.y||0),d)),Pe(d)?x.createElement("rect",{x:a<u?a:a-c,y:0,width:c,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}function Uge(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?x.createElement($ge,{alpha:t,points:r,baseLine:i,strokeWidth:s}):x.createElement(Bge,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function Wge(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:o,baseLine:a,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:p,onAnimationStart:m,onAnimationEnd:y}=r,_=x.useMemo(()=>({points:o,baseLine:a}),[o,a]),E=_x(_,"recharts-area-"),w=rT(),[S,P]=x.useState(!1),A=!S,O=x.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),M=x.useCallback(()=>{typeof m=="function"&&m(),P(!0)},[m]);if(w==null)return null;var z=i.current,k=s.current;return x.createElement(Fge,{showLabels:A,points:o},r.children,x.createElement(xx,{animationId:E,begin:c,duration:d,isActive:u,easing:p,onAnimationEnd:O,onAnimationStart:M,key:E},C=>{if(z){var R=z.length/o.length,$=C===1?o:o.map((V,F)=>{var J=Math.floor(F*R);if(z[J]){var fe=z[J];return zc(zc({},V),{},{x:Fn(fe.x,V.x,C),y:Fn(fe.y,V.y,C)})}return V}),j;return Pe(a)?j=Fn(k,a,C):Kn(a)||no(a)?j=Fn(k,0,C):j=a.map((V,F)=>{var J=Math.floor(F*R);if(Array.isArray(k)&&k[J]){var fe=k[J];return zc(zc({},V),{},{x:Fn(fe.x,V.x,C),y:Fn(fe.y,V.y,C)})}return V}),C>0&&(i.current=$,s.current=j),x.createElement(Vj,{points:$,baseLine:j,needClip:t,clipPathId:n,props:r})}return C>0&&(i.current=o,s.current=a),x.createElement(qn,null,u&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement(Uge,{alpha:C,points:o,baseLine:a,layout:w,strokeWidth:r.strokeWidth}))),x.createElement(qn,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(Vj,{points:o,baseLine:a,needClip:t,clipPathId:n,props:r})))}),x.createElement(i$,{label:r.label}))}function Hge(e){var{needClip:t,clipPathId:n,props:r}=e,i=x.useRef(null),s=x.useRef();return x.createElement(Wge,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class qge extends x.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:s,left:o,needClip:a,xAxisId:u,yAxisId:c,width:d,height:p,id:m,baseLine:y,zIndex:_}=this.props;if(t)return null;var E=ft("recharts-area",i),w=m,{r:S,strokeWidth:P}=ege(n),A=p$(n),O=S*2+P,M=a?"url(#clipPath-".concat(A?"":"dots-").concat(w,")"):void 0;return x.createElement(xs,{zIndex:_},x.createElement(qn,{className:E},a&&x.createElement("defs",null,x.createElement(Jme,{clipPathId:w,xAxisId:u,yAxisId:c}),!A&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:o-O/2,y:s-O/2,width:d+O,height:p+O}))),x.createElement(Hge,{needClip:a,clipPathId:w,props:this.props})),x.createElement(Nj,{points:r,mainColor:Vy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(y)&&x.createElement(Nj,{points:y,mainColor:Vy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var L$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Bn.area};function Kge(e){var t,n=Gn(e,L$),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:a,dot:u,fill:c,fillOpacity:d,hide:p,isAnimationActive:m,legendType:y,stroke:_,xAxisId:E,yAxisId:w}=n,S=D$(n,Oge),P=Ld(),A=OF(),{needClip:O}=I$(E,w),M=Gr(),{points:z,isRange:k,baseLine:C}=(t=Ie(J=>kge(J,e.id,M)))!==null&&t!==void 0?t:{},R=_A();if(P!=="horizontal"&&P!=="vertical"||R==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:$,width:j,x:V,y:F}=R;return!z||!z.length?null:x.createElement(qge,fu({},S,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,baseLine:C,connectNulls:a,dot:u,fill:c,fillOpacity:d,height:$,hide:p,layout:P,isAnimationActive:m==="auto"?!$p.isSsr:m,isRange:k,legendType:y,needClip:O,points:z,stroke:_,width:j,left:V,top:F,xAxisId:E,yAxisId:w}))}var Gge=(e,t,n,r,i)=>{var s=n??t;if(Pe(s))return s;var o=e==="horizontal"?i:r,a=o.scale.domain();if(o.type==="number"){var u=Math.max(a[0],a[1]),c=Math.min(a[0],a[1]);return s==="dataMin"?c:s==="dataMax"||u<0?u:Math.max(Math.min(a[0],a[1]),0)}return s==="dataMin"?a[0]:s==="dataMax"?a[1]:a[0]};function Zge(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:o,xAxis:a,yAxis:u,displayedData:c,dataStartIndex:d,xAxisTicks:p,yAxisTicks:m,bandSize:y}=e,_=i&&i.length,E=Gge(s,o,n,a,u),w=s==="horizontal",S=!1,P=c.map((O,M)=>{var z,k,C,R;if(_)R=i[d+M];else{var $=It(O,r);Array.isArray($)?(R=$,S=!0):R=[E,$]}var j=(z=(k=R)===null||k===void 0?void 0:k[1])!==null&&z!==void 0?z:null,V=j==null||_&&!t&&It(O,r)==null;if(w){var F;return{x:Wk({axis:a,ticks:p,bandSize:y,entry:O,index:M}),y:V?null:(F=u.scale.map(j))!==null&&F!==void 0?F:null,value:R,payload:O}}return{x:V?null:(C=a.scale.map(j))!==null&&C!==void 0?C:null,y:Wk({axis:u,ticks:m,bandSize:y,entry:O,index:M}),value:R,payload:O}}),A;return _||S?A=P.map(O=>{var M,z=Array.isArray(O.value)?O.value[0]:null;if(w){var k;return{x:O.x,y:z!=null&&O.y!=null&&(k=u.scale.map(z))!==null&&k!==void 0?k:null,payload:O.payload}}return{x:z!=null&&(M=a.scale.map(z))!==null&&M!==void 0?M:null,y:O.y,payload:O.payload}}):A=w?u.scale.map(E):a.scale.map(E),{points:P,baseLine:A??0,isRange:S}}function Yge(e){var t=Gn(e,L$),n=Gr();return x.createElement(v$,{id:t.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(Whe,{legendPayload:Lge(t)}),x.createElement(zge,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),x.createElement(ipe,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:$re(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),x.createElement(Kge,fu({},t,{id:r}))))}var z$=x.memo(Yge,EA);z$.displayName="Area";var Xge=["domain","range"],Qge=["domain","range"];function Fj(e,t){if(e==null)return{};var n,r,i=Jge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $j(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function V$(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=Fj(e,Xge),{domain:s,range:o}=t,a=Fj(t,Qge);return!$j(n,s)||!$j(r,o)?!1:EA(i,a)}var eve=["type"],tve=["dangerouslySetInnerHTML","ticks","scale"],nve=["id","scale"];function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X1.apply(null,arguments)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){rve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rve(e,t,n){return(t=ive(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ive(e){var t=sve(e,"string");return typeof t=="symbol"?t:t+""}function sve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1(e,t){if(e==null)return{};var n,r,i=ove(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ove(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ave(e){var t=Mt(),n=x.useRef(null),r=rT(),{type:i}=e,s=Q1(e,eve),o=Ix(r,"xAxis",i),a=x.useMemo(()=>{if(o!=null)return Uj(Uj({},s),{},{type:o})},[s,o]);return x.useLayoutEffect(()=>{a!=null&&(n.current===null?t(Upe(a)):n.current!==a&&t(Wpe({prev:n.current,next:a})),n.current=a)},[a,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Hpe(n.current)),n.current=null)},[t]),null}var lve=e=>{var{xAxisId:t,className:n}=e,r=Ie(tz),i=Gr(),s="xAxis",o=Ie(S=>oF(S,s,t,i)),a=Ie(S=>Aue(S,t)),u=Ie(S=>jue(S,t)),c=Ie(S=>LV(S,t));if(a==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:p,scale:m}=e,y=Q1(e,tve),{id:_,scale:E}=c,w=Q1(c,nve);return x.createElement(wA,X1({},y,w,{x:u.x,y:u.y,width:a.width,height:a.height,className:ft("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o,axisType:s}))},uve={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,angle:En.angle,axisLine:Ho.axisLine,height:En.height,hide:!1,includeHidden:En.includeHidden,interval:En.interval,label:!1,minTickGap:En.minTickGap,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:En.tickCount,tickLine:Ho.tickLine,tickSize:Ho.tickSize,type:En.type,xAxisId:0},cve=e=>{var t=Gn(e,uve);return x.createElement(x.Fragment,null,x.createElement(ave,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(lve,t))},F$=x.memo(cve,V$);F$.displayName="XAxis";var dve=["type"],fve=["dangerouslySetInnerHTML","ticks","scale"],hve=["id","scale"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J1.apply(null,arguments)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){pve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pve(e,t,n){return(t=mve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e){var t=gve(e,"string");return typeof t=="symbol"?t:t+""}function gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eE(e,t){if(e==null)return{};var n,r,i=vve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yve(e){var t=Mt(),n=x.useRef(null),r=rT(),{type:i}=e,s=eE(e,dve),o=Ix(r,"yAxis",i),a=x.useMemo(()=>{if(o!=null)return Hj(Hj({},s),{},{type:o})},[o,s]);return x.useLayoutEffect(()=>{a!=null&&(n.current===null?t(qpe(a)):n.current!==a&&t(Kpe({prev:n.current,next:a})),n.current=a)},[a,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Gpe(n.current)),n.current=null)},[t]),null}function xve(e){var{yAxisId:t,className:n,width:r,label:i}=e,s=x.useRef(null),o=x.useRef(null),a=Ie(tz),u=Gr(),c=Mt(),d="yAxis",p=Ie(z=>Due(z,t)),m=Ie(z=>Mue(z,t)),y=Ie(z=>oF(z,d,t,u)),_=Ie(z=>zV(z,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!p||mA(i)||x.isValidElement(i)||_==null)){var z=s.current;if(z){var k=z.getCalculatedWidth();Math.round(p.width)!==Math.round(k)&&c(Zpe({id:t,width:k}))}}},[y,p,c,i,t,r,_]),p==null||m==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:w,scale:S}=e,P=eE(e,fve),{id:A,scale:O}=_,M=eE(_,hve);return x.createElement(wA,J1({},P,M,{ref:s,labelRef:o,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:ft("recharts-".concat(d," ").concat(d),n),viewBox:a,ticks:y,axisType:d}))}var _ve={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:Sn.allowDecimals,allowDuplicatedCategory:Sn.allowDuplicatedCategory,angle:Sn.angle,axisLine:Ho.axisLine,hide:!1,includeHidden:Sn.includeHidden,interval:Sn.interval,label:!1,minTickGap:Sn.minTickGap,mirror:Sn.mirror,orientation:Sn.orientation,padding:Sn.padding,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,tickLine:Ho.tickLine,tickSize:Ho.tickSize,type:Sn.type,width:Sn.width,yAxisId:0},bve=e=>{var t=Gn(e,_ve);return x.createElement(x.Fragment,null,x.createElement(yve,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(xve,t))},$$=x.memo(bve,V$);$$.displayName="YAxis";var wve=(e,t)=>t,TA=G([wve,xt,RV,jn,PF,ya,Xce,Nn],ide),AA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},B$=Bi("mouseClick"),U$=Lp();U$.startListening({actionCreator:B$,effect:(e,t)=>{var n=e.payload,r=TA(t.getState(),AA(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Yue({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var tE=Bi("mouseMove"),W$=Lp(),_g=null;W$.startListening({actionCreator:tE,effect:(e,t)=>{var n=e.payload;_g!==null&&cancelAnimationFrame(_g);var r=AA(n);_g=requestAnimationFrame(()=>{var i=t.getState(),s=sA(i,i.tooltip.settings.shared);if(s==="axis"){var o=TA(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(gF({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(mF())}_g=null})}});function Eve(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var qj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},H$=Kr({name:"rootProps",initialState:qj,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:qj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Sve=H$.reducer,{updateOptions:Pve}=H$.actions,Tve=null,Ave={updatePolarOptions:(e,t)=>t.payload},q$=Kr({name:"polarOptions",initialState:Tve,reducers:Ave}),{updatePolarOptions:Cve}=q$.actions,Ive=q$.reducer,K$=Bi("keyDown"),G$=Bi("focus"),CA=Lp();CA.startListening({actionCreator:K$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=oA(i,qd(n),Zp(n),Xp(n)),a=o==null?-1:Number(o);if(!(!Number.isFinite(a)||a<0)){var u=ya(n);if(s==="Enter"){var c=jy(n,"axis","hover",String(i.index));t.dispatch(q1({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=Fue(n),p=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,y=a+m*p;if(!(u==null||y>=u.length||y<0)){var _=jy(n,"axis","hover",String(y));t.dispatch(q1({active:!0,activeIndex:y.toString(),activeCoordinate:_}))}}}}}});CA.startListening({actionCreator:G$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=jy(n,"axis","hover",String(s));t.dispatch(q1({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Ci=Bi("externalEvent"),Z$=Lp(),Ib=new Map;Z$.startListening({actionCreator:Ci,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=Ib.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var a=t.getState(),u={activeCoordinate:Dce(a),activeDataKey:IF(a),activeIndex:Ed(a),activeLabel:CF(a),activeTooltipIndex:Ed(a),isTooltipActive:Lce(a)};n(u,r)}finally{Ib.delete(i)}});Ib.set(i,o)}}});var kve=G([Wd],e=>e.tooltipItemPayloads),Nve=G([kve,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),Y$=Bi("touchMove"),X$=Lp();X$.startListening({actionCreator:Y$,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=sA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var o=TA(r,AA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(gF({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(J6),p=(a=c.getAttribute(ez))!==null&&a!==void 0?a:void 0,m=Hd(r).find(E=>E.id===p);if(d==null||m==null||p==null)return;var{dataKey:y}=m,_=Nve(r,d,p);t.dispatch(pF({activeDataKey:y,activeIndex:d,activeCoordinate:_,activeGraphicalItemId:p}))}}}});var Ove=b6({brush:ime,cartesianAxis:Ype,chartData:Rde,errorBars:Qme,graphicalItems:npe,layout:Ore,legend:Nie,options:Ide,polarAxis:hhe,polarOptions:Ive,referenceElements:lme,rootProps:Sve,tooltip:Xue,zIndex:yde}),jve=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return rre({reducer:Ove,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([U$.middleware,W$.middleware,CA.middleware,Z$.middleware,X$.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(D6({type:"raf"}))},devTools:{serialize:{replacer:Eve},name:"recharts-".concat(n)}})};function Q$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Gr(),s=x.useRef(null);if(i)return n;s.current==null&&(s.current=jve(t,r));var o=qP;return x.createElement(wge,{context:o,store:s.current},n)}function Rve(e){var{layout:t,margin:n}=e,r=Mt(),i=Gr();return x.useEffect(()=>{i||(r(Ire(t)),r(Cre(n)))},[r,i,t,n]),null}var J$=x.memo(Rve,EA);function eB(e){var t=Mt();return x.useEffect(()=>{t(Pve(e))},[t,e]),null}function Kj(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=Mt();return x.useLayoutEffect(()=>(r.current&&i(gde({zIndex:t,element:r.current,isPanorama:n})),()=>{i(vde({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function Gj(e){var{children:t,isPanorama:n}=e,r=Ie(ode);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return x.createElement(x.Fragment,null,i.map(o=>x.createElement(Kj,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>x.createElement(Kj,{key:o,zIndex:o,isPanorama:n})))}var Mve=["children"];function Dve(e,t){if(e==null)return{};var n,r,i=Lve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}var zve={width:"100%",height:"100%",display:"block"},Vve=x.forwardRef((e,t)=>{var n=cz(),r=dz(),i=Ez();if(!io(n)||!io(r))return null;var{children:s,otherAttributes:o,title:a,desc:u}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),x.createElement(_3,Fy({},o,{title:a,desc:u,role:d,tabIndex:c,width:n,height:r,style:zve,ref:t}),s)}),Fve=e=>{var{children:t}=e,n=Ie(px);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return x.createElement(_3,{width:r,height:i,x:o,y:s},t)},Zj=x.forwardRef((e,t)=>{var{children:n}=e,r=Dve(e,Mve),i=Gr();return i?x.createElement(Fve,null,x.createElement(Gj,{isPanorama:!0},n)):x.createElement(Vve,Fy({ref:t},r),x.createElement(Gj,{isPanorama:!1},n))});function $ve(){var e=Mt(),[t,n]=x.useState(null),r=Ie(Kre);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ge(s)&&s!==r&&e(Nre(s))}},[t,e,r]),n}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){Uve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uve(e,t,n){return(t=Wve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wve(e){var t=Hve(e,"string");return typeof t=="symbol"?t:t+""}function Hve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(null,arguments)}var qve=()=>(Ude(),null);function $y(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Kve=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[s,o]=x.useState({containerWidth:$y((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:$y((r=e.style)===null||r===void 0?void 0:r.height)}),a=x.useCallback((c,d)=>{o(p=>{var m=Math.round(c),y=Math.round(d);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),u=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=c.getBoundingClientRect();a(d,p);var m=_=>{var E=_[0];if(E!=null){var{width:w,height:S}=E.contentRect;a(w,S)}},y=new ResizeObserver(m);y.observe(c),i.current=y}},[t,a]);return x.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[a]),x.createElement(x.Fragment,null,x.createElement(Vp,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",il({ref:u},e)))}),Gve=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=x.useState({containerWidth:$y(n),containerHeight:$y(r)}),o=x.useCallback((u,c)=>{s(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),a=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();o(c,d)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(Vp,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",il({ref:a},e)))}),Zve=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Vp,{width:n,height:r}),x.createElement("div",il({ref:t},e)))}),Yve=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?x.createElement(Gve,il({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?x.createElement(Zve,il({},e,{width:n,height:r,ref:t})):x.createElement(x.Fragment,null,x.createElement(Vp,{width:n,height:r}),x.createElement("div",il({ref:t},e)))});function Xve(e){return e?Kve:Yve}var Qve=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:p,onMouseUp:m,onTouchEnd:y,onTouchMove:_,onTouchStart:E,style:w,width:S,responsive:P,dispatchTouchEvents:A=!0}=e,O=x.useRef(null),M=Mt(),[z,k]=x.useState(null),[C,R]=x.useState(null),$=$ve(),j=tT(),V=(j==null?void 0:j.width)>0?j.width:S,F=(j==null?void 0:j.height)>0?j.height:i,J=x.useCallback(X=>{$(X),typeof t=="function"&&t(X),k(X),R(X),X!=null&&(O.current=X)},[$,t,k,R]),fe=x.useCallback(X=>{M(B$(X)),M(Ci({handler:s,reactEvent:X}))},[M,s]),se=x.useCallback(X=>{M(tE(X)),M(Ci({handler:c,reactEvent:X}))},[M,c]),ie=x.useCallback(X=>{M(mF()),M(Ci({handler:d,reactEvent:X}))},[M,d]),W=x.useCallback(X=>{M(tE(X)),M(Ci({handler:p,reactEvent:X}))},[M,p]),ne=x.useCallback(()=>{M(G$())},[M]),K=x.useCallback(X=>{M(K$(X.key))},[M]),oe=x.useCallback(X=>{M(Ci({handler:o,reactEvent:X}))},[M,o]),ue=x.useCallback(X=>{M(Ci({handler:a,reactEvent:X}))},[M,a]),Ae=x.useCallback(X=>{M(Ci({handler:u,reactEvent:X}))},[M,u]),be=x.useCallback(X=>{M(Ci({handler:m,reactEvent:X}))},[M,m]),Ce=x.useCallback(X=>{M(Ci({handler:E,reactEvent:X}))},[M,E]),ge=x.useCallback(X=>{A&&M(Y$(X)),M(Ci({handler:_,reactEvent:X}))},[M,A,_]),$e=x.useCallback(X=>{M(Ci({handler:y,reactEvent:X}))},[M,y]),at=Xve(P);return x.createElement(LF.Provider,{value:z},x.createElement(Xee.Provider,{value:C},x.createElement(at,{width:V??(w==null?void 0:w.width),height:F??(w==null?void 0:w.height),className:ft("recharts-wrapper",r),style:Bve({position:"relative",cursor:"default",width:V,height:F},w),onClick:fe,onContextMenu:oe,onDoubleClick:ue,onFocus:ne,onKeyDown:K,onMouseDown:Ae,onMouseEnter:se,onMouseLeave:ie,onMouseMove:W,onMouseUp:be,onTouchEnd:$e,onTouchMove:ge,onTouchStart:Ce,ref:J},x.createElement(qve,null),n)))}),Jve=["width","height","responsive","children","className","style","compact","title","desc"];function eye(e,t){if(e==null)return{};var n,r,i=tye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tB=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:a,compact:u,title:c,desc:d}=e,p=eye(e,Jve),m=di(p);return u?x.createElement(x.Fragment,null,x.createElement(Vp,{width:n,height:r}),x.createElement(Zj,{otherAttributes:m,title:c,desc:d},s)):x.createElement(Qve,{className:o,style:a,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(Zj,{otherAttributes:m,title:c,desc:d,ref:t},x.createElement(cme,null,s)))});function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(null,arguments)}var nye={top:5,right:5,bottom:5,left:5},rye={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nye,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},iye=x.forwardRef(function(t,n){var r,i=Gn(t.categoricalChartProps,rye),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:u,eventEmitter:void 0};return x.createElement(Q$,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},x.createElement(w$,{chartData:c.data}),x.createElement(J$,{layout:i.layout,margin:i.margin}),x.createElement(eB,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(tB,nE({},i,{ref:n})))});function sye(e){var t=Mt();return x.useEffect(()=>{t(Cve(e))},[t,e]),null}var oye=["layout"];function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(null,arguments)}function aye(e,t){if(e==null)return{};var n,r,i=lye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uye={top:5,right:5,bottom:5,left:5},nB={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cye=x.forwardRef(function(t,n){var r,i=Gn(t.categoricalChartProps,nB),{layout:s}=i,o=aye(i,oye),{chartName:a,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,p={chartName:a,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(Q$,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:a},x.createElement(w$,{chartData:i.data}),x.createElement(J$,{layout:s,margin:i.margin}),x.createElement(eB,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(sye,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(tB,rE({},o,{ref:n})))});function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dye(e,t,n){return(t=fye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pye=["item"],mye=Qj(Qj({},nB),{},{layout:"centric",startAngle:0,endAngle:360}),gye=x.forwardRef((e,t)=>{var n=Gn(e,mye);return x.createElement(cye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pye,tooltipPayloadSearcher:VF,categoricalChartProps:n,ref:t})}),vye=["axis"],yye=x.forwardRef((e,t)=>x.createElement(iye,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vye,tooltipPayloadSearcher:VF,categoricalChartProps:e,ref:t}));const xye=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(0)}K`:`${e}`,_ye=({active:e,payload:t,label:n})=>e&&t&&t.length?h.jsxs("div",{className:"bg-white rounded-xl px-4 py-3 shadow-xl border border-slate-100 text-right",dir:"rtl",children:[h.jsx("p",{className:"text-sm font-bold text-slate-800 mb-1",children:n}),h.jsx("div",{className:"space-y-1",children:h.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:[": ",h.jsxs("span",{className:"font-bold",children:["",t[0].value.toLocaleString()]})]})})]}):null;function bye(){const[e,t]=x.useState("6M"),{data:n,loading:r}=Pee();if(r)return h.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 lg:p-6 h-full flex flex-col justify-center items-center",children:h.jsx("div",{className:"animate-pulse flex gap-2",children:h.jsx("div",{className:"w-2 h-2 bg-slate-200 rounded-full"})})});const i=e==="3M"?n.slice(-3):e==="6M"?n.slice(-6):n;return h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 lg:p-6 h-full flex flex-col",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"   ( )"})]}),h.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl self-start sm:self-auto",children:[{k:"3M",l:"3 "},{k:"6M",l:"6 "},{k:"1Y",l:""}].map(s=>h.jsx("button",{onClick:()=>t(s.k),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${e===s.k?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:s.l},s.k))})]}),h.jsx("div",{className:"flex-1 min-h-0",children:h.jsx(lz,{width:"100%",height:"100%",children:h.jsxs(yye,{data:i,margin:{top:5,right:0,left:-20,bottom:0},children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),h.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),h.jsx(A$,{strokeDasharray:"3 3",stroke:"#f1f5f9",vertical:!1}),h.jsx(F$,{dataKey:"month",tick:{fontSize:12,fill:"#94a3b8",fontWeight:500},axisLine:!1,tickLine:!1,dy:10}),h.jsx($$,{tickFormatter:xye,tick:{fontSize:11,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),h.jsx(BF,{content:h.jsx(_ye,{}),cursor:{stroke:"#e2e8f0",strokeWidth:1}}),h.jsx(z$,{type:"monotone",dataKey:"revenue",name:"",stroke:"#10b981",strokeWidth:2.5,fill:"url(#colorRevenue)",dot:!1,activeDot:{r:5,fill:"#10b981",stroke:"white",strokeWidth:2}})]})})})]})}const rB="tasks";async function wye(e,t){return(await Jt(In(nt,rB),{...t,agencyId:e,createdAt:z0()})).id}async function iB(e,t){const n=fr(nt,rB,e);await Fu(n,{isCompleted:t})}const Eye={high:{color:"text-red-600",bg:"bg-red-50",border:"border-red-100",dot:"bg-red-500"},medium:{color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",dot:"bg-amber-500"},low:{color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100",dot:"bg-blue-400"}};function Sye(){const{tasks:e,alerts:t}=uo(),[n,r]=x.useState("tasks"),i=async(o,a)=>{try{await iB(o,!a)}catch(u){console.error("Failed to toggle task:",u)}},s=e.length>0?Math.round(e.filter(o=>o.isCompleted).length/e.length*100):0;return h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm flex flex-col overflow-hidden h-full min-h-[400px]",children:[h.jsxs("div",{className:"p-5 pb-0",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),n==="alerts"&&t.length>0&&h.jsx("span",{className:"text-xs font-bold bg-red-500 text-white rounded-full px-2 py-0.5",children:t.length})]}),h.jsx("div",{className:"flex gap-1 bg-slate-100 rounded-xl p-1 mb-4",children:["tasks","alerts"].map(o=>h.jsx("button",{onClick:()=>r(o),className:`flex-1 text-xs font-semibold py-2 rounded-lg transition-all ${n===o?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:o==="tasks"?` (${e.filter(a=>!a.isCompleted).length})`:` (${t.length})`},o))})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-5 pt-0 space-y-2 scrollbar-hide max-h-[320px]",children:[n==="tasks"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-3",children:[h.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[h.jsx("span",{children:" "}),h.jsxs("span",{className:"font-bold text-emerald-600",children:[s,"%"]})]}),h.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-500",style:{width:`${s}%`}})})]}),e.filter(o=>!o.isCompleted).sort((o,a)=>{var u,c;return(((u=o.dueDate)==null?void 0:u.toMillis())||0)-(((c=a.dueDate)==null?void 0:c.toMillis())||0)}).map(o=>h.jsxs("div",{onClick:()=>i(o.id,o.isCompleted),className:`flex items-start gap-3 p-3 rounded-xl cursor-pointer transition-all hover:bg-slate-50 ${o.isCompleted?"opacity-50":""}`,children:[o.isCompleted?h.jsx(qh,{size:18,className:"text-emerald-500 flex-shrink-0 mt-0.5"}):h.jsx(a3,{size:18,className:"text-slate-300 flex-shrink-0 mt-0.5"}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx("p",{className:`text-sm font-medium leading-snug ${o.isCompleted?"line-through text-slate-400":"text-slate-700"}`,children:o.title})})]},o.id)),e.length===0&&h.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"  ."})]}),n==="alerts"&&h.jsxs(h.Fragment,{children:[t.map(o=>{var d;const a=o.type==="warning"?"high":"low",u=Eye[a],c=((d=o.createdAt)==null?void 0:d.toDate().toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"}))||"";return h.jsxs("div",{className:`flex gap-3 p-3 rounded-xl border ${u.bg} ${u.border}`,children:[h.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 mt-1.5 ${u.dot}`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`text-xs font-bold ${u.color}`,children:o.type==="warning"?"":""}),h.jsx("p",{className:"text-xs text-slate-600 mt-0.5 leading-relaxed",children:o.message}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:c})]})]},o.id)}),t.length===0&&h.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"  ."})]})]})]})}const Pye=({active:e,payload:t})=>e&&t&&t.length?h.jsxs("div",{className:"bg-white rounded-xl px-3 py-2 shadow-xl border border-slate-100",children:[h.jsx("p",{className:"text-xs font-bold text-slate-800",children:t[0].name}),h.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[t[0].value," "]})]}):null;function Tye(){const{properties:e}=uo(),t=e.filter(i=>i.type==="sale").length,n=e.filter(i=>i.type==="rent").length,r=[{name:"",value:t,color:"#3b82f6"},{name:"",value:n,color:"#8b5cf6"}];return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 flex flex-col gap-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:"  "})]})}),h.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 rounded-xl p-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center flex-shrink-0",children:h.jsx(pl,{size:20})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.length}),h.jsx("p",{className:"text-xs text-slate-500",children:'"  '})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{style:{width:100,height:100},children:h.jsx(lz,{width:"100%",height:"100%",children:h.jsxs(gye,{children:[h.jsx(x$,{data:r,cx:"50%",cy:"50%",innerRadius:28,outerRadius:46,paddingAngle:3,dataKey:"value",stroke:"none",children:r.map((i,s)=>h.jsx(zx,{fill:i.color},s))}),h.jsx(BF,{content:h.jsx(Pye,{})})]})})}),h.jsx("div",{className:"flex-1 space-y-2",children:r.map(i=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:i.color}}),h.jsx("span",{className:"text-xs text-slate-600 font-medium",children:i.name})]}),h.jsx("span",{className:"text-xs font-bold text-slate-800",children:i.value})]},i.name))})]})]})})}function sB(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Aye=1;function Cye(e){return Object.freeze({__version:Aye,map:e})}function Iye(e,t){return Object.freeze({...e,...t})}const oB=x.createContext(null),aB=oB.Provider;function IA(){const e=x.useContext(oB);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function kye(e){function t(n,r){const{instance:i,context:s}=e(n).current;return x.useImperativeHandle(r,()=>i),n.children==null?null:vt.createElement(aB,{value:s},n.children)}return x.forwardRef(t)}function Nye(e){function t(n,r){const[i,s]=x.useState(!1),{instance:o}=e(n,s).current;x.useImperativeHandle(r,()=>o),x.useEffect(function(){i&&o.update()},[o,i,n.children]);const a=o._contentNode;return a?Do.createPortal(n.children,a):null}return x.forwardRef(t)}function Oye(e){function t(n,r){const{instance:i}=e(n).current;return x.useImperativeHandle(r,()=>i),null}return x.forwardRef(t)}function lB(e,t){const n=x.useRef();x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function kA(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function jye(e,t){return function(r,i){const s=IA(),o=e(kA(r,s),s);return sB(s.map,r.attribution),lB(o.current,r.eventHandlers),t(o.current,s,r,i),o}}var iE={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(O9,function(n){var r="1.9.4";function i(l){var f,v,b,I;for(v=1,b=arguments.length;v<b;v++){I=arguments[v];for(f in I)l[f]=I[f]}return l}var s=Object.create||function(){function l(){}return function(f){return l.prototype=f,new l}}();function o(l,f){var v=Array.prototype.slice;if(l.bind)return l.bind.apply(l,v.call(arguments,1));var b=v.call(arguments,2);return function(){return l.apply(f,b.length?b.concat(v.call(arguments)):arguments)}}var a=0;function u(l){return"_leaflet_id"in l||(l._leaflet_id=++a),l._leaflet_id}function c(l,f,v){var b,I,D,U;return U=function(){b=!1,I&&(D.apply(v,I),I=!1)},D=function(){b?I=arguments:(l.apply(v,arguments),setTimeout(U,f),b=!0)},D}function d(l,f,v){var b=f[1],I=f[0],D=b-I;return l===b&&v?l:((l-I)%D+D)%D+I}function p(){return!1}function m(l,f){if(f===!1)return l;var v=Math.pow(10,f===void 0?6:f);return Math.round(l*v)/v}function y(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function _(l){return y(l).split(/\s+/)}function E(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?s(l.options):{});for(var v in f)l.options[v]=f[v];return l.options}function w(l,f,v){var b=[];for(var I in l)b.push(encodeURIComponent(v?I.toUpperCase():I)+"="+encodeURIComponent(l[I]));return(!f||f.indexOf("?")===-1?"?":"&")+b.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function P(l,f){return l.replace(S,function(v,b){var I=f[b];if(I===void 0)throw new Error("No value provided for variable "+v);return typeof I=="function"&&(I=I(f)),I})}var A=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function O(l,f){for(var v=0;v<l.length;v++)if(l[v]===f)return v;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var k=0;function C(l){var f=+new Date,v=Math.max(0,16-(f-k));return k=f+v,window.setTimeout(l,v)}var R=window.requestAnimationFrame||z("RequestAnimationFrame")||C,$=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function j(l,f,v){if(v&&R===C)l.call(f);else return R.call(window,o(l,f))}function V(l){l&&$.call(window,l)}var F={__proto__:null,extend:i,create:s,bind:o,get lastId(){return a},stamp:u,throttle:c,wrapNum:d,falseFn:p,formatNum:m,trim:y,splitWords:_,setOptions:E,getParamString:w,template:P,isArray:A,indexOf:O,emptyImageUrl:M,requestFn:R,cancelFn:$,requestAnimFrame:j,cancelAnimFrame:V};function J(){}J.extend=function(l){var f=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,b=s(v);b.constructor=f,f.prototype=b;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(f[I]=this[I]);return l.statics&&i(f,l.statics),l.includes&&(fe(l.includes),i.apply(null,[b].concat(l.includes))),i(b,l),delete b.statics,delete b.includes,b.options&&(b.options=v.options?s(v.options):{},i(b.options,l.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,U=b._initHooks.length;D<U;D++)b._initHooks[D].call(this)}},f},J.include=function(l){var f=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},J.mergeOptions=function(l){return i(this.prototype.options,l),this},J.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),v=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function fe(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=A(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(l,f,v){if(typeof l=="object")for(var b in l)this._on(b,l[b],f);else{l=_(l);for(var I=0,D=l.length;I<D;I++)this._on(l[I],f,v)}return this},off:function(l,f,v){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var b in l)this._off(b,l[b],f);else{l=_(l);for(var I=arguments.length===1,D=0,U=l.length;D<U;D++)I?this._off(l[D]):this._off(l[D],f,v)}return this},_on:function(l,f,v,b){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,v)===!1){v===this&&(v=void 0);var I={fn:f,ctx:v};b&&(I.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(I)}},_off:function(l,f,v){var b,I,D;if(this._events&&(b=this._events[l],!!b)){if(arguments.length===1){if(this._firingCount)for(I=0,D=b.length;I<D;I++)b[I].fn=p;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var U=this._listens(l,f,v);if(U!==!1){var q=b[U];this._firingCount&&(q.fn=p,this._events[l]=b=b.slice()),b.splice(U,1)}}},fire:function(l,f,v){if(!this.listens(l,v))return this;var b=i({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var I=this._events[l];if(I){this._firingCount=this._firingCount+1||1;for(var D=0,U=I.length;D<U;D++){var q=I[D],Y=q.fn;q.once&&this.off(l,Y,q.ctx),Y.call(q.ctx||this,b)}this._firingCount--}}return v&&this._propagateEvent(b),this},listens:function(l,f,v,b){typeof l!="string"&&console.warn('"string" type argument expected');var I=f;typeof f!="function"&&(b=!!f,I=void 0,v=void 0);var D=this._events&&this._events[l];if(D&&D.length&&this._listens(l,I,v)!==!1)return!0;if(b){for(var U in this._eventParents)if(this._eventParents[U].listens(l,f,v,b))return!0}return!1},_listens:function(l,f,v){if(!this._events)return!1;var b=this._events[l]||[];if(!f)return!!b.length;v===this&&(v=void 0);for(var I=0,D=b.length;I<D;I++)if(b[I].fn===f&&b[I].ctx===v)return I;return!1},once:function(l,f,v){if(typeof l=="object")for(var b in l)this._on(b,l[b],f,!0);else{l=_(l);for(var I=0,D=l.length;I<D;I++)this._on(l[I],f,v,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[u(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[u(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ie=J.extend(se);function W(l,f,v){this.x=v?Math.round(l):l,this.y=v?Math.round(f):f}var ne=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(l){return this.clone()._add(K(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(K(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new W(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new W(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ne(this.x),this.y=ne(this.y),this},distanceTo:function(l){l=K(l);var f=l.x-this.x,v=l.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(l){return l=K(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=K(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function K(l,f,v){return l instanceof W?l:A(l)?new W(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new W(l.x,l.y):new W(l,f,v)}function oe(l,f){if(l)for(var v=f?[l,f]:l,b=0,I=v.length;b<I;b++)this.extend(v[b])}oe.prototype={extend:function(l){var f,v;if(!l)return this;if(l instanceof W||typeof l[0]=="number"||"x"in l)f=v=K(l);else if(l=ue(l),f=l.min,v=l.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(l){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,v;return typeof l[0]=="number"||l instanceof W?l=K(l):l=ue(l),l instanceof oe?(f=l.min,v=l.max):f=v=l,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(l){l=ue(l);var f=this.min,v=this.max,b=l.min,I=l.max,D=I.x>=f.x&&b.x<=v.x,U=I.y>=f.y&&b.y<=v.y;return D&&U},overlaps:function(l){l=ue(l);var f=this.min,v=this.max,b=l.min,I=l.max,D=I.x>f.x&&b.x<v.x,U=I.y>f.y&&b.y<v.y;return D&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,v=this.max,b=Math.abs(f.x-v.x)*l,I=Math.abs(f.y-v.y)*l;return ue(K(f.x-b,f.y-I),K(v.x+b,v.y+I))},equals:function(l){return l?(l=ue(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function ue(l,f){return!l||l instanceof oe?l:new oe(l,f)}function Ae(l,f){if(l)for(var v=f?[l,f]:l,b=0,I=v.length;b<I;b++)this.extend(v[b])}Ae.prototype={extend:function(l){var f=this._southWest,v=this._northEast,b,I;if(l instanceof Ce)b=l,I=l;else if(l instanceof Ae){if(b=l._southWest,I=l._northEast,!b||!I)return this}else return l?this.extend(ge(l)||be(l)):this;return!f&&!v?(this._southWest=new Ce(b.lat,b.lng),this._northEast=new Ce(I.lat,I.lng)):(f.lat=Math.min(b.lat,f.lat),f.lng=Math.min(b.lng,f.lng),v.lat=Math.max(I.lat,v.lat),v.lng=Math.max(I.lng,v.lng)),this},pad:function(l){var f=this._southWest,v=this._northEast,b=Math.abs(f.lat-v.lat)*l,I=Math.abs(f.lng-v.lng)*l;return new Ae(new Ce(f.lat-b,f.lng-I),new Ce(v.lat+b,v.lng+I))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof Ce||"lat"in l?l=ge(l):l=be(l);var f=this._southWest,v=this._northEast,b,I;return l instanceof Ae?(b=l.getSouthWest(),I=l.getNorthEast()):b=I=l,b.lat>=f.lat&&I.lat<=v.lat&&b.lng>=f.lng&&I.lng<=v.lng},intersects:function(l){l=be(l);var f=this._southWest,v=this._northEast,b=l.getSouthWest(),I=l.getNorthEast(),D=I.lat>=f.lat&&b.lat<=v.lat,U=I.lng>=f.lng&&b.lng<=v.lng;return D&&U},overlaps:function(l){l=be(l);var f=this._southWest,v=this._northEast,b=l.getSouthWest(),I=l.getNorthEast(),D=I.lat>f.lat&&b.lat<v.lat,U=I.lng>f.lng&&b.lng<v.lng;return D&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=be(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(l,f){return l instanceof Ae?l:new Ae(l,f)}function Ce(l,f,v){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,v!==void 0&&(this.alt=+v)}Ce.prototype={equals:function(l,f){if(!l)return!1;l=ge(l);var v=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return v<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+m(this.lat,l)+", "+m(this.lng,l)+")"},distanceTo:function(l){return at.distance(this,ge(l))},wrap:function(){return at.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,v=f/Math.cos(Math.PI/180*this.lat);return be([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function ge(l,f,v){return l instanceof Ce?l:A(l)&&typeof l[0]!="object"?l.length===3?new Ce(l[0],l[1],l[2]):l.length===2?new Ce(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new Ce(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new Ce(l,f,v)}var $e={latLngToPoint:function(l,f){var v=this.projection.project(l),b=this.scale(f);return this.transformation._transform(v,b)},pointToLatLng:function(l,f){var v=this.scale(f),b=this.transformation.untransform(l,v);return this.projection.unproject(b)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(l),b=this.transformation.transform(f.min,v),I=this.transformation.transform(f.max,v);return new oe(b,I)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?d(l.lng,this.wrapLng,!0):l.lng,v=this.wrapLat?d(l.lat,this.wrapLat,!0):l.lat,b=l.alt;return new Ce(v,f,b)},wrapLatLngBounds:function(l){var f=l.getCenter(),v=this.wrapLatLng(f),b=f.lat-v.lat,I=f.lng-v.lng;if(b===0&&I===0)return l;var D=l.getSouthWest(),U=l.getNorthEast(),q=new Ce(D.lat-b,D.lng-I),Y=new Ce(U.lat-b,U.lng-I);return new Ae(q,Y)}},at=i({},$e,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var v=Math.PI/180,b=l.lat*v,I=f.lat*v,D=Math.sin((f.lat-l.lat)*v/2),U=Math.sin((f.lng-l.lng)*v/2),q=D*D+Math.cos(b)*Math.cos(I)*U*U,Y=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*Y}}),X=6378137,me={R:X,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,v=this.MAX_LATITUDE,b=Math.max(Math.min(v,l.lat),-v),I=Math.sin(b*f);return new W(this.R*l.lng*f,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(l){var f=180/Math.PI;return new Ce((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:function(){var l=X*Math.PI;return new oe([-l,-l],[l,l])}()};function Ne(l,f,v,b){if(A(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=v,this._d=b}Ne.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new W((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function Q(l,f,v,b){return new Ne(l,f,v,b)}var Xe=i({},at,{code:"EPSG:3857",projection:me,transformation:function(){var l=.5/(Math.PI*me.R);return Q(l,.5,-l,.5)}()}),Me=i({},Xe,{code:"EPSG:900913"});function de(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function pe(l,f){var v="",b,I,D,U,q,Y;for(b=0,D=l.length;b<D;b++){for(q=l[b],I=0,U=q.length;I<U;I++)Y=q[I],v+=(I?"L":"M")+Y.x+" "+Y.y;v+=f?xe.svg?"z":"x":""}return v||"M0 0"}var Te=document.documentElement.style,lt="ActiveXObject"in window,et=lt&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),Zn=nn("webkit"),_n=nn("android"),ae=nn("android 2")||nn("android 3"),kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zr=_n&&nn("Google")&&kt<537&&!("AudioNode"in window),_s=!!window.opera,gi=!tt&&nn("chrome"),Yr=nn("gecko")&&!Zn&&!_s&&!lt,fo=!gi&&nn("safari"),Cl=nn("phantom"),Cr="OTransition"in Te,Il=navigator.platform.indexOf("Win")===0,bs=lt&&"transition"in Te,ho="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ae,ws="MozPerspective"in Te,vi=!window.L_DISABLE_3D&&(bs||ho||ws)&&!Cr&&!Cl,Es=typeof orientation<"u"||nn("mobile"),po=Es&&Zn,Uu=Es&&ho,Ss=!window.PointerEvent&&window.MSPointerEvent,kl=!!(window.PointerEvent||Ss),Ze="ontouchstart"in window||!!window.TouchEvent,bn=!window.L_NO_TOUCH&&(Ze||kl),Yt=Es&&_s,Yn=Es&&Yr,Xn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rn=function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",p,f),window.removeEventListener("testPassiveEventSupport",p,f)}catch{}return l}(),fn=function(){return!!document.createElement("canvas").getContext}(),yi=!!(document.createElementNS&&de("svg").createSVGRect),Xt=!!yi&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),hr=!yi&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),pr=navigator.platform.indexOf("Mac")===0,Ir=navigator.platform.indexOf("Linux")===0;function nn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var xe={ie:lt,ielt9:et,edge:tt,webkit:Zn,android:_n,android23:ae,androidStock:Zr,opera:_s,chrome:gi,gecko:Yr,safari:fo,phantom:Cl,opera12:Cr,win:Il,ie3d:bs,webkit3d:ho,gecko3d:ws,any3d:vi,mobile:Es,mobileWebkit:po,mobileWebkit3d:Uu,msPointer:Ss,pointer:kl,touch:bn,touchNative:Ze,mobileOpera:Yt,mobileGecko:Yn,retina:Xn,passiveEvents:Rn,canvas:fn,svg:yi,vml:hr,inlineSvg:Xt,mac:pr,linux:Ir},Xr=xe.msPointer?"MSPointerDown":"pointerdown",Mn=xe.msPointer?"MSPointerMove":"pointermove",mo=xe.msPointer?"MSPointerUp":"pointerup",Yd=xe.msPointer?"MSPointerCancel":"pointercancel",Nl={touchstart:Xr,touchmove:Mn,touchend:mo,touchcancel:Yd},Wu={touchstart:Xd,touchmove:xi,touchend:xi,touchcancel:xi},go={},sm=!1;function om(l,f,v){return f==="touchstart"&&Ol(),Wu[f]?(v=Wu[f].bind(this,v),l.addEventListener(Nl[f],v,!1),v):(console.warn("wrong event specified:",f),p)}function o_(l,f,v){if(!Nl[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(Nl[f],v,!1)}function Hu(l){go[l.pointerId]=l}function am(l){go[l.pointerId]&&(go[l.pointerId]=l)}function qu(l){delete go[l.pointerId]}function Ol(){sm||(document.addEventListener(Xr,Hu,!0),document.addEventListener(Mn,am,!0),document.addEventListener(mo,qu,!0),document.addEventListener(Yd,qu,!0),sm=!0)}function xi(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in go)f.touches.push(go[v]);f.changedTouches=[f],l(f)}}function Xd(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&rn(f),xi(l,f)}function a_(l){var f={},v,b;for(b in l)v=l[b],f[b]=v&&v.bind?v.bind(l):v;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var lm=200;function um(l,f){l.addEventListener("dblclick",f);var v=0,b;function I(D){if(D.detail!==1){b=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var U=nf(D);if(!(U.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!U.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var q=Date.now();q-v<=lm?(b++,b===2&&f(a_(D))):b=1,v=q}}}return l.addEventListener("click",I),{dblclick:f,simDblclick:I}}function cm(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var jl=Ku(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vo=Ku(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qd=vo==="webkitTransition"||vo==="OTransition"?vo+"End":"transitionend";function Jd(l){return typeof l=="string"?document.getElementById(l):l}function xa(l,f){var v=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(l,null);v=b?b[f]:null}return v==="auto"?null:v}function Qe(l,f,v){var b=document.createElement(l);return b.className=f||"",v&&v.appendChild(b),b}function it(l){var f=l.parentNode;f&&f.removeChild(l)}function mr(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function _i(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function bi(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function Rl(l,f){if(l.classList!==void 0)return l.classList.contains(f);var v=Ps(l);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function we(l,f){if(l.classList!==void 0)for(var v=_(f),b=0,I=v.length;b<I;b++)l.classList.add(v[b]);else if(!Rl(l,f)){var D=Ps(l);yo(l,(D?D+" ":"")+f)}}function bt(l,f){l.classList!==void 0?l.classList.remove(f):yo(l,y((" "+Ps(l)+" ").replace(" "+f+" "," ")))}function yo(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function Ps(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function kr(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&dm(l,f)}function dm(l,f){var v=!1,b="DXImageTransform.Microsoft.Alpha";try{v=l.filters.item(b)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):l.style.filter+=" progid:"+b+"(opacity="+f+")"}function Ku(l){for(var f=document.documentElement.style,v=0;v<l.length;v++)if(l[v]in f)return l[v];return!1}function xo(l,f,v){var b=f||new W(0,0);l.style[jl]=(xe.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(v?" scale("+v+")":"")}function $t(l,f){l._leaflet_pos=f,xe.any3d?xo(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function _o(l){return l._leaflet_pos||new W(0,0)}var Ki,Qr,Gu;if("onselectstart"in document)Ki=function(){De(window,"selectstart",rn)},Qr=function(){ht(window,"selectstart",rn)};else{var _a=Ku(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ki=function(){if(_a){var l=document.documentElement.style;Gu=l[_a],l[_a]="none"}},Qr=function(){_a&&(document.documentElement.style[_a]=Gu,Gu=void 0)}}function Zu(){De(window,"dragstart",rn)}function Yu(){ht(window,"dragstart",rn)}var Ml,Ts;function ef(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Xu(),Ml=l,Ts=l.style.outlineStyle,l.style.outlineStyle="none",De(window,"keydown",Xu))}function Xu(){Ml&&(Ml.style.outlineStyle=Ts,Ml=void 0,Ts=void 0,ht(window,"keydown",Xu))}function fm(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function wi(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var l_={__proto__:null,TRANSFORM:jl,TRANSITION:vo,TRANSITION_END:Qd,get:Jd,getStyle:xa,create:Qe,remove:it,empty:mr,toFront:_i,toBack:bi,hasClass:Rl,addClass:we,removeClass:bt,setClass:yo,getClass:Ps,setOpacity:kr,testProp:Ku,setTransform:xo,setPosition:$t,getPosition:_o,get disableTextSelection(){return Ki},get enableTextSelection(){return Qr},disableImageDrag:Zu,enableImageDrag:Yu,preventOutline:ef,restoreOutline:Xu,getSizedParentNode:fm,getScale:wi};function De(l,f,v,b){if(f&&typeof f=="object")for(var I in f)Qu(l,I,f[I],v);else{f=_(f);for(var D=0,U=f.length;D<U;D++)Qu(l,f[D],v,b)}return this}var gr="_leaflet_events";function ht(l,f,v,b){if(arguments.length===1)ba(l),delete l[gr];else if(f&&typeof f=="object")for(var I in f)Dl(l,I,f[I],v);else if(f=_(f),arguments.length===2)ba(l,function(q){return O(f,q)!==-1});else for(var D=0,U=f.length;D<U;D++)Dl(l,f[D],v,b);return this}function ba(l,f){for(var v in l[gr]){var b=v.split(/\d/)[0];(!f||f(b))&&Dl(l,b,null,null,v)}}var bo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qu(l,f,v,b){var I=f+u(v)+(b?"_"+u(b):"");if(l[gr]&&l[gr][I])return this;var D=function(q){return v.call(b||l,q||window.event)},U=D;!xe.touchNative&&xe.pointer&&f.indexOf("touch")===0?D=om(l,f,D):xe.touch&&f==="dblclick"?D=um(l,D):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(bo[f]||f,D,xe.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(D=function(q){q=q||window.event,sf(l,q)&&U(q)},l.addEventListener(bo[f],D,!1)):l.addEventListener(f,U,!1):l.attachEvent("on"+f,D),l[gr]=l[gr]||{},l[gr][I]=D}function Dl(l,f,v,b,I){I=I||f+u(v)+(b?"_"+u(b):"");var D=l[gr]&&l[gr][I];if(!D)return this;!xe.touchNative&&xe.pointer&&f.indexOf("touch")===0?o_(l,f,D):xe.touch&&f==="dblclick"?cm(l,D):"removeEventListener"in l?l.removeEventListener(bo[f]||f,D,!1):l.detachEvent("on"+f,D),l[gr][I]=null}function ut(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function tf(l){return Qu(l,"wheel",ut),this}function Ll(l){return De(l,"mousedown touchstart dblclick contextmenu",ut),l._leaflet_disable_click=!0,this}function rn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function As(l){return rn(l),ut(l),this}function nf(l){if(l.composedPath)return l.composedPath();for(var f=[],v=l.target;v;)f.push(v),v=v.parentNode;return f}function zl(l,f){if(!f)return new W(l.clientX,l.clientY);var v=wi(f),b=v.boundingClientRect;return new W((l.clientX-b.left)/v.x-f.clientLeft,(l.clientY-b.top)/v.y-f.clientTop)}var Cs=xe.linux&&xe.chrome?window.devicePixelRatio:xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rf(l){return xe.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Cs:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function sf(l,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==l;)v=v.parentNode}catch{return!1}return v!==l}var Vl={__proto__:null,on:De,off:ht,stopPropagation:ut,disableScrollPropagation:tf,disableClickPropagation:Ll,preventDefault:rn,stop:As,getPropagationPath:nf,getMousePosition:zl,getWheelDelta:rf,isExternalTarget:sf,addListener:De,removeListener:ht},of=ie.extend({run:function(l,f,v,b){this.stop(),this._el=l,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=_o(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var v=this._startPos.add(this._offset.multiplyBy(l));f&&v._round(),$t(this._el,v),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Be=ie.extend({options:{crs:Xe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=E(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ge(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vo&&xe.any3d&&!xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,Qd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(ge(l),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var b=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,v.zoom):this._tryAnimatedPan(l,v.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,v){var b=this.getZoomScale(f),I=this.getSize().divideBy(2),D=l instanceof W?l:this.latLngToContainerPoint(l),U=D.subtract(I).multiplyBy(1-1/b),q=this.containerPointToLatLng(I.add(U));return this.setView(q,f,{zoom:v})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():be(l);var v=K(f.paddingTopLeft||f.padding||[0,0]),b=K(f.paddingBottomRight||f.padding||[0,0]),I=this.getBoundsZoom(l,!1,v.add(b));if(I=typeof f.maxZoom=="number"?Math.min(f.maxZoom,I):I,I===1/0)return{center:l.getCenter(),zoom:I};var D=b.subtract(v).divideBy(2),U=this.project(l.getSouthWest(),I),q=this.project(l.getNorthEast(),I),Y=this.unproject(U.add(q).divideBy(2).add(D),I);return{center:Y,zoom:I}},fitBounds:function(l,f){if(l=be(l),!l.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(l,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=K(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new of,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){we(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,v){if(v=v||{},v.animate===!1||!xe.any3d)return this.setView(l,f,v);this._stop();var b=this.project(this.getCenter()),I=this.project(l),D=this.getSize(),U=this._zoom;l=ge(l),f=f===void 0?U:f;var q=Math.max(D.x,D.y),Y=q*this.getZoomScale(U,f),re=I.distanceTo(b)||1,ye=1.42,Oe=ye*ye;function Ue(sn){var Cm=sn?-1:1,P9=sn?Y:q,T9=Y*Y-q*q+Cm*Oe*Oe*re*re,A9=2*P9*Oe*re,h_=T9/A9,uC=Math.sqrt(h_*h_+1)-h_,C9=uC<1e-9?-18:Math.log(uC);return C9}function vr(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function wn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function Pi(sn){return vr(sn)/wn(sn)}var Or=Ue(0);function dc(sn){return q*(wn(Or)/wn(Or+ye*sn))}function b9(sn){return q*(wn(Or)*Pi(Or+ye*sn)-vr(Or))/Oe}function w9(sn){return 1-Math.pow(1-sn,1.5)}var E9=Date.now(),aC=(Ue(1)-Or)/ye,S9=v.duration?1e3*v.duration:1e3*aC*.8;function lC(){var sn=(Date.now()-E9)/S9,Cm=w9(sn)*aC;sn<=1?(this._flyToFrame=j(lC,this),this._move(this.unproject(b.add(I.subtract(b).multiplyBy(b9(Cm)/re)),U),this.getScaleZoom(q/dc(Cm),U),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),lC.call(this),this},flyToBounds:function(l,f){var v=this._getBoundsCenterZoom(l,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(l){return l=be(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var v=this.getCenter(),b=this._limitCenter(v,this._zoom,be(l));return v.equals(b)||this.panTo(b,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var v=K(f.paddingTopLeft||f.padding||[0,0]),b=K(f.paddingBottomRight||f.padding||[0,0]),I=this.project(this.getCenter()),D=this.project(l),U=this.getPixelBounds(),q=ue([U.min.add(v),U.max.subtract(b)]),Y=q.getSize();if(!q.contains(D)){this._enforcingBounds=!0;var re=D.subtract(q.getCenter()),ye=q.extend(D).getSize().subtract(Y);I.x+=re.x<0?-ye.x:ye.x,I.y+=re.y<0?-ye.y:ye.y,this.panTo(this.unproject(I),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),b=f.divideBy(2).round(),I=v.divideBy(2).round(),D=b.subtract(I);return!D.x&&!D.y?this:(l.animate&&l.pan?this.panBy(D):(l.pan&&this._rawPanBy(D),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=o(this._handleGeolocationResponse,this),v=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,l):navigator.geolocation.getCurrentPosition(f,v,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,v=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,v=l.coords.longitude,b=new Ce(f,v),I=b.toBounds(l.coords.accuracy*2),D=this._locateOptions;if(D.setView){var U=this.getBoundsZoom(I);this.setView(b,D.maxZoom?Math.min(U,D.maxZoom):U)}var q={latlng:b,bounds:I,timestamp:l.timestamp};for(var Y in l.coords)typeof l.coords[Y]=="number"&&(q[Y]=l.coords[Y]);this.fire("locationfound",q)}},addHandler:function(l,f){if(!f)return this;var v=this[l]=new f(this);return this._handlers.push(v),this.options[l]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)it(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var v="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),b=Qe("div",v,f||this._mapPane);return l&&(this._panes[l]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),v=this.unproject(l.getTopRight());return new Ae(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,v){l=be(l),v=K(v||[0,0]);var b=this.getZoom()||0,I=this.getMinZoom(),D=this.getMaxZoom(),U=l.getNorthWest(),q=l.getSouthEast(),Y=this.getSize().subtract(v),re=ue(this.project(q,b),this.project(U,b)).getSize(),ye=xe.any3d?this.options.zoomSnap:1,Oe=Y.x/re.x,Ue=Y.y/re.y,vr=f?Math.max(Oe,Ue):Math.min(Oe,Ue);return b=this.getScaleZoom(vr,b),ye&&(b=Math.round(b/(ye/100))*(ye/100),b=f?Math.ceil(b/ye)*ye:Math.floor(b/ye)*ye),Math.max(I,Math.min(D,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var v=this._getTopLeftPoint(l,f);return new oe(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(l)/v.scale(f)},getScaleZoom:function(l,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var b=v.zoom(l*v.scale(f));return isNaN(b)?1/0:b},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ge(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(K(l),f)},layerPointToLatLng:function(l){var f=K(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(ge(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(ge(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(be(l))},distance:function(l,f){return this.options.crs.distance(ge(l),ge(f))},containerPointToLayerPoint:function(l){return K(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return K(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(K(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(l)))},mouseEventToContainerPoint:function(l){return zl(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=Jd(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");De(f,"scroll",this._onScroll,this),this._containerId=u(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&xe.any3d,we(l,"leaflet-container"+(xe.touch?" leaflet-touch":"")+(xe.retina?" leaflet-retina":"")+(xe.ielt9?" leaflet-oldie":"")+(xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=xa(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$t(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(l.markerPane,"leaflet-zoom-hide"),we(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,v){$t(this._mapPane,new W(0,0));var b=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var I=this._zoom!==f;this._moveStart(I,v)._move(l,f)._moveEnd(I),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,v,b){f===void 0&&(f=this._zoom);var I=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),b?v&&v.pinch&&this.fire("zoom",v):((I||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){$t(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[u(this._container)]=this;var f=l?ht:De;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),xe.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var v=[],b,I=f==="mouseout"||f==="mouseover",D=l.target||l.srcElement,U=!1;D;){if(b=this._targets[u(D)],b&&(f==="click"||f==="preclick")&&this._draggableMoved(b)){U=!0;break}if(b&&b.listens(f,!0)&&(I&&!sf(D,l)||(v.push(b),I))||D===this._container)break;D=D.parentNode}return!v.length&&!U&&!I&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var v=l.type;v==="mousedown"&&ef(f),this._fireDOMEvent(l,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,v){if(l.type==="click"){var b=i({},l);b.type="preclick",this._fireDOMEvent(b,b.type,v)}var I=this._findEventTargets(l,f);if(v){for(var D=[],U=0;U<v.length;U++)v[U].listens(f,!0)&&D.push(v[U]);I=D.concat(I)}if(I.length){f==="contextmenu"&&rn(l);var q=I[0],Y={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var re=q.getLatLng&&(!q._radius||q._radius<=10);Y.containerPoint=re?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(l),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=re?q.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(U=0;U<I.length;U++)if(I[U].fire(f,Y,!0),Y.originalEvent._stopped||I[U].options.bubblingMouseEvents===!1&&O(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return _o(this._mapPane)||new W(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var v=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var v=this.getSize()._divideBy(2);return this.project(l,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,v){var b=this._getNewPixelOrigin(v,f);return this.project(l,f)._subtract(b)},_latLngBoundsToNewLayerBounds:function(l,f,v){var b=this._getNewPixelOrigin(v,f);return ue([this.project(l.getSouthWest(),f)._subtract(b),this.project(l.getNorthWest(),f)._subtract(b),this.project(l.getSouthEast(),f)._subtract(b),this.project(l.getNorthEast(),f)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,v){if(!v)return l;var b=this.project(l,f),I=this.getSize().divideBy(2),D=new oe(b.subtract(I),b.add(I)),U=this._getBoundsOffset(D,v,f);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?l:this.unproject(b.add(U),f)},_limitOffset:function(l,f){if(!f)return l;var v=this.getPixelBounds(),b=new oe(v.min.add(l),v.max.add(l));return l.add(this._getBoundsOffset(b,f))},_getBoundsOffset:function(l,f,v){var b=ue(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),I=b.min.subtract(l.min),D=b.max.subtract(l.max),U=this._rebound(I.x,-D.x),q=this._rebound(I.y,-D.y);return new W(U,q)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),v=this.getMaxZoom(),b=xe.any3d?this.options.zoomSnap:1;return b&&(l=Math.round(l/b)*b),Math.max(f,Math.min(v,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var v=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var l=this._proxy=Qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var v=jl,b=this._proxy.style[v];xo(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),b===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();xo(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(f),I=this._getCenterOffset(l)._divideBy(1-1/b);return v.animate!==!0&&!this.getSize().contains(I)?!1:(j(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,v,b){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ju(l,f){return new Be(l,f)}var Nr=J.extend({options:{position:"topright"},initialize:function(l){E(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),v=this.getPosition(),b=l._controlCorners[v];return we(f,"leaflet-control"),v.indexOf("bottom")!==-1?b.insertBefore(f,b.firstChild):b.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Is=function(l){return new Nr(l)};Be.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",v=this._controlContainer=Qe("div",f+"control-container",this._container);function b(I,D){var U=f+I+" "+f+D;l[I+D]=Qe("div",U,v)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)it(this._controlCorners[l]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hm=Nr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,v,b){return v<b?-1:b<v?1:0}},initialize:function(l,f,v){E(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in l)this._addLayer(l[b],b);for(b in f)this._addLayer(f[b],b,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Nr.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(u(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=Qe("div",l),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Ll(f),tf(f);var b=this._section=Qe("section",l+"-list");v&&(this._map.on("click",this.collapse,this),De(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=Qe("a",l+"-toggle",f);I.href="#",I.title="Layers",I.setAttribute("role","button"),De(I,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){rn(D),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Qe("div",l+"-base",b),this._separator=Qe("div",l+"-separator",b),this._overlaysList=Qe("div",l+"-overlays",b),f.appendChild(b)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&u(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,v){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(o(function(b,I){return this.options.sortFunction(b.layer,I.layer,b.name,I.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mr(this._baseLayersList),mr(this._overlaysList),this._layerControlInputs=[];var l,f,v,b,I=0;for(v=0;v<this._layers.length;v++)b=this._layers[v],this._addItem(b),f=f||b.overlay,l=l||!b.overlay,I+=b.overlay?0:1;return this.options.hideSingleBase&&(l=l&&I>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(u(l.target)),v=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(l,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=v,b.firstChild},_addItem:function(l){var f=document.createElement("label"),v=this._map.hasLayer(l.layer),b;l.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=v):b=this._createRadioElement("leaflet-base-layers_"+u(this),v),this._layerControlInputs.push(b),b.layerId=u(l.layer),De(b,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+l.name;var D=document.createElement("span");f.appendChild(D),D.appendChild(b),D.appendChild(I);var U=l.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,v,b=[],I=[];this._handlingClick=!0;for(var D=l.length-1;D>=0;D--)f=l[D],v=this._getLayer(f.layerId).layer,f.checked?b.push(v):f.checked||I.push(v);for(D=0;D<I.length;D++)this._map.hasLayer(I[D])&&this._map.removeLayer(I[D]);for(D=0;D<b.length;D++)this._map.hasLayer(b[D])||this._map.addLayer(b[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,v,b=this._map.getZoom(),I=l.length-1;I>=0;I--)f=l[I],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&b<v.options.minZoom||v.options.maxZoom!==void 0&&b>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,De(l,"click",rn),this.expand();var f=this;setTimeout(function(){ht(l,"click",rn),f._preventClick=!1})}}),pm=function(l,f,v){return new hm(l,f,v)},wo=Nr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",v=Qe("div",f+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,v,b,I){var D=Qe("a",v,b);return D.innerHTML=l,D.href="#",D.title=f,D.setAttribute("role","button"),D.setAttribute("aria-label",f),Ll(D),De(D,"click",As),De(D,"click",I,this),De(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";bt(this._zoomInButton,f),bt(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(we(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(we(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new wo,this.addControl(this.zoomControl))});var mm=function(l){return new wo(l)},af=Nr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",v=Qe("div",f),b=this.options;return this._addScales(b,f+"-line",v),l.on(b.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),v},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,v){l.metric&&(this._mScale=Qe("div",f,v)),l.imperial&&(this._iScale=Qe("div",f,v))},_update:function(){var l=this._map,f=l.getSize().y/2,v=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/l)},_updateImperial:function(l){var f=l*3.2808399,v,b,I;f>5280?(v=f/5280,b=this._getRoundNum(v),this._updateScale(this._iScale,b+" mi",b/v)):(I=this._getRoundNum(f),this._updateScale(this._iScale,I+" ft",I/f))},_updateScale:function(l,f,v){l.style.width=Math.round(this.options.maxWidth*v)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),v=l/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),lf=function(l){return new af(l)},uf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ec=Nr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xe.inlineSvg?uf+" ":"")+"Leaflet</a>"},initialize:function(l){E(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Qe("div","leaflet-control-attribution"),Ll(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),l.length&&v.push(l.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new ec().addTo(this)});var tc=function(l){return new ec(l)};Nr.Layers=hm,Nr.Zoom=wo,Nr.Scale=af,Nr.Attribution=ec,Is.layers=pm,Is.zoom=mm,Is.scale=lf,Is.attribution=tc;var Jr=J.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jr.addTo=function(l,f){return l.addHandler(f,this),this};var gm={Events:se},ks=xe.touch?"touchstart mousedown":"mousedown",Gi=ie.extend({options:{clickTolerance:3},initialize:function(l,f,v,b){E(this,b),this._element=l,this._dragStartTarget=f||l,this._preventOutline=v},enable:function(){this._enabled||(De(this._dragStartTarget,ks,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gi._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,ks,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Rl(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Gi._dragging===this&&this.finishDrag();return}if(!(Gi._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Gi._dragging=this,this._preventOutline&&ef(this._element),Zu(),Ki(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,v=fm(this._element);this._startPoint=new W(f.clientX,f.clientY),this._startPos=_o(this._element),this._parentScale=wi(v);var b=l.type==="mousedown";De(document,b?"mousemove":"touchmove",this._onMove,this),De(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,v=new W(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,rn(l),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),$t(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),Yu(),Qr();var f=this._moved&&this._moving;this._moving=!1,Gi._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function cf(l,f,v){var b,I=[1,4,2,8],D,U,q,Y,re,ye,Oe,Ue;for(D=0,ye=l.length;D<ye;D++)l[D]._code=Z(l[D],f);for(q=0;q<4;q++){for(Oe=I[q],b=[],D=0,ye=l.length,U=ye-1;D<ye;U=D++)Y=l[D],re=l[U],Y._code&Oe?re._code&Oe||(Ue=H(re,Y,Oe,f,v),Ue._code=Z(Ue,f),b.push(Ue)):(re._code&Oe&&(Ue=H(re,Y,Oe,f,v),Ue._code=Z(Ue,f),b.push(Ue)),b.push(Y));l=b}return l}function df(l,f){var v,b,I,D,U,q,Y,re,ye;if(!l||l.length===0)throw new Error("latlngs not passed");st(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Oe=ge([0,0]),Ue=be(l),vr=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());vr<1700&&(Oe=nc(l));var wn=l.length,Pi=[];for(v=0;v<wn;v++){var Or=ge(l[v]);Pi.push(f.project(ge([Or.lat-Oe.lat,Or.lng-Oe.lng])))}for(q=Y=re=0,v=0,b=wn-1;v<wn;b=v++)I=Pi[v],D=Pi[b],U=I.y*D.x-D.y*I.x,Y+=(I.x+D.x)*U,re+=(I.y+D.y)*U,q+=U*3;q===0?ye=Pi[0]:ye=[Y/q,re/q];var dc=f.unproject(K(ye));return ge([dc.lat+Oe.lat,dc.lng+Oe.lng])}function nc(l){for(var f=0,v=0,b=0,I=0;I<l.length;I++){var D=ge(l[I]);f+=D.lat,v+=D.lng,b++}return ge([f/b,v/b])}var rc={__proto__:null,clipPolygon:cf,polygonCenter:df,centroid:nc};function Qn(l,f){if(!f||!l.length)return l.slice();var v=f*f;return l=T(l,v),l=wa(l,v),l}function ff(l,f,v){return Math.sqrt(Le(l,f,v,!0))}function vm(l,f,v){return Le(l,f,v)}function wa(l,f){var v=l.length,b=typeof Uint8Array<"u"?Uint8Array:Array,I=new b(v);I[0]=I[v-1]=1,g(l,I,f,0,v-1);var D,U=[];for(D=0;D<v;D++)I[D]&&U.push(l[D]);return U}function g(l,f,v,b,I){var D=0,U,q,Y;for(q=b+1;q<=I-1;q++)Y=Le(l[q],l[b],l[I],!0),Y>D&&(U=q,D=Y);D>v&&(f[U]=1,g(l,f,v,b,U),g(l,f,v,U,I))}function T(l,f){for(var v=[l[0]],b=1,I=0,D=l.length;b<D;b++)ce(l[b],l[I])>f&&(v.push(l[b]),I=b);return I<D-1&&v.push(l[D-1]),v}var N;function B(l,f,v,b,I){var D=b?N:Z(l,v),U=Z(f,v),q,Y,re;for(N=U;;){if(!(D|U))return[l,f];if(D&U)return!1;q=D||U,Y=H(l,f,q,v,I),re=Z(Y,v),q===D?(l=Y,D=re):(f=Y,U=re)}}function H(l,f,v,b,I){var D=f.x-l.x,U=f.y-l.y,q=b.min,Y=b.max,re,ye;return v&8?(re=l.x+D*(Y.y-l.y)/U,ye=Y.y):v&4?(re=l.x+D*(q.y-l.y)/U,ye=q.y):v&2?(re=Y.x,ye=l.y+U*(Y.x-l.x)/D):v&1&&(re=q.x,ye=l.y+U*(q.x-l.x)/D),new W(re,ye,I)}function Z(l,f){var v=0;return l.x<f.min.x?v|=1:l.x>f.max.x&&(v|=2),l.y<f.min.y?v|=4:l.y>f.max.y&&(v|=8),v}function ce(l,f){var v=f.x-l.x,b=f.y-l.y;return v*v+b*b}function Le(l,f,v,b){var I=f.x,D=f.y,U=v.x-I,q=v.y-D,Y=U*U+q*q,re;return Y>0&&(re=((l.x-I)*U+(l.y-D)*q)/Y,re>1?(I=v.x,D=v.y):re>0&&(I+=U*re,D+=q*re)),U=l.x-I,q=l.y-D,b?U*U+q*q:new W(I,D)}function st(l){return!A(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function ct(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),st(l)}function Qt(l,f){var v,b,I,D,U,q,Y,re;if(!l||l.length===0)throw new Error("latlngs not passed");st(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var ye=ge([0,0]),Oe=be(l),Ue=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ue<1700&&(ye=nc(l));var vr=l.length,wn=[];for(v=0;v<vr;v++){var Pi=ge(l[v]);wn.push(f.project(ge([Pi.lat-ye.lat,Pi.lng-ye.lng])))}for(v=0,b=0;v<vr-1;v++)b+=wn[v].distanceTo(wn[v+1])/2;if(b===0)re=wn[0];else for(v=0,D=0;v<vr-1;v++)if(U=wn[v],q=wn[v+1],I=U.distanceTo(q),D+=I,D>b){Y=(D-b)/I,re=[q.x-Y*(q.x-U.x),q.y-Y*(q.y-U.y)];break}var Or=f.unproject(K(re));return ge([Or.lat+ye.lat,Or.lng+ye.lng])}var Ei={__proto__:null,simplify:Qn,pointToSegmentDistance:ff,closestPointOnSegment:vm,clipSegment:B,_getEdgeIntersection:H,_getBitCode:Z,_sqClosestPointOnSegment:Le,isFlat:st,_flat:ct,polylineCenter:Qt},Zi={project:function(l){return new W(l.lng,l.lat)},unproject:function(l){return new Ce(l.y,l.x)},bounds:new oe([-180,-90],[180,90])},Si={R:6378137,R_MINOR:6356752314245179e-9,bounds:new oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,v=this.R,b=l.lat*f,I=this.R_MINOR/v,D=Math.sqrt(1-I*I),U=D*Math.sin(b),q=Math.tan(Math.PI/4-b/2)/Math.pow((1-U)/(1+U),D/2);return b=-v*Math.log(Math.max(q,1e-10)),new W(l.lng*f*v,b)},unproject:function(l){for(var f=180/Math.PI,v=this.R,b=this.R_MINOR/v,I=Math.sqrt(1-b*b),D=Math.exp(-l.y/v),U=Math.PI/2-2*Math.atan(D),q=0,Y=.1,re;q<15&&Math.abs(Y)>1e-7;q++)re=I*Math.sin(U),re=Math.pow((1-re)/(1+re),I/2),Y=Math.PI/2-2*Math.atan(D*re)-U,U+=Y;return new Ce(U*f,l.x*f/v)}},Ns={__proto__:null,LonLat:Zi,Mercator:Si,SphericalMercator:me},ic=i({},at,{code:"EPSG:3395",projection:Si,transformation:function(){var l=.5/(Math.PI*Si.R);return Q(l,.5,-l,.5)}()}),sc=i({},at,{code:"EPSG:4326",projection:Zi,transformation:Q(1/180,1,-1/180,.5)}),JB=i({},$e,{projection:Zi,transformation:Q(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var v=f.lng-l.lng,b=f.lat-l.lat;return Math.sqrt(v*v+b*b)},infinite:!0});$e.Earth=at,$e.EPSG3395=ic,$e.EPSG3857=Xe,$e.EPSG900913=Me,$e.EPSG4326=sc,$e.Simple=JB;var Yi=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[u(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[u(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=u(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=u(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return u(l)in this._layers},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},_addLayers:function(l){l=l?A(l)?l:[l]:[];for(var f=0,v=l.length;f<v;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[u(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=u(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,v=this._getZoomSpan();for(var b in this._zoomBoundLayers){var I=this._zoomBoundLayers[b].options;l=I.minZoom===void 0?l:Math.min(l,I.minZoom),f=I.maxZoom===void 0?f:Math.max(f,I.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oc=Yi.extend({initialize:function(l,f){E(this,f),this._layers={};var v,b;if(l)for(v=0,b=l.length;v<b;v++)this.addLayer(l[v])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),v,b;for(v in this._layers)b=this._layers[v],b[l]&&b[l].apply(b,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return u(l)}}),e9=function(l,f){return new oc(l,f)},Eo=oc.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),oc.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),oc.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new Ae;for(var f in this._layers){var v=this._layers[f];l.extend(v.getBounds?v.getBounds():v.getLatLng())}return l}}),t9=function(l,f){return new Eo(l,f)},ac=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){E(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var v=this._getIconUrl(l);if(!v){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(b,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(l,f){var v=this.options,b=v[f+"Size"];typeof b=="number"&&(b=[b,b]);var I=K(b),D=K(f==="shadow"&&v.shadowAnchor||v.iconAnchor||I&&I.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(v.className||""),D&&(l.style.marginLeft=-D.x+"px",l.style.marginTop=-D.y+"px"),I&&(l.style.width=I.x+"px",l.style.height=I.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return xe.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function n9(l){return new ac(l)}var hf=ac.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof hf.imagePath!="string"&&(hf.imagePath=this._detectIconPath()),(this.options.imagePath||hf.imagePath)+ac.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(v,b,I){var D=b.exec(v);return D&&D[I]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Qe("div","leaflet-default-icon-path",document.body),f=xa(l,"background-image")||xa(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),BA=Jr.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Gi(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,v=f._map,b=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,D=_o(f._icon),U=v.getPixelBounds(),q=v.getPixelOrigin(),Y=ue(U.min._subtract(q).add(I),U.max._subtract(q).subtract(I));if(!Y.contains(D)){var re=K((Math.max(Y.max.x,D.x)-Y.max.x)/(U.max.x-Y.max.x)-(Math.min(Y.min.x,D.x)-Y.min.x)/(U.min.x-Y.min.x),(Math.max(Y.max.y,D.y)-Y.max.y)/(U.max.y-Y.max.y)-(Math.min(Y.min.y,D.y)-Y.min.y)/(U.min.y-Y.min.y)).multiplyBy(b);v.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),$t(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=j(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,v=f._shadow,b=_o(f._icon),I=f._map.layerPointToLatLng(b);v&&$t(v,b),f._latlng=I,l.latlng=I,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ym=Yi.extend({options:{icon:new hf,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){E(this,f),this._latlng=ge(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=ge(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=l.icon.createIcon(this._icon),b=!1;v!==this._icon&&(this._icon&&this._removeIcon(),b=!0,l.title&&(v.title=l.title),v.tagName==="IMG"&&(v.alt=l.alt||"")),we(v,f),l.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(v,"focus",this._panOnFocus,this);var I=l.icon.createShadow(this._shadow),D=!1;I!==this._shadow&&(this._removeShadow(),D=!0),I&&(we(I,f),I.alt=""),this._shadow=I,l.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&D&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&$t(this._icon,l),this._shadow&&$t(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),BA)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new BA(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&kr(this._icon,l),this._shadow&&kr(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,v=f.iconSize?K(f.iconSize):K(0,0),b=f.iconAnchor?K(f.iconAnchor):K(0,0);l.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:v.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function r9(l,f){return new ym(l,f)}var Ea=Yi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return E(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xm=Ea.extend({options:{fill:!0,radius:10},initialize:function(l,f){E(this,f),this._latlng=ge(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=ge(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return Ea.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,v=this._clickTolerance(),b=[l+v,f+v];this._pxBounds=new oe(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function i9(l,f){return new xm(l,f)}var u_=xm.extend({initialize:function(l,f,v){if(typeof f=="number"&&(f=i({},v,{radius:f})),E(this,f),this._latlng=ge(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Ea.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,v=this._map,b=v.options.crs;if(b.distance===at.distance){var I=Math.PI/180,D=this._mRadius/at.R/I,U=v.project([f+D,l]),q=v.project([f-D,l]),Y=U.add(q).divideBy(2),re=v.unproject(Y).lat,ye=Math.acos((Math.cos(D*I)-Math.sin(f*I)*Math.sin(re*I))/(Math.cos(f*I)*Math.cos(re*I)))/I;(isNaN(ye)||ye===0)&&(ye=D/Math.cos(Math.PI/180*f)),this._point=Y.subtract(v.getPixelOrigin()),this._radius=isNaN(ye)?0:Y.x-v.project([re,l-ye]).x,this._radiusY=Y.y-U.y}else{var Oe=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Oe).x}this._updateBounds()}});function s9(l,f,v){return new u_(l,f,v)}var So=Ea.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){E(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,v=null,b=Le,I,D,U=0,q=this._parts.length;U<q;U++)for(var Y=this._parts[U],re=1,ye=Y.length;re<ye;re++){I=Y[re-1],D=Y[re];var Oe=b(l,I,D,!0);Oe<f&&(f=Oe,v=b(l,I,D))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=ge(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new Ae,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return st(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],v=st(l),b=0,I=l.length;b<I;b++)v?(f[b]=ge(l[b]),this._bounds.extend(f[b])):f[b]=this._convertLatLngs(l[b]);return f},_project:function(){var l=new oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new W(l,l);this._rawPxBounds&&(this._pxBounds=new oe([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,v){var b=l[0]instanceof Ce,I=l.length,D,U;if(b){for(U=[],D=0;D<I;D++)U[D]=this._map.latLngToLayerPoint(l[D]),v.extend(U[D]);f.push(U)}else for(D=0;D<I;D++)this._projectLatlngs(l[D],f,v)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,b,I,D,U,q,Y;for(v=0,I=0,D=this._rings.length;v<D;v++)for(Y=this._rings[v],b=0,U=Y.length;b<U-1;b++)q=B(Y[b],Y[b+1],l,b,!0),q&&(f[I]=f[I]||[],f[I].push(q[0]),(q[1]!==Y[b+1]||b===U-2)&&(f[I].push(q[1]),I++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,v=0,b=l.length;v<b;v++)l[v]=Qn(l[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var v,b,I,D,U,q,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(v=0,D=this._parts.length;v<D;v++)for(q=this._parts[v],b=0,U=q.length,I=U-1;b<U;I=b++)if(!(!f&&b===0)&&ff(l,q[I],q[b])<=Y)return!0;return!1}});function o9(l,f){return new So(l,f)}So._flat=ct;var lc=So.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return df(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=So.prototype._convertLatLngs.call(this,l),v=f.length;return v>=2&&f[0]instanceof Ce&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(l){So.prototype._setLatLngs.call(this,l),st(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return st(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,v=new W(f,f);if(l=new oe(l.min.subtract(v),l.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,I=this._rings.length,D;b<I;b++)D=cf(this._rings[b],l,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,v,b,I,D,U,q,Y,re;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(D=0,Y=this._parts.length;D<Y;D++)for(v=this._parts[D],U=0,re=v.length,q=re-1;U<re;q=U++)b=v[U],I=v[q],b.y>l.y!=I.y>l.y&&l.x<(I.x-b.x)*(l.y-b.y)/(I.y-b.y)+b.x&&(f=!f);return f||So.prototype._containsPoint.call(this,l,!0)}});function a9(l,f){return new lc(l,f)}var Po=Eo.extend({initialize:function(l,f){E(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=A(l)?l:l.features,v,b,I;if(f){for(v=0,b=f.length;v<b;v++)I=f[v],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var D=this.options;if(D.filter&&!D.filter(l))return this;var U=_m(l,D);return U?(U.feature=Em(l),U.defaultOptions=U.options,this.resetStyle(U),D.onEachFeature&&D.onEachFeature(l,U),this.addLayer(U)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function _m(l,f){var v=l.type==="Feature"?l.geometry:l,b=v?v.coordinates:null,I=[],D=f&&f.pointToLayer,U=f&&f.coordsToLatLng||c_,q,Y,re,ye;if(!b&&!v)return null;switch(v.type){case"Point":return q=U(b),UA(D,l,q,f);case"MultiPoint":for(re=0,ye=b.length;re<ye;re++)q=U(b[re]),I.push(UA(D,l,q,f));return new Eo(I);case"LineString":case"MultiLineString":return Y=bm(b,v.type==="LineString"?0:1,U),new So(Y,f);case"Polygon":case"MultiPolygon":return Y=bm(b,v.type==="Polygon"?1:2,U),new lc(Y,f);case"GeometryCollection":for(re=0,ye=v.geometries.length;re<ye;re++){var Oe=_m({geometry:v.geometries[re],type:"Feature",properties:l.properties},f);Oe&&I.push(Oe)}return new Eo(I);case"FeatureCollection":for(re=0,ye=v.features.length;re<ye;re++){var Ue=_m(v.features[re],f);Ue&&I.push(Ue)}return new Eo(I);default:throw new Error("Invalid GeoJSON object.")}}function UA(l,f,v,b){return l?l(f,v):new ym(v,b&&b.markersInheritOptions&&b)}function c_(l){return new Ce(l[1],l[0],l[2])}function bm(l,f,v){for(var b=[],I=0,D=l.length,U;I<D;I++)U=f?bm(l[I],f-1,v):(v||c_)(l[I]),b.push(U);return b}function d_(l,f){return l=ge(l),l.alt!==void 0?[m(l.lng,f),m(l.lat,f),m(l.alt,f)]:[m(l.lng,f),m(l.lat,f)]}function wm(l,f,v,b){for(var I=[],D=0,U=l.length;D<U;D++)I.push(f?wm(l[D],st(l[D])?0:f-1,v,b):d_(l[D],b));return!f&&v&&I.length>0&&I.push(I[0].slice()),I}function uc(l,f){return l.feature?i({},l.feature,{geometry:f}):Em(f)}function Em(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var f_={toGeoJSON:function(l){return uc(this,{type:"Point",coordinates:d_(this.getLatLng(),l)})}};ym.include(f_),u_.include(f_),xm.include(f_),So.include({toGeoJSON:function(l){var f=!st(this._latlngs),v=wm(this._latlngs,f?1:0,!1,l);return uc(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),lc.include({toGeoJSON:function(l){var f=!st(this._latlngs),v=f&&!st(this._latlngs[0]),b=wm(this._latlngs,v?2:f?1:0,!0,l);return f||(b=[b]),uc(this,{type:(v?"Multi":"")+"Polygon",coordinates:b})}}),oc.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(l).geometry.coordinates)}),uc(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var v=f==="GeometryCollection",b=[];return this.eachLayer(function(I){if(I.toGeoJSON){var D=I.toGeoJSON(l);if(v)b.push(D.geometry);else{var U=Em(D);U.type==="FeatureCollection"?b.push.apply(b,U.features):b.push(U)}}}),v?uc(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function WA(l,f){return new Po(l,f)}var l9=WA,Sm=Yi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,v){this._url=l,this._bounds=be(f),E(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&_i(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=be(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:Qe("img");if(we(f,"leaflet-image-layer"),this._zoomAnimated&&we(f,"leaflet-zoom-animated"),this.options.className&&we(f,this.options.className),f.onselectstart=p,f.onmousemove=p,f.onload=o(this.fire,this,"load"),f.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;xo(this._image,v,f)},_reset:function(){var l=this._image,f=new oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();$t(l,f.min),l.style.width=v.x+"px",l.style.height=v.y+"px"},_updateOpacity:function(){kr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),u9=function(l,f,v){return new Sm(l,f,v)},HA=Sm.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:Qe("video");if(we(f,"leaflet-image-layer"),this._zoomAnimated&&we(f,"leaflet-zoom-animated"),this.options.className&&we(f,this.options.className),f.onselectstart=p,f.onmousemove=p,f.onloadeddata=o(this.fire,this,"load"),l){for(var v=f.getElementsByTagName("source"),b=[],I=0;I<v.length;I++)b.push(v[I].src);this._url=v.length>0?b:[f.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var U=Qe("source");U.src=this._url[D],f.appendChild(U)}}});function c9(l,f,v){return new HA(l,f,v)}var qA=Sm.extend({_initImage:function(){var l=this._image=this._url;we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=p,l.onmousemove=p}});function d9(l,f,v){return new qA(l,f,v)}var Os=Yi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof Ce||A(l))?(this._latlng=ge(l),E(this,f)):(E(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&kr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&kr(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(kr(this._container,0),this._removeTimeout=setTimeout(o(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=ge(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_i(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof Eo){f=null;var v=this._source._layers;for(var b in v)if(v[b]._map){f=v[b];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=K(this.options.offset),v=this._getAnchor();this._zoomAnimated?$t(this._container,l.add(v)):f=f.add(l).add(v);var b=this._containerBottom=-f.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=b+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(l,f,v,b){var I=f;return I instanceof l||(I=new l(b).setContent(f)),v&&I.setLatLng(v),I}}),Yi.include({_initOverlay:function(l,f,v,b){var I=v;return I instanceof l?(E(I,b),I._source=this):(I=f&&!b?f:new l(b,this),I.setContent(v)),I}});var Pm=Os.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Os.prototype.openOn.call(this,l)},onAdd:function(l){Os.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ea||this._source.on("preclick",ut))},onRemove:function(l){Os.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ea||this._source.off("preclick",ut))},getEvents:function(){var l=Os.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=Qe("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Qe("div",l+"-content-wrapper",f);if(this._contentNode=Qe("div",l+"-content",v),Ll(f),tf(this._contentNode),De(f,"contextmenu",ut),this._tipContainer=Qe("div",l+"-tip-container",f),this._tip=Qe("div",l+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Qe("a",l+"-close-button",f);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',De(b,"click",function(I){rn(I),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var v=l.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var b=l.offsetHeight,I=this.options.maxHeight,D="leaflet-popup-scrolled";I&&b>I?(f.height=I+"px",we(l,D)):bt(l,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),v=this._getAnchor();$t(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(xa(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,b=this._containerWidth,I=new W(this._containerLeft,-v-this._containerBottom);I._add(_o(this._container));var D=l.layerPointToContainerPoint(I),U=K(this.options.autoPanPadding),q=K(this.options.autoPanPaddingTopLeft||U),Y=K(this.options.autoPanPaddingBottomRight||U),re=l.getSize(),ye=0,Oe=0;D.x+b+Y.x>re.x&&(ye=D.x+b-re.x+Y.x),D.x-ye-q.x<0&&(ye=D.x-q.x),D.y+v+Y.y>re.y&&(Oe=D.y+v-re.y+Y.y),D.y-Oe-q.y<0&&(Oe=D.y-q.y),(ye||Oe)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([ye,Oe]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),f9=function(l,f){return new Pm(l,f)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(l,f,v){return this._initOverlay(Pm,l,f,v).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),Yi.include({bindPopup:function(l,f){return this._popup=this._initOverlay(Pm,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Eo||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){As(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof Ea)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Tm=Os.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Os.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Os.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Os.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qe("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,v,b=this._map,I=this._container,D=b.latLngToContainerPoint(b.getCenter()),U=b.layerPointToContainerPoint(l),q=this.options.direction,Y=I.offsetWidth,re=I.offsetHeight,ye=K(this.options.offset),Oe=this._getAnchor();q==="top"?(f=Y/2,v=re):q==="bottom"?(f=Y/2,v=0):q==="center"?(f=Y/2,v=re/2):q==="right"?(f=0,v=re/2):q==="left"?(f=Y,v=re/2):U.x<D.x?(q="right",f=0,v=re/2):(q="left",f=Y+(ye.x+Oe.x)*2,v=re/2),l=l.subtract(K(f,v,!0)).add(ye).add(Oe),bt(I,"leaflet-tooltip-right"),bt(I,"leaflet-tooltip-left"),bt(I,"leaflet-tooltip-top"),bt(I,"leaflet-tooltip-bottom"),we(I,"leaflet-tooltip-"+q),$t(I,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&kr(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),h9=function(l,f){return new Tm(l,f)};Be.include({openTooltip:function(l,f,v){return this._initOverlay(Tm,l,f,v).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Yi.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Tm,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Eo||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(De(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),De(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,v,b;this._tooltip.options.sticky&&l.originalEvent&&(v=this._map.mouseEventToContainerPoint(l.originalEvent),b=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(f)}});var KA=ac.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),v=this.options;if(v.html instanceof Element?(mr(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var b=K(v.bgPos);f.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function p9(l){return new KA(l)}ac.Default=hf;var pf=Yi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){E(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),it(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_i(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof W?l:new W(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,v=-l(-1/0,1/0),b=0,I=f.length,D;b<I;b++)D=f[b].style.zIndex,f[b]!==this._container&&D&&(v=l(v,+D));isFinite(v)&&(this.options.zIndex=v+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xe.ielt9){kr(this._container,this.options.opacity);var l=+new Date,f=!1,v=!1;for(var b in this._tiles){var I=this._tiles[b];if(!(!I.current||!I.loaded)){var D=Math.min(1,(l-I.loaded)/200);kr(I.el,D),D<1?f=!0:(I.active?v=!0:this._onOpaqueTile(I),I.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(V(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===l?(this._levels[v].el.style.zIndex=f-Math.abs(l-v),this._onUpdateLevel(v)):(it(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var b=this._levels[l],I=this._map;return b||(b=this._levels[l]={},b.el=Qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=f,b.origin=I.project(I.unproject(I.getPixelOrigin()),l).round(),b.zoom=l,this._setZoomTransform(b,I.getCenter(),I.getZoom()),p(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var l,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var b=f.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)it(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,v,b){var I=Math.floor(l/2),D=Math.floor(f/2),U=v-1,q=new W(+I,+D);q.z=+U;var Y=this._tileCoordsToKey(q),re=this._tiles[Y];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),U>b?this._retainParent(I,D,U,b):!1)},_retainChildren:function(l,f,v,b){for(var I=2*l;I<2*l+2;I++)for(var D=2*f;D<2*f+2;D++){var U=new W(I,D);U.z=v+1;var q=this._tileCoordsToKey(U),Y=this._tiles[q];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);v+1<b&&this._retainChildren(I,D,v+1,b)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,v,b){var I=Math.round(f);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var D=this.options.updateWhenZooming&&I!==this._tileZoom;(!b||D)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(l),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],l,f)},_setZoomTransform:function(l,f,v){var b=this._map.getZoomScale(v,l.zoom),I=l.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(f,v)).round();xe.any3d?xo(l.el,I,b):$t(l.el,I)},_resetGrid:function(){var l=this._map,f=l.options.crs,v=this._tileSize=this.getTileSize(),b=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],b).x/v.x),Math.ceil(l.project([0,f.wrapLng[1]],b).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],b).y/v.x),Math.ceil(l.project([f.wrapLat[1],0],b).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),b=f.getZoomScale(v,this._tileZoom),I=f.project(l,this._tileZoom).floor(),D=f.getSize().divideBy(b*2);return new oe(I.subtract(D),I.add(D))},_update:function(l){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(l),I=this._pxBoundsToTileRange(b),D=I.getCenter(),U=[],q=this.options.keepBuffer,Y=new oe(I.getBottomLeft().subtract([q,-q]),I.getTopRight().add([q,-q]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var ye=this._tiles[re].coords;(ye.z!==this._tileZoom||!Y.contains(new W(ye.x,ye.y)))&&(this._tiles[re].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(l,v);return}for(var Oe=I.min.y;Oe<=I.max.y;Oe++)for(var Ue=I.min.x;Ue<=I.max.x;Ue++){var vr=new W(Ue,Oe);if(vr.z=this._tileZoom,!!this._isValidTile(vr)){var wn=this._tiles[this._tileCoordsToKey(vr)];wn?wn.current=!0:U.push(vr)}}if(U.sort(function(Or,dc){return Or.distanceTo(D)-dc.distanceTo(D)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(Ue=0;Ue<U.length;Ue++)this._addTile(U[Ue],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(l.x<v.min.x||l.x>v.max.x)||!f.wrapLat&&(l.y<v.min.y||l.y>v.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(l);return be(this.options.bounds).overlaps(b)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,v=this.getTileSize(),b=l.scaleBy(v),I=b.add(v),D=f.unproject(b,l.z),U=f.unproject(I,l.z);return[D,U]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),v=new Ae(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),v=new W(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(l){var f=this._tiles[l];f&&(it(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){we(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=p,l.onmousemove=p,xe.ielt9&&this.options.opacity<1&&kr(l,this.options.opacity)},_addTile:function(l,f){var v=this._getTilePos(l),b=this._tileCoordsToKey(l),I=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(I),this.createTile.length<2&&j(o(this._tileReady,this,l,null,I)),$t(I,v),this._tiles[b]={el:I,coords:l,current:!0},f.appendChild(I),this.fire("tileloadstart",{tile:I,coords:l})},_tileReady:function(l,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:l});var b=this._tileCoordsToKey(l);v=this._tiles[b],v&&(v.loaded=+new Date,this._map._fadeAnimated?(kr(v.el,0),V(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(we(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xe.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new W(this._wrapX?d(l.x,this._wrapX):l.x,this._wrapY?d(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new oe(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function m9(l){return new pf(l)}var cc=pf.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=E(this,f),f.detectRetina&&xe.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var v=document.createElement("img");return De(v,"load",o(this._tileOnLoad,this,f,v)),De(v,"error",o(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(l),v},getTileUrl:function(l){var f={r:xe.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=v),f["-y"]=v}return P(this._url,i(f,this.options))},_tileOnLoad:function(l,f){xe.ielt9?setTimeout(o(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,v){var b=this.options.errorTileUrl;b&&f.getAttribute("src")!==b&&(f.src=b),l(v,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,b=this.options.zoomOffset;return v&&(l=f-l),l+b},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=p,f.onerror=p,!f.complete)){f.src=M;var v=this._tiles[l].coords;it(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",M),pf.prototype._removeTile.call(this,l)},_tileReady:function(l,f,v){if(!(!this._map||v&&v.getAttribute("src")===M))return pf.prototype._tileReady.call(this,l,f,v)}});function GA(l,f){return new cc(l,f)}var ZA=cc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var v=i({},this.defaultWmsParams);for(var b in f)b in this.options||(v[b]=f[b]);f=E(this,f);var I=f.detectRetina&&xe.retina?2:1,D=this.getTileSize();v.width=D.x*I,v.height=D.y*I,this.wmsParams=v},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,cc.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),v=this._crs,b=ue(v.project(f[0]),v.project(f[1])),I=b.min,D=b.max,U=(this._wmsVersion>=1.3&&this._crs===sc?[I.y,I.x,D.y,D.x]:[I.x,I.y,D.x,D.y]).join(","),q=cc.prototype.getTileUrl.call(this,l);return q+w(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(l,f){return i(this.wmsParams,l),f||this.redraw(),this}});function g9(l,f){return new ZA(l,f)}cc.WMS=ZA,GA.wms=g9;var To=Yi.extend({options:{padding:.1},initialize:function(l){E(this,l),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var v=this._map.getZoomScale(f,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,f),D=b.multiplyBy(-v).add(I).subtract(this._map._getNewPixelOrigin(l,f));xe.any3d?xo(this._container,D,v):$t(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new oe(v,v.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),YA=To.extend({options:{tolerance:0},getEvents:function(){var l=To.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){To.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");De(l,"mousemove",this._onMouseMove,this),De(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,it(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){To.prototype._update.call(this);var l=this._bounds,f=this._container,v=l.getSize(),b=xe.retina?2:1;$t(f,l.min),f.width=b*v.x,f.height=b*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){To.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[u(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,v=f.next,b=f.prev;v?v.prev=b:this._drawLast=b,b?b.next=v:this._drawFirst=v,delete l._order,delete this._layers[u(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),v=[],b,I;for(I=0;I<f.length;I++){if(b=Number(f[I]),isNaN(b))return;v.push(b)}l.options._dashArray=v}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new oe,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)l=b.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var v,b,I,D,U=l._parts,q=U.length,Y=this._ctx;if(q){for(Y.beginPath(),v=0;v<q;v++){for(b=0,I=U[v].length;b<I;b++)D=U[v][b],Y[b?"lineTo":"moveTo"](D.x,D.y);f&&Y.closePath()}this._fillStroke(Y,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,v=this._ctx,b=Math.max(Math.round(l._radius),1),I=(Math.max(Math.round(l._radiusY),1)||b)/b;I!==1&&(v.save(),v.scale(1,I)),v.beginPath(),v.arc(f.x,f.y/I,b,0,Math.PI*2,!1),I!==1&&v.restore(),this._fillStroke(v,l)}},_fillStroke:function(l,f){var v=f.options;v.fill&&(l.globalAlpha=v.fillOpacity,l.fillStyle=v.fillColor||v.color,l.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=v.opacity,l.lineWidth=v.weight,l.strokeStyle=v.color,l.lineCap=v.lineCap,l.lineJoin=v.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),v,b,I=this._drawFirst;I;I=I.next)v=I.layer,v.options.interactive&&v._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(v))&&(b=v);this._fireEvent(b?[b]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(bt(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var v,b,I=this._drawFirst;I;I=I.next)v=I.layer,v.options.interactive&&v._containsPoint(f)&&(b=v);b!==this._hoveredLayer&&(this._handleMouseOut(l),b&&(we(this._container,"leaflet-interactive"),this._fireEvent([b],l,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,v){this._map._fireDOMEvent(f,v||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var v=f.next,b=f.prev;if(v)v.prev=b;else return;b?b.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var v=f.next,b=f.prev;if(b)b.next=v;else return;v?v.prev=b:b&&(this._drawLast=b),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function XA(l){return xe.canvas?new YA(l):null}var mf=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),v9={_initContainer:function(){this._container=Qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(To.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=mf("shape");we(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=mf("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[u(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;it(f),l.removeInteractiveTarget(f),delete this._layers[u(l)]},_updateStyle:function(l){var f=l._stroke,v=l._fill,b=l.options,I=l._container;I.stroked=!!b.stroke,I.filled=!!b.fill,b.stroke?(f||(f=l._stroke=mf("stroke")),I.appendChild(f),f.weight=b.weight+"px",f.color=b.color,f.opacity=b.opacity,b.dashArray?f.dashStyle=A(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=b.lineCap.replace("butt","flat"),f.joinstyle=b.lineJoin):f&&(I.removeChild(f),l._stroke=null),b.fill?(v||(v=l._fill=mf("fill")),I.appendChild(v),v.color=b.fillColor||b.color,v.opacity=b.fillOpacity):v&&(I.removeChild(v),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),v=Math.round(l._radius),b=Math.round(l._radiusY||v);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+b+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){_i(l._container)},_bringToBack:function(l){bi(l._container)}},Am=xe.vml?mf:de,gf=To.extend({_initContainer:function(){this._container=Am("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Am("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){To.prototype._update.call(this);var l=this._bounds,f=l.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),$t(v,l.min),v.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=Am("path");l.options.className&&we(f,l.options.className),l.options.interactive&&we(f,"leaflet-interactive"),this._updateStyle(l),this._layers[u(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){it(l._path),l.removeInteractiveTarget(l._path),delete this._layers[u(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,v=l.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,pe(l._parts,f))},_updateCircle:function(l){var f=l._point,v=Math.max(Math.round(l._radius),1),b=Math.max(Math.round(l._radiusY),1)||v,I="a"+v+","+b+" 0 1,0 ",D=l._empty()?"M0 0":"M"+(f.x-v)+","+f.y+I+v*2+",0 "+I+-v*2+",0 ";this._setPath(l,D)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){_i(l._path)},_bringToBack:function(l){bi(l._path)}});xe.vml&&gf.include(v9);function QA(l){return xe.svg||xe.vml?new gf(l):null}Be.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&XA(l)||QA(l)}});var JA=lc.extend({initialize:function(l,f){lc.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=be(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function y9(l,f){return new JA(l,f)}gf.create=Am,gf.pointsToPath=pe,Po.geometryToLayer=_m,Po.coordsToLatLng=c_,Po.coordsToLatLngs=bm,Po.latLngToCoords=d_,Po.latLngsToCoords=wm,Po.getFeature=uc,Po.asFeature=Em,Be.mergeOptions({boxZoom:!0});var eC=Jr.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ki(),Zu(),this._startPoint=this._map.mouseEventToContainerPoint(l),De(document,{contextmenu:As,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Qe("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new oe(this._point,this._startPoint),v=f.getSize();$t(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(it(this._box),bt(this._container,"leaflet-crosshair")),Qr(),Yu(),ht(document,{contextmenu:As,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var f=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",eC),Be.mergeOptions({doubleClickZoom:!0});var tC=Jr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,v=f.getZoom(),b=f.options.zoomDelta,I=l.originalEvent.shiftKey?v-b:v+b;f.options.doubleClickZoom==="center"?f.setZoom(I):f.setZoomAround(l.containerPoint,I)}});Be.addInitHook("addHandler","doubleClickZoom",tC),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nC=Jr.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Gi(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=be(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),v=this._initialWorldOffset,b=this._draggable._newPos.x,I=(b-f+v)%l+f-v,D=(b+f+v)%l-f-v,U=Math.abs(I+v)<Math.abs(D+v)?I:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(l){var f=this._map,v=f.options,b=!v.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),b)f.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,U=v.easeLinearity,q=I.multiplyBy(U/D),Y=q.distanceTo([0,0]),re=Math.min(v.inertiaMaxSpeed,Y),ye=q.multiplyBy(re/Y),Oe=re/(v.inertiaDeceleration*U),Ue=ye.multiplyBy(-Oe/2).round();!Ue.x&&!Ue.y?f.fire("moveend"):(Ue=f._limitOffset(Ue,f.options.maxBounds),j(function(){f.panBy(Ue,{duration:Oe,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",nC),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rC=Jr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),De(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,v=l.scrollTop||f.scrollTop,b=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(b,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},v=this.keyCodes,b,I;for(b=0,I=v.left.length;b<I;b++)f[v.left[b]]=[-1*l,0];for(b=0,I=v.right.length;b<I;b++)f[v.right[b]]=[l,0];for(b=0,I=v.down.length;b<I;b++)f[v.down[b]]=[0,l];for(b=0,I=v.up.length;b<I;b++)f[v.up[b]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},v=this.keyCodes,b,I;for(b=0,I=v.zoomIn.length;b<I;b++)f[v.zoomIn[b]]=l;for(b=0,I=v.zoomOut.length;b<I;b++)f[v.zoomOut[b]]=-l},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,v=this._map,b;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(b=this._panKeys[f],l.shiftKey&&(b=K(b).multiplyBy(3)),v.options.maxBounds&&(b=v._limitOffset(K(b),v.options.maxBounds)),v.options.worldCopyJump){var I=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(b)));v.panTo(I)}else v.panBy(b)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;As(l)}}});Be.addInitHook("addHandler","keyboard",rC),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var iC=Jr.extend({addHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=rf(l),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var b=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),b),As(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),v=this._map.options.zoomSnap||0;l._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,D=v?Math.ceil(I/v)*v:I,U=l._limitZoom(f+(this._delta>0?D:-D))-f;this._delta=0,this._startTime=null,U&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+U):l.setZoomAround(this._lastMousePos,f+U))}});Be.addInitHook("addHandler","scrollWheelZoom",iC);var x9=600;Be.mergeOptions({tapHold:xe.touchNative&&xe.safari&&xe.mobile,tapTolerance:15});var sC=Jr.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new W(f.clientX,f.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(De(document,"touchend",rn),De(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),x9),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){ht(document,"touchend",rn),ht(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new W(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var v=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});Be.addInitHook("addHandler","tapHold",sC),Be.mergeOptions({touchZoom:xe.touch,bounceAtZoomLimits:!0});var oC=Jr.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(l.touches[0]),b=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(b)._divideBy(2))),this._startDist=v.distanceTo(b),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),rn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(l.touches[0]),b=f.mouseEventToContainerPoint(l.touches[1]),I=v.distanceTo(b)/this._startDist;if(this._zoom=f.getScaleZoom(I,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&I<1||this._zoom>f.getMaxZoom()&&I>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var D=v._add(b)._divideBy(2)._subtract(this._centerPoint);if(I===1&&D.x===0&&D.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var U=o(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(U,this,!0),rn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",oC),Be.BoxZoom=eC,Be.DoubleClickZoom=tC,Be.Drag=nC,Be.Keyboard=rC,Be.ScrollWheelZoom=iC,Be.TapHold=sC,Be.TouchZoom=oC,n.Bounds=oe,n.Browser=xe,n.CRS=$e,n.Canvas=YA,n.Circle=u_,n.CircleMarker=xm,n.Class=J,n.Control=Nr,n.DivIcon=KA,n.DivOverlay=Os,n.DomEvent=Vl,n.DomUtil=l_,n.Draggable=Gi,n.Evented=ie,n.FeatureGroup=Eo,n.GeoJSON=Po,n.GridLayer=pf,n.Handler=Jr,n.Icon=ac,n.ImageOverlay=Sm,n.LatLng=Ce,n.LatLngBounds=Ae,n.Layer=Yi,n.LayerGroup=oc,n.LineUtil=Ei,n.Map=Be,n.Marker=ym,n.Mixin=gm,n.Path=Ea,n.Point=W,n.PolyUtil=rc,n.Polygon=lc,n.Polyline=So,n.Popup=Pm,n.PosAnimation=of,n.Projection=Ns,n.Rectangle=JA,n.Renderer=To,n.SVG=gf,n.SVGOverlay=qA,n.TileLayer=cc,n.Tooltip=Tm,n.Transformation=Ne,n.Util=F,n.VideoOverlay=HA,n.bind=o,n.bounds=ue,n.canvas=XA,n.circle=s9,n.circleMarker=i9,n.control=Is,n.divIcon=p9,n.extend=i,n.featureGroup=t9,n.geoJSON=WA,n.geoJson=l9,n.gridLayer=m9,n.icon=n9,n.imageOverlay=u9,n.latLng=ge,n.latLngBounds=be,n.layerGroup=e9,n.map=Ju,n.marker=r9,n.point=K,n.polygon=a9,n.polyline=o9,n.popup=f9,n.rectangle=y9,n.setOptions=E,n.stamp=u,n.svg=QA,n.svgOverlay=d9,n.tileLayer=GA,n.tooltip=h9,n.transformation=Q,n.version=r,n.videoOverlay=c9;var _9=window.L;n.noConflict=function(){return window.L=_9,this},window.L=n})})(iE,iE.exports);var em=iE.exports;const NA=oo(em);function OA(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function jA(e,t){return t==null?function(r,i){const s=x.useRef();return s.current||(s.current=e(r,i)),s}:function(r,i){const s=x.useRef();s.current||(s.current=e(r,i));const o=x.useRef(r),{instance:a}=s.current;return x.useEffect(function(){o.current!==r&&(t(a,r,o.current),o.current=r)},[a,r,i]),s}}function Rye(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function uB(e){return function(n){const r=IA(),i=e(kA(n,r),r);return sB(r.map,n.attribution),lB(i.current,n.eventHandlers),Rye(i.current,r),i}}function Mye(e,t){const n=jA(e,t),r=uB(n);return kye(r)}function Dye(e,t){const n=jA(e),r=jye(n,t);return Nye(r)}function Lye(e,t){const n=jA(e,t),r=uB(n);return Oye(r)}function zye(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Vye(){return IA().map}function sE(){return sE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sE.apply(this,arguments)}function Fye({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:o,style:a,whenReady:u,zoom:c,...d},p){const[m]=x.useState({className:i,id:s,style:a}),[y,_]=x.useState(null);x.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const E=x.useCallback(S=>{if(S!==null&&y===null){const P=new em.Map(S,d);n!=null&&c!=null?P.setView(n,c):e!=null&&P.fitBounds(e,t),u!=null&&P.whenReady(u),_(Cye(P))}},[]);x.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const w=y?vt.createElement(aB,{value:y},r):o??null;return vt.createElement("div",sE({},m,{ref:E}),w)}const $ye=x.forwardRef(Fye),Bye=Mye(function({position:t,...n},r){const i=new em.Marker(t,n);return OA(i,Iye(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Uye=Dye(function(t,n){const r=new em.Popup(t,n.overlayContainer);return OA(r,n)},function(t,n,{position:r},i){x.useEffect(function(){const{instance:o}=t;function a(c){c.popup===o&&(o.update(),i(!0))}function u(c){c.popup===o&&i(!1)}return n.map.on({popupopen:a,popupclose:u}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var d;n.map.off({popupopen:a,popupclose:u}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(o)}},[t,n,i,r])}),Wye=Lye(function({url:t,...n},r){const i=new em.TileLayer(t,kA(n,r));return OA(i,r)},function(t,n,r){zye(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});delete NA.Icon.Default.prototype._getIconUrl;NA.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const kb=[31.7683,35.2137];function Hye(e,t){const n=t==="",r=e==="rent";let i="#3b82f6",s="#1d4ed8";n?(i="#eab308",s="#ca8a04"):r&&(i="#10b981",s="#059669");const o=n?'<g transform="translate(10,8)" fill="white"><path d="M2,2 L14,2 L14,16 L2,16 Z M5,5 h2 v2 h-2 z M9,5 h2 v2 h-2 z M5,9 h2 v2 h-2 z M9,9 h2 v2 h-2 z" opacity="0.95"/></g>':'<g transform="translate(9,8)" fill="white"><polygon points="9,2 0,9 2,9 2,16 7,16 7,11 11,11 11,16 16,16 16,9 18,9" opacity="0.95"/></g>';return NA.divIcon({html:`
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="44" viewBox="0 0 36 44">
          <ellipse cx="18" cy="42" rx="8" ry="3" fill="rgba(0,0,0,0.2)"/>
          <path d="M18 0 C8.06 0 0 8.06 0 18 C0 29 18 44 18 44 C18 44 36 29 36 18 C36 8.06 27.94 0 18 0Z"
                fill="${i}" stroke="${s}" stroke-width="1.5"/>
          ${o}
        </svg>`,className:"",iconSize:[36,44],iconAnchor:[18,44],popupAnchor:[0,-46]})}function qye({center:e,zoom:t}){const n=Vye(),r=x.useRef(null);return x.useEffect(()=>{(r.current===null||r.current[0]!==e[0]||r.current[1]!==e[1])&&(n.setView(e,t,{animate:!0}),r.current=e),setTimeout(()=>n.invalidateSize(),100)},[n,e,t]),null}function Kye({p:e}){const t=e.type==="rent",n=t?"text-emerald-600 bg-emerald-50 border-emerald-200":"text-blue-600 bg-blue-50 border-blue-200",r=t?"":"",i=t?`${e.price.toLocaleString()}/`:`${(e.price/1e6).toFixed(2)}M`;return h.jsxs("div",{className:"text-right min-w-[180px]",dir:"rtl",children:[h.jsx("p",{className:"font-bold text-slate-800 text-sm leading-snug mb-1",children:e.address}),e.city&&h.jsx("p",{className:"text-xs text-slate-500 mb-2",children:e.city}),h.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[h.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full border ${n}`,children:r}),h.jsx("span",{className:"text-sm font-bold text-slate-900",children:i})]}),e.rooms&&h.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[e.rooms," "]}),e.exclusivityEndDate&&h.jsxs("p",{className:"text-[10px] text-amber-600 mt-1 font-medium",children:[" : ",e.exclusivityEndDate.toDate().toLocaleDateString("he-IL")]})]})}function Gye({height:e="360px"}){const{properties:t}=uo(),{userData:n}=Tr(),[r,i]=x.useState(!1),[s,o]=x.useState(kb),[a,u]=x.useState(9),[c,d]=x.useState(""),p=async()=>{if(!(n!=null&&n.agencyId))return;try{const P=(await Hh(fr(nt,"agencies",n.agencyId))).data(),A=P==null?void 0:P.mainServiceArea;if(A){const z=(await us(Js,"properties-getCoordinates")({address:A})).data;if(z){o([z.lat,z.lng]),u(13),d(A);return}}}catch{}const w=t.find(S=>S.lat&&S.lng);w?(o([w.lat,w.lng]),u(13),d(w.city||w.address||"")):(o(kb),u(9),d(""))};x.useEffect(()=>{p()},[n==null?void 0:n.agencyId,t.length]);const m=t.filter(w=>w.lat&&w.lng),y=m.filter(w=>w.type==="sale").length,_=m.filter(w=>w.type==="rent").length,E=w=>h.jsxs("div",{className:`flex flex-col ${w?"h-full":""}`,style:w?{}:{height:e},children:[h.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0 flex-wrap gap-2",children:[h.jsx("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:c&&h.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[h.jsx(ra,{size:11}),c]})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500 flex-shrink-0"}),h.jsxs("span",{className:"text-xs text-slate-600",children:[" (",y,")"]})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-3 h-3 rounded-full bg-emerald-500 flex-shrink-0"}),h.jsxs("span",{className:"text-xs text-slate-600",children:[" (",_,")"]})]}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-400 flex-shrink-0"}),h.jsx("span",{className:"text-xs text-slate-600",children:""})]}),h.jsxs("div",{className:"flex items-center gap-1 mr-2 bg-slate-100 rounded-lg p-1 text-slate-500",children:[h.jsx("button",{onClick:p,className:"p-1 rounded-md hover:bg-white hover:text-blue-600 hover:shadow-sm transition-all",title:"   ",children:h.jsx(W0,{size:14})}),h.jsx("button",{onClick:()=>i(S=>!S),className:"p-1 rounded-md hover:bg-white hover:text-slate-700 hover:shadow-sm transition-all",title:w?"":" ",children:w?h.jsx(cee,{size:14}):h.jsx(lee,{size:14})})]})]})]}),h.jsxs("div",{className:"flex-1 rounded-xl overflow-hidden border border-slate-200 shadow-sm relative isolate",style:{height:w?"100%":`calc(${e} - 32px)`,minHeight:w?"auto":"300px",zIndex:0},children:[m.length===0&&t.length>0&&h.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-white/70 backdrop-blur-sm",children:[h.jsx(ra,{size:32,className:"opacity-40 text-slate-600 mb-2"}),h.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"      ."})]}),h.jsxs($ye,{center:kb,zoom:9,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[h.jsx(qye,{center:s,zoom:a}),h.jsx(Wye,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),m.map(S=>h.jsx(Bye,{position:[S.lat,S.lng],icon:Hye(S.type,S.kind),children:h.jsx(Uye,{children:h.jsx(Kye,{p:S})})},S.id))]})]})]});return h.jsxs(h.Fragment,{children:[E(!1),r&&h.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center p-6",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col p-5 relative",children:[h.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 left-4 z-10 p-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 transition-colors",children:h.jsx(ia,{size:18})}),h.jsx("h3",{className:"text-base font-bold text-slate-900 mb-4 text-right",children:"  "}),h.jsx("div",{className:"flex-1 min-h-0",children:E(!0)})]})})]})}const Jj=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:`${(e/1e3).toFixed(0)}K`,Zye=["text-yellow-500","text-slate-400","text-amber-600"];function Yye(){const{currentUser:e}=Tr(),{data:t,loading:n}=m3(),[r,i]=x.useState(0),[s,o]=x.useState(!0);return x.useEffect(()=>{const u=e;if(!(u!=null&&u.agencyId)){o(!1);return}const c=jee(u.agencyId,d=>{var p;i(((p=d.monthlyGoals)==null?void 0:p.commissions)||0),o(!1)});return()=>c()},[e]),n||s?h.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col justify-center items-center",children:h.jsx("div",{className:"animate-pulse flex gap-2",children:h.jsx("div",{className:"w-2 h-2 bg-slate-200 rounded-full"})})}):h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"   ( )"})]}),h.jsx("button",{className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:" "})]}),h.jsx("div",{className:"space-y-4 overflow-y-auto pr-1 custom-scrollbar",children:t.length>0?t.map((u,c)=>{const d=r>0?Math.round(r/t.length):0,p=u.monthlyAchieved||0,m=d>0?Math.min(p/d*100,100):100;return h.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl hover:bg-slate-50 transition-colors group",children:[h.jsx("span",{className:`text-sm font-bold w-6 text-center flex-shrink-0 ${Zye[c]??"text-slate-400"}`,children:c+1}),h.jsx("div",{className:`w-10 h-10 rounded-full ${u.avatarColor} flex items-center justify-center font-bold flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform`,children:u.avatar}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:u.name}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[h.jsx("span",{className:"font-semibold",children:Jj(p)}),h.jsx("span",{className:"text-slate-300",children:"/"}),h.jsx("span",{children:Jj(d)})]})]}),h.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${u.avatarColor.split(" ")[0]}`,style:{width:`${m}%`}})}),h.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[h.jsxs("div",{className:"flex items-center gap-1",title:"  ",children:[h.jsx(W0,{size:12,className:"text-emerald-500"}),h.jsxs("span",{className:"text-xs font-medium text-slate-600",children:[u.winRate,"% "]})]}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(e3,{size:12}),h.jsxs("span",{children:[u.deals,"  "]})]})]})]})]},u.id)}):h.jsx("div",{className:"h-full w-full flex items-center justify-center text-slate-400 font-medium text-sm pt-8",children:"  "})})]})}const Xye={lead:Md,deal:B0,campaign:uee,contract:XJ},Qye={lead:"bg-blue-100 text-blue-600",deal:"bg-emerald-100 text-emerald-600",campaign:"bg-amber-100 text-amber-600",contract:"bg-violet-100 text-violet-600"};function Jye(){const{data:e,loading:t}=Tee();return t?h.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col justify-center items-center",children:h.jsx("div",{className:"animate-pulse flex gap-2",children:h.jsx("div",{className:"w-2 h-2 bg-slate-200 rounded-full"})})}):h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"   ( )"})]}),h.jsxs("button",{className:"text-sm font-semibold text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["",h.jsx($J,{size:16})]})]}),h.jsx("div",{className:"space-y-6 overflow-y-auto max-h-[320px] pr-1 custom-scrollbar flex-1",children:e.length>0?e.map((n,r)=>{const i=Xye[n.type]||Md,s=Qye[n.type]||"bg-slate-100 text-slate-600";return h.jsxs("div",{className:"flex gap-4 relative",children:[h.jsx("div",{className:"absolute top-10 bottom-[-24px] right-[19px] w-[2px] bg-slate-100 last:hidden"}),h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 z-10 ${s}`,children:h.jsx(i,{size:20})}),h.jsxs("div",{className:"flex-1 pt-0.5",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("p",{className:"text-sm font-bold text-slate-900",children:n.message}),h.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:n.time})]}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:n.detail})]})]},`${n.id}-${r}`)}):h.jsx("div",{className:"h-full flex items-center justify-center text-slate-400 font-medium text-sm pt-10",children:"  "})})]})}const e0e=[{id:1,icon:f3,iconBg:"bg-red-50",iconColor:"text-red-500",badge:"",badgeColor:"bg-red-50 text-red-600",title:"   45   ",text:"   ,       3%    .",action:"  "},{id:2,icon:W0,iconBg:"bg-violet-50",iconColor:"text-violet-500",badge:"",badgeColor:"bg-violet-50 text-violet-600",title:"  -8%  ",text:"  3    .         .",action:" "},{id:3,icon:WJ,iconBg:"bg-orange-50",iconColor:"text-orange-500",badge:"",badgeColor:"bg-orange-50 text-orange-600",title:"  20%  ",text:"     (6%).         .",action:" "}];function t0e(){const[e,t]=x.useState([]),[n,r]=x.useState(!1),i=s=>{t(o=>[...o,s])};return h.jsx("div",{className:"relative rounded-2xl overflow-hidden p-px ai-gradient-border",children:h.jsxs("div",{className:`bg-white rounded-[15px] transition-all duration-300 ${n?"p-4 lg:px-6 lg:py-5":"p-3 lg:px-5 lg:py-3"}`,children:[h.jsxs("div",{className:`flex items-center justify-between cursor-pointer ${n?"mb-4 border-b border-slate-100 pb-4":""}`,onClick:()=>r(!n),children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center shadow-sm",children:h.jsx(EP,{size:16,className:"text-white"})}),h.jsx("h2",{className:"text-sm font-bold text-slate-800",children:"AI Co-Pilot     "})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2.5 py-1 rounded-md border border-indigo-100/50",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 animate-pulse"}),"3  "]}),h.jsxs("div",{className:"flex items-center justify-center p-1 font-bold text-xs text-slate-400 gap-1 hover:text-indigo-600",children:[n?"":"",n?h.jsx(o3,{size:16}):h.jsx(i3,{size:16})]})]})]}),n&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in fade-in slide-in-from-top-2 duration-300",children:e0e.map(s=>{const o=s.icon,a=e.includes(s.id);return h.jsxs("div",{className:`rounded-xl border p-4 flex flex-col gap-3 transition-all duration-300 ${a?"border-emerald-200 bg-emerald-50/40":"border-slate-100 bg-slate-50/60 hover:border-indigo-100 hover:bg-indigo-50/30"}`,children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`w-8 h-8 rounded-lg ${s.iconBg} flex items-center justify-center flex-shrink-0`,children:h.jsx(o,{size:16,className:s.iconColor})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${s.badgeColor}`,children:s.badge}),h.jsx("p",{className:"text-sm font-bold text-slate-900 mt-1.5 leading-snug",children:s.title})]})]}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:s.text}),h.jsxs("button",{onClick:u=>{u.stopPropagation(),i(s.id)},disabled:a,className:`mt-auto flex items-center justify-between w-full text-xs font-semibold px-3 py-2 rounded-lg transition-all ${a?"text-emerald-600 bg-emerald-100 cursor-default":"text-indigo-600 bg-indigo-50 hover:bg-indigo-100"}`,children:[h.jsx("span",{children:a?" ":" "}),a?h.jsx(B0,{size:14,className:"text-emerald-500"}):h.jsx(s3,{size:14})]})]},s.id)})})]})})}const cB=6048e5,n0e=864e5,eR=Symbol.for("constructDateFrom");function ps(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&eR in e?e[eR](t):e instanceof Date?new e.constructor(t):new Date(t)}function qr(e,t){return ps(t||e,e)}function r0e(e,t,n){const r=qr(e,n==null?void 0:n.in);return isNaN(t)?ps(e,NaN):(r.setDate(r.getDate()+t),r)}let i0e={};function Jx(){return i0e}function lp(e,t){var a,u,c,d;const n=Jx(),r=(t==null?void 0:t.weekStartsOn)??((u=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=qr(e,t==null?void 0:t.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function By(e,t){return lp(e,{...t,weekStartsOn:1})}function dB(e,t){const n=qr(e,t==null?void 0:t.in),r=n.getFullYear(),i=ps(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=By(i),o=ps(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=By(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function tR(e){const t=qr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function fB(e,...t){const n=ps.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function up(e,t){const n=qr(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function s0e(e,t,n){const[r,i]=fB(n==null?void 0:n.in,e,t),s=up(r),o=up(i),a=+s-tR(s),u=+o-tR(o);return Math.round((a-u)/n0e)}function o0e(e,t){const n=dB(e,t),r=ps(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),By(r)}function hB(e){return ps(e,Date.now())}function pB(e,t,n){const[r,i]=fB(n==null?void 0:n.in,e,t);return+up(r)==+up(i)}function a0e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function l0e(e){return!(!a0e(e)&&typeof e!="number"||isNaN(+qr(e)))}function u0e(e,t){const n=qr(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const c0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d0e=(e,t,n)=>{let r;const i=c0e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jc(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const f0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},p0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m0e={date:Jc({formats:f0e,defaultWidth:"full"}),time:Jc({formats:h0e,defaultWidth:"full"}),dateTime:Jc({formats:p0e,defaultWidth:"full"})},g0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v0e=(e,t,n,r)=>g0e[e];function Bs(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const y0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},x0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S0e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},P0e={ordinalNumber:S0e,era:Bs({values:y0e,defaultWidth:"wide"}),quarter:Bs({values:x0e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bs({values:_0e,defaultWidth:"wide"}),day:Bs({values:b0e,defaultWidth:"wide"}),dayPeriod:Bs({values:w0e,defaultWidth:"wide",formattingValues:E0e,defaultFormattingWidth:"wide"})};function Us(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(a)?A0e(a,p=>p.test(o)):T0e(a,p=>p.test(o));let c;c=e.valueCallback?e.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}function T0e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function A0e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mB(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const C0e=/^(\d+)(th|st|nd|rd)?/i,I0e=/\d+/i,k0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N0e={any:[/^b/i,/^(a|c)/i]},O0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j0e={any:[/1/i,/2/i,/3/i,/4/i]},R0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},z0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F0e={ordinalNumber:mB({matchPattern:C0e,parsePattern:I0e,valueCallback:e=>parseInt(e,10)}),era:Us({matchPatterns:k0e,defaultMatchWidth:"wide",parsePatterns:N0e,defaultParseWidth:"any"}),quarter:Us({matchPatterns:O0e,defaultMatchWidth:"wide",parsePatterns:j0e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Us({matchPatterns:R0e,defaultMatchWidth:"wide",parsePatterns:M0e,defaultParseWidth:"any"}),day:Us({matchPatterns:D0e,defaultMatchWidth:"wide",parsePatterns:L0e,defaultParseWidth:"any"}),dayPeriod:Us({matchPatterns:z0e,defaultMatchWidth:"any",parsePatterns:V0e,defaultParseWidth:"any"})},$0e={code:"en-US",formatDistance:d0e,formatLong:m0e,formatRelative:v0e,localize:P0e,match:F0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B0e(e,t){const n=qr(e,t==null?void 0:t.in);return s0e(n,u0e(n))+1}function U0e(e,t){const n=qr(e,t==null?void 0:t.in),r=+By(n)-+o0e(n);return Math.round(r/cB)+1}function gB(e,t){var d,p,m,y;const n=qr(e,t==null?void 0:t.in),r=n.getFullYear(),i=Jx(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=ps((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=lp(o,t),u=ps((t==null?void 0:t.in)||e,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const c=lp(u,t);return+n>=+a?r+1:+n>=+c?r:r-1}function W0e(e,t){var a,u,c,d;const n=Jx(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=gB(e,t),s=ps((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),lp(s,t)}function H0e(e,t){const n=qr(e,t==null?void 0:t.in),r=+lp(n,t)-+W0e(n,t);return Math.round(r/cB)+1}function pt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Aa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return pt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):pt(n+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return pt(i,t.length)}},yc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nR={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Aa.y(e,t)},Y:function(e,t,n,r){const i=gB(e,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return pt(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):pt(s,t.length)},R:function(e,t){const n=dB(e);return pt(n,t.length)},u:function(e,t){const n=e.getFullYear();return pt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Aa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=H0e(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):pt(i,t.length)},I:function(e,t,n){const r=U0e(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Aa.d(e,t)},D:function(e,t,n){const r=B0e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return pt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return pt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return pt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=yc.noon:r===0?i=yc.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=yc.evening:r>=12?i=yc.afternoon:r>=4?i=yc.morning:i=yc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Aa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Aa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Aa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Aa.s(e,t)},S:function(e,t){return Aa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return iR(r);case"XXXX":case"XX":return Gl(r);case"XXXXX":case"XXX":default:return Gl(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return iR(r);case"xxxx":case"xx":return Gl(r);case"xxxxx":case"xxx":default:return Gl(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rR(r,":");case"OOOO":default:return"GMT"+Gl(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rR(r,":");case"zzzz":default:return"GMT"+Gl(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return pt(r,t.length)},T:function(e,t,n){return pt(+e,t.length)}};function rR(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+pt(s,2)}function iR(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):Gl(e,t)}function Gl(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=pt(Math.trunc(r/60),2),s=pt(r%60,2);return n+i+t+s}const sR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},q0e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return sR(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",sR(r,t)).replace("{{time}}",vB(i,t))},K0e={p:vB,P:q0e},G0e=/^D+$/,Z0e=/^Y+$/,Y0e=["D","DD","YY","YYYY"];function X0e(e){return G0e.test(e)}function Q0e(e){return Z0e.test(e)}function J0e(e,t,n){const r=exe(e,t,n);if(console.warn(r),Y0e.includes(e))throw new RangeError(r)}function exe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const txe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rxe=/^'([^]*?)'?$/,ixe=/''/g,sxe=/[a-zA-Z]/;function oxe(e,t,n){var d,p,m,y,_,E,w,S;const r=Jx(),i=(n==null?void 0:n.locale)??r.locale??$0e,s=(n==null?void 0:n.firstWeekContainsDate)??((p=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((E=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((S=(w=r.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??0,a=qr(e,n==null?void 0:n.in);if(!l0e(a))throw new RangeError("Invalid time value");let u=t.match(nxe).map(P=>{const A=P[0];if(A==="p"||A==="P"){const O=K0e[A];return O(P,i.formatLong)}return P}).join("").match(txe).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const A=P[0];if(A==="'")return{isToken:!1,value:axe(P)};if(nR[A])return{isToken:!0,value:P};if(A.match(sxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(P=>{if(!P.isToken)return P.value;const A=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Q0e(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&X0e(A))&&J0e(A,t,String(e));const O=nR[A[0]];return O(a,A,i.localize,c)}).join("")}function axe(e){const t=e.match(rxe);return t?t[1].replace(ixe,"'"):e}function lxe(e,t){return+qr(e)<+qr(t)}function uxe(e,t){return pB(ps(e,e),hB(e))}function cxe(e,t){return pB(e,r0e(hB(e),1),t)}function dxe(e){return up(Date.now(),e)}const fxe={lessThanXSeconds:{one:" ",two:"  ",other:" {{count}} "},xSeconds:{one:"",two:" ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:" ",two:"  ",other:" {{count}} "},xMinutes:{one:"",two:" ",other:"{{count}} "},aboutXHours:{one:"",two:"",other:"{{count}} "},xHours:{one:"",two:"",other:"{{count}} "},xDays:{one:"",two:"",other:"{{count}} "},aboutXWeeks:{one:"",two:"",other:"{{count}} "},xWeeks:{one:"",two:"",other:"{{count}} "},aboutXMonths:{one:"",two:"",other:"{{count}} "},xMonths:{one:"",two:"",other:"{{count}} "},aboutXYears:{one:"",two:"",other:"{{count}} "},xYears:{one:"",two:"",other:"{{count}} "},overXYears:{one:" ",two:" ",other:" {{count}} "},almostXYears:{one:" ",two:" ",other:" {{count}} "}},hxe=(e,t,n)=>{if(e==="xDays"&&(n!=null&&n.addSuffix)&&t<=2)return n.comparison&&n.comparison>0?t===1?"":"":t===1?"":"";let r;const i=fxe[e];return typeof i=="string"?r=i:t===1?r=i.one:t===2?r=i.two:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+r:" "+r:r},pxe={full:"EEEE, d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"d.M.y"},mxe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},gxe={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vxe={date:Jc({formats:pxe,defaultWidth:"full"}),time:Jc({formats:mxe,defaultWidth:"full"}),dateTime:Jc({formats:gxe,defaultWidth:"full"})},yxe={lastWeek:"eeee ' ' p",yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:"eeee '' p",other:"P"},xxe=(e,t,n,r)=>yxe[e],_xe={narrow:["",""],abbreviated:["",""],wide:[" ",""]},bxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:[" 1"," 2"," 3"," 4"]},wxe={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Exe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:[" "," "," "," "," "," ",""],wide:[" "," "," "," "," "," "," "]},Sxe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""}},Pxe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:" ",evening:"",night:""}},Txe=(e,t)=>{const n=Number(e);if(n<=0||n>10)return String(n);const r=String(t==null?void 0:t.unit),i=["year","hour","minute","second"].indexOf(r)>=0,s=["","","","","","","","","",""],o=["","","","","","","","","",""],a=n-1;return i?o[a]:s[a]},Axe={ordinalNumber:Txe,era:Bs({values:_xe,defaultWidth:"wide"}),quarter:Bs({values:bxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bs({values:wxe,defaultWidth:"wide"}),day:Bs({values:Exe,defaultWidth:"wide"}),dayPeriod:Bs({values:Sxe,defaultWidth:"wide",formattingValues:Pxe,defaultFormattingWidth:"wide"})},Cxe=/^(\d+|(|||||||||||||||||||))/i,Ixe=/^(\d+||||||||||)/i,kxe={narrow:/^(|)/i,abbreviated:/^(|)/i,wide:/^( )?/i},Nxe={any:[/^/i,/^/i]},Oxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^ [1234]/i},jxe={any:[/1/i,/2/i,/3/i,/4/i]},Rxe={narrow:/^\d+/i,abbreviated:/^(|||||||||||)?/i,wide:/^(|||||||||||)/i},Mxe={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Dxe={narrow:/^[]/i,short:/^[]/i,abbreviated:/^(| (|||||))/i,wide:/^ (||||||)/i},Lxe={abbreviated:[/$/i,/$/i,/$/i,/$/i,/$/i,/$/i,/^/i],wide:[/$/i,/$/i,/$/i,/$/i,/$/i,/$/i,/$/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},zxe={any:/^( |)?(||||||)/i},Vxe={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning://i,afternoon:/|/i,evening://i,night://i}},Fxe=["","","","","","","","","",""],$xe={ordinalNumber:mB({matchPattern:Cxe,parsePattern:Ixe,valueCallback:e=>{const t=parseInt(e,10);return isNaN(t)?Fxe.indexOf(e)+1:t}}),era:Us({matchPatterns:kxe,defaultMatchWidth:"wide",parsePatterns:Nxe,defaultParseWidth:"any"}),quarter:Us({matchPatterns:Oxe,defaultMatchWidth:"wide",parsePatterns:jxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Us({matchPatterns:Rxe,defaultMatchWidth:"wide",parsePatterns:Mxe,defaultParseWidth:"any"}),day:Us({matchPatterns:Dxe,defaultMatchWidth:"wide",parsePatterns:Lxe,defaultParseWidth:"any"}),dayPeriod:Us({matchPatterns:zxe,defaultMatchWidth:"any",parsePatterns:Vxe,defaultParseWidth:"any"})},Bxe={code:"he",formatDistance:hxe,formatLong:vxe,formatRelative:xxe,localize:Axe,match:$xe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Nb={High:{color:"text-red-600",bg:"bg-red-50",label:""},Medium:{color:"text-amber-600",bg:"bg-amber-50",label:""},Low:{color:"text-emerald-600",bg:"bg-emerald-50",label:""}};function Uxe({tasks:e,onAddClick:t}){const[n,r]=x.useState(null),i=x.useMemo(()=>{const a=new Date;a.setHours(23,59,59,999);const u=e.filter(d=>{var m;return d.isCompleted?!1:((m=d.dueDate)!=null&&m.toDate?d.dueDate.toDate():new Date(d.dueDate))<=a}),c={High:3,Medium:2,Low:1};return u.sort((d,p)=>{var E,w;const m=c[p.priority]-c[d.priority];if(m!==0)return m;const y=(E=d.dueDate)!=null&&E.toDate?d.dueDate.toDate():new Date(d.dueDate),_=(w=p.dueDate)!=null&&w.toDate?p.dueDate.toDate():new Date(p.dueDate);return y.getTime()-_.getTime()}).slice(0,5)},[e]),s=async a=>{if(!n){r(a.id);try{await iB(a.id,!a.isCompleted)}catch(u){console.error("Error toggling task",u)}finally{r(null)}}},o=a=>{const u=a!=null&&a.toDate?a.toDate():new Date(a);return lxe(u,dxe())?{text:"",color:"text-red-600 font-bold",icon:X5}:uxe(u)?{text:"",color:"text-amber-600",icon:vP}:cxe(u)?{text:"",color:"text-blue-600",icon:dk}:{text:oxe(u,"d MMM",{locale:Bxe}),color:"text-slate-500",icon:dk}};return h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col h-full",children:[h.jsx("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:h.jsxs("div",{children:[h.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:["  ",i.length>0&&h.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full",children:i.length})]}),h.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"      "})]})}),h.jsx("div",{className:"p-2 flex-grow overflow-y-auto",children:i.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center py-10 text-slate-400",children:[h.jsx(qh,{size:40,strokeWidth:1.5,className:"mb-3 text-slate-300"}),h.jsx("p",{className:"text-sm",children:"   "}),h.jsx("p",{className:"text-xs",children:" , !"})]}):h.jsx("div",{className:"space-y-1",children:i.map(a=>{const u=o(a.dueDate),c=u.icon;return h.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group ${n===a.id?"opacity-50":""}`,children:[h.jsx("button",{onClick:()=>s(a),disabled:n===a.id,className:"mt-0.5 flex-shrink-0 text-slate-300 hover:text-blue-500 transition-colors",children:h.jsx(a3,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex-grow min-w-0 pr-1",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("p",{className:"text-sm font-semibold text-slate-800 line-clamp-1",children:a.title}),h.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded-md whitespace-nowrap ${Nb[a.priority].bg} ${Nb[a.priority].color}`,children:Nb[a.priority].label})]}),a.description&&h.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-1",children:a.description}),h.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs",children:[h.jsxs("span",{className:`flex items-center gap-1 ${u.color}`,children:[h.jsx(c,{size:12}),u.text]}),a.relatedTo&&h.jsxs("span",{className:"flex items-center gap-1 text-slate-500 border-r border-slate-200 pr-2",children:[a.relatedTo.type==="lead"?h.jsx(AP,{size:12}):h.jsx(Kv,{size:12}),a.relatedTo.type==="lead"?" ":" "]})]})]})]},a.id)})})}),h.jsx("div",{className:"p-3 border-t border-slate-100 bg-slate-50/50",children:h.jsx("button",{onClick:t,className:"w-full py-2 text-sm font-medium text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:"+  "})})]})}function Wxe({isOpen:e,onClose:t,leads:n=[],properties:r=[]}){const{userData:i}=Tr(),[s,o]=x.useState(""),[a,u]=x.useState(""),[c,d]=x.useState("Medium"),[p,m]=x.useState(""),[y,_]=x.useState("none"),[E,w]=x.useState(""),[S,P]=x.useState(!1),[A,O]=x.useState("");if(x.useEffect(()=>{e&&(o(""),u(""),d("Medium"),m(new Date().toISOString().split("T")[0]),_("none"),w(""),O(""))},[e]),!e||!i)return null;const M=async C=>{if(C.preventDefault(),O(""),!s.trim())return O("   ");if(!p)return O("   ");if(y!=="none"&&!E)return O('         -" "');P(!0);try{const R={title:s.trim(),description:a.trim()||void 0,createdBy:i.uid,priority:c,isCompleted:!1,dueDate:new Date(p)};y!=="none"&&(R.relatedTo={type:y,id:E}),await wye(i.agencyId,R),t()}catch(R){console.error("Error adding task:",R),O(R.message||"   ")}finally{P(!1)}},z="w-full border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none bg-slate-50 focus:bg-white text-slate-700",k="block text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1.5";return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",dir:"rtl",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:t}),h.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-2xl relative z-10 overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 bg-slate-50/50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-blue-100 text-blue-600",children:h.jsx(r3,{size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-xs text-slate-500",children:"   "})]})]}),h.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors",children:h.jsx(ia,{size:20})})]}),h.jsxs("div",{className:"p-6 overflow-y-auto",children:[A&&h.jsx("div",{className:"mb-6 p-3 bg-red-50 text-red-600 text-sm rounded-xl border border-red-100",children:A}),h.jsxs("form",{id:"add-task-form",onSubmit:M,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:k,children:"  "}),h.jsx("input",{autoFocus:!0,required:!0,value:s,onChange:C=>o(C.target.value),placeholder:":       ",className:z})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:k,children:[h.jsx(QJ,{size:14})," "]}),h.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:`${z} appearance-none`,children:[h.jsx("option",{value:"High",children:" ()"}),h.jsx("option",{value:"Medium",children:" ()"}),h.jsx("option",{value:"Low",children:""})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:k,children:[h.jsx(e3,{size:14}),"  "]}),h.jsx("input",{type:"date",required:!0,value:p,onChange:C=>m(C.target.value),className:z})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:k,children:[h.jsx(FJ,{size:14}),"   ()"]}),h.jsx("textarea",{rows:3,value:a,onChange:C=>u(C.target.value),placeholder:"     ...",className:`${z} resize-none`})]}),h.jsxs("div",{className:"p-4 rounded-xl border border-blue-100 bg-blue-50/50",children:[h.jsxs("label",{className:`${k} text-blue-800`,children:[h.jsx(W0,{size:14}),"    "]}),h.jsx("p",{className:"text-xs text-blue-600/80 mb-3 block",children:"         ,     ."}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("div",{className:"flex bg-white rounded-lg border border-blue-200 p-1 overflow-hidden",children:["none","lead","property"].map(C=>h.jsx("button",{type:"button",onClick:()=>{_(C),w("")},className:`flex-1 text-xs font-medium py-1.5 rounded-md transition-colors ${y===C?"bg-blue-100 text-blue-700":"text-slate-500 hover:bg-slate-50"}`,children:C==="none"?" ":C==="lead"?"":""},C))}),y==="lead"&&h.jsxs("select",{value:E,onChange:C=>w(C.target.value),className:z,children:[h.jsx("option",{value:"",children:"  ..."}),n.map(C=>h.jsx("option",{value:C.id,children:C.name},C.id))]}),y==="property"&&h.jsxs("select",{value:E,onChange:C=>w(C.target.value),className:z,children:[h.jsx("option",{value:"",children:"  ..."}),r.map(C=>h.jsx("option",{value:C.id,children:C.address},C.id))]})]})]})]})]}),h.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:[h.jsx("button",{type:"submit",form:"add-task-form",disabled:S,className:"w-full py-3.5 rounded-2xl text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center justify-center gap-2",children:S?h.jsxs(h.Fragment,{children:[h.jsx(ml,{size:18,className:"animate-spin"}),"  ..."]}):" "}),h.jsx("button",{type:"button",onClick:t,className:"w-full mt-2 py-2 text-sm text-slate-500 hover:text-slate-700",children:""})]})]})]})}function Hxe(e){let t=0,n=0,r=0,i=0,s=0;for(const u of e)u.stage==="won"?(r++,n+=u.actualCommission??0):u.stage==="lost"?i++:(s++,t+=u.projectedCommission??0);const o=r+i,a=o>0?r/o*100:0;return{totalValue:t,revenue:n,successRate:a,wonCount:r,lostCount:i,activeCount:s}}function qxe(){const{deals:e,tasks:t,leads:n,properties:r,loading:i}=uo(),[s,o]=x.useState(!1),a=x.useMemo(()=>Hxe(e),[e]);return i?h.jsx("div",{className:"h-full flex items-center justify-center min-h-[500px]",children:h.jsx(ml,{className:"w-8 h-8 animate-spin text-blue-600"})}):h.jsx("div",{className:"max-w-7xl mx-auto w-full",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:" , .    ."})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[h.jsx(ig,{title:"  ",value:`${a.totalValue.toLocaleString()}`,rawValue:a.totalValue,target:1e6,change:`${a.successRate.toFixed(1)}%  `,positive:!0,subtitle:"  ",icon:"Wallet",color:"blue"}),h.jsx(ig,{title:" ",value:a.activeCount.toString(),rawValue:a.activeCount,target:20,change:`${a.wonCount}  `,positive:!0,subtitle:" ",icon:"Handshake",color:"amber"}),h.jsx(ig,{title:"  ",value:n.filter(u=>["new","contacted","meeting_set"].includes(u.status)).length.toString(),rawValue:n.filter(u=>["new","contacted","meeting_set"].includes(u.status)).length,target:50,change:"+10%",positive:!0,subtitle:" ",icon:"Users",color:"emerald"}),h.jsx(ig,{title:" ",value:t.filter(u=>!u.isCompleted).length.toString(),rawValue:t.filter(u=>!u.isCompleted).length,target:t.length||1,change:`${t.filter(u=>u.isCompleted).length}   `,positive:!0,subtitle:" ",icon:"CheckCircle2",color:"violet"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4",children:[h.jsx("div",{className:"xl:col-span-1 h-[400px]",children:h.jsx(Tye,{})}),h.jsx("div",{className:"xl:col-span-2 h-[400px]",children:h.jsx(bye,{})}),h.jsx("div",{className:"xl:col-span-1 h-[400px]",children:h.jsx(Uxe,{tasks:t,onAddClick:()=>o(!0)})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4",children:[h.jsx("div",{className:"xl:col-span-1",children:h.jsx(Sye,{})}),h.jsx("div",{className:"xl:col-span-1 h-[400px]",children:h.jsx(Jye,{})}),h.jsx("div",{className:"xl:col-span-2",children:h.jsx(Yye,{})})]}),h.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"xl:col-span-1 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden flex flex-col h-full",children:[h.jsx("div",{className:"p-3 border-b border-slate-100 flex items-center justify-between",children:h.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"  "})}),h.jsx("div",{className:"p-3 flex-1 h-[250px] sm:h-[300px] xl:h-[300px]",children:h.jsx(Gye,{height:"100%"})})]}),h.jsx("div",{className:"xl:col-span-3",children:h.jsx(t0e,{})})]}),h.jsx(Wxe,{isOpen:s,onClose:()=>o(!1),leads:n,properties:r})]})})}const Kxe="shared_catalogs";async function Gxe(e,t,n,r){const i=O5(),a=(await us(i,"catalogs-generateCatalog")({agencyId:e,leadId:t,leadName:n,propertyIds:r})).data;if(!a.success)throw new Error("Failed to generate catalog from server");return a.catalogId}async function Zxe(e){const t=fr(nt,Kxe,e),n=await Hh(t);if(!n.exists())return null;const r={id:n.id,...n.data()};if(r.expiresAt&&r.expiresAt.toDate()<new Date)return null;try{await Fu(t,{viewCount:qX(1)})}catch(i){console.warn("Could not increment view count (might be missing permissions if not strictly following the rule)",i)}return r}const Yxe=Zxe;async function yB(e){const t="https://hook.us1.make.com/dummy";try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return n.ok?!0:(console.error("Webhook failed with status:",n.status),!1)}catch(n){return console.error("Error calling webhook:",n),!1}}function Xxe({lead:e,onClose:t,onSuccess:n}){var y,_,E;const{properties:r,loading:i}=uo(),[s,o]=x.useState(new Set),a=Eee(e.requirements,r),[u,c]=x.useState(!1),d=w=>{w.target.checked?o(new Set(a.map(S=>S.id))):o(new Set)},p=w=>{o(S=>{const P=new Set(S);return P.has(w)?P.delete(w):P.add(w),P})},m=async()=>{if(s.size!==0){c(!0);try{const w=await Gxe(e.agencyId,e.id,e.name,Array.from(s)),P=`${window.location.origin}/catalog/${w}`;await yB({action:"send_catalog",leadPhone:e.phone,leadName:e.name,catalogUrl:P})?n?n("    "):(alert(`  !
: ${P}`),t()):(alert(" ,     -."),t())}catch(w){console.error("Failed to generate catalog",w),alert("  .")}finally{c(!1)}}};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",dir:"rtl",children:h.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-3xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-in slide-in-from-bottom-8 duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 pl-8 border-b border-slate-100 shrink-0 bg-white",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600",children:h.jsx(EP,{size:24})}),h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[" : ",e.name]}),h.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-sm text-slate-500",children:[((y=e.requirements)==null?void 0:y.desiredCity)&&e.requirements.desiredCity.length>0&&h.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-0.5 rounded",children:[h.jsx(ra,{size:12})," ",e.requirements.desiredCity.join(", ")]}),((_=e.requirements)==null?void 0:_.maxBudget)&&h.jsxs("span",{className:"font-medium",children:[" ",e.requirements.maxBudget.toLocaleString()]}),((E=e.requirements)==null?void 0:E.minRooms)&&h.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-0.5 rounded",children:[h.jsx(s1,{size:12}),"  ",e.requirements.minRooms," "]})]})]})]}),h.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 rounded-full transition-colors",children:h.jsx(ia,{size:20})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:i?h.jsx("div",{className:"py-12 flex flex-col items-center justify-center text-slate-400",children:" ..."}):a.length===0?h.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-slate-400 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4 text-slate-300",children:h.jsx(X5,{size:32})}),h.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-1",children:"  "}),h.jsx("p",{className:"text-sm max-w-xs",children:"          ."})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-100 px-4 py-3 rounded-xl mb-6",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer text-sm font-semibold text-blue-800",children:[h.jsx("input",{type:"checkbox",checked:s.size===a.length&&a.length>0,onChange:d,className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500 border-blue-300"}),"  (",a.length,"  )"]}),h.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[" ",s.size," "]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map(w=>h.jsxs("div",{onClick:()=>p(w.id),className:`group relative bg-white border ${s.has(w.id)?"border-blue-500 ring-1 ring-blue-500 shadow-md":"border-slate-200 hover:border-slate-300 hover:shadow-sm"} rounded-2xl p-4 flex gap-4 cursor-pointer transition-all`,children:[h.jsx("div",{className:"absolute top-4 right-4 z-10",children:h.jsx("input",{type:"checkbox",checked:s.has(w.id),readOnly:!0,className:"w-4 h-4 rounded text-blue-600 border-slate-300"})}),h.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-xl flex-shrink-0 overflow-hidden relative border border-slate-100",children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-200 to-slate-100"})}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[h.jsx("h3",{className:"font-bold text-slate-800 leading-tight mb-1 pr-6",children:w.address}),h.jsxs("p",{className:"text-sm font-semibold text-blue-600 mb-2",children:["",w.price.toLocaleString()]}),h.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 font-medium",children:[w.rooms&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(s1,{size:12,className:"text-slate-400"}),w.rooms," "]}),w.type==="rent"?h.jsx("span",{className:"bg-emerald-50 text-emerald-600 px-1.5 py-0.5 rounded",children:""}):h.jsx("span",{className:"bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded",children:""})]})]})]},w.id))})]})}),h.jsxs("div",{className:"p-5 border-t border-slate-100 bg-white flex justify-between items-center shrink-0",children:[h.jsx("button",{onClick:t,className:"px-5 py-2.5 text-sm font-semibold text-slate-600 hover:text-slate-800 transition-colors",children:""}),h.jsxs("button",{onClick:m,disabled:s.size===0,className:`inline-flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${s.size>0?"bg-blue-600 hover:bg-blue-700 text-white shadow-md":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:[h.jsx(r3,{size:16}),"    (",s.size,")"]})]})]})})}function Qxe({show:e,message:t,type:n,onClose:r}){return x.useEffect(()=>{if(e){const i=setTimeout(()=>{r()},3e3);return()=>clearTimeout(i)}},[e,r]),e?h.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] animate-in slide-in-from-bottom-5 fade-in duration-300",dir:"rtl",children:h.jsxs("div",{className:`flex items-center gap-3 px-5 py-3.5 rounded-2xl shadow-xl border ${n==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800 shadow-emerald-500/10":"bg-red-50 border-red-200 text-red-800 shadow-red-500/10"}`,children:[n==="success"?h.jsx(B0,{size:20,className:"text-emerald-600"}):h.jsx(yee,{size:20,className:"text-red-600"}),h.jsx("span",{className:"font-bold text-sm",children:t})]})}):null}const oR={new:"bg-sky-50 text-sky-600 border border-sky-100",contacted:"bg-amber-50 text-amber-600 border border-amber-100",meeting_set:"bg-emerald-50 text-emerald-600 border border-emerald-100",won:"bg-green-50 text-green-600 border border-green-100",lost:"bg-slate-50 text-slate-600 border border-slate-200"},aR={All:"",new:"",contacted:"",meeting_set:" ",won:" ",lost:" /  "};function Jxe(){const{leads:e=[],loading:t}=uo(),[n,r]=x.useState(""),[i,s]=x.useState("All"),[o,a]=x.useState("buyer"),[u,c]=x.useState({key:"createdAt",direction:"desc"}),[d,p]=x.useState(new Set),[m,y]=x.useState(null),[_,E]=x.useState({show:!1,message:"",type:"success"}),[w,S]=x.useState(!1),[P,A]=x.useState(!1),O=j=>{let V="asc";u&&u.key===j&&u.direction==="asc"&&(V="desc"),c({key:j,direction:V})},M=x.useMemo(()=>{let j=e.filter(V=>{var se;if((V.type||"buyer")!==o)return!1;const J=V.name.toLowerCase().includes(n.toLowerCase())||((se=V.phone)==null?void 0:se.includes(n)),fe=i==="All"||V.status===i;return J&&fe});return u&&j.sort((V,F)=>{var se,ie,W,ne;let J=V[u.key],fe=F[u.key];return u.key==="potentialValue"?(J=((se=V.requirements)==null?void 0:se.maxBudget)||0,fe=((ie=F.requirements)==null?void 0:ie.maxBudget)||0):u.key==="createdAt"&&(J=((W=V.createdAt)==null?void 0:W.toMillis())||0,fe=((ne=F.createdAt)==null?void 0:ne.toMillis())||0),J<fe?u.direction==="asc"?-1:1:J>fe?u.direction==="asc"?1:-1:0}),j},[e,n,i,o,u]),z=j=>{j.target.checked?p(new Set(M.map(V=>V.id))):p(new Set)},k=j=>{p(V=>{const F=new Set(V);return F.has(j)?F.delete(j):F.add(j),F})},C=async()=>{const j=e.filter(F=>d.has(F.id)).map(F=>({phone:F.phone,name:F.name})),V=await yB({action:"bulk_broadcast",message:"   ()",leads:j});E(V?{show:!0,message:"   ",type:"success"}:{show:!0,message:"   ",type:"error"}),p(new Set)},R=()=>{A(!0),setTimeout(()=>{A(!1),E({show:!0,message:"  ",type:"success"})},600)},$=({column:j})=>(u==null?void 0:u.key)!==j?h.jsx(BJ,{size:12,className:"text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"}):u.direction==="asc"?h.jsx(o3,{size:14}):h.jsx(i3,{size:14});return h.jsxs("div",{className:"space-y-6",dir:"rtl",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:"  ()"}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[e.length,"  "]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[d.size>0&&h.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 bg-emerald-50 text-emerald-600 hover:bg-emerald-100 border border-emerald-200 text-sm font-semibold px-4 py-2 rounded-xl transition-colors shadow-sm animate-in fade-in zoom-in duration-200",children:[h.jsx(c3,{size:16}),h.jsxs("span",{children:["   (",d.size,")"]})]}),h.jsx("button",{onClick:R,disabled:P,title:" ",className:"inline-flex items-center justify-center w-10 h-10 bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 rounded-xl transition-colors shadow-sm disabled:opacity-50",children:h.jsx(_P,{size:18,className:P?"animate-spin text-blue-600":""})}),h.jsxs("button",{onClick:()=>S(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[h.jsx(U0,{size:16})," "]})]})]}),h.jsx(g3,{isOpen:w,onClose:()=>S(!1)}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:'" ',value:e.length,icon:CP,color:"text-blue-600",bg:"bg-blue-50"},{label:" ",value:e.length>0?`${Math.round(e.filter(j=>j.status==="won").length/e.length*100)}%`:"0%",icon:TP,color:"text-emerald-600",bg:"bg-emerald-50"},{label:" ",value:`${Math.round(e.reduce((j,V)=>{var F;return j+(((F=V.requirements)==null?void 0:F.maxBudget)||0)},0)/1e6*10)/10}M`,icon:Q5,color:"text-violet-600",bg:"bg-violet-50"}].map(j=>h.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[h.jsx("div",{className:`w-12 h-12 rounded-xl ${j.bg} flex items-center justify-center`,children:h.jsx(j.icon,{size:22,className:j.color})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold text-slate-500",children:j.label}),h.jsx("p",{className:"text-lg font-bold text-slate-900 mt-0.5",children:j.value})]})]},j.label))}),h.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl w-fit",children:[h.jsx("button",{onClick:()=>{a("buyer"),p(new Set)},className:`px-6 py-2 text-sm font-bold rounded-lg transition-all ${o==="buyer"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" "}),h.jsx("button",{onClick:()=>{a("seller"),p(new Set)},className:`px-6 py-2 text-sm font-bold rounded-lg transition-all ${o==="seller"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:" "})]}),h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden text-right",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[h.jsxs("div",{className:"relative flex-1 max-w-sm",children:[h.jsx(bP,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"    ...",className:"w-full bg-slate-50 border border-slate-200 rounded-lg pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all text-right placeholder-slate-400"})]}),h.jsx("div",{className:"flex gap-2 mr-auto sm:mr-0",children:["All","new","contacted","meeting_set","won","lost"].map(j=>h.jsx("button",{onClick:()=>s(j),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors "+(i===j?"bg-blue-600 text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-slate-100 border border-slate-200"),children:aR[j]},j))})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-right border-collapse",children:[h.jsx("thead",{className:"bg-slate-50/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 border-b border-slate-100 w-12 text-center",children:h.jsx("input",{type:"checkbox",checked:M.length>0&&d.size===M.length,onChange:z,className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100",children:" "}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100 cursor-pointer group",onClick:()=>O("potentialValue"),children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[o==="buyer"?" ...":" ",h.jsx($,{column:"potentialValue"})]})}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100",children:" "}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100 cursor-pointer group",onClick:()=>O("status"),children:h.jsxs("div",{className:"flex items-center gap-1.5",children:["",h.jsx($,{column:"status"})]})}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100 cursor-pointer group",onClick:()=>O("createdAt"),children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[" -",h.jsx($,{column:"createdAt"})]})}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100",children:""})]})}),h.jsx("tbody",{className:"divide-y divide-slate-50",children:t?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400 text-sm",children:" ..."})}):M.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400 text-sm",children:"     ."})}):M.map(j=>{var V,F,J,fe,se,ie,W,ne,K,oe;return h.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[h.jsx("td",{className:"px-4 py-4 w-12 text-center",children:h.jsx("input",{type:"checkbox",checked:d.has(j.id),onChange:()=>k(j.id),className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center text-sm font-bold text-blue-700 flex-shrink-0",children:j.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-sm font-semibold text-slate-800",children:j.name}),h.jsx("span",{className:"block text-xs text-slate-500 mt-0.5",dir:"ltr",children:j.phone})]})]})}),h.jsx("td",{className:"px-4 py-4 align-top",children:h.jsx("div",{className:"space-y-1",children:o==="buyer"?h.jsxs(h.Fragment,{children:[((V=j.requirements)==null?void 0:V.desiredCity)&&j.requirements.desiredCity.length>0&&h.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-600 bg-slate-100 rounded px-2 py-0.5",children:[h.jsx(ra,{size:10}),j.requirements.desiredCity.join(", ")]}),((F=j.requirements)==null?void 0:F.maxBudget)&&h.jsxs("span",{className:"block text-xs font-medium text-slate-700",children:[" ",j.requirements.maxBudget.toLocaleString()]}),h.jsxs("div",{className:"flex gap-1.5 mt-1.5 flex-wrap",children:[((J=j.requirements)==null?void 0:J.mustHaveParking)&&h.jsx("div",{className:"bg-slate-50 p-1 rounded border border-slate-100",title:"",children:h.jsx(n3,{size:13,className:"text-slate-500"})}),((fe=j.requirements)==null?void 0:fe.mustHaveElevator)&&h.jsx("div",{className:"bg-slate-50 p-1 rounded border border-slate-100",title:"",children:h.jsx(fee,{size:13,className:"text-slate-500"})}),((se=j.requirements)==null?void 0:se.mustHaveBalcony)&&h.jsx("div",{className:"bg-slate-50 p-1 rounded border border-slate-100",title:"",children:h.jsx(gee,{size:13,className:"text-slate-500"})}),((ie=j.requirements)==null?void 0:ie.mustHaveSafeRoom)&&h.jsx("div",{className:"bg-slate-50 p-1 rounded border border-slate-100",title:'"',children:h.jsx(wP,{size:13,className:"text-slate-500"})})]})]}):h.jsxs(h.Fragment,{children:[((W=j.requirements)==null?void 0:W.desiredCity)&&j.requirements.desiredCity.length>0&&h.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-600 bg-slate-100 rounded px-2 py-0.5",children:[h.jsx(ra,{size:10}),j.requirements.desiredCity.join(", ")]}),((ne=j.requirements)==null?void 0:ne.maxBudget)&&h.jsxs("span",{className:"block text-xs font-medium text-slate-700",children:["",j.requirements.maxBudget.toLocaleString()]})]})})}),h.jsxs("td",{className:"px-4 py-4",children:[h.jsxs("div",{className:"text-sm font-medium text-slate-700",children:[((K=j.assignedAgentId)==null?void 0:K.slice(0,5))||" ","..."]}),h.jsx("span",{className:"text-[10px] text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded mt-1 inline-block",children:j.source})]}),h.jsx("td",{className:"px-4 py-4",children:h.jsx("span",{className:"inline-flex text-xs font-semibold px-2.5 py-1 rounded-full "+(oR[j.status]||oR.new),children:aR[j.status]||j.status})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx("span",{className:"text-xs text-slate-500",children:(oe=j.createdAt)==null?void 0:oe.toDate().toLocaleDateString("he-IL")})}),h.jsx("td",{className:"px-4 py-4",children:o==="buyer"&&h.jsxs("button",{onClick:ue=>{ue.stopPropagation(),y(j)},className:"bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 px-3 py-1.5 rounded-lg text-xs font-semibold flex items-center gap-1 transition-colors",children:[h.jsx(EP,{size:14}),""]})})]},j.id)})})]})}),h.jsx("div",{className:"px-4 py-3 border-t border-slate-100 flex items-center justify-between bg-slate-50/50",children:h.jsxs("p",{className:"text-xs text-slate-500",children:[" ",h.jsx("span",{className:"font-semibold text-slate-700",children:M.length})," "]})})]}),m&&h.jsx(Xxe,{lead:m,onClose:()=>y(null)}),h.jsx(Qxe,{show:_.show,message:_.message,type:_.type,onClose:()=>E(j=>({...j,show:!1}))})]})}function e_e({property:e,onClose:t}){var p;const[n,r]=x.useState(0),[i,s]=x.useState(!1),o=e.imageUrls&&e.imageUrls.length>0,a=o?e.imageUrls:[],u=e.type==="rent",c=u?"":"",d=u?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-blue-50 text-blue-600 border-blue-100";return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:t}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",dir:"rtl",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100 bg-white z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${d} border`,children:h.jsx(pl,{size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900 leading-tight",children:e.address}),h.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-1 mt-0.5",children:[h.jsx(ra,{size:14}),e.city||"  "]})]})]}),h.jsx("button",{onClick:t,className:"p-2 rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:h.jsx(ia,{size:20})})]}),h.jsxs("div",{className:"overflow-y-auto flex-1 p-6",children:[o?h.jsxs("div",{className:"relative w-full aspect-video rounded-2xl overflow-hidden mb-6 group bg-slate-100 border border-slate-200",children:[h.jsx("img",{src:a[n],alt:"Property Main",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-end p-4",children:h.jsx("button",{onClick:()=>s(!0),className:"bg-white/20 hover:bg-white/30 backdrop-blur-md text-white p-2 rounded-lg transition-colors",children:h.jsx(JJ,{size:18})})}),e.isExclusive&&h.jsxs("div",{className:"absolute top-4 right-4 bg-amber-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1",children:[h.jsx(fk,{size:12,fill:"currentColor"}),""]})]}):h.jsxs("div",{className:"w-full aspect-video rounded-2xl bg-slate-50 border-2 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-400 mb-6",children:[h.jsx(nee,{size:48,className:"mb-3 opacity-50"}),h.jsx("p",{className:"text-sm font-medium",children:"   "}),e.isExclusive&&h.jsxs("div",{className:"mt-4 bg-amber-50 text-amber-600 text-xs font-bold px-3 py-1.5 rounded-full border border-amber-100 flex items-center gap-1",children:[h.jsx(fk,{size:12,fill:"currentColor"})," "]})]}),o&&a.length>1&&h.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 custom-scrollbar",children:a.map((m,y)=>h.jsx("button",{onClick:()=>r(y),className:`relative w-20 h-20 flex-shrink-0 rounded-xl overflow-hidden border-2 transition-all ${n===y?"border-blue-500 ring-4 ring-blue-500/20":"border-transparent hover:opacity-80"}`,children:h.jsx("img",{src:m,alt:`Thumbnail ${y+1}`,className:"w-full h-full object-cover"})},y))}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[h.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-500 mb-1",children:""}),h.jsxs("div",{className:"text-lg font-bold text-slate-900",children:["",e.price.toLocaleString()]})]}),h.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-500 mb-1",children:" "}),h.jsx("div",{className:"text-sm font-bold text-slate-900 mt-1",children:h.jsx("span",{className:`px-2.5 py-1 rounded-md border ${d}`,children:c})})]}),h.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-500 mb-1",children:" "}),h.jsx("div",{className:"text-base font-bold text-slate-900",children:e.kind||"-"})]}),h.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-500 mb-1",children:""}),h.jsx("div",{className:"text-base font-bold text-slate-900",children:e.rooms||"-"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-3 flex items-center gap-2",children:" "}),e.description?h.jsx("div",{className:"bg-slate-50/50 border border-slate-100 p-5 rounded-2xl",children:h.jsx("p",{className:"text-sm text-slate-600 leading-relaxed whitespace-pre-wrap",children:e.description})}):h.jsx("p",{className:"text-sm text-slate-400 italic bg-slate-50 p-4 rounded-xl",children:"     ."})]}),h.jsxs("div",{className:"mt-8 pt-5 border-t border-slate-100 flex items-center justify-between text-xs text-slate-400",children:[h.jsxs("div",{children:["    : ",h.jsx("span",{className:"font-mono",children:(p=e.agentId)==null?void 0:p.slice(0,8)})]}),e.daysOnMarket!==void 0&&h.jsxs("div",{children:[": ",e.daysOnMarket," "]})]})]})]})]}),i&&o&&h.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 flex flex-col",dir:"ltr",children:[h.jsx("div",{className:"flex justify-end p-4",children:h.jsx("button",{onClick:()=>s(!1),className:"text-white/70 hover:text-white p-2 transition-colors",children:h.jsx(ia,{size:32})})}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:h.jsx("img",{src:a[n],alt:"Fullscreen",className:"max-w-full max-h-full object-contain rounded-lg"})}),a.length>1&&h.jsx("div",{className:"p-4 flex justify-center gap-2 overflow-x-auto",children:a.map((m,y)=>h.jsx("button",{onClick:()=>r(y),className:`w-16 h-16 flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all ${n===y?"border-white":"border-transparent opacity-50 hover:opacity-100"}`,children:h.jsx("img",{src:m,alt:`Thumb ${y}`,className:"w-full h-full object-cover"})},y))})]})]})}function t_e(){const{properties:e=[],loading:t}=uo(),[n,r]=x.useState(""),[i,s]=x.useState("All"),[o,a]=x.useState(!1),[u,c]=x.useState(null),d=e.filter(p=>{var _,E;const m=((_=p.city)==null?void 0:_.toLowerCase().includes(n.toLowerCase()))||((E=p.address)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))||"",y=i==="All"||p.type===i;return m&&y});return h.jsxs("div",{className:"space-y-6",dir:"rtl",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900 leading-tight",children:" "}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[e.length,"  "]})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[h.jsx(U0,{size:16})," "]})})]}),h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[h.jsxs("div",{className:"relative flex-1 max-w-sm",children:[h.jsx(bP,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{value:n,onChange:p=>r(p.target.value),placeholder:"    ...",className:"w-full bg-slate-50 border border-slate-200 rounded-lg pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all text-right placeholder-slate-400"})]}),h.jsx("div",{className:"flex gap-2 mr-auto sm:mr-0",children:["All","sale","rent"].map(p=>h.jsx("button",{onClick:()=>s(p),className:"px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors "+(i===p?"bg-blue-600 text-white shadow-sm":"bg-slate-50 text-slate-600 hover:bg-slate-100 border border-slate-200"),children:p==="All"?"":p==="sale"?"":""},p))})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-right border-collapse",children:[h.jsx("thead",{className:"bg-slate-50/50",children:h.jsx("tr",{children:["","",""," ","","",""].map(p=>h.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wide border-b border-slate-100",children:p},p))})}),h.jsx("tbody",{className:"divide-y divide-slate-50",children:t?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400 text-sm",children:" ..."})}):d.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400 text-sm",children:"     ."})}):d.map(p=>{var m;return h.jsxs("tr",{onClick:()=>c(p),className:"hover:bg-slate-50/80 transition-colors group cursor-pointer",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center flex-shrink-0 ${p.type==="sale"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:h.jsx(qJ,{size:18})}),h.jsx("div",{children:h.jsxs("span",{className:"block text-sm font-semibold text-slate-800",children:[p.address," ",p.city?`, ${p.city}`:""]})})]})}),h.jsx("td",{className:"px-4 py-4 align-top",children:h.jsx("span",{className:`inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full ${p.type==="sale"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:p.type==="sale"?"":""})}),h.jsx("td",{className:"px-4 py-4 align-top",children:h.jsxs("span",{className:"block text-sm font-bold text-slate-700",children:["",p.price.toLocaleString()]})}),h.jsx("td",{className:"px-4 py-4 align-top",children:h.jsx("div",{className:"text-sm text-slate-600",children:p.rooms?`${p.rooms} `:"-"})}),h.jsx("td",{className:"px-4 py-4 align-top",children:p.exclusivityEndDate&&p.exclusivityEndDate.toDate()>new Date?h.jsx("span",{className:"inline-flex text-xs font-semibold px-2 py-0.5 rounded-full bg-amber-50 text-amber-600 border border-amber-100",children:""}):h.jsx("span",{className:"text-xs text-slate-400",children:"-"})}),h.jsx("td",{className:"px-4 py-4 align-top",children:h.jsxs("div",{className:"text-sm font-medium text-slate-700",children:[((m=p.agentId)==null?void 0:m.slice(0,5))||" ","..."]})}),h.jsx("td",{className:"px-4 py-4 align-top",children:h.jsx("button",{onClick:async y=>{if(y.stopPropagation(),window.confirm("      ?"))try{await bee(p.id)}catch(_){console.error("Failed to delete property",_),alert("  .  .")}},className:"p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors opacity-0 group-hover:opacity-100",title:" ",children:h.jsx(PP,{size:16})})})]},p.id)})})]})}),h.jsx("div",{className:"px-4 py-3 border-t border-slate-100 flex items-center justify-between bg-slate-50/50",children:h.jsxs("p",{className:"text-xs text-slate-500",children:[" ",h.jsx("span",{className:"font-semibold text-slate-700",children:d.length})," "]})})]}),h.jsx(p3,{isOpen:o,onClose:()=>a(!1)}),u&&h.jsx(e_e,{property:u,onClose:()=>c(null)})]})}function n_e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const e_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kd(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function RA(e){return"nodeType"in e}function Ar(e){var t,n;return e?Kd(e)?e:RA(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function MA(e){const{Document:t}=Ar(e);return e instanceof t}function tm(e){return Kd(e)?!1:e instanceof Ar(e).HTMLElement}function xB(e){return e instanceof Ar(e).SVGElement}function Gd(e){return e?Kd(e)?e.document:RA(e)?MA(e)?e:tm(e)||xB(e)?e.ownerDocument:document:document:document}const ms=e_?x.useLayoutEffect:x.useEffect;function t_(e){const t=x.useRef(e);return ms(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function r_e(){const e=x.useRef(null),t=x.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function cp(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return ms(()=>{n.current!==e&&(n.current=e)},t),n}function nm(e,t){const n=x.useRef();return x.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Uy(e){const t=t_(e),n=x.useRef(null),r=x.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function Wy(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let Ob={};function rm(e,t){return x.useMemo(()=>{if(t)return t;const n=Ob[e]==null?0:Ob[e]+1;return Ob[e]=n,e+"-"+n},[e,t])}function _B(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[u,c]of a){const d=s[u];d!=null&&(s[u]=d+e*c)}return s},{...t})}}const ed=_B(1),dp=_B(-1);function i_e(e){return"clientX"in e&&"clientY"in e}function n_(e){if(!e)return!1;const{KeyboardEvent:t}=Ar(e.target);return t&&e instanceof t}function s_e(e){if(!e)return!1;const{TouchEvent:t}=Ar(e.target);return t&&e instanceof t}function Hy(e){if(s_e(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return i_e(e)?{x:e.clientX,y:e.clientY}:null}const vl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[vl.Translate.toString(e),vl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),lR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function o_e(e){return e.matches(lR)?e:e.querySelector(lR)}const a_e={display:"none"};function l_e(e){let{id:t,value:n}=e;return vt.createElement("div",{id:t,style:a_e},n)}function u_e(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return vt.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function c_e(){const[e,t]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const bB=x.createContext(null);function d_e(e){const t=x.useContext(bB);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function f_e(){const[e]=x.useState(()=>new Set),t=x.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[x.useCallback(r=>{let{type:i,event:s}=r;e.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[e]),t]}const h_e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},p_e={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function m_e(e){let{announcements:t=p_e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=h_e}=e;const{announce:s,announcement:o}=c_e(),a=rm("DndLiveRegion"),[u,c]=x.useState(!1);if(x.useEffect(()=>{c(!0)},[]),d_e(x.useMemo(()=>({onDragStart(p){let{active:m}=p;s(t.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;t.onDragMove&&s(t.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(t.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(t.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(t.onDragCancel({active:m,over:y}))}}),[s,t])),!u)return null;const d=vt.createElement(vt.Fragment,null,vt.createElement(l_e,{id:r,value:i.draggable}),vt.createElement(u_e,{id:a,announcement:o}));return n?Do.createPortal(d,n):d}var mn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(mn||(mn={}));function qy(){}function uR(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function g_e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const gs=Object.freeze({x:0,y:0});function wB(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v_e(e,t){const n=Hy(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function EB(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function y_e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function oE(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function SB(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const x_e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=oE(t),s=[];for(const o of r){const{id:a}=o,u=n.get(a);if(u){const c=oE(u),d=i.reduce((m,y,_)=>m+wB(c[_],y),0),p=Number((d/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:p}})}}return s.sort(EB)};function __e(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=i-r,a=s-n;if(r<i&&n<s){const u=t.width*t.height,c=e.width*e.height,d=o*a,p=d/(u+c-d);return Number(p.toFixed(4))}return 0}const PB=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const u=__e(a,t);u>0&&i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(y_e)};function b_e(e,t){const{top:n,left:r,bottom:i,right:s}=t;return n<=e.y&&e.y<=i&&r<=e.x&&e.x<=s}const w_e=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:r}=e;if(!r)return[];const i=[];for(const s of t){const{id:o}=s,a=n.get(o);if(a&&b_e(r,a)){const c=oE(a).reduce((p,m)=>p+wB(r,m),0),d=Number((c/4).toFixed(4));i.push({id:o,data:{droppableContainer:s,value:d}})}}return i.sort(EB)};function E_e(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function TB(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:gs}function S_e(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const P_e=S_e(1);function AB(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function T_e(e,t,n){const r=AB(t);if(!r)return e;const{scaleX:i,scaleY:s,x:o,y:a}=r,u=e.left-o-(1-i)*parseFloat(n),c=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,p=s?e.height/s:e.height;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u}}const A_e={ignoreTransform:!1};function Zd(e,t){t===void 0&&(t=A_e);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=Ar(e).getComputedStyle(e);c&&(n=T_e(n,c,d))}const{top:r,left:i,width:s,height:o,bottom:a,right:u}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:u}}function cR(e){return Zd(e,{ignoreTransform:!0})}function C_e(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function I_e(e,t){return t===void 0&&(t=Ar(e).getComputedStyle(e)),t.position==="fixed"}function k_e(e,t){t===void 0&&(t=Ar(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function r_(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(MA(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!tm(i)||xB(i)||n.includes(i))return n;const s=Ar(e).getComputedStyle(i);return i!==e&&k_e(i,s)&&n.push(i),I_e(i,s)?n:r(i.parentNode)}return e?r(e):n}function CB(e){const[t]=r_(e,1);return t??null}function jb(e){return!e_||!e?null:Kd(e)?e:RA(e)?MA(e)||e===Gd(e).scrollingElement?window:tm(e)?e:null:null}function IB(e){return Kd(e)?e.scrollX:e.scrollLeft}function kB(e){return Kd(e)?e.scrollY:e.scrollTop}function aE(e){return{x:IB(e),y:kB(e)}}var Cn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Cn||(Cn={}));function NB(e){return!e_||!e?!1:e===document.scrollingElement}function OB(e){const t={x:0,y:0},n=NB(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const N_e={x:.2,y:.2};function O_e(e,t,n,r,i){let{top:s,left:o,right:a,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=N_e);const{isTop:c,isBottom:d,isLeft:p,isRight:m}=OB(e),y={x:0,y:0},_={x:0,y:0},E={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+E.height?(y.y=Cn.Backward,_.y=r*Math.abs((t.top+E.height-s)/E.height)):!d&&u>=t.bottom-E.height&&(y.y=Cn.Forward,_.y=r*Math.abs((t.bottom-E.height-u)/E.height)),!m&&a>=t.right-E.width?(y.x=Cn.Forward,_.x=r*Math.abs((t.right-E.width-a)/E.width)):!p&&o<=t.left+E.width&&(y.x=Cn.Backward,_.x=r*Math.abs((t.left+E.width-o)/E.width)),{direction:y,speed:_}}function j_e(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function jB(e){return e.reduce((t,n)=>ed(t,aE(n)),gs)}function R_e(e){return e.reduce((t,n)=>t+IB(n),0)}function M_e(e){return e.reduce((t,n)=>t+kB(n),0)}function RB(e,t){if(t===void 0&&(t=Zd),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);CB(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const D_e=[["x",["left","right"],R_e],["y",["top","bottom"],M_e]];class DA{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=r_(n),i=jB(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,a]of D_e)for(const u of o)Object.defineProperty(this,u,{get:()=>{const c=a(r),d=i[s]-c;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hh{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function L_e(e){const{EventTarget:t}=Ar(e);return e instanceof t?e:Gd(e)}function Rb(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ii;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ii||(Ii={}));function dR(e){e.preventDefault()}function z_e(e){e.stopPropagation()}var Ye;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ye||(Ye={}));const MB={start:[Ye.Space,Ye.Enter],cancel:[Ye.Esc],end:[Ye.Space,Ye.Enter,Ye.Tab]},V_e=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ye.Right:return{...n,x:n.x+25};case Ye.Left:return{...n,x:n.x-25};case Ye.Down:return{...n,y:n.y+25};case Ye.Up:return{...n,y:n.y-25}}};class LA{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new hh(Gd(n)),this.windowListeners=new hh(Ar(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ii.Resize,this.handleCancel),this.windowListeners.add(Ii.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ii.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&RB(r),n(gs)}handleKeyDown(t){if(n_(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=MB,coordinateGetter:o=V_e,scrollBehavior:a="smooth"}=i,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:gs;this.referenceCoordinates||(this.referenceCoordinates=d);const p=o(t,{active:n,context:r.current,currentCoordinates:d});if(p){const m=dp(p,d),y={x:0,y:0},{scrollableAncestors:_}=r.current;for(const E of _){const w=t.code,{isTop:S,isRight:P,isLeft:A,isBottom:O,maxScroll:M,minScroll:z}=OB(E),k=j_e(E),C={x:Math.min(w===Ye.Right?k.right-k.width/2:k.right,Math.max(w===Ye.Right?k.left:k.left+k.width/2,p.x)),y:Math.min(w===Ye.Down?k.bottom-k.height/2:k.bottom,Math.max(w===Ye.Down?k.top:k.top+k.height/2,p.y))},R=w===Ye.Right&&!P||w===Ye.Left&&!A,$=w===Ye.Down&&!O||w===Ye.Up&&!S;if(R&&C.x!==p.x){const j=E.scrollLeft+m.x,V=w===Ye.Right&&j<=M.x||w===Ye.Left&&j>=z.x;if(V&&!m.y){E.scrollTo({left:j,behavior:a});return}V?y.x=E.scrollLeft-j:y.x=w===Ye.Right?E.scrollLeft-M.x:E.scrollLeft-z.x,y.x&&E.scrollBy({left:-y.x,behavior:a});break}else if($&&C.y!==p.y){const j=E.scrollTop+m.y,V=w===Ye.Down&&j<=M.y||w===Ye.Up&&j>=z.y;if(V&&!m.x){E.scrollTo({top:j,behavior:a});return}V?y.y=E.scrollTop-j:y.y=w===Ye.Down?E.scrollTop-M.y:E.scrollTop-z.y,y.y&&E.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(t,ed(dp(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}LA.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=MB,onActivation:i}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function fR(e){return!!(e&&"distance"in e)}function hR(e){return!!(e&&"delay"in e)}class zA{constructor(t,n,r){var i;r===void 0&&(r=L_e(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=Gd(o),this.documentListeners=new hh(this.document),this.listeners=new hh(r),this.windowListeners=new hh(Ar(o)),this.initialCoordinates=(i=Hy(s))!=null?i:gs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ii.Resize,this.handleCancel),this.windowListeners.add(Ii.DragStart,dR),this.windowListeners.add(Ii.VisibilityChange,this.handleCancel),this.windowListeners.add(Ii.ContextMenu,dR),this.documentListeners.add(Ii.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(hR(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(fR(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ii.Click,z_e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ii.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const u=(n=Hy(t))!=null?n:gs,c=dp(i,u);if(!r&&a){if(fR(a)){if(a.tolerance!=null&&Rb(c,a.tolerance))return this.handleCancel();if(Rb(c,a.distance))return this.handleStart()}if(hR(a)&&Rb(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ye.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const F_e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class VA extends zA{constructor(t){const{event:n}=t,r=Gd(n.target);super(t,F_e,r)}}VA.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const $_e={move:{name:"mousemove"},end:{name:"mouseup"}};var lE;(function(e){e[e.RightClick=2]="RightClick"})(lE||(lE={}));class B_e extends zA{constructor(t){super(t,$_e,Gd(t.event.target))}}B_e.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===lE.RightClick?!1:(r==null||r({event:n}),!0)}}];const Mb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class U_e extends zA{constructor(t){super(t,Mb)}static setup(){return window.addEventListener(Mb.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Mb.move.name,t)};function t(){}}}U_e.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var ph;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ph||(ph={}));var Ky;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ky||(Ky={}));function W_e(e){let{acceleration:t,activator:n=ph.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Ky.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:p,threshold:m}=e;const y=q_e({delta:p,disabled:!s}),[_,E]=r_e(),w=x.useRef({x:0,y:0}),S=x.useRef({x:0,y:0}),P=x.useMemo(()=>{switch(n){case ph.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case ph.DraggableRect:return i}},[n,i,u]),A=x.useRef(null),O=x.useCallback(()=>{const z=A.current;if(!z)return;const k=w.current.x*S.current.x,C=w.current.y*S.current.y;z.scrollBy(k,C)},[]),M=x.useMemo(()=>a===Ky.TreeOrder?[...c].reverse():c,[a,c]);x.useEffect(()=>{if(!s||!c.length||!P){E();return}for(const z of M){if((r==null?void 0:r(z))===!1)continue;const k=c.indexOf(z),C=d[k];if(!C)continue;const{direction:R,speed:$}=O_e(z,C,P,t,m);for(const j of["x","y"])y[j][R[j]]||($[j]=0,R[j]=0);if($.x>0||$.y>0){E(),A.current=z,_(O,o),w.current=$,S.current=R;return}}w.current={x:0,y:0},S.current={x:0,y:0},E()},[t,O,r,E,s,o,JSON.stringify(P),JSON.stringify(y),_,c,M,d,JSON.stringify(m)])}const H_e={x:{[Cn.Backward]:!1,[Cn.Forward]:!1},y:{[Cn.Backward]:!1,[Cn.Forward]:!1}};function q_e(e){let{delta:t,disabled:n}=e;const r=Wy(t);return nm(i=>{if(n||!r||!i)return H_e;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Cn.Backward]:i.x[Cn.Backward]||s.x===-1,[Cn.Forward]:i.x[Cn.Forward]||s.x===1},y:{[Cn.Backward]:i.y[Cn.Backward]||s.y===-1,[Cn.Forward]:i.y[Cn.Forward]||s.y===1}}},[n,t,r])}function K_e(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return nm(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function G_e(e,t){return x.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var fp;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(fp||(fp={}));var uE;(function(e){e.Optimized="optimized"})(uE||(uE={}));const pR=new Map;function Z_e(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,o]=x.useState(null),{frequency:a,measure:u,strategy:c}=i,d=x.useRef(e),p=w(),m=cp(p),y=x.useCallback(function(S){S===void 0&&(S=[]),!m.current&&o(P=>P===null?S:P.concat(S.filter(A=>!P.includes(A))))},[m]),_=x.useRef(null),E=nm(S=>{if(p&&!n)return pR;if(!S||S===pR||d.current!==e||s!=null){const P=new Map;for(let A of e){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){P.set(A.id,A.rect.current);continue}const O=A.node.current,M=O?new DA(u(O),O):null;A.rect.current=M,M&&P.set(A.id,M)}return P}return S},[e,s,n,p,u]);return x.useEffect(()=>{d.current=e},[e]),x.useEffect(()=>{p||y()},[n,p]),x.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),x.useEffect(()=>{p||typeof a!="number"||_.current!==null||(_.current=setTimeout(()=>{y(),_.current=null},a))},[a,p,y,...r]),{droppableRects:E,measureDroppableContainers:y,measuringScheduled:s!=null};function w(){switch(c){case fp.Always:return!1;case fp.BeforeDragging:return n;default:return!n}}}function FA(e,t){return nm(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Y_e(e,t){return FA(e,t)}function X_e(e){let{callback:t,disabled:n}=e;const r=t_(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function i_(e){let{callback:t,disabled:n}=e;const r=t_(t),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Q_e(e){return new DA(Zd(e),e)}function mR(e,t,n){t===void 0&&(t=Q_e);const[r,i]=x.useState(null);function s(){i(u=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=u??n)!=null?c:null}const d=t(e);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const o=X_e({callback(u){if(e)for(const c of u){const{type:d,target:p}=c;if(d==="childList"&&p instanceof HTMLElement&&p.contains(e)){s();break}}}}),a=i_({callback:s});return ms(()=>{s(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function J_e(e){const t=FA(e);return TB(e,t)}const gR=[];function ebe(e){const t=x.useRef(e),n=nm(r=>e?r&&r!==gR&&e&&t.current&&e.parentNode===t.current.parentNode?r:r_(e):gR,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function tbe(e){const[t,n]=x.useState(null),r=x.useRef(e),i=x.useCallback(s=>{const o=jb(s.target);o&&n(a=>a?(a.set(o,aE(o)),new Map(a)):null)},[]);return x.useEffect(()=>{const s=r.current;if(e!==s){o(s);const a=e.map(u=>{const c=jb(u);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,aE(c)]):null}).filter(u=>u!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(s)};function o(a){a.forEach(u=>{const c=jb(u);c==null||c.removeEventListener("scroll",i)})}},[i,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>ed(s,o),gs):jB(e):gs,[e,t])}function vR(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const r=e!==gs;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?dp(e,n.current):gs}function nbe(e){x.useEffect(()=>{if(!e_)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function rbe(e,t){return x.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,t)},n},{}),[e,t])}function DB(e){return x.useMemo(()=>e?C_e(e):null,[e])}const yR=[];function ibe(e,t){t===void 0&&(t=Zd);const[n]=e,r=DB(n?Ar(n):null),[i,s]=x.useState(yR);function o(){s(()=>e.length?e.map(u=>NB(u)?r:new DA(t(u),u)):yR)}const a=i_({callback:o});return ms(()=>{a==null||a.disconnect(),o(),e.forEach(u=>a==null?void 0:a.observe(u))},[e]),i}function LB(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return tm(t)?t:e}function sbe(e){let{measure:t}=e;const[n,r]=x.useState(null),i=x.useCallback(c=>{for(const{target:d}of c)if(tm(d)){r(p=>{const m=t(d);return p?{...p,width:m.width,height:m.height}:m});break}},[t]),s=i_({callback:i}),o=x.useCallback(c=>{const d=LB(c);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?t(d):null)},[t,s]),[a,u]=Uy(o);return x.useMemo(()=>({nodeRef:a,rect:n,setRef:u}),[n,a,u])}const obe=[{sensor:VA,options:{}},{sensor:LA,options:{}}],abe={current:{}},ev={draggable:{measure:cR},droppable:{measure:cR,strategy:fp.WhileDragging,frequency:uE.Optimized},dragOverlay:{measure:Zd}};class mh extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const lbe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ev,measureDroppableContainers:qy,windowRect:null,measuringScheduled:!1},zB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qy,draggableNodes:new Map,over:null,measureDroppableContainers:qy},im=x.createContext(zB),VB=x.createContext(lbe);function ube(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mh}}}function cbe(e,t){switch(t.type){case mn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case mn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case mn.DragEnd:case mn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case mn.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new mh(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case mn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new mh(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case mn.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new mh(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function dbe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=x.useContext(im),s=Wy(r),o=Wy(n==null?void 0:n.id);return x.useEffect(()=>{if(!t&&!r&&s&&o!=null){if(!n_(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:u,node:c}=a;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[u.current,c.current]){if(!d)continue;const p=o_e(d);if(p){p.focus();break}}})}},[r,t,i,o,s]),null}function FB(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function fbe(e){return x.useMemo(()=>({draggable:{...ev.draggable,...e==null?void 0:e.draggable},droppable:{...ev.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ev.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function hbe(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=x.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;ms(()=>{if(!o&&!a||!t){s.current=!1;return}if(s.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const d=n(c),p=TB(d,r);if(o||(p.x=0),a||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=CB(c);m&&m.scrollBy({top:p.y,left:p.x})}},[t,o,a,r,n])}const s_=x.createContext({...gs,scaleX:1,scaleY:1});var Oa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Oa||(Oa={}));const pbe=x.memo(function(t){var n,r,i,s;let{id:o,accessibility:a,autoScroll:u=!0,children:c,sensors:d=obe,collisionDetection:p=PB,measuring:m,modifiers:y,..._}=t;const E=x.useReducer(cbe,void 0,ube),[w,S]=E,[P,A]=f_e(),[O,M]=x.useState(Oa.Uninitialized),z=O===Oa.Initialized,{draggable:{active:k,nodes:C,translate:R},droppable:{containers:$}}=w,j=k!=null?C.get(k):null,V=x.useRef({initial:null,translated:null}),F=x.useMemo(()=>{var Ze;return k!=null?{id:k,data:(Ze=j==null?void 0:j.data)!=null?Ze:abe,rect:V}:null},[k,j]),J=x.useRef(null),[fe,se]=x.useState(null),[ie,W]=x.useState(null),ne=cp(_,Object.values(_)),K=rm("DndDescribedBy",o),oe=x.useMemo(()=>$.getEnabled(),[$]),ue=fbe(m),{droppableRects:Ae,measureDroppableContainers:be,measuringScheduled:Ce}=Z_e(oe,{dragging:z,dependencies:[R.x,R.y],config:ue.droppable}),ge=K_e(C,k),$e=x.useMemo(()=>ie?Hy(ie):null,[ie]),at=kl(),X=Y_e(ge,ue.draggable.measure);hbe({activeNode:k!=null?C.get(k):null,config:at.layoutShiftCompensation,initialRect:X,measure:ue.draggable.measure});const me=mR(ge,ue.draggable.measure,X),Ne=mR(ge?ge.parentElement:null),Q=x.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:Ae,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Xe=$.getNodeFor((n=Q.current.over)==null?void 0:n.id),Me=sbe({measure:ue.dragOverlay.measure}),de=(r=Me.nodeRef.current)!=null?r:ge,pe=z?(i=Me.rect)!=null?i:me:null,Te=!!(Me.nodeRef.current&&Me.rect),lt=J_e(Te?null:me),et=DB(de?Ar(de):null),tt=ebe(z?Xe??ge:null),Zn=ibe(tt),_n=FB(y,{transform:{x:R.x-lt.x,y:R.y-lt.y,scaleX:1,scaleY:1},activatorEvent:ie,active:F,activeNodeRect:me,containerNodeRect:Ne,draggingNodeRect:pe,over:Q.current.over,overlayNodeRect:Me.rect,scrollableAncestors:tt,scrollableAncestorRects:Zn,windowRect:et}),ae=$e?ed($e,R):null,kt=tbe(tt),Zr=vR(kt),_s=vR(kt,[me]),gi=ed(_n,Zr),Yr=pe?P_e(pe,_n):null,fo=F&&Yr?p({active:F,collisionRect:Yr,droppableRects:Ae,droppableContainers:oe,pointerCoordinates:ae}):null,Cl=SB(fo,"id"),[Cr,Il]=x.useState(null),bs=Te?_n:ed(_n,_s),ho=E_e(bs,(s=Cr==null?void 0:Cr.rect)!=null?s:null,me),ws=x.useRef(null),vi=x.useCallback((Ze,bn)=>{let{sensor:Yt,options:Yn}=bn;if(J.current==null)return;const Xn=C.get(J.current);if(!Xn)return;const Rn=Ze.nativeEvent,fn=new Yt({active:J.current,activeNode:Xn,event:Rn,options:Yn,context:Q,onAbort(Xt){if(!C.get(Xt))return;const{onDragAbort:pr}=ne.current,Ir={id:Xt};pr==null||pr(Ir),P({type:"onDragAbort",event:Ir})},onPending(Xt,hr,pr,Ir){if(!C.get(Xt))return;const{onDragPending:xe}=ne.current,Xr={id:Xt,constraint:hr,initialCoordinates:pr,offset:Ir};xe==null||xe(Xr),P({type:"onDragPending",event:Xr})},onStart(Xt){const hr=J.current;if(hr==null)return;const pr=C.get(hr);if(!pr)return;const{onDragStart:Ir}=ne.current,nn={activatorEvent:Rn,active:{id:hr,data:pr.data,rect:V}};Do.unstable_batchedUpdates(()=>{Ir==null||Ir(nn),M(Oa.Initializing),S({type:mn.DragStart,initialCoordinates:Xt,active:hr}),P({type:"onDragStart",event:nn}),se(ws.current),W(Rn)})},onMove(Xt){S({type:mn.DragMove,coordinates:Xt})},onEnd:yi(mn.DragEnd),onCancel:yi(mn.DragCancel)});ws.current=fn;function yi(Xt){return async function(){const{active:pr,collisions:Ir,over:nn,scrollAdjustedTranslate:xe}=Q.current;let Xr=null;if(pr&&xe){const{cancelDrop:Mn}=ne.current;Xr={activatorEvent:Rn,active:pr,collisions:Ir,delta:xe,over:nn},Xt===mn.DragEnd&&typeof Mn=="function"&&await Promise.resolve(Mn(Xr))&&(Xt=mn.DragCancel)}J.current=null,Do.unstable_batchedUpdates(()=>{S({type:Xt}),M(Oa.Uninitialized),Il(null),se(null),W(null),ws.current=null;const Mn=Xt===mn.DragEnd?"onDragEnd":"onDragCancel";if(Xr){const mo=ne.current[Mn];mo==null||mo(Xr),P({type:Mn,event:Xr})}})}}},[C]),Es=x.useCallback((Ze,bn)=>(Yt,Yn)=>{const Xn=Yt.nativeEvent,Rn=C.get(Yn);if(J.current!==null||!Rn||Xn.dndKit||Xn.defaultPrevented)return;const fn={active:Rn};Ze(Yt,bn.options,fn)===!0&&(Xn.dndKit={capturedBy:bn.sensor},J.current=Yn,vi(Yt,bn))},[C,vi]),po=G_e(d,Es);nbe(d),ms(()=>{me&&O===Oa.Initializing&&M(Oa.Initialized)},[me,O]),x.useEffect(()=>{const{onDragMove:Ze}=ne.current,{active:bn,activatorEvent:Yt,collisions:Yn,over:Xn}=Q.current;if(!bn||!Yt)return;const Rn={active:bn,activatorEvent:Yt,collisions:Yn,delta:{x:gi.x,y:gi.y},over:Xn};Do.unstable_batchedUpdates(()=>{Ze==null||Ze(Rn),P({type:"onDragMove",event:Rn})})},[gi.x,gi.y]),x.useEffect(()=>{const{active:Ze,activatorEvent:bn,collisions:Yt,droppableContainers:Yn,scrollAdjustedTranslate:Xn}=Q.current;if(!Ze||J.current==null||!bn||!Xn)return;const{onDragOver:Rn}=ne.current,fn=Yn.get(Cl),yi=fn&&fn.rect.current?{id:fn.id,rect:fn.rect.current,data:fn.data,disabled:fn.disabled}:null,Xt={active:Ze,activatorEvent:bn,collisions:Yt,delta:{x:Xn.x,y:Xn.y},over:yi};Do.unstable_batchedUpdates(()=>{Il(yi),Rn==null||Rn(Xt),P({type:"onDragOver",event:Xt})})},[Cl]),ms(()=>{Q.current={activatorEvent:ie,active:F,activeNode:ge,collisionRect:Yr,collisions:fo,droppableRects:Ae,draggableNodes:C,draggingNode:de,draggingNodeRect:pe,droppableContainers:$,over:Cr,scrollableAncestors:tt,scrollAdjustedTranslate:gi},V.current={initial:pe,translated:Yr}},[F,ge,fo,Yr,C,de,pe,Ae,$,Cr,tt,gi]),W_e({...at,delta:R,draggingRect:Yr,pointerCoordinates:ae,scrollableAncestors:tt,scrollableAncestorRects:Zn});const Uu=x.useMemo(()=>({active:F,activeNode:ge,activeNodeRect:me,activatorEvent:ie,collisions:fo,containerNodeRect:Ne,dragOverlay:Me,draggableNodes:C,droppableContainers:$,droppableRects:Ae,over:Cr,measureDroppableContainers:be,scrollableAncestors:tt,scrollableAncestorRects:Zn,measuringConfiguration:ue,measuringScheduled:Ce,windowRect:et}),[F,ge,me,ie,fo,Ne,Me,C,$,Ae,Cr,be,tt,Zn,ue,Ce,et]),Ss=x.useMemo(()=>({activatorEvent:ie,activators:po,active:F,activeNodeRect:me,ariaDescribedById:{draggable:K},dispatch:S,draggableNodes:C,over:Cr,measureDroppableContainers:be}),[ie,po,F,me,S,K,C,Cr,be]);return vt.createElement(bB.Provider,{value:A},vt.createElement(im.Provider,{value:Ss},vt.createElement(VB.Provider,{value:Uu},vt.createElement(s_.Provider,{value:ho},c)),vt.createElement(dbe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),vt.createElement(m_e,{...a,hiddenTextDescribedById:K}));function kl(){const Ze=(fe==null?void 0:fe.autoScrollEnabled)===!1,bn=typeof u=="object"?u.enabled===!1:u===!1,Yt=z&&!Ze&&!bn;return typeof u=="object"?{...u,enabled:Yt}:{enabled:Yt}}}),mbe=x.createContext(null),xR="button",gbe="Draggable";function vbe(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=rm(gbe),{activators:o,activatorEvent:a,active:u,activeNodeRect:c,ariaDescribedById:d,draggableNodes:p,over:m}=x.useContext(im),{role:y=xR,roleDescription:_="draggable",tabIndex:E=0}=i??{},w=(u==null?void 0:u.id)===t,S=x.useContext(w?s_:mbe),[P,A]=Uy(),[O,M]=Uy(),z=rbe(o,t),k=cp(n);ms(()=>(p.set(t,{id:t,key:s,node:P,activatorNode:O,data:k}),()=>{const R=p.get(t);R&&R.key===s&&p.delete(t)}),[p,t]);const C=x.useMemo(()=>({role:y,tabIndex:E,"aria-disabled":r,"aria-pressed":w&&y===xR?!0:void 0,"aria-roledescription":_,"aria-describedby":d.draggable}),[r,y,E,w,_,d.draggable]);return{active:u,activatorEvent:a,activeNodeRect:c,attributes:C,isDragging:w,listeners:r?void 0:z,node:P,over:m,setNodeRef:A,setActivatorNodeRef:M,transform:S}}function $B(){return x.useContext(VB)}const ybe="Droppable",xbe={timeout:25};function BB(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=rm(ybe),{active:o,dispatch:a,over:u,measureDroppableContainers:c}=x.useContext(im),d=x.useRef({disabled:n}),p=x.useRef(!1),m=x.useRef(null),y=x.useRef(null),{disabled:_,updateMeasurementsFor:E,timeout:w}={...xbe,...i},S=cp(E??r),P=x.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{c(Array.isArray(S.current)?S.current:[S.current]),y.current=null},w)},[w]),A=i_({callback:P,disabled:_||!o}),O=x.useCallback((C,R)=>{A&&(R&&(A.unobserve(R),p.current=!1),C&&A.observe(C))},[A]),[M,z]=Uy(O),k=cp(t);return x.useEffect(()=>{!A||!M.current||(A.disconnect(),p.current=!1,A.observe(M.current))},[M,A]),x.useEffect(()=>(a({type:mn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:M,rect:m,data:k}}),()=>a({type:mn.UnregisterDroppable,key:s,id:r})),[r]),x.useEffect(()=>{n!==d.current.disabled&&(a({type:mn.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,a]),{active:o,rect:m,isOver:(u==null?void 0:u.id)===r,node:M,over:u,setNodeRef:z}}function _be(e){let{animation:t,children:n}=e;const[r,i]=x.useState(null),[s,o]=x.useState(null),a=Wy(n);return!n&&!r&&a&&i(a),ms(()=>{if(!s)return;const u=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(u==null||c==null){i(null);return}Promise.resolve(t(c,s)).then(()=>{i(null)})},[t,r,s]),vt.createElement(vt.Fragment,null,n,r?x.cloneElement(r,{ref:o}):null)}const bbe={x:0,y:0,scaleX:1,scaleY:1};function wbe(e){let{children:t}=e;return vt.createElement(im.Provider,{value:zB},vt.createElement(s_.Provider,{value:bbe},t))}const Ebe={position:"fixed",touchAction:"none"},Sbe=e=>n_(e)?"transform 250ms ease":void 0,Pbe=x.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:a,style:u,transform:c,transition:d=Sbe}=e;if(!a)return null;const p=i?c:{...c,scaleX:1,scaleY:1},m={...Ebe,width:a.width,height:a.height,top:a.top,left:a.left,transform:vl.Transform.toString(p),transformOrigin:i&&r?v_e(r,a):void 0,transition:typeof d=="function"?d(r):d,...u};return vt.createElement(n,{className:o,style:m,ref:t},s)}),Tbe=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:s,className:o}=e;if(s!=null&&s.active)for(const[a,u]of Object.entries(s.active))u!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,u));if(s!=null&&s.dragOverlay)for(const[a,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(a,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,c]of Object.entries(i))n.node.style.setProperty(u,c);o!=null&&o.active&&n.node.classList.remove(o.active)}},Abe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:vl.Transform.toString(t)},{transform:vl.Transform.toString(n)}]},Cbe={duration:250,easing:"ease",keyframes:Abe,sideEffects:Tbe({styles:{active:{opacity:"0"}}})};function Ibe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return t_((s,o)=>{if(t===null)return;const a=n.get(s);if(!a)return;const u=a.node.current;if(!u)return;const c=LB(o);if(!c)return;const{transform:d}=Ar(o).getComputedStyle(o),p=AB(d);if(!p)return;const m=typeof t=="function"?t:kbe(t);return RB(u,i.draggable.measure),m({active:{id:s,data:a.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function kbe(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...Cbe,...e};return s=>{let{active:o,dragOverlay:a,transform:u,...c}=s;if(!t)return;const d={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},p={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/a.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/a.rect.height:1},m={x:u.x-d.x,y:u.y-d.y,...p},y=i({...c,active:o,dragOverlay:a,transform:{initial:u,final:m}}),[_]=y,E=y[y.length-1];if(JSON.stringify(_)===JSON.stringify(E))return;const w=r==null?void 0:r({active:o,dragOverlay:a,...c}),S=a.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(P=>{S.onfinish=()=>{w==null||w(),P()}})}}let _R=0;function Nbe(e){return x.useMemo(()=>{if(e!=null)return _R++,_R},[e])}const Obe=vt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:a="div",className:u,zIndex:c=999}=e;const{activatorEvent:d,active:p,activeNodeRect:m,containerNodeRect:y,draggableNodes:_,droppableContainers:E,dragOverlay:w,over:S,measuringConfiguration:P,scrollableAncestors:A,scrollableAncestorRects:O,windowRect:M}=$B(),z=x.useContext(s_),k=Nbe(p==null?void 0:p.id),C=FB(o,{activatorEvent:d,active:p,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:w.rect,over:S,overlayNodeRect:w.rect,scrollableAncestors:A,scrollableAncestorRects:O,transform:z,windowRect:M}),R=FA(m),$=Ibe({config:r,draggableNodes:_,droppableContainers:E,measuringConfiguration:P}),j=R?w.setRef:void 0;return vt.createElement(wbe,null,vt.createElement(_be,{animation:$},p&&k?vt.createElement(Pbe,{key:k,id:p.id,ref:j,as:a,activatorEvent:d,adjustScale:t,className:u,transition:s,rect:R,style:{zIndex:c,...i},transform:C},n):null))});function UB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function jbe(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function bg(e){return e!==null&&e>=0}function Rbe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Mbe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const WB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=UB(t,r,n),o=t[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},wg={scaleX:1,scaleY:1},HB=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=e;const a=(t=s[n])!=null?t:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...wg}:null}const u=Dbe(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-u,...wg}:i<n&&i>=o?{x:0,y:a.height+u,...wg}:{x:0,y:0,...wg}};function Dbe(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const qB="Sortable",KB=vt.createContext({activeIndex:-1,containerId:qB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:WB,disabled:{draggable:!1,droppable:!1}});function GB(e){let{children:t,id:n,items:r,strategy:i=WB,disabled:s=!1}=e;const{active:o,dragOverlay:a,droppableRects:u,over:c,measureDroppableContainers:d}=$B(),p=rm(qB,n),m=a.rect!==null,y=x.useMemo(()=>r.map(z=>typeof z=="object"&&"id"in z?z.id:z),[r]),_=o!=null,E=o?y.indexOf(o.id):-1,w=c?y.indexOf(c.id):-1,S=x.useRef(y),P=!Rbe(y,S.current),A=w!==-1&&E===-1||P,O=Mbe(s);ms(()=>{P&&_&&d(y)},[P,y,_,d]),x.useEffect(()=>{S.current=y},[y]);const M=x.useMemo(()=>({activeIndex:E,containerId:p,disabled:O,disableTransforms:A,items:y,overIndex:w,useDragOverlay:m,sortedRects:jbe(y,u),strategy:i}),[E,p,O.draggable,O.droppable,A,y,w,u,m,i]);return vt.createElement(KB.Provider,{value:M},t)}const Lbe=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return UB(n,r,i).indexOf(t)},zbe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:u,transition:c}=e;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&t===u},Vbe={duration:200,easing:"ease"},ZB="transform",Fbe=vl.Transition.toString({property:ZB,duration:0,easing:"linear"}),$be={roleDescription:"sortable"};function Bbe(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,o]=x.useState(null),a=x.useRef(n);return ms(()=>{if(!t&&n!==a.current&&r.current){const u=i.current;if(u){const c=Zd(r.current,{ignoreTransform:!0}),d={x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height};(d.x||d.y)&&o(d)}}n!==a.current&&(a.current=n)},[t,n,r,i]),x.useEffect(()=>{s&&o(null)},[s]),s}function Ube(e){let{animateLayoutChanges:t=zbe,attributes:n,disabled:r,data:i,getNewIndex:s=Lbe,id:o,strategy:a,resizeObserverConfig:u,transition:c=Vbe}=e;const{items:d,containerId:p,activeIndex:m,disabled:y,disableTransforms:_,sortedRects:E,overIndex:w,useDragOverlay:S,strategy:P}=x.useContext(KB),A=Wbe(r,y),O=d.indexOf(o),M=x.useMemo(()=>({sortable:{containerId:p,index:O,items:d},...i}),[p,i,O,d]),z=x.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:k,node:C,isOver:R,setNodeRef:$}=BB({id:o,data:M,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...u}}),{active:j,activatorEvent:V,activeNodeRect:F,attributes:J,setNodeRef:fe,listeners:se,isDragging:ie,over:W,setActivatorNodeRef:ne,transform:K}=vbe({id:o,data:M,attributes:{...$be,...n},disabled:A.draggable}),oe=n_e($,fe),ue=!!j,Ae=ue&&!_&&bg(m)&&bg(w),be=!S&&ie,Ce=be&&Ae?K:null,$e=Ae?Ce??(a??P)({rects:E,activeNodeRect:F,activeIndex:m,overIndex:w,index:O}):null,at=bg(m)&&bg(w)?s({id:o,items:d,activeIndex:m,overIndex:w}):O,X=j==null?void 0:j.id,me=x.useRef({activeId:X,items:d,newIndex:at,containerId:p}),Ne=d!==me.current.items,Q=t({active:j,containerId:p,isDragging:ie,isSorting:ue,id:o,index:O,items:d,newIndex:me.current.newIndex,previousItems:me.current.items,previousContainerId:me.current.containerId,transition:c,wasDragging:me.current.activeId!=null}),Xe=Bbe({disabled:!Q,index:O,node:C,rect:k});return x.useEffect(()=>{ue&&me.current.newIndex!==at&&(me.current.newIndex=at),p!==me.current.containerId&&(me.current.containerId=p),d!==me.current.items&&(me.current.items=d)},[ue,at,p,d]),x.useEffect(()=>{if(X===me.current.activeId)return;if(X!=null&&me.current.activeId==null){me.current.activeId=X;return}const de=setTimeout(()=>{me.current.activeId=X},50);return()=>clearTimeout(de)},[X]),{active:j,activeIndex:m,attributes:J,data:M,rect:k,index:O,newIndex:at,items:d,isOver:R,isSorting:ue,isDragging:ie,listeners:se,node:C,overIndex:w,over:W,setNodeRef:oe,setActivatorNodeRef:ne,setDroppableNodeRef:$,setDraggableNodeRef:fe,transform:Xe??$e,transition:Me()};function Me(){if(Xe||Ne&&me.current.newIndex===O)return Fbe;if(!(be&&!n_(V)||!c)&&(ue||Q))return vl.Transition.toString({...c,property:ZB})}}function Wbe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Gy(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Hbe=[Ye.Down,Ye.Right,Ye.Up,Ye.Left],qbe=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=t;if(Hbe.includes(e.code)){if(e.preventDefault(),!n||!r)return;const u=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const m=i.get(p.id);if(m)switch(e.code){case Ye.Down:r.top<m.top&&u.push(p);break;case Ye.Up:r.top>m.top&&u.push(p);break;case Ye.Left:r.left>m.left&&u.push(p);break;case Ye.Right:r.left<m.left&&u.push(p);break}});const c=x_e({collisionRect:r,droppableRects:i,droppableContainers:u});let d=SB(c,"id");if(d===(o==null?void 0:o.id)&&c.length>1&&(d=c[1].id),d!=null){const p=s.get(n.id),m=s.get(d),y=m?i.get(m.id):null,_=m==null?void 0:m.node.current;if(_&&y&&p&&m){const w=r_(_).some((z,k)=>a[k]!==z),S=YB(p,m),P=Kbe(p,m),A=w||!S?{x:0,y:0}:{x:P?r.width-y.width:0,y:P?r.height-y.height:0},O={x:y.left,y:y.top};return A.x&&A.y?O:dp(O,A)}}}};function YB(e,t){return!Gy(e)||!Gy(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Kbe(e,t){return!Gy(e)||!Gy(t)||!YB(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const $A="deals";async function Gbe(e,t){return(await Jt(In(nt,$A),{...t,agencyId:e,createdAt:z0()})).id}async function bR(e,t,n){const r=fr(nt,$A,e),i={stage:t};n!==void 0&&(i.actualCommission=n),await Fu(r,i)}async function Zbe(e){const t=fr(nt,$A,e);await A5(t)}const wR=[{id:"qualification",label:" ",color:"text-slate-700",bg:"bg-slate-100",border:"border-slate-200",headerBg:"bg-slate-50"},{id:"viewing",label:" ",color:"text-sky-700",bg:"bg-sky-100",border:"border-sky-200",headerBg:"bg-sky-50"},{id:"offer",label:" ",color:"text-amber-700",bg:"bg-amber-100",border:"border-amber-200",headerBg:"bg-amber-50"},{id:"negotiation",label:" ",color:"text-purple-700",bg:"bg-purple-100",border:"border-purple-200",headerBg:"bg-purple-50"},{id:"contract",label:" ",color:"text-blue-700",bg:"bg-blue-100",border:"border-blue-200",headerBg:"bg-blue-50"},{id:"won",label:" ",color:"text-emerald-700",bg:"bg-emerald-100",border:"border-emerald-200",headerBg:"bg-emerald-50"},{id:"lost",label:"  / ",color:"text-rose-700",bg:"bg-rose-100",border:"border-rose-200",headerBg:"bg-rose-50"}];function XB({deal:e,leadName:t,propertyAddress:n,isOverlay:r,onDelete:i}){var m;const{attributes:s,listeners:o,setNodeRef:a,transform:u,transition:c,isDragging:d}=Ube({id:e.id,data:{deal:e}}),p={transform:vl.Transform.toString(u),transition:c,opacity:d?.4:1};return h.jsxs("div",{ref:a,style:p,className:`bg-white rounded-xl border border-slate-200 p-4 shadow-sm group hover:border-blue-300 hover:shadow-md transition-all relative ${r?"rotate-2 shadow-2xl cursor-grabbing":"cursor-grab"}`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-base font-bold text-slate-900 leading-snug truncate",title:n,children:n}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5 truncate",title:t,children:t})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-100 xl:opacity-0 xl:group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>i(e.id),className:"p-1.5 text-slate-300 hover:text-rose-600 rounded-lg hover:bg-rose-50 transition-colors",title:" ",children:h.jsx(PP,{size:16})}),h.jsx("div",{...s,...o,className:"text-slate-300 hover:text-slate-600 p-1.5 rounded-lg hover:bg-slate-50",children:h.jsx(eee,{size:16})})]})]}),h.jsxs("p",{className:"text-base font-black text-blue-700 my-2 bg-blue-50 inline-block px-3 py-1.5 rounded-lg border border-blue-100",children:["",(e.projectedCommission||0).toLocaleString()]}),h.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-100",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("div",{className:"w-7 h-7 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center text-slate-700 text-xs font-bold",children:((m=e.createdBy)==null?void 0:m.substring(0,2).toUpperCase())||"AG"})}),h.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 bg-slate-50 px-2 py-1 rounded-md",title:"   ",children:[h.jsx(vP,{size:12}),h.jsxs("span",{className:"text-xs font-semibold",children:[e.createdAt?Math.floor((Date.now()-e.createdAt.toMillis())/(1e3*60*60*24)):0," "]})]})]})]})}function Ybe({stage:e,deals:t,leads:n,properties:r,onDelete:i}){const{setNodeRef:s}=BB({id:e.id}),o=t.reduce((a,u)=>a+(u.actualCommission??u.projectedCommission??0),0);return h.jsxs("div",{ref:s,className:"w-[320px] flex-shrink-0 flex flex-col h-[480px] bg-slate-50/70 rounded-2xl border border-slate-200 overflow-hidden shadow-sm",children:[h.jsxs("div",{className:`p-4 border-b ${e.border} ${e.headerBg}`,children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("span",{className:`text-base font-bold ${e.color}`,children:e.label}),h.jsx("span",{className:`text-sm font-black px-2.5 py-0.5 rounded-full ${e.bg} ${e.color}`,children:t.length})]})}),h.jsxs("p",{className:"text-sm font-bold text-slate-500",children:["",(o/1e3).toLocaleString(void 0,{maximumFractionDigits:1}),"k "]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 pretty-scroll",children:h.jsx(GB,{items:t.map(a=>a.id),strategy:HB,children:t.map(a=>{var u,c;return h.jsx(XB,{deal:a,leadName:((u=n.find(d=>d.id===a.leadId))==null?void 0:u.name)||"  ",propertyAddress:((c=r.find(d=>d.id===a.propertyId))==null?void 0:c.address)||"  ",onDelete:i},a.id)})})})]})}function Xbe(){var S,P;const{deals:e,leads:t,properties:n}=uo(),[r,i]=x.useState([]),[s,o]=x.useState(null),a=x.useMemo(()=>r.find(A=>A.id===s),[s,r]),[u,c]=x.useState(null),[d,p]=x.useState("");x.useEffect(()=>{i(e)},[e]);const m=g_e(uR(VA,{activationConstraint:{distance:5}}),uR(LA,{coordinateGetter:qbe})),y=A=>{o(A.active.id)},_=async A=>{const{active:O,over:M}=A;if(o(null),!M)return;const z=r.find(R=>R.id===O.id);if(!z)return;let k;if(wR.some(R=>R.id===M.id))k=M.id;else{const R=r.find($=>$.id===M.id);if(!R)return;k=R.stage}if(z.stage===k)return;if(k==="won"){c(z),p(z.projectedCommission.toString());return}const C=[...r];i(r.map(R=>R.id===O.id?{...R,stage:k}:R));try{await bR(O.id,k)}catch(R){console.error("Update deal failed:",R),i(C),alert("   ")}},E=async()=>{if(!u)return;const A=Number(d.replace(/[^0-9.-]+/g,""));if(isNaN(A)){alert("   ");return}const O=[...r];i(r.map(M=>M.id===u.id?{...M,stage:"won",actualCommission:A}:M)),c(null);try{await bR(u.id,"won",A)}catch(M){console.error("Failed to mark as won:",M),i(O),alert("    ")}},w=async A=>{if(confirm("      ?   .")){const O=[...r];i(r.filter(M=>M.id!==A));try{await Zbe(A)}catch(M){console.error("Failed to delete deal",M),i(O),alert("  ")}}};return h.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden flex flex-col min-h-[700px] h-[calc(100vh-12rem)]",children:[h.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"  "}),h.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:"       "})]})}),h.jsx("div",{className:"p-6 flex-grow overflow-y-auto bg-slate-50/30",children:h.jsxs(pbe,{sensors:m,collisionDetection:A=>{const O=w_e(A);return O.length>0?O:PB(A)},onDragStart:y,onDragEnd:_,children:[h.jsx("div",{className:"flex flex-wrap gap-6 items-start pb-4",children:wR.map(A=>h.jsx(GB,{id:A.id,items:r.filter(O=>O.stage===A.id).map(O=>O.id),strategy:HB,children:h.jsx(Ybe,{stage:A,deals:r.filter(O=>O.stage===A.id),leads:t,properties:n,onDelete:w})},A.id))}),h.jsx(Obe,{children:a?h.jsx(XB,{deal:a,leadName:((S=t.find(A=>A.id===a.leadId))==null?void 0:S.name)||"  ",propertyAddress:((P=n.find(A=>A.id===a.propertyId))==null?void 0:P.address)||"  ",isOverlay:!0,onDelete:w}):null})]})}),u&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",dir:"rtl",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:()=>c(null)}),h.jsxs("div",{className:"w-full max-w-sm bg-white rounded-3xl shadow-2xl relative z-10 overflow-hidden text-center p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mx-auto mb-4",children:h.jsx(B0,{size:32})}),h.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"   !"}),h.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"   ,       ?"}),h.jsxs("div",{className:"text-right mb-6",children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1.5",children:"  ()"}),h.jsx("input",{autoFocus:!0,type:"number",value:d,onChange:A=>p(A.target.value),className:"w-full border border-slate-200 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all outline-none bg-slate-50 focus:bg-white text-slate-900 font-bold"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>c(null),className:"flex-1 py-3 text-sm font-bold text-slate-500 bg-slate-100 hover:bg-slate-200 rounded-xl transition-colors",children:""}),h.jsx("button",{onClick:E,className:"flex-1 py-3 text-sm font-bold text-white bg-emerald-600 hover:bg-emerald-700 rounded-xl transition-colors shadow-lg shadow-emerald-200",children:" "})]})]})]})]})}const Eg="w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",Db="block text-xs font-semibold text-slate-500 mb-1.5";function Qbe({isOpen:e,onClose:t}){const{userData:n}=Tr(),{leads:r,properties:i}=uo(),{data:s}=NP(),[o,a]=x.useState(""),[u,c]=x.useState(""),[d,p]=x.useState("2"),[m,y]=x.useState(""),[_,E]=x.useState(!1),[w,S]=x.useState(null);x.useEffect(()=>{if(o){const C=r.find(R=>R.id===o);C&&C.assignedAgentId?y(C.assignedAgentId):y("")}},[o,r]);const P=i.find(C=>C.id===u),A=(P==null?void 0:P.price)||0,O=A*(parseFloat(d)||0)/100;if(!e)return null;const M=(C,R=!0)=>{S({msg:C,ok:R}),setTimeout(()=>S(null),3500)},z=()=>{a(""),c(""),p("2"),y("")},k=async C=>{if(C.preventDefault(),!(!(n!=null&&n.agencyId)||!o||!u||!d))try{E(!0),await Gbe(n.agencyId,{leadId:o,propertyId:u,...m?{agentId:m}:{},stage:"qualification",projectedCommission:O,createdBy:n.name||n.email||"Agent"}),M("   "),z(),setTimeout(t,1200)}catch(R){console.error("Error adding deal: ",R),(R==null?void 0:R.code)==="permission-denied"?M("   ",!1):M(" ,  ",!1)}finally{E(!1)}};return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:t}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",dir:"rtl",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 bg-blue-50 rounded-xl flex items-center justify-center",children:h.jsx(xP,{size:18,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:"  "}),h.jsx("p",{className:"text-xs text-slate-400",children:"    ' '"})]})]}),h.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:h.jsx(ia,{size:18})})]}),h.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:Db,children:[" ( / ) ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{value:o,onChange:C=>a(C.target.value),required:!0,className:Eg,children:[h.jsx("option",{value:"",disabled:!0,children:"  ..."}),r.map(C=>h.jsxs("option",{value:C.id,children:[C.name," ",C.phone?`- ${C.phone}`:""]},C.id))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:Db,children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{value:u,onChange:C=>c(C.target.value),required:!0,className:Eg,children:[h.jsx("option",{value:"",disabled:!0,children:"  ..."}),i.map(C=>h.jsxs("option",{value:C.id,children:[C.address," ",C.price?`- ${C.price.toLocaleString()}`:""]},C.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:Db,children:" "}),h.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:Eg,children:[h.jsx("option",{value:"",children:"  ()"}),s.map(C=>h.jsx("option",{value:C.uid||"",children:C.name||C.email},C.uid||C.id))]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-end mb-1.5",children:[h.jsxs("label",{className:"block text-xs font-semibold text-slate-500",children:["  (%) ",h.jsx("span",{className:"text-red-500",children:"*"})]}),A>0&&h.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded-md",children:["",O.toLocaleString()]})]}),h.jsx("input",{type:"number",min:"0",step:"0.01",value:d,onChange:C=>p(C.target.value),required:!0,placeholder:" 2",className:Eg,dir:"ltr"})]}),w&&h.jsx("div",{className:`text-xs font-medium px-4 py-3 rounded-xl border ${w.ok?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-600 border-red-100"}`,children:w.msg}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),h.jsx("button",{type:"submit",disabled:_||!o||!u||!d||O<=0,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:_?"...":" "})]})]})]})]})}function Jbe(){const[e,t]=x.useState(!1);return h.jsx("div",{className:"max-w-7xl mx-auto w-full h-full px-2 sm:px-0",children:h.jsxs("div",{className:"space-y-6 flex flex-col h-full min-h-0",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 shrink-0",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900",children:" - Kanban"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"     "})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold px-4 py-2.5 rounded-xl transition-colors shadow-sm shadow-blue-200",children:[h.jsx(U0,{size:16})," "]}),h.jsxs("button",{className:"inline-flex items-center gap-2 bg-slate-800 hover:bg-slate-900 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[h.jsx(YJ,{size:15})," CSV"]})]})]}),h.jsx("div",{className:"flex-1 min-h-0",children:h.jsx(Xbe,{})}),h.jsx(Qbe,{isOpen:e,onClose:()=>t(!1)})]})})}function QB({onClose:e,onSuccess:t}){const{userData:n}=Tr(),[r,i]=x.useState(""),[s,o]=x.useState(""),[a,u]=x.useState(""),[c,d]=x.useState("agent"),[p,m]=x.useState(!1),[y,_]=x.useState(""),E=async w=>{if(w.preventDefault(),_(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){_("   ");return}if(!(n!=null&&n.agencyId)){_("     ");return}try{m(!0);const A=await us(Js,"users-inviteAgent")({email:s.trim().toLowerCase(),name:r.trim(),role:c,phone:a.trim()||void 0,appUrl:window.location.origin});A.data.whatsappUrl&&window.open(A.data.whatsappUrl,"_blank","noopener,noreferrer"),t()}catch(P){console.error("Failed to invite agent:",P),(P==null?void 0:P.code)==="functions/already-exists"?_("       ."):_("  .  .")}finally{m(!1)}};return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm",onClick:e}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md",dir:"rtl",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-slate-100",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-9 h-9 bg-blue-50 rounded-xl flex items-center justify-center",children:h.jsx(Md,{size:18,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),h.jsx("p",{className:"text-xs text-slate-400",children:"  +   (  )"})]})]}),h.jsx("button",{onClick:e,className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-50 transition-colors",children:h.jsx(ia,{size:18})})]}),h.jsxs("form",{onSubmit:E,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),required:!0,placeholder:" ",className:"w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:["  ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"email",value:s,onChange:w=>o(w.target.value),required:!0,placeholder:"agent@example.com",className:"w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",dir:"ltr"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(o1,{size:11}),"  ()",h.jsx("span",{className:"font-normal text-slate-400",children:" "})]})}),h.jsx("input",{type:"tel",value:a,onChange:w=>u(w.target.value),placeholder:"050-0000000",className:"w-full border border-slate-200 rounded-xl px-3.5 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50 focus:bg-white",dir:"ltr"}),a&&h.jsxs("p",{className:"text-xs text-emerald-600 mt-1 flex items-center gap-1",children:[h.jsx("span",{children:""}),"       "]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:""}),h.jsx("div",{className:"flex gap-3",children:["agent","admin"].map(w=>h.jsx("button",{type:"button",onClick:()=>d(w),className:`flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold border transition-all ${c===w?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-slate-50 text-slate-600 border-slate-200 hover:bg-slate-100"}`,children:w==="agent"?"":""},w))})]}),y&&h.jsx("p",{className:"text-xs text-red-600 bg-red-50 border border-red-100 rounded-xl px-3 py-2.5",children:y}),h.jsxs("div",{className:"bg-blue-50 rounded-xl px-4 py-3 text-xs text-blue-700 leading-relaxed",children:["    ",h.jsx("strong",{children:"omerdigitalsolutions@gmail.com"}),"   ",a&&h.jsx("span",{children:" +    "}),"."]}),h.jsxs("div",{className:"flex gap-3 pt-1",children:[h.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-slate-600 bg-slate-100 hover:bg-slate-200 transition-colors",children:""}),h.jsx("button",{type:"submit",disabled:p||!r||!s,className:"flex-1 py-2.5 rounded-xl text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:p?"...":" "})]})]})]})]})}function ewe(){const{data:e,loading:t}=m3(),[n,r]=x.useState(!1),[i,s]=x.useState("");if(t)return h.jsx("div",{className:"flex justify-center items-center h-full min-h-[400px]",children:h.jsx("div",{className:"animate-pulse flex gap-2",children:h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})});const o=a=>a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(0)}K`:`${a}`;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900",children:""}),h.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[e.length,"   "]})]}),h.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[h.jsx(Md,{size:15})," "]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.length>0?e.map(a=>h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 hover:shadow-md transition-all duration-200 cursor-pointer group",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center font-bold text-sm flex-shrink-0 ${a.avatarColor}`,children:a.avatar}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:a.name}),h.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:' "'})]})]}),h.jsxs("div",{className:"flex items-center gap-1 bg-amber-50 px-2 py-1 rounded-lg",children:[h.jsx(SP,{size:11,className:"text-amber-500 fill-amber-500"}),h.jsx("span",{className:"text-xs font-bold text-amber-600",children:a.rating})]})]}),h.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[{label:" ",value:o(a.sales)},{label:" ()",value:a.deals.toString()},{label:" ",value:o(a.monthlyTarget)},{label:"%  ",value:`${Math.round(a.sales/a.monthlyTarget*100)}%`}].map(u=>h.jsxs("div",{className:"bg-slate-50 rounded-xl p-3",children:[h.jsx("p",{className:"text-xs text-slate-400 font-medium",children:u.label}),h.jsx("p",{className:"text-sm font-bold text-slate-800 mt-0.5",children:u.value})]},u.label))}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs font-semibold text-emerald-700 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 inline-block"}),""]}),h.jsx("span",{className:"text-xs text-slate-400 font-medium",children:(a.id??"").slice(0,8).toUpperCase()})]})]},a.id)):h.jsx("div",{className:"col-span-full py-12 text-center text-slate-500 text-sm",children:"    "})}),n&&h.jsx(QB,{onClose:()=>r(!1),onSuccess:()=>{r(!1),s("  ! "),setTimeout(()=>s(""),3500)}}),i&&h.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-sm font-medium px-5 py-3 rounded-2xl shadow-xl z-50",children:i})]})}function twe(e,t){const n=ko(In(nt,"users"),rr("agencyId","==",e));return No(n,r=>{const i=r.docs.map(s=>({uid:s.id,...s.data()}));t(i)})}async function nwe(e,t){await us(Js,"users-updateAgentRole")({userId:e,newRole:t})}async function rwe(e,t){await us(Js,"users-toggleAgentStatus")({userId:e,isActive:t})}const iwe=({role:e})=>e==="admin"?h.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-violet-50 text-violet-700 border border-violet-100",children:[h.jsx(d3,{size:11}),""]}):h.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-100",children:""}),swe=({isActive:e})=>e!==!1?h.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100",children:""}):h.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full bg-slate-100 text-slate-500 border border-slate-200",children:""});function owe({member:e,isSelf:t,onRoleChange:n,onStatusToggle:r}){const[i,s]=x.useState(!1),o=e.isActive!==!1;return t?h.jsx("span",{className:"text-xs text-slate-300 italic",children:" "}):h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>s(a=>!a),className:"p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors",children:h.jsx(dee,{size:16})}),i&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),h.jsxs("div",{className:"absolute left-0 top-8 z-20 bg-white rounded-xl shadow-xl border border-slate-100 py-1 min-w-[160px]",children:[h.jsxs("button",{onClick:()=>{n(e.uid,e.role),s(!1)},className:"flex items-center gap-2.5 w-full px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[h.jsx(_P,{size:14,className:"text-slate-400"})," ",e.role==="admin"?"":""]}),h.jsxs("button",{onClick:()=>{r(e.uid,o),s(!1)},className:`flex items-center gap-2.5 w-full px-4 py-2.5 text-sm transition-colors ${o?"text-red-600 hover:bg-red-50":"text-emerald-600 hover:bg-emerald-50"}`,children:[o?h.jsx(mee,{size:14}):h.jsx(d3,{size:14}),o?"":" "]})]})]})]})}function awe(){const{userData:e,currentUser:t}=Tr(),[n,r]=x.useState([]),[i,s]=x.useState(!1),[o,a]=x.useState(""),[u,c]=x.useState(!0),d=y=>{a(y),setTimeout(()=>a(""),3500)};x.useEffect(()=>e!=null&&e.agencyId?twe(e.agencyId,_=>{r(_),c(!1)}):void 0,[e==null?void 0:e.agencyId]);const p=async(y,_)=>{try{await nwe(y,_==="admin"?"agent":"admin"),d("  ")}catch{d("  ")}},m=async(y,_)=>{try{await rwe(y,!_),d(_?" ":"  ")}catch{d("  ")}};return h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-base font-bold text-slate-900",children:" "}),h.jsxs("p",{className:"text-sm text-slate-400 mt-0.5",children:[n.length,"  "]})]}),h.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-4 py-2.5 rounded-xl transition-colors shadow-sm",children:[h.jsx(Md,{size:16})," "]})]}),h.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:u?h.jsx("div",{className:"py-16 text-center text-sm text-slate-400",children:"  ..."}):n.length===0?h.jsxs("div",{className:"py-16 text-center",children:[h.jsx("p",{className:"text-sm font-medium text-slate-600",children:"   "}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"    "})]}):h.jsxs("table",{className:"w-full text-right",dir:"rtl",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-100",children:[h.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),h.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),h.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),h.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""}),h.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-slate-500 text-right",children:""})]})}),h.jsx("tbody",{className:"divide-y divide-slate-50",children:n.map(y=>{var w;const _=y.uid===(t==null?void 0:t.uid)||y.email===(t==null?void 0:t.email),E=!!y.uid;return h.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[h.jsx("td",{className:"px-5 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-violet-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:((w=y.name)==null?void 0:w.charAt(0))||"?"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-slate-800",children:y.name}),!E&&h.jsx("p",{className:"text-[10px] text-amber-600 font-medium mt-0.5",children:" "})]})]})}),h.jsx("td",{className:"px-5 py-4 text-sm text-slate-500",dir:"ltr",children:y.email}),h.jsx("td",{className:"px-5 py-4",children:h.jsx(iwe,{role:y.role})}),h.jsx("td",{className:"px-5 py-4",children:h.jsx(swe,{isActive:y.isActive})}),h.jsx("td",{className:"px-5 py-4",children:h.jsx(owe,{member:y,isSelf:_,onRoleChange:p,onStatusToggle:m})})]},y.uid||y.email)})})]})}),i&&h.jsx(QB,{onClose:()=>s(!1),onSuccess:()=>{s(!1),d("  ! ")}}),o&&h.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white text-sm font-medium px-5 py-3 rounded-2xl shadow-xl z-50 animate-fade-in",children:o})]})}async function lwe(e,t){const n=t.name.split(".").pop()??"jpg",r=mP(gP,`users/${e}/profile/avatar.${n}`),i=await hP(r,t);return pP(i.ref)}async function uwe(e,t){const n=fr(nt,"users",e);await Fu(n,t)}const ER=[{id:"profile",label:"",icon:hk},{id:"team",label:" ",icon:hk},{id:"notifications",label:"",icon:J5},{id:"security",label:"",icon:wP},{id:"appearance",label:"",icon:hee},{id:"integrations",label:"",icon:u3},{id:"billing",label:"",icon:GJ}];function cwe({defaultChecked:e=!1}){const[t,n]=x.useState(e);return h.jsx("button",{onClick:()=>n(!t),className:`relative w-10 h-5.5 rounded-full transition-colors duration-200 flex-shrink-0 ${t?"bg-blue-600":"bg-slate-200"}`,style:{height:"22px",width:"40px"},children:h.jsx("span",{className:`absolute top-0.5 left-0.5 w-4.5 h-4.5 rounded-full bg-white shadow transition-transform duration-200 ${t?"translate-x-[18px]":"translate-x-0"}`,style:{width:"18px",height:"18px"}})})}function dwe(){const[e,t]=x.useState("profile"),{userData:n}=Tr(),r=x.useRef(null),[i,s]=x.useState(!1),o=async a=>{var c;const u=(c=a.target.files)==null?void 0:c[0];if(!(!u||!(n!=null&&n.uid))){if(u.size>2*1024*1024){alert("  -2MB.     .");return}try{s(!0);const d=await lwe(n.uid,u);await uwe(n.uid,{photoURL:d}),alert("    ")}catch(d){console.error("Failed to upload profile picture:",d),alert("  .    .")}finally{s(!1),r.current&&(r.current.value="")}}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900",children:""}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"    "})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[h.jsx("div",{className:"lg:w-56 flex-shrink-0",children:h.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-2",children:ER.map(({id:a,label:u,icon:c})=>h.jsxs("button",{onClick:()=>t(a),className:`flex items-center gap-3 w-full px-3 py-2.5 rounded-xl text-sm font-medium transition-all ${e===a?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-800 hover:bg-slate-50"}`,children:[h.jsx(c,{size:16}),u]},a))})}),h.jsxs("div",{className:"flex-1 space-y-4",children:[e==="profile"&&h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-6",children:[h.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-violet-600 flex items-center justify-center text-white text-xl font-bold overflow-hidden shadow-sm",children:i?h.jsx(ml,{className:"w-6 h-6 animate-spin"}):n!=null&&n.photoURL?h.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):(n==null?void 0:n.name.substring(0,1).toUpperCase())||""}),h.jsxs("div",{children:[h.jsx("input",{type:"file",accept:"image/jpeg, image/png, image/gif",className:"hidden",ref:r,onChange:o}),h.jsxs("button",{onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()},disabled:i,className:"text-sm font-semibold text-blue-600 hover:text-blue-700 disabled:opacity-50 flex items-center gap-1.5",children:[h.jsx(t3,{size:14}),i?"...":" "]}),h.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"JPG, GIF  PNG.   2MB"})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:" ",value:(n==null?void 0:n.name)||""},{label:" ",value:(n==null?void 0:n.email)||""},{label:" ",value:(n==null?void 0:n.phone)||""},{label:"",value:(n==null?void 0:n.role)==="admin"?" ":""}].map(a=>h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:a.label}),h.jsx("input",{defaultValue:a.value,className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all bg-slate-50"})]},a.label))}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl transition-colors",children:" "})})]}),e==="notifications"&&h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[h.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-5",children:" "}),h.jsx("div",{className:"space-y-4",children:[{label:" ",sub:"    ",on:!0},{label:" ",sub:"    ",on:!0},{label:" ",sub:"   ",on:!1},{label:" ",sub:"     ",on:!0},{label:" ",sub:"    ",on:!1},{label:" ",sub:"     ",on:!0}].map(a=>h.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-50 last:border-0",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-slate-800",children:a.label}),h.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:a.sub})]}),h.jsx(cwe,{defaultChecked:a.on})]},a.label))})]}),e==="security"&&h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-5",children:[h.jsx("h2",{className:"text-base font-semibold text-slate-900",children:""}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:" "}),h.jsx("input",{type:"password",placeholder:"",className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:" "}),h.jsx("input",{type:"password",placeholder:"",className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"  "}),h.jsx("input",{type:"password",placeholder:"",className:"w-full border border-slate-200 rounded-xl px-3 py-2.5 text-sm bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all"})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl transition-colors",children:" "})})]}),e==="team"&&h.jsx(awe,{}),(e==="appearance"||e==="integrations"||e==="billing")&&h.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(()=>{const a=ER.find(c=>c.id===e),u=a?a.icon:u3;return h.jsx(u,{size:22,className:"text-slate-400"})})()}),h.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:""}),h.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"       ."})]})]})]})]})}function fwe(){const{token:e}=U7(),[t,n]=x.useState(null),[r,i]=x.useState(!0),[s,o]=x.useState(null);if(x.useEffect(()=>{async function m(){if(e)try{const y=await Yxe(e);y?n(y):o("      .")}catch(y){console.error(y),o("   .")}finally{i(!1)}}m()},[e]),r)return h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[h.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4"}),h.jsx("p",{className:"text-slate-500 font-medium",children:" ..."})]});if(s||!t)return h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mb-6",children:h.jsx(Kv,{size:32})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"!"}),h.jsx("p",{className:"text-slate-600 mb-8 max-w-sm",children:s||"  .        ."})]});const{leadName:a,properties:u=[]}=t,c="972501234567",d=encodeURIComponent(`,      (${window.location.href})   .`),p=`https://wa.me/${c}?text=${d}`;return h.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-white shadow-xl relative pb-24",children:[h.jsxs("header",{className:"bg-slate-900 text-white p-6 rounded-b-3xl shadow-lg relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),h.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center mb-4 border border-white/20",children:h.jsx(Kv,{size:28,className:"text-blue-300"})}),h.jsx("h1",{className:"text-2xl font-bold mb-1",children:a?`   ${a}`:"  "}),h.jsxs("p",{className:"text-blue-200 text-sm",children:[" ",u.length,"    "]})]})]}),h.jsx("div",{className:"p-4 space-y-6 mt-6",children:u.map((m,y)=>h.jsxs("div",{className:"bg-white border text-right border-slate-100 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"h-48 bg-slate-100 relative",children:["images"in m&&m.images&&m.images.length>0?h.jsx("img",{src:m.images[0],alt:m.address,className:"absolute inset-0 w-full h-full object-cover"}):null,h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent z-10"}),h.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:h.jsx("span",{className:`px-2.5 py-1 text-xs font-bold rounded-lg shadow-sm backdrop-blur-sm ${m.type==="rent"?"bg-emerald-500/90 text-white":"bg-blue-600/90 text-white"}`,children:m.type==="rent"?"":""})})]}),h.jsxs("div",{className:"p-5",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2 leading-tight",children:m.address}),h.jsxs("div",{className:"text-2xl font-black text-blue-600 mb-4",children:["",m.price.toLocaleString()]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-slate-600 bg-slate-50 p-3 rounded-2xl",children:["city"in m&&m.city&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(ra,{size:16,className:"text-slate-400"}),h.jsx("span",{children:m.city})]}),m.rooms&&h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(s1,{size:16,className:"text-slate-400"}),h.jsxs("span",{children:[m.rooms," "]})]})]})]})]},m.id||y))}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto p-4 bg-gradient-to-t from-white via-white to-transparent pb-6 pt-12 z-50 pointer-events-none",children:h.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white flex items-center justify-center gap-3 py-4 rounded-2xl font-bold text-lg shadow-lg shadow-[#25D366]/30 transition-transform active:scale-95 pointer-events-auto",children:[h.jsx(c3,{size:24}),h.jsx("span",{children:"  "})]})})]})}function hwe(){return h.jsx(IW,{children:h.jsxs(iW,{children:[h.jsx(jr,{path:"/login",element:h.jsx(Oee,{})}),h.jsxs(jr,{element:h.jsx(Nee,{}),children:[h.jsx(jr,{path:"/catalog/:token",element:h.jsx(fwe,{})}),h.jsx(jr,{path:"/join",element:h.jsx(zee,{})})]}),h.jsx(jr,{path:"/onboarding",element:h.jsx(ib,{children:h.jsx(Lee,{})})}),h.jsx(jr,{path:"/agent-setup",element:h.jsx(ib,{children:h.jsx(Vee,{})})}),h.jsxs(jr,{path:"/",element:h.jsx(ib,{children:h.jsx(kee,{})}),children:[h.jsx(jr,{index:!0,element:h.jsx(hc,{children:h.jsx(qxe,{})})}),h.jsx(jr,{path:"leads",element:h.jsx(hc,{children:h.jsx(Jxe,{})})}),h.jsx(jr,{path:"properties",element:h.jsx(hc,{children:h.jsx(t_e,{})})}),h.jsx(jr,{path:"transactions",element:h.jsx(hc,{children:h.jsx(Jbe,{})})}),h.jsx(jr,{path:"agents",element:h.jsx(hc,{children:h.jsx(ewe,{})})}),h.jsx(jr,{path:"settings",element:h.jsx(hc,{children:h.jsx(dwe,{})})})]})]})})}DD(document.getElementById("root")).render(h.jsx(x.StrictMode,{children:h.jsx(MJ,{children:h.jsx(hwe,{})})}));
